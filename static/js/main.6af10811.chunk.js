(this["webpackJsonpweather-map"]=this["webpackJsonpweather-map"]||[]).push([[0],{148:function(e){e.exports=JSON.parse('{"data":{"city":{"id":577197,"name":"Bereznya","coord":{"lon":38,"lat":55},"country":"RU","population":0,"timezone":10800},"cod":"200","message":4.4527203,"cnt":7,"list":[{"dt":1628326800,"sunrise":1628300863,"sunset":1628356792,"temp":{"day":301.51,"min":289.16,"max":301.51,"night":294.83,"eve":299.84,"morn":289.66},"feels_like":{"day":300.99,"night":294.54,"eve":299.7,"morn":289.77},"pressure":1009,"humidity":38,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"speed":6.33,"deg":189,"gust":13.02,"clouds":77,"pop":1,"rain":3.96},{"dt":1628413200,"sunrise":1628387374,"sunset":1628443068,"temp":{"day":296.65,"min":290.25,"max":300.29,"night":292.62,"eve":296.4,"morn":291.82},"feels_like":{"day":296.94,"night":292.87,"eve":296.56,"morn":291.96},"pressure":1015,"humidity":72,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":3.67,"deg":165,"gust":15.32,"clouds":100,"pop":0.36,"rain":1.25},{"dt":1628499600,"sunrise":1628473885,"sunset":1628529342,"temp":{"day":302.34,"min":291.27,"max":303.05,"night":297.59,"eve":299.46,"morn":292.17},"feels_like":{"day":302.35,"night":297.24,"eve":299.46,"morn":292.35},"pressure":1017,"humidity":44,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"speed":3.54,"deg":162,"gust":8.8,"clouds":99,"pop":0},{"dt":1628586000,"sunrise":1628560396,"sunset":1628615614,"temp":{"day":297.01,"min":291.32,"max":297.94,"night":292.98,"eve":297.4,"morn":291.32},"feels_like":{"day":297.2,"night":293.13,"eve":297.53,"morn":291.65},"pressure":1017,"humidity":67,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":5.66,"deg":153,"gust":12.32,"clouds":86,"pop":0.68,"rain":2.7},{"dt":1628672400,"sunrise":1628646908,"sunset":1628701885,"temp":{"day":297.7,"min":291.25,"max":299.49,"night":292.17,"eve":293.14,"morn":291.25},"feels_like":{"day":297.57,"night":292.29,"eve":293.31,"morn":291.33},"pressure":1013,"humidity":52,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":2.31,"deg":66,"gust":3.31,"clouds":100,"pop":0.64,"rain":1.82},{"dt":1628758800,"sunrise":1628733420,"sunset":1628788155,"temp":{"day":299.29,"min":289.56,"max":299.29,"night":289.6,"eve":295.1,"morn":290.27},"feels_like":{"day":299.29,"night":289.7,"eve":295.2,"morn":290.47},"pressure":1011,"humidity":46,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":3.42,"deg":285,"gust":9.51,"clouds":34,"pop":0.92,"rain":6.83},{"dt":1628845200,"sunrise":1628819932,"sunset":1628874424,"temp":{"day":296.26,"min":285.86,"max":297.77,"night":290.07,"eve":296.34,"morn":285.86},"feels_like":{"day":295.75,"night":289.57,"eve":295.89,"morn":285.64},"pressure":1015,"humidity":43,"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01d"}],"speed":6.1,"deg":263,"gust":8.74,"clouds":0,"pop":0}]},"status":200,"statusText":"OK","headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, POST","access-control-allow-origin":"*","connection":"keep-alive","content-length":"2907","content-type":"application/json; charset=utf-8","date":"Sat, 07 Aug 2021 12:49:01 GMT","server":"RapidAPI-1.2.8","x-cache-key":"/data/2.5/forecast/daily?cnt=7&lat=55&lon=38&units=metric%20or%20imperial","x-rapidapi-region":"AWS - ap-northeast-1","x-rapidapi-version":"1.2.8","x-ratelimit-basic-limit":"500","x-ratelimit-basic-remaining":"481","x-ratelimit-basic-reset":"2666277"},"config":{"url":"https://community-open-weather-map.p.rapidapi.com/forecast/daily","method":"get","headers":{"Accept":"application/json, text/plain, */*","x-rapidapi-key":"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"},"params":{"lat":"55","lon":"38","cnt":"7","units":"metric or imperial"},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1},"request":{}}')},188:function(e){e.exports=JSON.parse("{}")},298:function(e,t,n){"use strict";n.r(t);var a=n(314),i=n(1),r=n.n(i),c=n(69),s=n.n(c),o=n(5),l=n(317),d=n(149),p=n(309),m=n(310),u=n(311),j=n(319),h=n(25),b=n(301),f=n(315),x=n(106),O=n(3),g=function(e){var t=Object(b.b)().toggleColorMode,n=Object(b.c)("dark","light"),a=Object(b.c)(x.a,x.b);return Object(O.jsx)(f.a,Object(h.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(O.jsx)(a,{})},e))},w=n(18),y=n.n(w),v=n(22),C=n(43),k=function(e){var t=Object(i.useState)(null),n=Object(o.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)({}),s=Object(o.a)(c,2),l=s[0],d=s[1],m=Object(i.useRef)();return Object(i.useEffect)(Object(v.a)(y.a.mark((function t(){var n,i,c,s,o,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){e.getViewPort().resize()},a||(i=new C.a.service.Platform({apikey:"nPSkRFJdD3LKtmI8XGfypkFf6RapPgIAXQdB7ZnQGxQ"}),c=i.createDefaultLayers(),s=new C.a.Map(m.current,c.vector.normal.map,{pixelRatio:window.devicePixelRatio,center:e.target,zoom:12}),o=new C.a.map.Marker(e.target),s.addObject(o),d(o),l=new C.a.mapevents.MapEvents(s),s.addEventListener("tap",(function(t){var n=s.screenToGeo(t.currentPointer.viewportX,t.currentPointer.viewportY);e.getCoordinate({lat:+n.lat.toFixed(4),lng:+n.lng.toFixed(4)})})),new C.a.mapevents.Behavior(l),window.addEventListener("resize",n(s)),r(s)),t.abrupt("return",window.removeEventListener("resize",n));case 3:case"end":return t.stop()}}),t)}))),[]),Object(i.useEffect)((function(){if(a){a.removeObject(l);var t=new C.a.map.Marker(e.target);a.addObject(t),d(t)}}),[e.target]),Object(O.jsx)(p.a,{w:"100%",h:["100%","50vh"],ref:m})},S=r.a.memo(k),R=n(154),F=n(104),z=n.n(F),_=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lng,i={method:"GET",url:"https://community-open-weather-map.p.rapidapi.com/weather",params:{lat:n,lon:a,units:'"metric" or "imperial"'},headers:{"x-rapidapi-key":"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}},e.next=4,z.a.request(i);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lng,i={method:"GET",url:"https://community-open-weather-map.p.rapidapi.com/forecast/daily",params:{lat:n,lon:a,cnt:"7",units:"metric or imperial"},headers:{"x-rapidapi-key":"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}},e.next=4,z.a.request(i);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){return{tempC:Number((e-273.15).toFixed(0))+" \xb0C",tempF:Number((9*e/5-459.67).toFixed(0))+" \xb0F",tempK:Number(e.toFixed(0))}},E=n(81),I=n.n(E),N=function(e,t){return{userTime:I.a.unix(e).format("MMM DD HH Z"),utcTime:I.a.unix(e).utc().format("MMM DD HH Z"),localTime:I.a.unix(e).utcOffset(t/60).format("MMM DD HH Z")}},L=n(26),P=(n(188),n(318)),D=n(312),H=n(313),B=n(316),K=["size"],A=function(e){var t=e.target,n=Object(i.useState)(null),a=Object(o.a)(n,2),r=a[0],c=a[1],s=Object(i.useState)(!1),l=Object(o.a)(s,2),d=l[0],b=(l[1],Object(L.useSpring)({to:{opacity:1},from:{opacity:0},delay:500,config:{duration:1500}})),f=Object(L.useSpring)({reset:!0,reverse:d,from:{tempC:0,temp_feel:0,temp_high:0,temp_low:0},tempC:r&&+T(r.data.main.temp).tempC.split(" ")[0],temp_feel:r&&+T(r.data.main.feels_like).tempC.split(" ")[0],temp_high:r&&+T(r.data.main.temp_max).tempC.split(" ")[0],temp_low:r&&+T(r.data.main.temp_min).tempC.split(" ")[0],delay:600,config:L.config.molasses}),x=f.tempC,g=f.temp_feel,w=f.temp_high,C=f.temp_low,k=Object(L.useSpring)({loop:!0,from:{x:0},to:[{x:20},{x:0}],delay:100,config:Object(h.a)(Object(h.a)({},L.config.slow),{},{duration:5e3})}),S=k.size,F=Object(R.a)(k,K);return Object(i.useEffect)(Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,_(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[t]),r?Object(O.jsx)(L.animated.div,{style:b,children:Object(O.jsxs)(m.a,{w:"100%",h:"100%",templateColumns:["1fr 1fr","1fr"],templateRows:[null,"1fr 1fr"],children:[Object(O.jsx)(m.b,{children:Object(O.jsxs)(u.a,{w:"100%",h:"100%",direction:["column","row"],alignItems:"center",justifyContent:["center","space-around"],children:[Object(O.jsx)(p.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(O.jsx)(L.animated.div,{style:Object(h.a)(Object(h.a)({},F),{},{width:S,height:S}),children:Object(O.jsx)(P.a,{src:"http://openweathermap.org/img/wn/".concat(r.data.weather[0].icon,"@2x.png")})})}),Object(O.jsxs)(p.a,{children:[Object(O.jsx)(D.a,{fontSize:"3xl",children:Object(O.jsx)(L.animated.div,{children:x.to((function(e){return e.toFixed(0)+" \xb0C"}))})}),Object(O.jsx)(D.a,{children:r.data.weather[0].main})]})]})}),Object(O.jsx)(m.b,{px:2,children:Object(O.jsxs)(u.a,{direction:"column",h:"100%",justify:"center",children:[Object(O.jsxs)(u.a,{justify:"space-between",align:"baseline",children:[Object(O.jsx)(D.a,{fontSize:"2xl",children:r.data.name}),Object(O.jsx)(D.a,{fontSize:"sm",children:N(r.data.dt,r.data.timezone).localTime.split(" ").slice(0,3).join(" ")+"hr"})]}),Object(O.jsx)(H.a,{my:2}),Object(O.jsxs)(u.a,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsxs)(j.a,{spacing:"16px",children:[Object(O.jsx)(D.a,{className:"fas fa-child"}),Object(O.jsx)(D.a,{fontSize:"md",children:"Feels Like"})]}),Object(O.jsx)(D.a,{children:Object(O.jsx)(L.animated.div,{children:g.to((function(e){return e.toFixed(0)+" \xb0C"}))})})]}),Object(O.jsx)(H.a,{my:1}),Object(O.jsxs)(u.a,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsxs)(j.a,{spacing:"12px",children:[Object(O.jsx)(D.a,{className:"fas fa-temperature-high"}),Object(O.jsx)(D.a,{fontSize:"md",children:"High"})]}),Object(O.jsx)(D.a,{children:Object(O.jsx)(L.animated.div,{children:w.to((function(e){return e.toFixed(0)+" \xb0C"}))})})]}),Object(O.jsx)(H.a,{my:1}),Object(O.jsxs)(u.a,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsxs)(j.a,{spacing:"12px",children:[Object(O.jsx)(D.a,{className:"fas fa-temperature-low"}),Object(O.jsx)(D.a,{fontSize:"md",children:"Low"})]}),Object(O.jsx)(D.a,{children:Object(O.jsx)(L.animated.div,{children:C.to((function(e){return e.toFixed(0)+" \xb0C"}))})})]})]})})]})}):Object(O.jsxs)(m.a,{w:"100%",h:"100%",templateColumns:["1fr 1fr","1fr"],templateRows:[null,"1fr 1fr"],children:[Object(O.jsx)(m.b,{children:Object(O.jsxs)(u.a,{w:"100%",h:"100%",direction:["column","row"],alignItems:"center",justifyContent:["center","space-around"],children:[Object(O.jsx)(B.a,{width:"125px",height:"125px",children:"pic"}),Object(O.jsx)(p.a,{children:Object(O.jsx)(B.a,{children:"weather"})})]})}),Object(O.jsx)(m.b,{px:2,children:Object(O.jsxs)(u.a,{direction:"column",h:"100%",justify:"center",children:[Object(O.jsxs)(u.a,{justify:"space-between",align:"baseline",children:[Object(O.jsx)(B.a,{children:"Place"}),Object(O.jsx)(B.a,{children:"Date"})]}),Object(O.jsx)(H.a,{my:2}),Object(O.jsx)(u.a,{alignItems:"center",justifyContent:"space-between",children:Object(O.jsx)(B.a,{width:"100%",children:"temp"})}),Object(O.jsx)(H.a,{my:1}),Object(O.jsx)(u.a,{alignItems:"center",justifyContent:"space-between",children:Object(O.jsx)(B.a,{width:"100%",children:"temp"})}),Object(O.jsx)(H.a,{my:1}),Object(O.jsx)(u.a,{alignItems:"center",justifyContent:"space-between",children:Object(O.jsx)(B.a,{width:"100%",children:"temp"})})]})})]})},G=n(153),X=n(148),J=function(e){var t=e.target,n=[],a=[],r=Object(i.useState)(null),c=Object(o.a)(r,2),s=c[0],l=c[1];if(Object(i.useEffect)(Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,M(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[t]),console.log(s),s){n=[],a=[],s.data.list.map((function(e){n.push(N(e.dt,X.data.city.timezone)),a.push(T(e.temp.day))}));var d={labels:n.map((function(e){return e.localTime.split(" ").slice(0,2).join(" ")})),datasets:[{label:"temperature",data:a.map((function(e){return e.tempK})),fill:!1,backgroundColor:"salmon",borderColor:"salmon"}]},p={responsive:!0,maintainAspectRatio:!1,scales:{y:{display:!1}},plugins:{title:{display:!0,text:"Future 7 Days of Weather"},tooltip:{callbacks:{label:function(e){var t=T(Number(e.raw));return"".concat(t.tempC," | ").concat(t.tempF," | ").concat(t.tempK,"K")}}}}};return Object(O.jsx)(G.a,{data:d,options:p})}return Object(O.jsx)(B.a,{width:"100%",height:"100%",children:"chart"})};var q=function(){var e=Object(i.useState)({lat:55,lng:38}),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useCallback)((function(e){a(e)}),[]);return console.log(n),Object(O.jsx)(l.a,{theme:d.theme,children:Object(O.jsx)(p.a,{textAlign:"center",fontSize:"xl",children:Object(O.jsxs)(m.a,{minH:"100vh",gap:"3",templateRows:["1fr 1fr 1fr 0.25fr","50vh 40vh 5vh"],templateColumns:[null,"repeat(3, 1fr)"],children:[Object(O.jsx)(m.b,{w:"100%",h:"100%",borderRadius:"lg",colSpan:[null,"3"],children:Object(O.jsx)(S,{getCoordinate:r,target:n})}),Object(O.jsx)(m.b,{w:"100%",h:"100%",borderRadius:"lg",colSpan:[null,"1"],children:Object(O.jsx)(A,{target:n})}),Object(O.jsx)(m.b,{w:"100%",h:"100%",px:"3",borderRadius:"lg",colSpan:[null,"2"],children:Object(O.jsx)(J,{target:n})}),Object(O.jsx)(m.b,{w:"100%",h:"100%",colSpan:[null,"3"],children:Object(O.jsxs)(u.a,{align:"center",justify:"center",my:2,children:[Object(O.jsxs)(j.a,{fontSize:"md",children:[Object(O.jsx)("a",{href:"https://www.linkedin.com/in/chiou-charlie/",children:"Charlie |"}),Object(O.jsx)("a",{href:"https://wlcharlie.github.io/",children:"Blog |"}),Object(O.jsx)("a",{href:"https://github.com/wlcharlie/weather-map-app",children:"Repo"})]}),Object(O.jsx)(g,{justifySelf:"flex-end"})]})})]})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,321)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(294).config(),s.a.render(Object(O.jsxs)(i.StrictMode,{children:[Object(O.jsx)(a.a,{}),Object(O.jsx)(q,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),W()}},[[298,1,2]]]);
//# sourceMappingURL=main.6af10811.chunk.js.map