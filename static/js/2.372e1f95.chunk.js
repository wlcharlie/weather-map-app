/*! For license information please see 2.372e1f95.chunk.js.LICENSE.txt */
(this["webpackJsonpweather-map"]=this["webpackJsonpweather-map"]||[]).push([[2],[function(t,e,n){"use strict";n.d(e,"w",(function(){return s})),n.d(e,"a",(function(){return wt})),n.d(e,"b",(function(){return F})),n.d(e,"c",(function(){return Et})),n.d(e,"d",(function(){return xt})),n.d(e,"e",(function(){return X})),n.d(e,"f",(function(){return dt})),n.d(e,"g",(function(){return It})),n.d(e,"h",(function(){return T})),n.d(e,"i",(function(){return zt})),n.d(e,"j",(function(){return Nt})),n.d(e,"k",(function(){return M})),n.d(e,"l",(function(){return C})),n.d(e,"m",(function(){return I})),n.d(e,"n",(function(){return L})),n.d(e,"o",(function(){return G})),n.d(e,"p",(function(){return _t})),n.d(e,"q",(function(){return bt})),n.d(e,"r",(function(){return mt})),n.d(e,"s",(function(){return A})),n.d(e,"t",(function(){return Ft})),n.d(e,"u",(function(){return O})),n.d(e,"v",(function(){return S})),n.d(e,"x",(function(){return St})),n.d(e,"y",(function(){return j})),n.d(e,"z",(function(){return Ut})),n.d(e,"A",(function(){return Yt})),n.d(e,"B",(function(){return Gt})),n.d(e,"C",(function(){return Bt})),n.d(e,"D",(function(){return qt}));var r=n(5),i=n(4),o=n(11),a=x(),s=function(t){return y(t,a)},l=x();s.write=function(t){return y(t,l)};var u=x();s.onStart=function(t){return y(t,u)};var c=x();s.onFrame=function(t){return y(t,c)};var h=x();s.onFinish=function(t){return y(t,h)};var f=[];s.setTimeout=function(t,e){var n=s.now()+e,r={time:n,handler:t,cancel:function t(){var e=f.findIndex((function(e){return e.cancel==t}));~e&&f.splice(e,1),k.count-=~e?1:0}};return f.splice(p(n),0,r),k.count+=1,m(),r};var p=function(t){return~(~f.findIndex((function(e){return e.time>t}))||~f.length)};s.cancel=function(t){a.delete(t),l.delete(t)},s.sync=function(t){g=!0,s.batchedUpdates(t),g=!1},s.throttle=function(t){var e;function n(){try{t.apply(void 0,Object(o.a)(e))}finally{e=null}}function r(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e=r,s.onStart(n)}return r.handler=t,r.cancel=function(){u.delete(n),e=null},r};var d="undefined"!=typeof window?window.requestAnimationFrame:function(){};s.use=function(t){return d=t},s.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,s.batchedUpdates=function(t){return t()},s.catch=console.error,s.frameLoop="always",s.advance=function(){"demand"!==s.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_()};var v=-1,g=!1;function y(t,e){g?(e.delete(t),t(0)):(e.add(t),m())}function m(){v<0&&(v=0,"demand"!==s.frameLoop&&d(b))}function b(){~v&&(d(b),s.batchedUpdates(_))}function _(){var t=v;v=s.now();var e=p(v);e&&(w(f.splice(0,e),(function(t){return t.handler()})),k.count-=e),u.flush(),a.flush(t?Math.min(64,v-t):16.667),c.flush(),l.flush(),h.flush()}function x(){var t=new Set,e=t;return{add:function(n){k.count+=e!=t||t.has(n)?0:1,t.add(n)},delete:function(n){return k.count-=e==t&&t.has(n)?1:0,t.delete(n)},flush:function(n){e.size&&(t=new Set,k.count-=e.size,w(e,(function(e){return e(n)&&t.add(e)})),k.count+=t.size,e=t)}}}function w(t,e){t.forEach((function(t){try{e(t)}catch(n){s.catch(n)}}))}var k={count:0,clear:function(){v=-1,f=[],u=x(),a=x(),c=x(),l=x(),h=x(),k.count=0}},E=n(1);function S(){}var T=function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})},A={arr:Array.isArray,obj:function(t){return!!t&&"Object"===t.constructor.name},fun:function(t){return"function"===typeof t},str:function(t){return"string"===typeof t},num:function(t){return"number"===typeof t},und:function(t){return void 0===t}};function O(t,e){if(A.arr(t)){if(!A.arr(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var M=function(t,e){return t.forEach(e)};function C(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var j=function(t){return A.und(t)?[]:A.arr(t)?t:[t]};function I(t,e){if(t.size){var n=Array.from(t);t.clear(),M(n,e)}}var P,R,L=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return I(t,(function(t){return t.apply(void 0,n)}))},N=null,D=!1,z=S,F=Object.freeze({__proto__:null,get createStringInterpolator(){return P},get to(){return R},get colors(){return N},get skipAnimation(){return D},get willAdvance(){return z},assign:function(t){t.to&&(R=t.to),t.now&&(s.now=t.now),void 0!==t.colors&&(N=t.colors),null!=t.skipAnimation&&(D=t.skipAnimation),t.createStringInterpolator&&(P=t.createStringInterpolator),t.requestAnimationFrame&&s.use(t.requestAnimationFrame),t.batchedUpdates&&(s.batchedUpdates=t.batchedUpdates),t.willAdvance&&(z=t.willAdvance),t.frameLoop&&(s.frameLoop=t.frameLoop)}}),B=new Set,H=[],U=[],V=0,G={get idle(){return!B.size&&!H.length},start:function(t){V>t.priority?(B.add(t),s.onStart(q)):(Y(t),s(Z))},advance:Z,sort:function(t){if(V)s.onFrame((function(){return G.sort(t)}));else{var e=H.indexOf(t);~e&&(H.splice(e,1),W(t))}},clear:function(){H=[],B.clear()}};function q(){B.forEach(Y),B.clear(),s(Z)}function Y(t){H.includes(t)||W(t)}function W(t){H.splice(function(t,e){var n=t.findIndex(e);return n<0?t.length:n}(H,(function(e){return e.priority>t.priority})),0,t)}function Z(t){for(var e=U,n=0;n<H.length;n++){var r=H[n];V=r.priority,r.idle||(z(r),r.advance(t),r.idle||e.push(r))}return V=0,(U=H).length=0,(H=e).length>0}var X={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},K="[-+]?\\d*\\.?\\d+",$=K+"%";function J(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Q=new RegExp("rgb"+J(K,K,K)),tt=new RegExp("rgba"+J(K,K,K,K)),et=new RegExp("hsl"+J(K,$,$)),nt=new RegExp("hsla"+J(K,$,$,K)),rt=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,it=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ot=/^#([0-9a-fA-F]{6})$/,at=/^#([0-9a-fA-F]{8})$/;function st(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lt(t,e,n){var r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=st(i,r,t+1/3),a=st(i,r,t),s=st(i,r,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function ut(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function ct(t){return(parseFloat(t)%360+360)%360/360}function ht(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function ft(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function pt(t){var e=function(t){var e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=ot.exec(t))?parseInt(e[1]+"ff",16)>>>0:N&&void 0!==N[t]?N[t]:(e=Q.exec(t))?(ut(e[1])<<24|ut(e[2])<<16|ut(e[3])<<8|255)>>>0:(e=tt.exec(t))?(ut(e[1])<<24|ut(e[2])<<16|ut(e[3])<<8|ht(e[4]))>>>0:(e=rt.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=at.exec(t))?parseInt(e[1],16)>>>0:(e=it.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=et.exec(t))?(255|lt(ct(e[1]),ft(e[2]),ft(e[3])))>>>0:(e=nt.exec(t))?(lt(ct(e[1]),ft(e[2]),ft(e[3]))|ht(e[4]))>>>0:null}(t);if(null===e)return t;var n=(16711680&(e=e||0))>>>16,r=(65280&e)>>>8,i=(255&e)/255;return"rgba(".concat((4278190080&e)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var dt=function t(e,n,r){if(A.fun(e))return e;if(A.arr(e))return t({range:e,output:n,extrapolate:r});if(A.str(e.output[0]))return P(e);var i=e,o=i.output,a=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",l=i.extrapolateRight||i.extrapolate||"extend",u=i.easing||function(t){return t};return function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,a);return function(t,e,n,r,i,o,a,s,l){var u=l?l(t):t;if(u<e){if("identity"===a)return u;"clamp"===a&&(u=e)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(e===n)return t<=e?r:i;e===-1/0?u=-u:n===1/0?u-=e:u=(u-e)/(n-e);u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(t,a[e],a[e+1],o[e],o[e+1],u,s,l,i.map)}};function vt(){return(vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var gt=Symbol.for("FluidValue.get"),yt=Symbol.for("FluidValue.observers"),mt=function(t){return Boolean(t&&t[gt])},bt=function(t){return t&&t[gt]?t[gt]():t},_t=function(t){return t[yt]||null};function xt(t,e){var n=t[yt];n&&n.forEach((function(t){!function(t,e){t.eventObserved?t.eventObserved(e):t(e)}(t,e)}))}var wt=function t(e){if(Object(i.a)(this,t),this[gt]=void 0,this[yt]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");kt(this,e)},kt=function(t,e){return At(t,gt,e)};function Et(t,e){if(t[gt]){var n=t[yt];n||At(t,yt,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function St(t,e){var n=t[yt];if(n&&n.has(e)){var r=n.size-1;r?n.delete(e):t[yt]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var Tt,At=function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})},Ot=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Mt=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ct=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,jt=function(t,e,n,r,i){return"rgba(".concat(Math.round(e),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},It=function(t){Tt||(Tt=N?new RegExp("(".concat(Object.keys(N).join("|"),")(?!\\w)"),"g"):/^\b$/);var e=t.output.map((function(t){return bt(t).replace(Mt,pt).replace(Tt,pt)})),n=e.map((function(t){return t.match(Ot).map(Number)})),r=n[0].map((function(t,e){return n.map((function(t){if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]}))})).map((function(e){return dt(vt({},t,{output:e}))}));return function(t){var n=0;return e[0].replace(Ot,(function(){return String(r[n++](t))})).replace(Ct,jt)}},Pt="react-spring: ",Rt=function(t){var e=t,n=!1;if("function"!=typeof e)throw new TypeError("".concat(Pt,"once requires a function parameter"));return function(){n||(e.apply(void 0,arguments),n=!0)}},Lt=Rt(console.warn);function Nt(){Lt("".concat(Pt,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var Dt=Rt(console.warn);function zt(){Dt("".concat(Pt,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function Ft(t){return A.str(t)&&("#"==t[0]||/\d/.test(t)||t in(N||{}))}var Bt=function(t){return Object(E.useEffect)(t,Ht)},Ht=[];function Ut(){var t=Object(E.useState)()[1],e=Object(E.useState)(Vt)[0];return Bt(e.unmount),function(){e.current&&t({})}}function Vt(){var t={current:!0,unmount:function(){return function(){t.current=!1}}};return t}function Gt(t,e){var n=Object(E.useState)((function(){return{inputs:e,result:t()}})),i=Object(r.a)(n,1)[0],o=Object(E.useRef)(),a=o.current,s=a;s?Boolean(e&&s.inputs&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,s.inputs))||(s={inputs:e,result:t()}):s=i;return Object(E.useEffect)((function(){o.current=s,a==i&&(i.inputs=i.result=void 0)}),[s]),s.result}function qt(t){var e=Object(E.useRef)();return Object(E.useEffect)((function(){e.current=t})),e.current}var Yt="undefined"!==typeof window&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect},function(t,e,n){"use strict";t.exports=n(162)},function(t,e,n){"use strict";n.d(e,"t",(function(){return s}));var r=n(31),i=n(24),o=n(37);n.d(e,"transforms",(function(){return o.a}));n(108);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s={borderWidths:Object(i.b)("borderWidths"),borderStyles:Object(i.b)("borderStyles"),colors:Object(i.b)("colors"),borders:Object(i.b)("borders"),radii:Object(i.b)("radii",o.a.px),space:Object(i.b)("space",o.a.px),spaceT:Object(i.b)("space",o.a.px),degreeT:function(t){return{property:t,transform:o.a.degree}},prop:function(t,e,n){return a({property:t,scale:e},e&&{transform:Object(r.a)({scale:e,transform:n})})},propT:function(t,e){return{property:t,transform:e}},sizes:Object(i.b)("sizes",o.a.px),sizesT:Object(i.b)("sizes",o.a.fraction),shadows:Object(i.b)("shadows"),logical:i.a,blur:Object(i.b)("blur",o.a.blur)}},function(t,e,n){"use strict";t.exports=n(166)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(70);var i=n(38),o=n(71);function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(i.a)(t,e)||Object(o.a)()}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},,function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(47);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(14),i=n(77);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n(36);function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(a.a)(t):e}function l(t){var e=Object(i.a)();return function(){var n,i=Object(r.a)(t);if(e){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(54);var i=n(73),o=n(38);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(i.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(38);function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},function(t,e,n){"use strict";function r(t){return"number"===typeof t}function i(t){return Array.isArray(t)}function o(t){return"function"===typeof t}function a(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)&&!i(t)}function s(t){return a(t)&&0===Object.keys(t).length}function l(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return/^var\(--.+\)$/.test(t)}n.d(e,"g",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return h}));var c=!1,h=!1},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return v})),n.d(e,"k",(function(){return _})),n.d(e,"l",(function(){return x})),n.d(e,"m",(function(){return w})),n.d(e,"n",(function(){return k})),n.d(e,"o",(function(){return E})),n.d(e,"p",(function(){return S})),n.d(e,"q",(function(){return T})),n.d(e,"r",(function(){return A}));var r=n(2),i={background:r.t.colors("background"),backgroundColor:r.t.colors("backgroundColor"),backgroundImage:r.t.propT("backgroundImage",r.transforms.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:r.transforms.bgClip},bgSize:r.t.prop("backgroundSize"),bgPosition:r.t.prop("backgroundPosition"),bg:r.t.colors("background"),bgColor:r.t.colors("backgroundColor"),bgPos:r.t.prop("backgroundPosition"),bgRepeat:r.t.prop("backgroundRepeat"),bgAttachment:r.t.prop("backgroundAttachment"),bgGradient:r.t.propT("backgroundImage",r.transforms.gradient),bgClip:{transform:r.transforms.bgClip}};Object.assign(i,{bgImage:i.backgroundImage,bgImg:i.backgroundImage});var o={border:r.t.borders("border"),borderWidth:r.t.borderWidths("borderWidth"),borderStyle:r.t.borderStyles("borderStyle"),borderColor:r.t.colors("borderColor"),borderRadius:r.t.radii("borderRadius"),borderTop:r.t.borders("borderTop"),borderBlockStart:r.t.borders("borderBlockStart"),borderTopLeftRadius:r.t.radii("borderTopLeftRadius"),borderStartStartRadius:r.t.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:r.t.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:r.t.radii("borderTopRightRadius"),borderStartEndRadius:r.t.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:r.t.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:r.t.borders("borderRight"),borderInlineEnd:r.t.borders("borderInlineEnd"),borderBottom:r.t.borders("borderBottom"),borderBlockEnd:r.t.borders("borderBlockEnd"),borderBottomLeftRadius:r.t.radii("borderBottomLeftRadius"),borderBottomRightRadius:r.t.radii("borderBottomRightRadius"),borderLeft:r.t.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:r.t.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:r.t.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:r.t.borders(["borderLeft","borderRight"]),borderInline:r.t.borders("borderInline"),borderY:r.t.borders(["borderTop","borderBottom"]),borderBlock:r.t.borders("borderBlock"),borderTopWidth:r.t.borderWidths("borderTopWidth"),borderBlockStartWidth:r.t.borderWidths("borderBlockStartWidth"),borderTopColor:r.t.colors("borderTopColor"),borderBlockStartColor:r.t.colors("borderBlockStartColor"),borderTopStyle:r.t.borderStyles("borderTopStyle"),borderBlockStartStyle:r.t.borderStyles("borderBlockStartStyle"),borderBottomWidth:r.t.borderWidths("borderBottomWidth"),borderBlockEndWidth:r.t.borderWidths("borderBlockEndWidth"),borderBottomColor:r.t.colors("borderBottomColor"),borderBlockEndColor:r.t.colors("borderBlockEndColor"),borderBottomStyle:r.t.borderStyles("borderBottomStyle"),borderBlockEndStyle:r.t.borderStyles("borderBlockEndStyle"),borderLeftWidth:r.t.borderWidths("borderLeftWidth"),borderInlineStartWidth:r.t.borderWidths("borderInlineStartWidth"),borderLeftColor:r.t.colors("borderLeftColor"),borderInlineStartColor:r.t.colors("borderInlineStartColor"),borderLeftStyle:r.t.borderStyles("borderLeftStyle"),borderInlineStartStyle:r.t.borderStyles("borderInlineStartStyle"),borderRightWidth:r.t.borderWidths("borderRightWidth"),borderInlineEndWidth:r.t.borderWidths("borderInlineEndWidth"),borderRightColor:r.t.colors("borderRightColor"),borderInlineEndColor:r.t.colors("borderInlineEndColor"),borderRightStyle:r.t.borderStyles("borderRightStyle"),borderInlineEndStyle:r.t.borderStyles("borderInlineEndStyle"),borderTopRadius:r.t.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:r.t.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:r.t.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:r.t.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(o,{rounded:o.borderRadius,roundedTop:o.borderTopRadius,roundedTopLeft:o.borderTopLeftRadius,roundedTopRight:o.borderTopRightRadius,roundedTopStart:o.borderStartStartRadius,roundedTopEnd:o.borderStartEndRadius,roundedBottom:o.borderBottomRadius,roundedBottomLeft:o.borderBottomLeftRadius,roundedBottomRight:o.borderBottomRightRadius,roundedBottomStart:o.borderEndStartRadius,roundedBottomEnd:o.borderEndEndRadius,roundedLeft:o.borderLeftRadius,roundedRight:o.borderRightRadius,roundedStart:o.borderInlineStartRadius,roundedEnd:o.borderInlineEndRadius,borderStart:o.borderInlineStart,borderEnd:o.borderInlineEnd,borderTopStartRadius:o.borderStartStartRadius,borderTopEndRadius:o.borderStartEndRadius,borderBottomStartRadius:o.borderEndStartRadius,borderBottomEndRadius:o.borderEndEndRadius,borderStartRadius:o.borderInlineStartRadius,borderEndRadius:o.borderInlineEndRadius,borderStartWidth:o.borderInlineStartWidth,borderEndWidth:o.borderInlineEndWidth,borderStartColor:o.borderInlineStartColor,borderEndColor:o.borderInlineEndColor,borderStartStyle:o.borderInlineStartStyle,borderEndStyle:o.borderInlineEndStyle});var a={color:r.t.colors("color"),textColor:r.t.colors("color"),fill:r.t.colors("fill"),stroke:r.t.colors("stroke")},s={boxShadow:r.t.shadows("boxShadow"),mixBlendMode:!0,blendMode:r.t.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:r.t.prop("backgroundBlendMode"),opacity:!0};Object.assign(s,{shadow:s.boxShadow});var l={filter:{transform:r.transforms.filter},blur:r.t.blur("--chakra-blur"),brightness:r.t.propT("--chakra-brightness",r.transforms.brightness),contrast:r.t.propT("--chakra-contrast",r.transforms.contrast),hueRotate:r.t.degreeT("--chakra-hue-rotate"),invert:r.t.propT("--chakra-invert",r.transforms.invert),saturate:r.t.propT("--chakra-saturate",r.transforms.saturate),dropShadow:r.t.propT("--chakra-drop-shadow",r.transforms.dropShadow),backdropFilter:{transform:r.transforms.backdropFilter},backdropBlur:r.t.blur("--chakra-backdrop-blur"),backdropBrightness:r.t.propT("--chakra-backdrop-brightness",r.transforms.brightness),backdropContrast:r.t.propT("--chakra-backdrop-contrast",r.transforms.contrast),backdropHueRotate:r.t.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:r.t.propT("--chakra-backdrop-invert",r.transforms.invert),backdropSaturate:r.t.propT("--chakra-backdrop-saturate",r.transforms.saturate)},u=n(31),c=n(32),h={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:r.transforms.flexDirection},experimental_spaceX:{static:c.g,transform:Object(u.a)({scale:"space",transform:function(t){return null!==t?{"--chakra-space-x":t}:null}})},experimental_spaceY:{static:c.h,transform:Object(u.a)({scale:"space",transform:function(t){return null!=t?{"--chakra-space-y":t}:null}})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:r.t.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0};Object.assign(h,{flexDir:h.flexDirection});var f={gridGap:r.t.space("gridGap"),gridColumnGap:r.t.space("gridColumnGap"),gridRowGap:r.t.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},p={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:r.transforms.outline},outlineOffset:!0,outlineColor:r.t.colors("outlineColor")},d={width:r.t.sizesT("width"),inlineSize:r.t.sizesT("inlineSize"),height:r.t.sizes("height"),blockSize:r.t.sizes("blockSize"),boxSize:r.t.sizes(["width","height"]),minWidth:r.t.sizes("minWidth"),minInlineSize:r.t.sizes("minInlineSize"),minHeight:r.t.sizes("minHeight"),minBlockSize:r.t.sizes("minBlockSize"),maxWidth:r.t.sizes("maxWidth"),maxInlineSize:r.t.sizes("maxInlineSize"),maxHeight:r.t.sizes("maxHeight"),maxBlockSize:r.t.sizes("maxBlockSize"),d:r.t.prop("display"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:r.t.propT("float",r.transforms.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(d,{w:d.width,h:d.height,minW:d.minWidth,maxW:d.maxWidth,minH:d.minHeight,maxH:d.maxHeight,overscroll:d.overscrollBehavior,overscrollX:d.overscrollBehaviorX,overscrollY:d.overscrollBehaviorY});var v={listStyleType:!0,listStylePosition:!0,listStylePos:r.t.prop("listStylePosition"),listStyleImage:!0,listStyleImg:r.t.prop("listStyleImage")},g=n(29),y={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},m={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},b=function(t,e,n){var r={},i=Object(g.c)(t,e,{});for(var o in i){o in n&&null!=n[o]||(r[o]=i[o])}return r},_={srOnly:{transform:function(t){return!0===t?y:"focusable"===t?m:{}}},layerStyle:{processResult:!0,transform:function(t,e,n){return b(e,"layerStyles."+t,n)}},textStyle:{processResult:!0,transform:function(t,e,n){return b(e,"textStyles."+t,n)}},apply:{processResult:!0,transform:function(t,e,n){return b(e,t,n)}}},x={position:!0,pos:r.t.prop("position"),zIndex:r.t.prop("zIndex","zIndices"),inset:r.t.spaceT(["top","right","bottom","left"]),insetX:r.t.spaceT(["left","right"]),insetInline:r.t.spaceT("insetInline"),insetY:r.t.spaceT(["top","bottom"]),insetBlock:r.t.spaceT("insetBlock"),top:r.t.spaceT("top"),insetBlockStart:r.t.spaceT("insetBlockStart"),bottom:r.t.spaceT("bottom"),insetBlockEnd:r.t.spaceT("insetBlockEnd"),left:r.t.spaceT("left"),insetInlineStart:r.t.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:r.t.spaceT("right"),insetInlineEnd:r.t.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(x,{insetStart:x.insetInlineStart,insetEnd:x.insetInlineEnd});var w={ring:{transform:r.transforms.ring},ringColor:r.t.colors("--chakra-ring-color"),ringOffset:r.t.prop("--chakra-ring-offset-width"),ringOffsetColor:r.t.colors("--chakra-ring-offset-color"),ringInset:r.t.prop("--chakra-ring-inset")},k={margin:r.t.spaceT("margin"),marginTop:r.t.spaceT("marginTop"),marginBlockStart:r.t.spaceT("marginBlockStart"),marginRight:r.t.spaceT("marginRight"),marginInlineEnd:r.t.spaceT("marginInlineEnd"),marginBottom:r.t.spaceT("marginBottom"),marginBlockEnd:r.t.spaceT("marginBlockEnd"),marginLeft:r.t.spaceT("marginLeft"),marginInlineStart:r.t.spaceT("marginInlineStart"),marginX:r.t.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:r.t.spaceT("marginInline"),marginY:r.t.spaceT(["marginTop","marginBottom"]),marginBlock:r.t.spaceT("marginBlock"),padding:r.t.space("padding"),paddingTop:r.t.space("paddingTop"),paddingBlockStart:r.t.space("paddingBlockStart"),paddingRight:r.t.space("paddingRight"),paddingBottom:r.t.space("paddingBottom"),paddingBlockEnd:r.t.space("paddingBlockEnd"),paddingLeft:r.t.space("paddingLeft"),paddingInlineStart:r.t.space("paddingInlineStart"),paddingInlineEnd:r.t.space("paddingInlineEnd"),paddingX:r.t.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:r.t.space("paddingInline"),paddingY:r.t.space(["paddingTop","paddingBottom"]),paddingBlock:r.t.space("paddingBlock")};Object.assign(k,{m:k.margin,mt:k.marginTop,mr:k.marginRight,me:k.marginInlineEnd,marginEnd:k.marginInlineEnd,mb:k.marginBottom,ml:k.marginLeft,ms:k.marginInlineStart,marginStart:k.marginInlineStart,mx:k.marginX,my:k.marginY,p:k.padding,pt:k.paddingTop,py:k.paddingY,px:k.paddingX,pb:k.paddingBottom,pl:k.paddingLeft,ps:k.paddingInlineStart,paddingStart:k.paddingInlineStart,pr:k.paddingRight,pe:k.paddingInlineEnd,paddingEnd:k.paddingInlineEnd});var E={textDecorationColor:r.t.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:r.t.shadows("textShadow")},S={clipPath:!0,transform:r.t.propT("transform",r.transforms.transform),transformOrigin:!0,translateX:r.t.spaceT("--chakra-translate-x"),translateY:r.t.spaceT("--chakra-translate-y"),skewX:r.t.degreeT("--chakra-skew-x"),skewY:r.t.degreeT("--chakra-skew-y"),scaleX:r.t.prop("--chakra-scale-x"),scaleY:r.t.prop("--chakra-scale-y"),scale:r.t.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:r.t.degreeT("--chakra-rotate")},T={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:r.t.prop("transitionDuration","transition.duration"),transitionProperty:r.t.prop("transitionProperty","transition.property"),transitionTimingFunction:r.t.prop("transitionTimingFunction","transition.easing")},A={fontFamily:r.t.prop("fontFamily","fonts"),fontSize:r.t.prop("fontSize","fontSizes",r.transforms.px),fontWeight:r.t.prop("fontWeight","fontWeights"),lineHeight:r.t.prop("lineHeight","lineHeights"),letterSpacing:r.t.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"},isTruncated:{transform:function(t){if(!0===t)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return d}));var r=n(5),i=n(19),o=n(14),a=n(9),s=n(10),l=n(4),u=n(6),c=n(0),h=n(1),f=Symbol.for("Animated:node"),p=function(t){return t&&t[f]},d=function(t,e){return Object(c.h)(t,f,e)},v=function(t){return t&&t[f]&&t[f].getPayload()},g=function(){function t(){Object(l.a)(this,t),this.payload=void 0,d(this,this)}return Object(u.a)(t,[{key:"getPayload",value:function(){return this.payload||[]}}]),t}(),y=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=t,c.s.num(r._value)&&(r.lastPosition=r._value),r}return Object(u.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t,e){return c.s.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}},{key:"reset",value:function(){var t=this.done;this.done=!1,c.s.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(t){return new n(t)}}]),n}(g),m=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this,0))._string=null,r._toString=void 0,r._toString=Object(c.f)({output:[t,t]}),r}return Object(u.a)(n,[{key:"getValue",value:function(){var t=this._string;return null==t?this._string=this._toString(this._value):t}},{key:"setValue",value:function(t){if(c.s.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else{if(!Object(i.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t))return!1;this._string=null}return!0}},{key:"reset",value:function(t){t&&(this._toString=Object(c.f)({output:[this.getValue(),t]})),this._value=0,Object(i.a)(Object(o.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(t){return new n(t)}}]),n}(y),b={dependencies:null},_=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this)).source=t,r.setValue(t),r}return Object(u.a)(n,[{key:"getValue",value:function(t){var e={};return Object(c.l)(this.source,(function(n,r){var i;(i=n)&&i[f]===i?e[r]=n.getValue(t):Object(c.r)(n)?e[r]=Object(c.q)(n):t||(e[r]=n)})),e}},{key:"setValue",value:function(t){this.source=t,this.payload=this._makePayload(t)}},{key:"reset",value:function(){this.payload&&Object(c.k)(this.payload,(function(t){return t.reset()}))}},{key:"_makePayload",value:function(t){if(t){var e=new Set;return Object(c.l)(t,this._addToPayload,e),Array.from(e)}}},{key:"_addToPayload",value:function(t){var e=this;b.dependencies&&Object(c.r)(t)&&b.dependencies.add(t);var n=v(t);n&&Object(c.k)(n,(function(t){return e.add(t)}))}}]),n}(g),x=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"getValue",value:function(){return this.source.map((function(t){return t.getValue()}))}},{key:"setValue",value:function(t){var e=this.getPayload();return t.length==e.length?e.map((function(e,n){return e.setValue(t[n])})).some(Boolean):(Object(i.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t.map(w)),!0)}}],[{key:"create",value:function(t){return new n(t)}}]),n}(_);function w(t){return(Object(c.t)(t)?m:y).create(t)}function k(t){var e=p(t);return e?e.constructor:c.s.arr(t)?x:Object(c.t)(t)?m:y}function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var S=function(t,e){var n=!c.s.fun(t)||t.prototype&&t.prototype.isReactComponent;return Object(h.forwardRef)((function(i,o){var a=Object(h.useRef)(null),s=n&&Object(h.useCallback)((function(t){a.current=function(t,e){t&&(c.s.fun(t)?t(e):t.current=e);return e}(o,t)}),[o]),l=function(t,e){var n=new Set;b.dependencies=n,t.style&&(t=E({},t,{style:e.createAnimatedStyle(t.style)}));return t=new _(t),b.dependencies=null,[t,n]}(i,e),u=Object(r.a)(l,2),f=u[0],p=u[1],d=Object(c.z)(),v=function(){var t=a.current;n&&!t||!1===(!!t&&e.applyAnimatedValues(t,f.getValue(!0)))&&d()},g=new T(v,p),y=Object(h.useRef)();Object(c.A)((function(){var t=y.current;y.current=g,Object(c.k)(p,(function(t){return Object(c.c)(t,g)})),t&&(Object(c.k)(t.deps,(function(e){return Object(c.x)(e,t)})),c.w.cancel(t.update))})),Object(h.useEffect)(v,[]),Object(c.C)((function(){return function(){var t=y.current;Object(c.k)(t.deps,(function(e){return Object(c.x)(e,t)}))}}));var m=e.getComponentProps(f.getValue());return h.createElement(t,E({},m,{ref:s}))}))},T=function(){function t(e,n){Object(l.a)(this,t),this.update=e,this.deps=n}return Object(u.a)(t,[{key:"eventObserved",value:function(t){"change"==t.type&&c.w.write(this.update)}}]),t}();var A=Symbol.for("AnimatedComponent"),O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=e.createAnimatedStyle,o=void 0===i?function(t){return new _(t)}:i,a=e.getComponentProps,s=void 0===a?function(t){return t}:a,l={applyAnimatedValues:r,createAnimatedStyle:o,getComponentProps:s},u=function t(e){var n=M(e)||"Anonymous";return(e=c.s.str(e)?t[e]||(t[e]=S(e,l)):e[A]||(e[A]=S(e,l))).displayName="Animated(".concat(n,")"),e};return Object(c.l)(t,(function(e,n){c.s.arr(t)&&(n=M(e)),u[n]=u(e)})),{animated:u}},M=function(t){return c.s.str(t)?t:t&&c.s.str(t.displayName)?t.displayName:c.s.fun(t)&&t.name||null}},function(t,e,n){t.exports=n(169)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(14);function i(t,e,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return h}));var r=n(1),i=n(102),o=n(56),a=n(53),s=(n(100),n(28)),l=n(35),u=Object.prototype.hasOwnProperty,c=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null),h=(c.Provider,function(t){return Object(r.forwardRef)((function(e,n){var i=Object(r.useContext)(c);return t(e,i,n)}))}),f=Object(r.createContext)({}),p=Object(a.a)((function(t){return Object(a.a)((function(e){return function(t,e){return"function"===typeof e?e(t):Object(o.a)({},t,e)}(t,e)}))})),d=function(t){var e=Object(r.useContext)(f);return t.theme!==e&&(e=p(e)(t.theme)),Object(r.createElement)(f.Provider,{value:e},t.children)};var v="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g=function(t,e){var n={};for(var r in e)u.call(e,r)&&(n[r]=e[r]);return n[v]=t,n},y=h((function(t,e,n){var i=t.css;"string"===typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var o=t[v],a=[i],c="";"string"===typeof t.className?c=Object(s.a)(e.registered,a,t.className):null!=t.className&&(c=t.className+" ");var h=Object(l.a)(a,void 0,"function"===typeof i||Array.isArray(i)?Object(r.useContext)(f):void 0);Object(s.b)(e,h,"string"===typeof o);c+=e.key+"-"+h.name;var p={};for(var d in t)u.call(t,d)&&"css"!==d&&d!==v&&(p[d]=t[d]);return p.ref=n,p.className=c,Object(r.createElement)(o,p)}))},,function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r=n(112),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&"object"===typeof t}function l(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){l(e[r])&&l(n)?e[r]=t(e[r],n):l(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var r=n(31);function i(t,e){return function(n){var i={property:n,scale:t};return i.transform=Object(r.a)({scale:t,transform:e}),i}}var o=function(t){var e=t.rtl,n=t.ltr;return function(t){return"rtl"===t.direction?e:n}};function a(t){var e=t.property,n=t.scale,i=t.transform;return{scale:n,property:o(e),transform:n?Object(r.a)({scale:n,compose:i}):i}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(8);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";var r=n(120);n.o(r,"animated")&&n.d(e,"animated",(function(){return r.animated})),n.o(r,"config")&&n.d(e,"config",(function(){return r.config})),n.o(r,"useSpring")&&n.d(e,"useSpring",(function(){return r.useSpring}))},function(t,e,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,h=i.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,l=null,h=!1,f=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(C[t])t=C[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=B.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=B.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=B.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=B.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=B.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=B.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=B.hex8.exec(t))return{r:L(e[1]),g:L(e[2]),b:L(e[3]),a:F(e[4]),format:n?"name":"hex8"};if(e=B.hex6.exec(t))return{r:L(e[1]),g:L(e[2]),b:L(e[3]),format:n?"name":"hex"};if(e=B.hex4.exec(t))return{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),a:F(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=B.hex3.exec(t))return{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(H(t.r)&&H(t.g)&&H(t.b)?(p=t.r,d=t.g,v=t.b,e={r:255*P(p,255),g:255*P(d,255),b:255*P(v,255)},h=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(r=D(t.s),s=D(t.v),e=function(t,e,n){t=6*P(t,360),e=P(e,100),n=P(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}(t.h,r,s),h=!0,f="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(r=D(t.s),l=D(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=P(t,360),e=P(e,100),n=P(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,l),h=!0,f="hsl"),t.hasOwnProperty("a")&&(n=t.a));var p,d,v;return n=I(n),{ok:h,format:t.format||f,r:u(255,c(e.r,0)),g:u(255,c(e.g,0)),b:u(255,c(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var r,i,o=c(t,e,n),a=u(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function d(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var r,i,o=c(t,e,n),a=u(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function v(t,e,n,r){var i=[N(l(t).toString(16)),N(l(e).toString(16)),N(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(t,e,n,r){return[N(z(r)),N(l(t).toString(16)),N(l(e).toString(16)),N(l(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s-=e/100,n.s=R(n.s),f(n)}function m(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s+=e/100,n.s=R(n.s),f(n)}function b(t){return f(t).desaturate(100)}function _(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l+=e/100,n.l=R(n.l),f(n)}function x(t,e){e=0===e?0:e||10;var n=f(t).toRgb();return n.r=c(0,u(255,n.r-l(-e/100*255))),n.g=c(0,u(255,n.g-l(-e/100*255))),n.b=c(0,u(255,n.b-l(-e/100*255))),f(n)}function w(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l-=e/100,n.l=R(n.l),f(n)}function k(t,e){var n=f(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,f(n)}function E(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function S(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+120)%360,s:e.s,l:e.l}),f({h:(n+240)%360,s:e.s,l:e.l})]}function T(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+90)%360,s:e.s,l:e.l}),f({h:(n+180)%360,s:e.s,l:e.l}),f({h:(n+270)%360,s:e.s,l:e.l})]}function A(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+72)%360,s:e.s,l:e.l}),f({h:(n+216)%360,s:e.s,l:e.l})]}function O(t,e,n){e=e||6,n=n||30;var r=f(t).toHsl(),i=360/n,o=[f(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(f(r));return o}function M(t,e){e=e||6;for(var n=f(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=I(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return v(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[N(l(t).toString(16)),N(l(e).toString(16)),N(l(n).toString(16)),N(z(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*P(this._r,255))+"%",g:l(100*P(this._g,255))+"%",b:l(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*P(this._r,255))+"%, "+l(100*P(this._g,255))+"%, "+l(100*P(this._b,255))+"%)":"rgba("+l(100*P(this._r,255))+"%, "+l(100*P(this._g,255))+"%, "+l(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+g(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:D(t[r]));t=n}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,n){n=0===n?0:n||50;var r=f(t).toRgb(),i=f(e).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(t,e){var n=f(t),r=f(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(t,e,n){var r,i,o=f.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)(r=f.readability(t,e[u]))>l&&(l=r,s=f(e[u]));return f.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],n))};var C=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=f.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(C);function I(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"===typeof t&&-1!=t.indexOf("%")}(t);return t=u(e,c(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function R(t){return u(1,c(0,t))}function L(t){return parseInt(t,16)}function N(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function z(t){return i.round(255*parseFloat(t)).toString(16)}function F(t){return L(t)/255}var B=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function H(t){return!!B.CSS_UNIT.exec(t)}t.exports?t.exports=f:void 0===(r=function(){return f}.call(e,n,e,t))||(t.exports=r)}(Math)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));function r(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var i=function(t,e,n){var r=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0);i=i.next}while(void 0!==i)}}},function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n(5);n(99);function i(t,e){var n={};return Object.keys(t).forEach((function(r){e.includes(r)||(n[r]=t[r])})),n}function o(t,e){var n={};return e.forEach((function(e){e in t&&(n[e]=t[e])})),n}var a=function(t){var e=new WeakMap;return function(n,r,i,o){if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);var a=e.get(n);if(a.has(r))return a.get(r);var s=t(n,r,i,o);return a.set(r,s),s}}((function(t,e,n,r){var i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t}));function s(t,e){var n={};return Object.keys(t).forEach((function(r){var i=t[r];e(i,r,t)&&(n[r]=i)})),n}var l=function(t){return s(t,(function(t){return null!==t&&void 0!==t}))},u=function(t){return Object.keys(t)},c=function(t){return t.reduce((function(t,e){var n=Object(r.a)(e,2),i=n[0],o=n[1];return t[i]=o,t}),{})}},function(t,e,n){var r=n(123),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(13);function i(t){var e=t.scale,n=t.transform,i=t.compose;return function(t,o){var a,s=function(t,e){return function(n){var i=String(e),o=t?t+"."+i:i;return Object(r.h)(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e}}(e,t)(o),l=null!=(a=null==n?void 0:n(s,o))?a:s;return i&&(l=i(l,o)),l}}},function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return p}));var r=n(8),i=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function o(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(i).join(" ")}function a(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(i).join(" ")}var s={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},l={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function u(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var c={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},h="& > :not(style) ~ :not(style)",f=Object(r.a)({},h,{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}),p=Object(r.a)({},h,{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"})},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(52),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(t){return 45===t.charCodeAt(1)},u=function(t){return null!=t&&"boolean"!==typeof t},c=Object(o.a)((function(t){return l(t)?t:t.replace(a,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(s,(function(t,e,n){return p={name:e,styles:n,next:p},e}))}return 1===i[t]||l(t)||"number"!==typeof e||0===e?e:e+"px"};function f(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)p={name:r.name,styles:r.styles,next:p},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":u(a)&&(r+=c(o)+":"+h(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=f(t,e,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)u(a[l])&&(r+=c(o)+":"+h(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=p,o=n(t);return p=i,f(t,e,o)}break;case"string":}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var p,d=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,o="";p=void 0;var a=t[0];null==a||void 0===a.raw?(i=!1,o+=f(n,e,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=f(n,e,t[s]),i&&(o+=a[s]);d.lastIndex=0;for(var l,u="";null!==(l=d.exec(o));)u+="-"+l[1];return{name:r(o)+u,styles:o,next:p}}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(13),i=n(32),o=n(5),a=n(72);function s(t,e){s=function(t,e){return new o(t,void 0,e)};var n=u(RegExp),r=RegExp.prototype,i=new WeakMap;function o(t,e,r){var o=n.call(this,t,e);return i.set(o,r||i.get(t)),o}function a(t,e){var n=i.get(e);return Object.keys(n).reduce((function(e,r){return e[r]=t[n[r]],e}),Object.create(null))}return l(o,n),o.prototype.exec=function(t){var e=r.exec.call(this,t);return e&&(e.groups=a(e,this)),e},o.prototype[Symbol.replace]=function(t,e){if("string"===typeof e){var n=i.get(this);return r[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"===typeof e){var o=this;return r[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==typeof t[t.length-1]&&t.push(a(t,o)),e.apply(this,t)}))}return r[Symbol.replace].call(this,t,e)},s.apply(this,arguments)}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function u(t){var e="function"===typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function c(t,e,n){return(c=h()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&f(i,n.prototype),i}).apply(null,arguments)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},v=new Set(Object.values(d)),g=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),y=function(t){return t.trim()};var m=function(t){return function(e){return t+"("+e+")"}},b={filter:function(t){return"auto"!==t?t:i.b},backdropFilter:function(t){return"auto"!==t?t:i.a},ring:function(t){return Object(i.d)(b.px(t))},bgClip:function(t){return"text"===t?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform:function(t){return"auto"===t?Object(i.f)():"auto-gpu"===t?Object(i.e)():t},px:function(t){return null==t?t:function(t){var e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}(t).unitless||Object(r.g)(t)?t+"px":t},fraction:function(t){return!Object(r.g)(t)||t>1?t:100*t+"%"},float:function(t,e){return"rtl"===e.direction?{left:"right",right:"left"}[t]:t},degree:function(t){if(Object(r.d)(t)||null==t)return t;var e=Object(r.i)(t)&&!t.endsWith("deg");return Object(r.g)(t)||e?t+"deg":t},gradient:function(t,e){return function(t,e){var n,r;if(null==t||g.has(t))return t;var i=null!=(n=null==(r=s(/(^[\x2DA-Za-z]+)\(((.*))\)/g,{type:1,values:2}).exec(t))?void 0:r.groups)?n:{},l=i.type,u=i.values;if(!l||!u)return t;var c=l.includes("-gradient")?l:l+"-gradient",h=u.split(",").map(y).filter(Boolean),f=Object(a.a)(h),p=f[0],m=f.slice(1);if(0===(null==m?void 0:m.length))return t;var b=p in d?d[p]:p;return m.unshift(b),c+"("+m.map((function(t){if(v.has(t))return t;var n=t.split(" "),r=Object(o.a)(n,2),i=r[0],a=r[1],s="colors."+i,l=s in e.__cssMap?e.__cssMap[s].varRef:i;return a?[l,a].join(" "):l})).join(", ")+")"}(t,null!=e?e:{})},blur:m("blur"),opacity:m("opacity"),brightness:m("brightness"),contrast:m("contrast"),dropShadow:m("drop-shadow"),grayscale:m("grayscale"),hueRotate:m("hue-rotate"),invert:m("invert"),saturate:m("saturate"),sepia:m("sepia"),bgImage:function(t){return null==t||_(t)||g.has(t)?t:"url("+t+")"},outline:function(t){var e="0"===String(t)||"none"===String(t);return null!==t&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection:function(t){var e,n=null!=(e=i.c[t])?e:{},r=n.space,o=n.divide,a={flexDirection:t};return r&&(a[r]=1),o&&(a[o]=1),a}},_=function(t){return Object(r.i)(t)&&t.includes("(")&&t.includes(")")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(54);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";n(15);var r=n(144);n.d(e,"css",(function(){return r.a}));var i=n(109);n.o(i,"isStyleProp")&&n.d(e,"isStyleProp",(function(){return i.isStyleProp})),n.o(i,"propNames")&&n.d(e,"propNames",(function(){return i.propNames})),n.o(i,"toCSSVar")&&n.d(e,"toCSSVar",(function(){return i.toCSSVar}));var o=n(110);n.o(o,"isStyleProp")&&n.d(e,"isStyleProp",(function(){return o.isStyleProp})),n.o(o,"propNames")&&n.d(e,"propNames",(function(){return o.propNames})),n.o(o,"toCSSVar")&&n.d(e,"toCSSVar",(function(){return o.toCSSVar}));var a=n(67);n.d(e,"isStyleProp",(function(){return a.a})),n.d(e,"propNames",(function(){return a.b}));var s=n(143);n.d(e,"toCSSVar",(function(){return s.a}));n(31)},function(t,e,n){var r=n(200),i=n(205);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c}));var r=n(1),i=(n(102),n(20)),o=(n(111),n(53),n(101),n(28)),a=n(35),s=n(75),l=Object(i.f)((function(t,e){var n=t.styles,l=Object(a.a)([n],void 0,"function"===typeof n||Array.isArray(n)?Object(r.useContext)(i.b):void 0),u=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var t=e.key+"-global",n=new s.a({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+t+" "+l.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",t),n.hydrate([i])),u.current=[n,r],function(){n.flush()}}),[e]),Object(r.useLayoutEffect)((function(){var t=u.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==l.next&&Object(o.b)(e,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}e.insert("",l,n,!1)}}),[e,l.name]),null}));function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(a.a)(e)}var c=function(){var t=u.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,module){(function(){var n,aa=[];function ba(t){return function(){return aa[t].apply(this,arguments)}}function ca(t,e){return aa[t]=e}function da(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function ea(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:da(t)}}var fa="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},ha="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ja(t,e){if(e){var n=ha;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&fa(n,t,{configurable:!0,writable:!0,value:e})}}function ka(){ka=function(){},ha.Symbol||(ha.Symbol=la)}function ma(t,e){this.a=t,fa(this,"description",{configurable:!0,writable:!0,value:e})}ma.prototype.toString=function(){return this.a};var la=function(){var t=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new ma("jscomp_symbol_"+(n||"")+"_"+t++,n)}}(),qa;function na(){ka();var t=ha.Symbol.iterator;t||(t=ha.Symbol.iterator=ha.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&fa(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return oa(da(this))}}),na=function(){}}function oa(t){return na(),(t={next:t})[ha.Symbol.iterator]=function(){return this},t}function pa(t,e){na(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}if(ja("Array.prototype.keys",(function(t){return t||function(){return pa(this,(function(t){return t}))}})),"function"==typeof Object.setPrototypeOf)qa=Object.setPrototypeOf;else{var ra;t:{var sa={Tg:!0},ta={};try{ta.__proto__=sa,ra=ta.Tg;break t}catch(a){}ra=!1}qa=ra?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var ua=qa;ja("Object.setPrototypeOf",(function(t){return t||ua})),ja("Promise",(function(t){function e(t){this.A=0,this.b=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=ha.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.c=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.f)}},e.prototype.m=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.aa(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.o(t):this.g(t)}},e.prototype.o=function(t){var e=void 0;try{e=t.then}catch(n){return void this.f(n)}"function"==typeof e?this.u(e,t):this.g(t)},e.prototype.f=function(t){this.i(2,t)},e.prototype.g=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.A)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.A);this.A=t,this.b=e,this.j()},e.prototype.j=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.aa=function(t){var e=this.c();t.If(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.If(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.If=function(t,e){function n(){switch(r.A){case 1:t(r.b);break;case 2:e(r.b);break;default:throw Error("Unexpected state: "+r.A)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=ea(t),o=i.next();!o.done;o=i.next())r(o.value).If(e,n)}))},e.all=function(t){var n=ea(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).If(o(a.length-1),e),i=n.next()}while(!i.done)}))},e})),ja("Array.prototype.fill",(function(t){return t||function(t,e,n){var r=this.length||0;for(0>e&&(e=Math.max(0,r+e)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),e=Number(e||0);e<n;e++)this[e]=t;return this}}));var va="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};ja("Object.assign",(function(t){return t||va})),ja("Math.log2",(function(t){return t||function(t){return Math.log(t)/Math.LN2}}));var wa=this||self;function ya(t,e,n){t=t.split("."),n=n||wa,t[0]in n||"undefined"==typeof n.execScript||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)t.length||void 0===e?n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}:n[r]=e}function za(){}function Aa(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function Ba(t){var e=Aa(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Ca(t){return"function"==Aa(t)}function Da(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ea="closure_uid_"+(1e9*Math.random()>>>0),Fa=0;function Ga(t,e,n){return t.call.apply(t.bind,arguments)}function Ha(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ia(t,e,n){return(Ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ga:Ha).apply(null,arguments)}function Ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function t(t,e){ya(t,e,void 0)}function u(t,e){function n(){}n.prototype=e.prototype,t.l=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.wp=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,Ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function La(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ma(){this.b=this.a=null}u(Ka,Error),Ka.prototype.name="CustomError",La.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},La.prototype.put=function(t){this.f(t),100>this.b&&(this.b++,t.next=this.a,this.a=t)};var Oa=new La((function(){return new Na}),(function(t){t.reset()}));function Na(){this.next=this.b=this.a=null}Ma.prototype.add=function(t,e){var n=Oa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ma.prototype.remove=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},Na.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Na.prototype.reset=function(){this.next=this.b=this.a=null};var Pa=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qa(t,e){return-1!=t.indexOf(e)}function Ra(t,e){return t<e?-1:t>e?1:0}function Sa(t,e){for(var n in t)if(e.call(void 0,t[n],n,t))return!0;return!1}function Ta(t){for(var e in t)return!1;return!0}function Ua(t){var e,n={};for(e in t)n[e]=t[e];return n}var Va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Xa;function Wa(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Va.length;o++)n=Va[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}t:{var Ya=wa.navigator;if(Ya){var Za=Ya.userAgent;if(Za){Xa=Za;break t}}Xa=""}function $a(t){return Qa(Xa,t)}var ab=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bb(t,e){this.b=t===cb&&e||"",this.a=db}var db={},cb={},eb=new bb(cb,"");function fb(t,e){this.b=t===gb&&e||"",this.a=hb}fb.prototype.xc=function(){return 1};var hb={},gb={};function ib(){this.b="",this.c=jb,this.a=null}function kb(){var t=lb;return t instanceof ib&&t.constructor===ib&&t.c===jb?t.b:(Aa(t),"type_error:SafeHtml")}ib.prototype.xc=function(){return this.a};var jb={};function mb(t){var e=new ib;return e.b=t,e.a=0,e}mb("<!DOCTYPE html>");var lb=mb("");function nb(t){var e=new fb(gb,eb instanceof bb&&eb.constructor===bb&&eb.a===db?eb.b:"type_error:Const");e instanceof fb&&e.constructor===fb&&e.a===hb?e=e.b:(Aa(e),e="type_error:TrustedResourceUrl"),t.src=e.toString()}function ob(t){return ob[" "](t),t}function pb(t,e){var n=qb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}mb("<br>"),ob[" "]=za;var rb=$a("Opera"),sb=$a("Trident")||$a("MSIE"),tb=$a("Edge"),vb=$a("Gecko")&&!(Qa(Xa.toLowerCase(),"webkit")&&!$a("Edge"))&&!($a("Trident")||$a("MSIE"))&&!$a("Edge"),wb=Qa(Xa.toLowerCase(),"webkit")&&!$a("Edge"),yb;function xb(){var t=wa.document;return t?t.documentMode:void 0}t:{var zb="",Ab=function(){var t=Xa;return vb?/rv:([^\);]+)(\)|;)/.exec(t):tb?/Edge\/([\d\.]+)/.exec(t):sb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):wb?/WebKit\/(\S+)/.exec(t):rb?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ab&&(zb=Ab?Ab[1]:""),sb){var Bb=xb();if(null!=Bb&&Bb>parseFloat(zb)){yb=String(Bb);break t}}yb=zb}var qb={},Db,Gb,Jb;function Cb(t){return pb(t,(function(){for(var e=0,n=Pa(String(yb)).split("."),r=Pa(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ra(e=0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ra(0==a[2].length,0==s[2].length)||Ra(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}function Eb(t){var e=document;return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function Fb(t){wa.setTimeout((function(){throw t}),0)}function Hb(){var t=wa.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!$a("Presto")&&(t=function(){var t=Eb("IFRAME");t.style.display="none",nb(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(kb()),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=Ia((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!$a("Trident")&&!$a("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).vj;n.vj=null,t()}},function(t){r.next={vj:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in Eb("SCRIPT")?function(t){var e=Eb("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){wa.setTimeout(t,0)}}function Ib(t,e){Jb||Kb(),Lb||(Jb(),Lb=!0),Mb.add(t,e)}function Kb(){if(wa.Promise&&wa.Promise.resolve){var t=wa.Promise.resolve(void 0);Jb=function(){t.then(Nb)}}else Jb=function(){var t=Nb;!Ca(wa.setImmediate)||wa.Window&&wa.Window.prototype&&!$a("Edge")&&wa.Window.prototype.setImmediate==wa.setImmediate?(Gb||(Gb=Hb()),Gb(t)):wa.setImmediate(t)}}Db=wa.document&&sb?xb():void 0,!vb&&!sb||sb&&9<=Number(Db)||vb&&Cb("1.9.1"),sb&&Cb("9");var Lb=!1,Mb=new Ma;function Nb(){for(var t;t=Mb.remove();){try{t.a.call(t.b)}catch(e){Fb(e)}Oa.put(t)}Lb=!1}function Ob(t){if(this.A=Pb,this.i=void 0,this.c=this.a=this.b=null,this.f=this.g=!1,t!=za)try{var e=this;t.call(void 0,(function(t){Qb(e,Rb,t)}),(function(t){Qb(e,Sb,t)}))}catch(n){Qb(this,Sb,n)}}var Pb=0,Rb=2,Sb=3;function Tb(){this.next=this.c=this.b=this.f=this.a=null,this.g=!1}Tb.prototype.reset=function(){this.c=this.b=this.f=this.a=null,this.g=!1};var Vb=new La((function(){return new Tb}),(function(t){t.reset()}));function Wb(t,e,n){var r=Vb.get();return r.f=t,r.b=e,r.c=n,r}function Xb(t){if(t instanceof Ob)return t;var e=new Ob(za);return Qb(e,Rb,t),e}function Yb(t){return new Ob((function(e,n){n(t)}))}function Zb(){var t,e;return new $b(new Ob((function(n,r){t=n,e=r})),t,e)}function cc(t,e){if(t.A==Pb)if(t.b){var n=t.b;if(n.a){for(var r=0,i=null,o=null,a=n.a;a&&(a.g||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.A==Pb&&1==r?cc(n,e):(o?((r=o).next==n.c&&(n.c=r),r.next=r.next.next):dc(n),ec(n,i,Sb,e)))}t.b=null}else Qb(t,Sb,e)}function gc(t,e){t.a||t.A!=Rb&&t.A!=Sb||hc(t),t.c?t.c.next=e:t.a=e,t.c=e}function ac(t,e,n,r){var i=Wb(null,null,null);return i.a=new Ob((function(t,o){i.f=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof bc?o(e):t(i)}catch(a){o(a)}}:o})),i.a.b=t,gc(t,i),i.a}function Qb(t,e,n){if(t.A==Pb){t===n&&(e=Sb,n=new TypeError("Promise cannot resolve to itself")),t.A=1;t:{var r=n,i=t.o,o=t.m;if(r instanceof Ob){gc(r,Wb(i||za,o||null,t));var a=!0}else{if(r)try{var s=!!r.$goog_Thenable}catch(u){s=!1}else s=!1;if(s)r.then(i,o,t),a=!0;else{if(Da(r))try{var l=r.then;if(Ca(l)){ic(r,l,i,o,t),a=!0;break t}}catch(u){o.call(t,u),a=!0;break t}a=!1}}}a||(t.i=n,t.A=e,t.b=null,hc(t),e!=Sb||n instanceof bc||jc(t,n))}}function ic(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}function hc(t){t.g||(t.g=!0,Ib(t.j,t))}function dc(t){var e=null;return t.a&&(e=t.a,t.a=e.next,e.next=null),t.a||(t.c=null),e}function ec(t,e,n,r){if(n==Sb&&e.b&&!e.g)for(;t&&t.f;t=t.b)t.f=!1;if(e.a)e.a.b=null,kc(e,n,r);else try{e.g?e.f.call(e.c):kc(e,n,r)}catch(i){lc.call(null,i)}Vb.put(e)}function kc(t,e,n){e==Rb?t.f.call(t.c,n):t.b&&t.b.call(t.c,n)}function jc(t,e){t.f=!0,Ib((function(){t.f&&lc.call(null,e)}))}Ob.prototype.then=function(t,e,n){return ac(this,Ca(t)?t:null,Ca(e)?e:null,n)},Ob.prototype.$goog_Thenable=!0,Ob.prototype.cancel=function(t){if(this.A==Pb){var e=new bc(t);Ib((function(){cc(this,e)}),this)}},Ob.prototype.o=function(t){this.A=Pb,Qb(this,Rb,t)},Ob.prototype.m=function(t){this.A=Pb,Qb(this,Sb,t)},Ob.prototype.j=function(){for(var t;t=dc(this);)ec(this,t,this.A,this.i);this.g=!1};var lc=Fb;function bc(t){Ka.call(this,t)}function $b(t,e,n){this.al=t,this.resolve=e,this.reject=n}u(bc,Ka),bc.prototype.name="cancel";var x=this;function mc(){return Object.create(y,void 0)}var A=Ia,nc=String,oc=x.Object.freeze||function(t){return t};function pc(t){for(var e,n=Object.keys(t),r=n.length;r--;)Da(e=t[n[r]])&&pc(e);return oc(t)}function qc(t){var e=Aa(t);if("object"==e||"array"==e){if(Ca(t.clone))return t.clone();for(var n in e="array"==e?[]:{},t)t.hasOwnProperty(n)&&(e[n]=qc(t[n]));return e}return t}var B=self.eval("undefined"),y=self.eval("null");function rc(t,e){return nc(t).split(e!==B?e:" ")}var sc="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(t,e,n,r,i){if(!(e=t instanceof e)&&n)throw new D(n,r,tc(i)?i:t);return e}function uc(t,e){if(!0===(C(t,e)&&t.constructor===e))throw new TypeError("Illegal constructor "+vc(e))}function wc(t,e,n,r,i){if(!(e=xc(t)===e)&&n)throw new D(n,r,tc(i)?i:t);return e}function yc(t,e,n,r){return wc(t,"Array",e,n,r)}function tc(t){return t!==B}function zc(t){return"string"===typeof t}t("H.lang.isArray",yc),t("H.lang.isString",zc);var Ac=parseInt,Bc=parseFloat,E=isNaN;function Cc(t){return t===+t}function Dc(t){return!E(+t)}function xc(t){var e=Object[sc[0]][sc[6]].call(t).match(/^\[object (\w+)\]$/);return e?e[1]:typeof t}t("H.lang.isNumber",Cc),t("H.lang.isInteger",Number.isInteger?Number.isInteger:function(t){return"number"===typeof t&&0===t%1});var Ec=[];function Fc(t){0>Ec.indexOf(t)&&Ec.push(t)}function vc(t,e,n,r){var i,o="",a=2>arguments.length;return a&&(e={H:x.H},n="",r=Ec.slice()),Gc(e,!0,(function(e,a){try{if(a=Hc(e,i=e[a]),!(Da(i)&&i.window===i&&i.self===i||Da(i)&&0<i.nodeType&&Ca(i.cloneNode))&&Da(i)){if(i===t)return o=n+"."+a,!0;if(0>r.indexOf(i)&&(r.push(i),o=vc(t,i,n+"."+a,r)))return!0}}catch(s){}})),a&&(o=o?o.substr(1).replace("."+sc[0]+".","#"):"~"+(Ca(t)?Ic(t)+"()":xc(t))),o}function Hc(t,e){var n=[];return Gc(t,!1,(function(t,r){t[r]===e&&n.push(r)})),n.sort(Jc)[0]}function Jc(t,e){return e.length-t.length}Fc(Ec);var Kc=Object[sc[0]][sc[2]];function Gc(t,e,n){var r;if(t){for(i in t)if((!e||Kc.call(t,i))&&n(t,i,!0))return;for(r=sc.length;r--;){var i=sc[r];if((!e||Kc.call(t,i))&&n(t,i,!1))break}}}function Ic(t){return(t=/^\s*function ([^\( ]+)/.exec(t))?t[1]:"anonymous"}function Lc(t,e,n){n[e]="#"+e}var Mc=!!x.__karma__;function Nc(){throw Error("unimplemented method")}function Oc(t,e){"status"in(e=e||{})&&(this.status=+e.status),"statusText"in e&&(this.statusText=e.statusText),this.ok=200<=this.status&&300>this.status,this.bodyUsed=!1,t?"string"===typeof t?this.c=t:ArrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||t.buffer)?this.a=t.buffer||t:Blob.prototype.isPrototypeOf(t)&&(this.b=t):this.c=""}function Pc(t){if(t.bodyUsed)return Yb(new TypeError("Already read"));t.bodyUsed=!0}function Qc(t){var e=new FileReader;return e.readAsText(t),new Ob((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function Rc(t,e,n){var r,i,o,a=n&&n.headers||{},s={},l=this;if(!Ca(e))throw new D(Rc,1,"function required");Wa(a,Uc.headers,a),Wa(s,Uc,n||{}),s.headers=a,this.b=e,this.T=r=new XMLHttpRequest,e=s.method;try{for(i in r.open(e,t,!0),a)a.hasOwnProperty(i)&&(o=a[i])&&r.setRequestHeader(i,o);r.withCredentials=!!s.withCredentials,function(){var t=A(l.a,l),e=+s.timeout||0;Sc?(Tc(l,"timeout",t),r.timeout=e):e&&(l.c=setTimeout((function(){r.abort(),l.a({type:"timeout"})}),e)),Tc(l,"error",t),Tc(l,"load",t),r.send(s.data)}()}catch(u){this.a({type:"cors"})}}t("H.net.Response",Oc),Oc.prototype.type="default",Oc.prototype.type=Oc.prototype.type,Oc.prototype.status=200,Oc.prototype.status=Oc.prototype.status,Oc.prototype.statusText="OK",Oc.prototype.statusText=Oc.prototype.statusText,Oc.error=function(){return Oc.a||(Oc.a=new Oc(null,{status:0,statusText:""}),Oc.a.type="error"),Oc.a},Oc.error=Oc.error,Oc.prototype.text=function(){var t=Pc(this);if(!t)if(this.c)t=Xb(this.c);else if(this.a){var e,n=(t=new Uint8Array(this.a)).length,r=Array(n);for(e=0;e<n;e++)r[e]=String.fromCharCode(t[e]);t=Xb(r.join(""))}else t=this.b?Qc(this.b):Yb("Unsupported response body");return t},Oc.prototype.json=function(){return this.text().then(x.JSON.parse)},Oc.prototype.blob=function(){var t,e=Pc(this);return e||(this.b?t=this.b:this.a&&(t=new Blob([this.a],{type:"application/octet-stream"}))),e||Xb(t)},Oc.prototype.arrayBuffer=function(){return this.a?Pc(this)||Xb(this.a.slice(0)):this.blob().then(Oc.b)},Oc.b=function(t){var e=new FileReader;return e.readAsArrayBuffer(t),new Ob((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))},!Mc&&x.Response&&x.Response.error&&(Oc=x.Response,Fc(Oc.prototype)),t("H.net.Xhr",Rc);var Uc={method:"GET",headers:{},data:null},Vc="withCredentials"in new XMLHttpRequest,Sc="timeout"in new XMLHttpRequest,Yc,Zc,$c,cd,dd;function Tc(t,e,n){Vc?t.T.addEventListener(e,n):t.T["on"+e]=n}function Wc(t,e,n){Vc?t.T.removeEventListener(e,n):t.T["on"+e]=null}function Xc(t,e){var n=[];return t&&n.push(vc(t)),1<arguments.length&&n.push(""+e),n=Error(n.join(" ")),Object.setPrototypeOf(n,Xc.prototype),n}function D(t,e,n){var r=arguments.length;if((e=e!==B?+e:e)!==B){var i=(i=/^.*?\(([^\)]+)/.exec((""+t).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?rc(i[1].replace(/\s+/g,""),","):[];i.forEach(Lc),i=i[e]||"#"+e}var o=t?vc(t):"";return r=2<r?nc(n):"",(i||r)&&(o+=" (Argument "+(i||"")+(r?" "+r:"")+")"),r=Error(o),Object.setPrototypeOf(r,D.prototype),r}function ad(){if(!zc("STATIC_DB"))throw new D(this.constructor,0);if(this.g=x.indexedDB||x.op||x.Eo||x.Fo,!this.g)throw new Xc(this.constructor,"This browser does not support IndexedDB");this.a=[],this.c=[],this.ri=A(this.ri,this)}function id(t,e,n){if(t.b)t.a?(t.a.push(e),n&&t.c.push(n)):t.f?n&&n(t.f):e(t.b.result);else{t.b=t.g.open(jd+"STATIC_DB",1),t.b.onupgradeneeded=t.ri;var r=t.b.onerror=function(){clearTimeout(t.i),t.f=this.error,t.c.forEach((function(e){e(t.f)})),t.a=t.c=null};t.i=setTimeout((function(){r.call({error:Error("DbOpenTimeoutError")})}),500),t.b.onsuccess=function(){clearTimeout(t.i),t.a?(t.a.forEach((function(t){t(this.result)}),this),t.a=t.c=null):(t.b=t.f=null,t.a=[],t.c=[])},t.a.push(e),n&&t.c.push(n)}}function fd(t,e,n){id(t,(function(t){t=t.transaction(["data"],"readwrite"),e(t.objectStore("data"))}),n)}function gd(t,e,n){e&&(t.onsuccess=function(){e(this.result)}),n&&(t.onerror=function(){n(this.error)})}function ed(t){var e=Object.prototype.toString.call(t);return"[object Blob]"===e||"[object ArrayBuffer]"===e||zc(t)||Da(t)}function kd(){return cd||(cd=new ad),cd}Rc.prototype.abort=function(){this.T&&(this.T.abort(),this.T&&this.a({type:"abort"}))},Rc.prototype.abort=Rc.prototype.abort,Rc.prototype.a=function(t){var e,n,r=t.type;t=this.T,this.c&&clearTimeout(this.c),"load"===r?t instanceof XMLHttpRequest&&200!==t.status&&(e="network"):e=4===t.readyState&&0===t.status&&"error"==r?"cors":"error"!=r?r:"network",Wc(this,"timeout",r=this.a),Wc(this,"error",r),Wc(this,"load",r),n=0===t.status||e&&"network"!==e?Oc.error():new Oc(t.responseText||null,t),e=this.b,delete this.a,delete this.b,delete this.T,e(n)},u(Xc,Error),t("H.lang.IllegalOperationError",Xc),Xc.prototype.name="IllegalOperationError",u(D,Error),t("H.lang.InvalidArgumentError",D),D.prototype.name="InvalidArgumentError",n=ad.prototype,n.put=function(t,e,n,r){if(!zc(t)&&!Cc(t))throw new D(this.put,0);if(!ed(e))throw new D(this.put,1);fd(this,(function(i){gd(i.put(e,t),n,r)}),r)},n.get=function(t,e,n){var r;if(!zc(t)&&!Cc(t))throw new D(this.get,0);if(!Ca(e))throw new D(this.get,1);return fd(this,(function(i){gd(r=i.get(t),e,n)}),n),{cancel:function(){r&&(r.onsuccess=hd)}}},n.remove=function(t,e,n){if(!zc(t)&&!Cc(t))throw new D(this.remove,0);fd(this,(function(r){gd(r.delete(t),e,n)}),n)},n.clear=function(t,e){fd(this,(function(n){gd(n.clear(),t,e)}),e)},n.ri=function(){var t=this.b.result;t.objectStoreNames.contains("data")||t.createObjectStore("data")},t("H.util.IndexedDBStorage.getInstance",kd);var jd="H_";function md(){if(!tc(dd))if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)dd=!1;else{var t=x.indexedDB||x.op||x.Eo||x.Fo,e=jd+"TEST_DB";try{var n=t&&t.open(e,1)}catch(r){}dd=!!n&&null===n.onupgradeneeded,n&&t.deleteDatabase&&t.deleteDatabase(e)}return dd}function nd(){0!=od&&(pd[this[Ea]||(this[Ea]=++Fa)]=this),this.Ld=this.Ld,this.rb=this.rb}t("H.util.IndexedDBStorage.isSupported",md);var od=0,pd={};function qd(t){t&&"function"==typeof t.B&&t.B()}function rd(t,e){this.type=t,this.currentTarget=this.target=e,this.f=this.a=!1,this.kl=!0}function sd(t,e,n){sd.l.constructor.call(this,t,n),this.data=e}function td(t,e,n){td.l.constructor.call(this,t,n),this.message=e}nd.prototype.Ld=!1,nd.prototype.B=function(){if(!this.Ld&&(this.Ld=!0,this.s(),0!=od)){var t=this[Ea]||(this[Ea]=++Fa);if(0!=od&&this.rb&&0<this.rb.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pd[t]}},nd.prototype.xb=function(t,e){this.Ld?void 0!==e?t.call(e):t():(this.rb||(this.rb=[]),this.rb.push(void 0!==e?Ia(t,e):t))},nd.prototype.s=function(){if(this.rb)for(;this.rb.length;)this.rb.shift()()},rd.prototype.stopPropagation=function(){this.a=!0},rd.prototype.preventDefault=function(){this.f=!0,this.kl=!1},t("H.util.Event",rd),rd.prototype.stopPropagation=rd.prototype.stopPropagation,rd.prototype.stopPropagation=rd.prototype.stopPropagation,rd.prototype.CAPTURING_PHASE=1,rd.prototype.CAPTURING_PHASE=rd.prototype.CAPTURING_PHASE,rd.prototype.AT_TARGET=2,rd.prototype.AT_TARGET=rd.prototype.AT_TARGET,rd.prototype.BUBBLING_PHASE=3,rd.prototype.BUBBLING_PHASE=rd.prototype.BUBBLING_PHASE,rd.prototype.eventPhase=0,rd.prototype.eventPhase=rd.prototype.eventPhase,u(sd,rd),t("H.util.DataEvent",sd),u(td,rd),t("H.util.ErrorEvent",td);var ud=Math,vd=ud.min,wd=ud.max,xd=ud.round,yd=ud.floor,zd=ud.ceil,Ad=ud.abs,Bd=ud.log,Cd=ud.sqrt,Dd=ud.pow,Ed=ud.exp,Fd=ud.sin,Gd=ud.asin,Hd=ud.cos,Id=ud.tan,Jd=ud.atan,Kd=ud.atan2,Ld=ud.LN2,Md=ud.PI,Nd=Md/2,Od=Md/4,Pd=2*Md,Qd=3*Md,Rd=Md/180,Sd=180/Md,Td=1/0,Ud=Dd(-2,53),Vd=Vd||function(t){return Bd(t)/Ld};function Wd(t,e){var n;return 0>(n=t%e)===0>e?n:n+e}function Xd(t,e,n){return e-=n=n||0,(t-=n)-yd(t/e)*e+n}function Yd(t,e,n){return t>n?n:t<e?e:t}function Zd(t,e,n,r){return r||(r=0),e<n?t>=e-r&&t<=n+r:t>=n-r&&t<=e+r}function $d(t,e,n,r,i,o){return Cd(Dd((t-i)*(r-o)-(e-o)*(n-i),2)/(Dd(n-i,2)+Dd(r-o,2)))}t("H.math.normalize",Xd),t("H.math.clamp",Yd);var ae={NONE:0,VERTEX:1,EDGE:2,SURFACE:3};function be(t,e,n,r,i,o){var a=n.length,s=a,l=n[0],u=0,c=0,h=0;r=r/2||0;var f=o||2;o=f*(i?0:1)+1;for(var p=f-2;1!=u&&s>o;){s-=p;var d=n[--s];f=n[--s];var v=n[s?s-p-1:(a+(s-p-1))%a],g=n[s?s-p-2:(a+(s-p-2))%a];f>=t-r&&f<=t+r&&d>=e-r&&d<=e+r||g>=t-r&&g<=t+r&&v>=e-r&&v<=e+r?u=1:u||f!==t?!u&&Zd(t,f,g,r)&&((f<t&&g>t||f>t&&g<t)&&(c+=(l=d+(t-f)/(g-f)*(v-d))>e,h+=l<e),u=Zd(e,d,v,r)&&$d(t,e,f,d,g,v)<=r?2:0):(g===t&&(d<e&&v>e||d>e&&v<e)||(l<=t&&g>t||l>=t&&g<t)&&(d>=e?++c:++h),u=Zd(e,d,v,r)&&$d(t,e,f,d,g,v)<=r?2:0),l=f}return!u&&i&&0!==h&&0!==c%2&&(u=3),u}function ce(t,e){return be(t.x,t.y,e,0,!0)!==ae.NONE}function de(t){for(var e=t.length,n=new Float64Array(2*e),r=e&&tc(t[0].x);e--;){var i=t[e],o=e<<1;n[o]=r?i.x:i[0],n[o+1]=r?i.y:i[1]}return n}function ee(t,e,n){this.type=t,this.data=e,this.f=Zb(),this.resolve=A(this.resolve,this),this.reject=A(this.reject,this),this.priority=fe,n!==B&&(this.priority=n),this.yh().add(this)}t("H.math.CoverType",ae),t("H.math.isPointInsidePolygon",ce),t("H.math.flatten",de);var fe=1,ge={sp:0,vp:fe,rp:2};function he(t){var e;for(e in this.a={},ge)this.a[ge[e]]=[];this.tf=t,this.tf.addEventListener("allocatable",A(this.b,this))}n=ee.prototype,n.then=function(t,e,n){return this.f.al.then(t,e,n)},n.resolve=function(t){this.ne=3,this.f.resolve(t)},n.reject=function(t){this.ne=5,this.f.reject(t)},n.ne=0,n.cancel=function(){3>this.ne&&(this.He(),this.yh().remove(this),this.ne=4)},t("H.util.JobManager",he);var ie=Object.keys(ge).map((function(t){return ge[t]})).sort().reverse();function je(t,e,n){var r=[],i=arguments.length;return t&&r.push(vc(t)),1<i&&(i=2<i&&yc(n)?" out of ["+n[0]+"..."+n[1]+"]":"",r.push("("+e+i+")")),r=Error(r.join(" ")),Object.setPrototypeOf(r,je.prototype),r}he.prototype.add=function(t){C(t,ee,this.add,0),this.a[t.priority].push(t),this.b()},he.prototype.contains=function(t){return-1<this.a[t.priority].indexOf(t)},he.prototype.remove=function(t){var e=t.priority,n=this.a[e].indexOf(t);return-1<n?(this.a[e].splice(n,1),!0):(t.ej&&this.tf.Qf(t.ej),!1)},he.prototype.b=function(){ie.forEach((function(t){this.a[t]=this.a[t].filter((function(t){var e;if((e=this.tf.Yg(t))===y)return!0;var n=A(this.tf.Qf,this.tf,e,t);t.ej=e,t.then(n,n),t.ne=t.Kj(e)?1:5}),this)}),this)},u(je,Error),t("H.lang.OutOfRangeError",je),je.prototype.name="OutOfRangeError";var ke="closure_listenable_"+(1e6*Math.random()|0);function le(t){return!(!t||!t[ke])}var me=0;function ne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.eg=i,this.key=++me,this.qe=this.Hf=!1}function oe(t){t.qe=!0,t.listener=null,t.proxy=null,t.src=null,t.eg=null}function pe(t){this.src=t,this.a={},this.b=0}function re(t,e){var n=e.type;if(!(n in t.a))return!1;var r,i=t.a[n],o=ab(i,e);return(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(oe(e),0==t.a[n].length&&(delete t.a[n],t.b--)),r}function se(t,e){var n=void 0!==e,r=n?e.toString():"";return Sa(t.a,(function(t){for(var e=0;e<t.length;++e)if(!n||t[e].type==r)return!0;return!1}))}function qe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.qe&&o.listener==e&&o.capture==!!n&&o.eg==r)return i}return-1}pe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=qe(t,e,r,i);return-1<a?(e=t[a],n||(e.Hf=!1)):((e=new ne(e,this.src,o,!!r,i)).Hf=n,t.push(e)),e},pe.prototype.remove=function(t,e,n,r){if(!((t=t.toString())in this.a))return!1;var i=this.a[t];return-1<(e=qe(i,e,n,r))&&(oe(i[e]),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--),!0)},pe.prototype.pa=function(t){t=t&&t.toString();var e,n=0;for(e in this.a)if(!t||e==t){for(var r=this.a[e],i=0;i<r.length;i++)++n,oe(r[i]);delete this.a[e],this.b--}return n};var te=!sb||9<=Number(Db),ue=sb&&!Cb("9");!wb||Cb("528"),vb&&Cb("1.9b")||sb&&Cb("8")||rb&&Cb("9.5")||wb&&Cb("528"),vb&&!Cb("8")||sb&&Cb("9");var ve=function(){if(!wa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wa.addEventListener("test",za,e),wa.removeEventListener("test",za,e)}catch(n){}return t}();function we(t,e){if(rd.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.b=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(vb){t:{try{ob(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:xe[t.pointerType]||"",this.b=t,t.defaultPrevented&&this.preventDefault()}}u(we,rd);var xe={2:"touch",3:"pen",4:"mouse"};we.prototype.stopPropagation=function(){we.l.stopPropagation.call(this),this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0},we.prototype.preventDefault=function(){we.l.preventDefault.call(this);var t=this.b;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ue)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ye="closure_lm_"+(1e6*Math.random()|0),ze={},Ae=0;function Be(t,e,n,r,i){if(r&&r.once)return Ce(t,e,n,r,i);if("array"==Aa(e)){for(var o=0;o<e.length;o++)Be(t,e[o],n,r,i);return null}return n=De(n),le(t)?t.aa.add(String(e),n,!1,Da(r)?!!r.capture:!!r,i):Ee(t,e,n,!1,r,i)}function Ee(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Da(i)?!!i.capture:!!i,s=Fe(t);if(s||(t[ye]=s=new pe(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=Ge(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ve||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(He(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return Ae++,n}function Ge(){var t=Ie,e=te?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function Ce(t,e,n,r,i){if("array"==Aa(e)){for(var o=0;o<e.length;o++)Ce(t,e[o],n,r,i);return null}return n=De(n),le(t)?t.aa.add(String(e),n,!0,Da(r)?!!r.capture:!!r,i):Ee(t,e,n,!0,r,i)}function Je(t,e,n,r,i){if("array"==Aa(e)){for(var o=0;o<e.length;o++)Je(t,e[o],n,r,i);return null}return r=Da(r)?!!r.capture:!!r,n=De(n),le(t)?t.aa.remove(String(e),n,r,i):!!t&&(!!((t=Fe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=qe(e,n,r,i)),n=-1<t?e[t]:null))&&Ke(n))}function Ke(t){if("number"===typeof t||!t||t.qe)return!1;var e=t.src;if(le(e))return re(e.aa,t);var n=t.type,r=t.proxy;return e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(He(n),r):e.addListener&&e.removeListener&&e.removeListener(r),Ae--,(n=Fe(e))?(re(n,t),0==n.b&&(n.src=null,e[ye]=null)):oe(t),!0}function He(t){return t in ze?ze[t]:ze[t]="on"+t}function Le(t,e,n,r){var i=!0;if((t=Fe(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.qe&&(o=Me(o,r),i=i&&!1!==o)}return i}function Me(t,e){var n=t.listener,r=t.eg||t.src;return t.Hf&&Ke(t),n.call(r,e)}function Ie(t,e){if(t.qe)return!0;if(!te){if(!e)t:{e=["window","event"];for(var n=wa,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new we(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.currentTarget;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.a&&0<=i;i--){e.currentTarget=r[i];var o=Le(r[i],t,!0,e);n=n&&o}for(i=0;!e.a&&i<r.length;i++)e.currentTarget=r[i],o=Le(r[i],t,!1,e),n=n&&o}return n}return Me(t,new we(e,this))}function Fe(t){return(t=t[ye])instanceof pe?t:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(t){return Ca(t)?t:(t[Ne]||(t[Ne]=function(e){return t.handleEvent(e)}),t[Ne])}function F(){nd.call(this),this.aa=new pe(this),this.Zn=this,this.jh=null}function Oe(t){var e=(t=t||{}).callback;this.a=t.label,Ca(e)&&(this.callback=e),this.b=!!t.disabled,Oe.l.constructor.call(this)}u(F,nd),F.prototype[ke]=!0,n=F.prototype,n.Pb=function(){return this.jh},n.ka=function(t){this.jh=t},n.addEventListener=function(t,e,n,r){Be(this,t,e,n,r)},n.removeEventListener=function(t,e,n,r){Je(this,t,e,n,r)},n.dispatchEvent=function(t){var e,n=this.Pb();if(n)for(e=[];n;n=n.Pb())e.push(n);n=this.Zn;var r=t.type||t;if("string"===typeof t)t=new rd(t,n);else if(t instanceof rd)t.target=t.target||n;else{var i=t;Wa(t=new rd(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.a&&0<=o;o--){var a=t.currentTarget=e[o];i=a.sd(r,!0,t)&&i}if(t.a||(i=(a=t.currentTarget=n).sd(r,!0,t)&&i,t.a||(i=a.sd(r,!1,t)&&i)),e)for(o=0;!t.a&&o<e.length;o++)i=(a=t.currentTarget=e[o]).sd(r,!1,t)&&i;return i},n.s=function(){F.l.s.call(this),this.aa&&this.aa.pa(void 0),this.jh=null},n.sd=function(t,e,n){if(!(t=this.aa.a[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.qe&&o.capture==e){var a=o.listener,s=o.eg||o.src;o.Hf&&re(this.aa,o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.kl},t("H.util.EventTarget",F),F.prototype.ka=F.prototype.ka,F.prototype.setParentEventTarget=F.prototype.ka,F.prototype.Pb=F.prototype.Pb,F.prototype.getParentEventTarget=F.prototype.Pb,F.prototype.addEventListener=F.prototype.addEventListener,F.prototype.addEventListener=F.prototype.addEventListener,F.prototype.removeEventListener=F.prototype.removeEventListener,F.prototype.removeEventListener=F.prototype.removeEventListener,F.prototype.dispatchEvent=F.prototype.dispatchEvent,F.prototype.dispatchEvent=F.prototype.dispatchEvent,F.prototype.B=F.prototype.B,F.prototype.dispose=F.prototype.B,F.prototype.xb=F.prototype.xb,F.prototype.addOnDisposeCallback=F.prototype.xb,F.prototype.jo=F.prototype.sd,F.prototype.sd=function(t,e,n){var r,i,o=!0,a=n[n.currentTarget===n.target?"AT_TARGET":e?"CAPTURING_PHASE":(r=!0,"BUBBLING_PHASE")];return(!r||"pointerenter"!==(i=n.type)&&"pointerleave"!==i)&&(n.eventPhase=a,o=F.prototype.jo.apply(this,arguments),r&&this.Pb&&null===this.Pb()&&delete n.eventPhase),o},u(Oe,F),t("H.util.ContextItem",Oe),Oe.prototype.Xe=function(){return this.a},Oe.prototype.getLabel=Oe.prototype.Xe,Oe.prototype.Oc=function(t){return this.a!==t&&(this.a=t,this.dispatchEvent("update")),this},Oe.prototype.setLabel=Oe.prototype.Oc,Oe.prototype.kc=function(){return this.b},Oe.prototype.isDisabled=Oe.prototype.kc,Oe.prototype.Ca=function(t){return t^this.b&&(this.b=t,this.dispatchEvent("update")),this},Oe.prototype.setDisabled=Oe.prototype.Ca;var Qe=new Oe;function Re(){if(x.document){var t=document.createElement("canvas");return t.width=t.height=1,t.getContext("2d")}return null}function Se(){return window.devicePixelRatio||1}Oe.SEPARATOR=Qe,t("H.util.getPixelRatio",Se);var Te=/^rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)$/;function Ue(t){var e=Ve[t],n=x.RegExp;return e||(x.Uint8ClampedArray||(x.Uint8ClampedArray=function(t){return t instanceof Number?Array(t):t.map((function(t){return Yd(xd(t),0,255)}))}),"none"===t?e=new Uint8ClampedArray([0,0,0,0]):(We.fillStyle="black",We.fillStyle=t,Te.test(We.fillStyle)?e=new Uint8ClampedArray([n.$1,n.$2,n.$3,255*n.$4]):(We.clearRect(0,0,1,1),We.fillRect(0,0,1,1),e=We.getImageData(0,0,1,1).data)),Ve[t]=e),e}function Xe(t){return"none"!==t&&0<Ue(t)[3]}var Ve=mc(),Ye=!!x.VBArray;function Ze(t,e){return t!==B?t:e}function $e(t){return/^<svg/.test(t)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t):t}function af(t){this.mc=0<t?ud.round(t):0}t("H.util.eval",(function(a){return eval(a)})),t("H.util.provide",(function(t){var e=wa.$jscomp;if(e&&"function"==typeof e.Im&&e.Im())throw Error("goog.provide cannot be used within a module.");ya(t,void 0)})),af.prototype.next=function(t){if(9007199254740992===this.mc)throw new je(t,this.mc,[0,9007199254740991]);return this.mc++};var bf=new af,cf=A(bf.next,bf);function df(){return!0}function ef(){return!1}function hd(){}var ff=oc([]),gf=oc({});function hf(t){return"CANVAS"===t.tagName?[t]:t.getElementsByTagName("CANVAS")}function jf(t,e,n){var r;if(e=t.ownerDocument===e?t.cloneNode(!0):e.importNode(t,!0),n)for(t=hf(t),r=(n=hf(e)).length;r--;)n[r].getContext("2d").drawImage(t[r],0,0);return e}var We=Re(),kf=Re();function lf(t){var e=t.complete,n=0<t.naturalWidth;if(e&&!n&&Ye)try{kf.drawImage(t,0,0),n=!0}catch(r){}return e&&n}var mf=x.BlobBuilder||x.WebKitBlobBuilder||x.MozBlobBuilder;function nf(t,e){if(e=e||"",mf){var n=new mf;n.append(t),t=n.getBlob(e)}else t=new Blob([t],{type:e});return t}var of=x.navigator;function pf(){var t=pf.a;return t||(t=this,pf.a=t,Fc(pf.a),F.call(t),qf(this)),t}function qf(t){t.g=10,t.i=6,t.a=mc(),t.b=mc(),t.c=0}function rf(t,e,n,r){if(!this.b[t])throw new D(rf,0,"Mime type is not supported");this.g=t,"crossOrigin"in(t=r?Ua(r):{})||(t.crossOrigin="anonymous"),this.a=t,sf.href=e.toString(),ee.call(this,sf.protocol+"//"+sf.hostname,e,n)}Zc=/Edge\/\d+/.test(of.appVersion),$c=/(A|a)ndroid/.test(of.appVersion),u(pf,F),pf.prototype.s=function(){pf.l.s.call(this),qf(this)},pf.prototype.Yg=function(t){t=t.type;var e=this.a[t]||0;if(this.c<this.g&&e<this.i){var n=++this.f;return this.c++,this.a[t]=e+1,this.b[n+""]=t,n}return y},pf.prototype.Qf=function(t){var e=this.b[t];if(!tc(e)||!this.a[e])throw new Xc(this.Qf,"Unknown requestId");this.c--,this.a[e]--,this.a[e]||delete this.a[e],delete this.b[t],this.dispatchEvent("allocatable")},pf.prototype.f=-1,u(rf,ee),rf.prototype.Kj=function(){return this.c=this.b[this.g].call(this),!0},rf.prototype.He=function(){this.c&&(this.c.abort(),this.c=null)},rf.prototype.b={"application/json":function(){var t=this,e=tf(this.a),n=e.headers;return e.headers=n=n?Ua(n):{},n.Accept="application/json",new Rc(this.data,(function(e){200<=e.status&&300>e.status?t.resolve(e.json()):t.reject(e)}),e)},"text/plain":function(){var t=this;return new Rc(this.data,(function(e){200<=e.status&&300>e.status?t.resolve(e.text()):t.reject(e)}),tf(this.a))},image:function(){var t=x.document.createElement("img"),e=this,n=this.data;return t.onload=A(this.resolve,this,t),t.onerror=function(){e.reject(Oc.error())},t.crossOrigin=this.a.crossOrigin,t.src=n,{abort:function(){t.onerror=t.onload=null,Ye&&lf(t)||t.removeAttribute("src")}}}},function(){try{var t=new XMLHttpRequest;t.open("get","/",!0)}catch(e){t={}}"response"in t&&(rf.prototype.b.arraybuffer=function(){var t,e=new XMLHttpRequest,n=this,r=this.a,i=r.headers;if(e.open("GET",this.data),uf(e,r),e.responseType="arraybuffer",i)for(t in i)e.setRequestHeader(t,i[t]);return e.onerror=e.ontimeout=function(){n.reject(Oc.error())},e.onload=function(){n.resolve(new Oc(e.response))},e.send(),e})}();var vf=new he(new pf);rf.prototype.yh=function(){return vf};var sf=x.document.createElement("a");function tf(t){var e=Ua(t);return delete e.crossOrigin,uf(e,t),e}function uf(t,e){t.withCredentials="use-credentials"===e.crossOrigin}function I(t,e){this.x=+t,this.y=+e}function wf(t){if(!t)throw Error("invalid argument");return t instanceof I?t:new I(t.x,t.y)}function xf(t){var e=yf[t];if(!e)if(t in zf)e=yf[t]=t;else{e=Af.length;var n="",r=t.charAt(0).toUpperCase()+t.substr(1),i="",o=!1;Bf&&(o=(i=Bf+r)in zf);for(;e--&&!o;)o=(i=(n=Af[e])+r)in zf;if(o&&(Bf=n),!(e=o?i:null))throw Error("Could not find any variant of CSS property ["+t+"]");yf[t]=e}return e}t("H.math.Point",I),I.prototype.set=I,I.prototype.set=I.prototype.set,I.prototype.clone=function(t){return t?(t.x=this.x,t.y=this.y):t=new I(this.x,this.y),t},I.prototype.clone=I.prototype.clone,I.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},I.prototype.add=I.prototype.add,I.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},I.prototype.sub=I.prototype.sub,I.prototype.scale=function(t,e){return this.x*=t,this.y*=void 0===e?t:e,this},I.prototype.scale=I.prototype.scale,I.prototype.round=function(){return this.x=xd(this.x),this.y=xd(this.y),this},I.prototype.round=I.prototype.round,I.prototype.floor=function(){return this.x=yd(this.x),this.y=yd(this.y),this},I.prototype.floor=I.prototype.floor,I.prototype.ceil=function(){return this.x=zd(this.x),this.y=zd(this.y),this},I.prototype.ceil=I.prototype.ceil,I.prototype.na=function(t){return!(!t||this.x!==t.x||this.y!==t.y)},I.prototype.equals=I.prototype.na,I.prototype.Vj=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=t;if(n||r){var o=((this.x-t.x)*n+(this.y-t.y)*r)/(n*n+r*r);i=0>=o?t:1<=o?e:new I(t.x+o*n,t.y+o*r)}return i},I.prototype.getNearest=I.prototype.Vj,I.prototype.Za=function(t){return Cd(Dd(this.x-t.x,2)+Dd(this.y-t.y,2))},I.prototype.distance=I.prototype.Za,I.fromIPoint=wf,t("H.dom.cssPrefixer.prefix",xf);var Af=["O","Ms","ms","Moz","Webkit"],yf={},Bf="",zf=document.createElement("span").style;function Cf(t,e,n,r){if(!t||!e||!n)throw new D(Cf,null,"Must specify name, version and revision parameter");this.name=t,this.version=e,this.revision=n,r&&Wa(this,r)}t("H.util.BuildInfo",Cf),Cf.prototype.toString=function(){var t,e=[];for(t in this)zc(this[t])&&e.push(this[t]);return e.join(";")};var Df={};function Ef(t,e,n,r){if(!t)throw new D(Ef,1,"Must specify a name parameter");return Df[t]||(Df[t]=new Cf(t,e,n,r))}function Ff(){Ff.l.constructor.call(this),this.a=Gf(this),this.f=mc(),this.c=A(this.c,this),this.a.addEventListener("message",this.c),this.b={}}Cf.get=Ef,u(Ff,F),Ff.prototype.s=function(){this.a.terminate()},Ff.prototype.i=function(t){var e=t.type,n=!!this.f[e],r=t.data,i=Hf++,o=r&&r.lp?r.lp:B,a=!0;return n?(this.b[i]=t,If(this,e,i,r&&r.message,o)):(t.reject(new D(this.i,0,"processor_not_found")),a=!1),a},Ff.prototype.c=function(t){t=t.data;var e=this.b[t.taskId],n=t.taskId,r=t.data,i=this;if(2===t.type)new rf("arraybuffer",r).then((function(t){return t.arrayBuffer()})).then((function(t){i.a.postMessage(["3",n,[t]],[t])}),(function(){i.a.postMessage(["3",n,[null,"ERROR"]])}));else{if(e){switch(t.type){case 1:e.resolve(r);break;case 0:e.reject(r)}delete this.b[n]}this.dispatchEvent(new rd(this.g.IDLE))}};var Hf=0,Nf,Qf;function Jf(t,e,n){var r,i=Hf++;return t.b[i]=r=Zb(),If(t,e,i,n),r.al}function If(t,e,n,r,i){r===B||Ba(r)||(r=[r]);try{t.a.postMessage([e,n,r],i)}catch(o){(t=t.b[n]).reject(o.message)}}function Gf(a){var b=x.H.__bootstrap__;if(b=Ca(b)?(""+b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/,"$1"):""+b,x.Worker&&x.URL)try{var c=new x.Worker(x.URL.createObjectURL(nf(b,"application/javascript")))}catch(d){}return c||(a=new Kf(a),function(){eval("var self = arguments[0];"+b)}(a),c=new Lf(a)),c}function Lf(t){F.call(this),this.a=t}function Kf(a){F.call(this),this.a=a,this.addEventListener=A(this.addEventListener,this),this.removeEventListener=A(this.removeEventListener,this),this.postMessage=A(this.postMessage,this),this.eval=A(eval,this)}function Mf(){var t=Nf;return t||(t=Nf=this,F.call(t),Of(this)),t}function Of(t){var e,n=t.b;if(n)for(e=n.length;e--;)n[e].B();t.b=[],Fc(t.b),t.c=mc(),t.f=mc()}function Pf(t,e,n){ee.call(this,t,e,n)}function Rf(t,e,n){var r=Yd(+t,-90,90);if(e&&E(r))throw new D(e,n,t);return r}function Sf(t,e,n){var r=+t;if((-180>r||180<r)&&(r=Wd(r+180,360)-180),e&&E(r))throw new D(e,n,t);return r}function Tf(t,e,n){var r;if(t!==B&&E(r=+t)&&e)throw new D(e,n,t);return r}function Uf(t,e){return 0!==(0>t^0>e)&&180<Ad(e-t)}function Vf(){uc(this,Vf)}function Wf(t,e,n){this.lat=Rf(t,Wf,0),this.lng=Sf(e,Wf,1),n!==B&&(this.alt=Tf(n,Wf,2))}function Yf(t,e,n){var r=Da(t)&&!(E(t.lat=Rf(t.lat))||E(t.lng=Sf(t.lng))||t.alt!==B&&E(t.alt=Tf(t.alt)));if(!r&&e)throw new D(e,n,t);return r}function Zf(t){if(!t)throw new D(Zf,0,t);return new Wf(t.lat,t.lng,t.alt)}function K(t,e,n,r){$f(this,Rf(t,K,0),Sf(e,K,1),Rf(n,K,2),Sf(r,K,3))}function $f(t,e,n,r,i){return t.ca=n,t.ia=i,e<r&&(n=e,e=r,r=n),t.la=e,t.ma=r,t.c=t.a=t.b=null,t}function bg(t,e){return(t=e-t)+(0>t?360:0)}function ag(t,e){return(t+=e/2)-(180<t?360:0)}function cg(t,e,n,r,i,o,a,s,l){n=vd(n,a),t=wd(t,i);var u=ag(e,i=bg(e,r)),c=ag(o,a=bg(o,s))-u;if(180>(c+=0>c-1e-6?360:0)-1e-6){u=e;var h=s}else c=360-c,u=o,h=r;return 360<=(c=c+i/2+a/2)+5e-7?(u=-180,h=180):c-5e-7<i?(u=e,h=r):c-5e-7<a&&(u=o,h=s),l?$f(l,t,u,n,h):new K(t,u,n,h)}function dg(t,e,n){return n||(Yf(t,dg,0),Yf(e,dg,1)),new K(t.lat,t.lng,e.lat,e.lng)}function eg(t,e){var n=1,r=t.length,i=null;if(!Ba(t))throw new D(eg,0,t);if(0<r){var o=t[0];for(i=dg(o,o,e);n<r;n++)o=t[n],i.gd(o.lat,o.lng,e,i)}return i}function fg(t,e){var n,r=3,i=t.length;if(!(e||t&&null!=t.length))throw new D(fg,0,t);if(0<i)for(n=new K(t[0],t[1],t[0],t[1]);r<i;r+=3)n.gd(t[r],t[r+1],e,n);return n}function gg(t,e){var n,r=1,i=t.length;if(e&&(!t||null==t.length))throw new D(gg,0,t);if(0<i)for(n=new K(t[0].la,t[0].ca,t[0].ma,t[0].ia);r<i;r++)n.lc(t[r],e,n);return n}function hg(t,e,n,r,i,o){uc(this,hg),this.c=t||10,this.b=this.a=null,this.f=r||0,this.g=i||0,this.i=e||1,this.j=n||1,this.m=!!o,this.flush()}function ig(t){var e=t.b;if(t.m&&!e){var n=t.head;(n.entries||n[0]||n[1]||n[2]||n[3])&&(e=jg([e=[n],e,e,e],[n[6],n[7],n[4],n[5]]),t.b=e)}return e}function jg(t,e){var n,r,i,o,a=0;for(n=3;0<=n;n--){var s=n+4,l=0<n%3,u=[],c=e[n],h=t[n];for(r=h.length;r--;){var f=h[r];if(i=f.entries)for(o=i.length;o--;){var p=i[o].vd(n);(l?p>c:p<c)&&(c=p)}for(o=4;o--;)(i=f[o])&&(l?i[s]>c:i[s]<c)&&u.push(i)}a+=u.length,e[n]=c,t[n]=u}return a&&(e=jg(t,e)),e}function kg(t,e,n){var r,i;if(t.m&&(r=t.b))for(i=3;0<=i;i--){var o=e.vd(i);if(i%3?o>=r[i]:o<=r[i]){if(!n){t.b=null;break}r[i]=o}}}function mg(t,e){var n,r=t.head;if(e){var i=e;if(i!==r)for(r=i;i=i.parent;)(i.entries||1<i.a)&&(r=i)}else for(;!r.entries&&2>(n=r.a)&&n;)r=i;t.head=r}function ng(t,e,n,r,i,o,a,s,l){var u,c=e.entries,h=e[7],f=e[4],p=e[5],d=e[6],v=e[8],g=e[9];if(c){var y=c.length;if(i>f||r>h||a<d||o<p)for(;y--;){f=(h=c[y]).vd(3),p=h.vd(0),d=h.vd(1),h.vd(2)>=i&&d>=r&&(p<a||s&&p==a)&&(f<o||l&&f==o)&&n.push(h)}else for(;y--;)n.push(c[y])}(o>v||l&&o==v)&&(i<g&&(u=e[1])&&ng(t,u,n,r,i,o,a,s,l),(a>g||s&&a==g)&&(u=e[3])&&ng(t,u,n,r,i,o,a,s,l)),r<v&&(i<g&&(u=e[0])&&ng(t,u,n,r,i,o,a,s,l),(a>g||s&&a==g)&&(u=e[2])&&ng(t,u,n,r,i,o,a,s,l))}Ff.prototype.g={IDLE:"idle",hj:"error"},Ff.prototype.j=function(t,e){var n=this.o||(this.o=new rd(this.g.hj));n.data=e,delete this.f[t],this.dispatchEvent(n)},u(Lf,F),Lf.prototype.postMessage=function(t){x.setTimeout(A(this.b,this,t),0)},Lf.prototype.b=function(t){var e=new rd("message");e.data=t,this.a.dispatchEvent(e)},Lf.prototype.terminate=function(){this.a.B(),this.B()},u(Kf,F),Kf.prototype.postMessage=function(t){var e=new rd("message");e.data=t,x.setTimeout(A(this.a.c,this.a,e),0)},u(Mf,F),Mf.prototype.s=function(){Mf.l.s.call(this),Of(this)},Mf.prototype.Yg=function(t){var e;if(t=t.type,!(e=this.f[t]))throw new Xc(this.Yg,'Unknown type "'+t+'"');var n=this.b,r=n[0];return r||(r=n[0]=new Ff,this.xb(Ja(qd,r)),Ta(this.c)||Jf(r,"0",n=x.Object.keys(this.c))),(n=r).f[t]||(n.f[t]=e,Jf(n,"1",[t,Ca(e)?e+"":e]).then(hd,A(n.j,n,t))),r},Mf.prototype.Qf=function(){},Mf.prototype.a=function(t,e){var n=this.f,r=n[t];if(r){if(e!==r)throw new Xc(this.a,'Type "'+t+'" is already registered')}else n[t]=e},u(Pf,ee),Pf.prototype.yh=function(){return Qf||(Qf=new he(new Mf)),Qf},Pf.prototype.He=function(){},Pf.prototype.Kj=function(t){return t.i(this)},t("H.geo.isDBC",Uf),t("H.geo.AbstractGeometry",Vf),Vf.prototype.getBoundingBox=Vf.prototype.I,Vf.prototype.equals=Vf.prototype.na,Vf.prototype.qb="",Vf.prototype.Lb="",Vf.prototype.toString=function(){return this.Sc([this.qb.toUpperCase()," "]).join("")},Vf.prototype.toString=Vf.prototype.toString,Vf.prototype.Rc=function(){return{type:this.Lb,coordinates:this.md()}},Vf.prototype.toGeoJSON=Vf.prototype.Rc,Vf.prototype.W=function(){return{type:this.qb,coordinates:this.wc(),boundingBox:this.I().W()}},Vf.prototype.forWorkerMessage=Vf.prototype.W,u(Wf,Vf),t("H.geo.Point",Wf),Wf.prototype.na=function(t){return this===t||!!t&&this.lat===t.lat&&this.lng===t.lng&&(this.alt||0)===(t.alt||0)},Wf.prototype.equals=Wf.prototype.na,Wf.prototype.Za=function(t){if(this===t||this.lat===t.lat&&this.lng===t.lng)t=0;else{var e=this.lat*Rd,n=t.lat*Rd;t=12742001.58*Gd(vd(1,Cd(Dd(Fd((e-n)/2),2)+Hd(e)*Hd(n)*Dd(Fd((this.lng*Rd-t.lng*Rd)/2),2))))}return t},Wf.prototype.distance=Wf.prototype.Za,Wf.prototype.Mg=function(t,e,n){if(n){if(e/=6371000.79){t*=Rd;var r=Rd*this.lat,i=Fd(r),o=Fd(e),a=Hd(e),s=Rd*this.lng,l=Hd(r);r=Gd(l*Hd(t)*o+i*a),l=(t=(s+(t=Kd(Fd(t)*l*o,a-i*Fd(r)))+Md)%(2*Md)-Md)*Sd}return e?new Wf(r*Sd,(l+540)%360-180):this}if(0===((t=(t%360+360)%360)+90)%180)return r=this.lng+e/(6371000.79*Pd*Hd(this.lat*Rd))*(270===t?-360:360),new Wf(this.lat,(r+540)%360-180);if(e/=6371000.79){t*=Rd,s=this.lat*Rd,i=this.lng*Rd,a=(o=s+e*Hd(t))-s,r=Bd(Id(o/2+Od)/Id(s/2+Od)),r=E(a/r)?Hd(s):a/r;var u=e*Fd(t)/r;Ad(o)>Nd&&(o=0<o?Md-o:-(Md+o))}return e?new Wf(o*Sd,((i+u+Qd+(Ad(s+a)>Nd?Md:0))%Pd-Md)*Sd):this},Wf.prototype.walk=Wf.prototype.Mg,Wf.prototype.I=function(){return new K(this.lat,this.lng,this.lat,this.lng)},Wf.prototype.getBoundingBox=Wf.prototype.I,Wf.validate=Yf,Wf.fromIPoint=Zf,n=Wf.prototype,n.qb="Point",n.Sc=function(t){return t.push("(",this.lng," ",this.lat,")"),t},n.Lb="Point",n.md=function(){return[this.lng,this.lat,this.alt||0]},n.wc=function(){return[this.lat,this.lng,this.alt||0]},u(K,Vf),t("H.geo.Rect",K),K.prototype.qb="Polygon",K.prototype.Sc=function(t){var e=this.la,n=this.ca,r=this.ma,i=this.ia;return t.push("(","(",n," ",e,",",i," ",e,",",i," ",r,",",n," ",r,",",n," ",e,")",")"),t},K.prototype.na=function(t){return this===t||!!t&&this.la===t.la&&this.ca===t.ca&&this.ma===t.ma&&this.ia===t.ia},K.prototype.equals=K.prototype.na,K.prototype.clone=function(){return new K(this.la,this.ca,this.ma,this.ia)},K.prototype.clone=K.prototype.clone,K.prototype.Qb=function(){return this.c||(this.c=new Wf(this.la,this.ca)),this.c},K.prototype.getTopLeft=K.prototype.Qb,K.prototype.Mb=function(){return this.a||(this.a=new Wf(this.ma,this.ia)),this.a},K.prototype.getBottomRight=K.prototype.Mb,K.prototype.Mn=function(){return this.la},K.prototype.getTop=K.prototype.Mn,K.prototype.Cm=function(){return this.ma},K.prototype.getBottom=K.prototype.Cm,K.prototype.fn=function(){return this.ca},K.prototype.getLeft=K.prototype.fn,K.prototype.Cn=function(){return this.ia},K.prototype.getRight=K.prototype.Cn,K.prototype.kb=function(){return this.b||(this.b=new Wf(this.ma+(this.la-this.ma)/2,ag(this.ca,this.Db()))),this.b},K.prototype.getCenter=K.prototype.kb,K.prototype.Db=function(){return bg(this.ca,this.ia)},K.prototype.getWidth=K.prototype.Db,K.prototype.$d=function(){return this.la-this.ma},K.prototype.getHeight=K.prototype.$d,K.prototype.Eb=function(){return this.ca>this.ia},K.prototype.isCDB=K.prototype.Eb,K.prototype.hg=function(){return!this.Db()&&!this.$d()},K.prototype.isEmpty=K.prototype.hg,K.prototype.I=function(){return new K(this.la,this.ca,this.ma,this.ia)},K.prototype.getBoundingBox=K.prototype.I,K.prototype.Mf=function(t,e,n){var r=this.kb();return n||(t=Rf(t,this.Mf,0),e=Sf(e,this.Mf,1)),(t=(e=this.gd(t,e,n)).kb()).lat===r.lat&&t.lng===r.lng&&this.$d()===e.$d()&&this.Db()===e.Db()},K.prototype.containsLatLng=K.prototype.Mf,K.prototype.Qd=function(t,e){return e||Yf(t,this.Qd,0),this.Mf(t.lat,t.lng,e)},K.prototype.containsPoint=K.prototype.Qd,K.prototype.gh=function(t,e){var n=this.kb();if(!e&&!C(t,K))throw new D(this.gh,0,t);return(t=(e=this.lc(t,e)).kb()).lat===n.lat&&t.lng===n.lng&&this.$d()===e.$d()&&this.Db()===e.Db()},K.prototype.containsRect=K.prototype.gh,K.prototype.gd=function(t,e,n,r){if(!n){if(E(t=Rf(t)))throw new D(this.gd,0,t);if(E(e=Sf(e)))throw new D(this.gd,1,e)}return cg(this.la,this.ca,this.ma,this.ia,t,e,t,e,r)},K.prototype.mergeLatLng=K.prototype.gd,K.prototype.Kk=function(t,e,n){return e||Yf(t,this.Kk,0),this.gd(t.lat,t.lng,e,n)},K.prototype.mergePoint=K.prototype.Kk,K.prototype.lc=function(t,e,n){if(!e&&!C(t,K))throw new D(this.lc,0,t);return cg(this.la,this.ca,this.ma,this.ia,t.la,t.ca,t.ma,t.ia,n)},K.prototype.mergeRect=K.prototype.lc,K.prototype.Gc=function(t,e,n,r,i,o){return i||(t=Rf(t,this.Gc,0),e=Sf(e,this.Gc,1),n=Rf(n,this.Gc,2),r=Sf(r,this.Gc,3)),cg(this.la,this.ca,this.ma,this.ia,t,e,n,r,o)},K.prototype.mergeTopLeftBottomRight=K.prototype.Gc,K.prototype.zd=function(t,e){var n=this.ca<=this.ia,r=t.ca<=t.ia,i=this.ca<t.ia,o=t.ca<this.ia;if(!e&&!C(t,K))throw new D(this.zd,0,t);return this.ma<=t.la&&t.ma<=this.la&&(!n&&(!r||i||o)||!r&&(i||o)||i&&o)},K.prototype.intersects=K.prototype.zd,K.merge=cg,K.fromPoints=dg,K.coverPoints=eg,K.coverLatLngAlts=fg,K.coverRects=gg,K.prototype.jl=function(t,e){var n=this.ca,r=this.la,i=this.ia,o=this.ma,a=this.kb().lng;Yf(t,this.jl,0);var s=t.lat-o-(r-o)/2,l=t.lng-a;return t=-180>(t=n+(0>(l=180<l||-180>l?-(a+t.lng):l)?2*l:0))?360+t:t,i=180<(i+=0<l?2*l:0)?i-360:i,90<=(r=0<s?r+2*s:r)&&(r=90),-90>=(o=0>s?o+2*s:o)&&(o=-90),e?$f(e,r,t,o,i):new K(r,t,o,i)},K.prototype.resizeToCenter=K.prototype.jl,K.prototype.Lb="Polygon",K.prototype.md=function(){return[[this.ca,this.la,0],[this.ia,this.la,0],[this.ia,this.ma,0],[this.ca,this.ma,0],[this.ca,this.la,0]]},K.prototype.W=function(){return this.wc()},K.prototype.wc=function(){return[this.la,this.ca,this.ma,this.ia]},hg.prototype.remove=function(t){var e,n,r,i=!1;return t&&(e=t.node)&&e.b===this&&(n=e.entries)&&0<=(r=n.indexOf(t))&&(n.splice(r,1),this.o(e),kg(this,t,!1),i=!0),i},hg.prototype.flush=function(){var t=new lg(null,NaN,this.f-this.i,this.g-this.j,this.f+this.i,this.g+this.j);t.b=this,this.head=this.a=t,this.b=null},hg.prototype.ab=function(t,e,n,r,i,o){var a=[],s=this.head,l=this.a;return t<=s[5]&&e<=s[6]&&(i?n>=s[7]:n>s[7])&&(o?r>=s[4]:r>s[4])&&ng(this,s,a,t,e,n,r,o||r>=l[6],i||n>=l[5]),a},hg.prototype.Tc=ba(1);var og=0;function lg(t,e,n,r,i,o){this.c=e,t&&(this.parent=t,this.b=t.b,1&e?(n=t[8],i=t[5]):(n=t[7],i=t[8]),2&e?(r=t[9],o=t[6]):(r=t[4],o=t[9])),this[7]=n,this[5]=i,this[8]=(n+i)/2,this[4]=r,this[6]=o,this[9]=(r+o)/2}function pg(t,e){return t[e]||(++t.a,t[e]=new lg(t,e))}function qg(t,e){(t.entries||(t.entries=[])).push(e),e.node=t}function rg(t,e,n,r,i){var o=t[5],a=t[6];return t[7]<=e&&t[4]<=n&&(o>r||o===r&&o===t.b.a[5])&&(a>i||a===i&&a===t.b.a[6])}function sg(t,e,n,r,i,o){sg.l.constructor.apply(this,arguments)}function tg(t,e,n,r,i){if(rg(t.a,e,n,r,i))return ug(t,t.a,e,n,r,i,t.c);throw Error("Coordinates out of bounds")}function ug(t,e,n,r,i,o,a){var s,l,u=e[8],c=e[9];return a&&(i<u||(s=n>=u))&&(o<c||(l=r>=c))?n=ug(t,pg(e,s|l<<1),n,r,i,o,a-1):(qg(e,n=new vg(n,r,i,o)),kg(t,n,!0),mg(t,e)),n}function vg(t,e,n,r){this.id=og++,this[0]=e,this[1]=n,this[2]=r,this[3]=t}function wg(t){this.f=new sg(+t||10,180,90,0,0,!0),this.c=[],this.g=!1,this.a=this.b=this.P=null}function xg(t,e,n,r,i,o){return o?(o=new vg(i,-e,n+360,-r),t.c.push(o),t.g=!0,t.a&&t.a.Gc(e,n,r,i,!0,t.a)):(o=tg(t.f,n,-e,i,-r),t.b&&t.b.Gc(e,n,r,i,!0,t.b)),++t.Xh,t.P=null,o}function yg(t,e,n,r,i,o,a){var s,l=(t=t.c).length,u=[];if(l){var c=n+360;for(s=i+360;l--;){var h=t[l];(zg(h,e,n,r,i,o,a)||zg(h,e,c,r,s,o,a))&&u.push(h)}}return u}function zg(t,e,n,r,i,o,a){var s=t[3],l=t[0],u=t[1];return t=t[2],(o?l<=r:l<r)&&(a?s<=i:s<i)&&t>=e&&u>=n}function Ag(t,e){var n,r,i;if(n=e.length){var o=t.length;for(r={};o--;)r[t[o].id]=1;for(;n--;)(i=e[n]).id in r||t.push(i)}}function Bg(t){return x.H.gl.flexpolyline.encode(t)}function Cg(t){return x.H.gl.flexpolyline.decode(t)}function L(t){L.l.constructor.call(this),t&&Dg(t,L,0),this.X=t||[],this.a=Eg(this,0,this.X.length)}function Eg(t,e,n){t=t.X;var r=0;for(e=wd(e,0),n=vd(n,t.length),n-=2,e+=1;e<n;)r+=Uf(t[e],t[e+=3]);return r}function Fg(t,e,n,r,i){var o=t.X.length;e=Rf(e,i),n=Sf(n,i),t.X.push(Rf(e,i),Sf(n,i),r===B?0:Tf(r,i)),o&&(t.a+=Uf(t.X[o-2],n)),delete t.P,delete t.b}function Dg(t,e,n){for(var r,i=t.length,o=!(i%3);o&&i;)o=!(E(t[--i]=Tf((r=t[i])===B?0:r))||E(t[--i]=Sf(t[i]))||E(t[--i]=Rf(t[i])));if(!o&&e)throw new D(e,n,t)}function Gg(t){var e=new L,n=0,r=t.length;if(r%2)throw new D(Gg,0,t);for(;n<r;)Fg(e,t[n++],t[n++],0,Gg);return e}function Hg(t,e){return t.a-e.a}function Ig(t,e){var n,r=t.X,i=-2,o=[],a=t.b;if(!a){a=t.b=new wg;var s=0,l=t.X,u=l.length;for(n=0;n<u;n+=3){var c=l[n],h=l[n+1];if(n){if(p<h)var f=p,p=h;else f=h;if(v<c)var d=c;else{d=v;var v=c}(f=xg(a,d,f,v,p,180<p-f)).a=s++}v=c,p=h}}for(l=(a=a.gg(e).sort(Hg)).length,e=0;e<l;e++){if(u=3*(s=(s=a[e]).a),s>i+1){var g=[r[u],r[u+1]];o.push(g)}i=s,g.push(r[u+3],r[u+4])}if(t.a){for(r=[],i=o.length,e=0;e<i;e++)if(a=(g=o[e]).length){for(l=[],t=0;t<a;t+=2)s=g[t],u=g[t+1],l.push(s,u),n=g[t-1],t&&Uf(u,n)&&(r.push(l),n+=0>n?360:-360,(l=[]).push(g[t-2],n,s,u));r.push(l)}o=r}return o}function Jg(t){var e=Cg(t);t=e.polyline;var n=e.thirdDim;if(e=2===n||3===n,n=0===n,!t)throw new D(Jg,0,"data");if(e||n){n=t.length;for(var r=Array(3*n),i=0,o=0;i<n;i++){var a=t[i];r[o++]=a[0],r[o++]=a[1],r[o++]=e?a[2]:0}}if(!r)throw new D(Jg,0,"only ABSENT, ALTITUDE or ELEVATION are supported as type of the 3rd dimension");return new L(r)}function Kg(t){Kg.l.constructor.call(this),void 0!==t&&(this.data=t)}function Lg(){}lg.prototype.a=0,lg.prototype.removeChild=function(t){var e=t.c;this[e]===t&&(delete this[e],delete t.parent,--this.a)},lg.prototype.Tc=ba(0),u(sg,hg),sg.prototype.o=function(t){for(var e,n,r=this.head;t;)(e=t.entries)&&e.length||(e&&delete t.entries,t.a||!(n=t.parent))?t=y:(n.removeChild(t),r===t&&(r=n),t=n);this.head!==r&&(this.head=r,mg(this))},sg.prototype.Dc=function(t,e){return tg(this,t,e,t,e)},vg.prototype.vd=function(t){return this[t]},t("H.geo.QuadTree",wg),n=wg.prototype,n.Xh=0,n.bd=function(){return this.Xh},n.Eb=function(){return this.g},n.I=function(){var t,e;if(!this.P){var n,r,i,o=[];if(!this.b&&(t=ig(this.f))&&(this.b=new K(-t[0],t[3],-t[2],t[1])),(e=this.b)&&o.push(e),!this.a&&(i=(r=this.c).length)){t=90;var a=360,s=-90;for(n=0;i--;){var l=r[i];t=vd(t,l[0]),a=vd(a,l[3]),s=wd(s,l[2]),n=wd(n,l[1])}this.a=new K(-t,a,-s,n-360)}(e=this.a)&&o.push(e),(e=o[0])&&(o[1]&&(e=e.lc(o[1],!0)),this.P=e)}return this.P},n.Dc=function(t){var e=t.lng;return xg(this,t=t.lat,e,t,e,!1)},n.jk=function(t){var e=t.Qb(),n=t.Mb();return(t=t.Eb())?xg(this,e.lat,n.lng,n.lat,e.lng,t):xg(this,e.lat,e.lng,n.lat,n.lng,t)},wg.prototype.insertBoundingBox=wg.prototype.jk,wg.prototype.remove=function(t){var e;if(t.node){var n=this.f.remove(t);this.b=null}else(n=0<=(t=(e=this.c).indexOf(t)))&&(e.splice(t,1),this.g=0<e.length,this.a=null);return n&&(--this.Xh,this.P=null),n},wg.prototype.remove=wg.prototype.remove,wg.prototype.gg=function(t,e,n){var r=this.f,i=t.Qb(),o=t.Mb(),a=-i.lat;i=i.lng;var s=-o.lat;return o=o.lng,!e&&a===s||!n&&i===o?t=[]:t.Eb()?(Ag(t=r.ab(-180,a,o,s,n,e),r.ab(i,a,180,s,!1,e)),Ag(t,yg(this,a,o,s,i+360,e,n))):Ag(t=r.ab(i,a,o,s,n,e),yg(this,a,i,s,o,e,n)),t},wg.prototype.intersectBoundingBox=wg.prototype.gg,t("H.util.flexiblePolyline.encode",Bg),t("H.util.flexiblePolyline.decode",Cg),u(L,Vf),t("H.geo.LineString",L),L.prototype.zi=function(t,e,n){Fg(this,t,e,n,this.zi)},L.prototype.pushLatLngAlt=L.prototype.zi,L.prototype.zf=function(t,e,n){n&&Dg(n,this.zf,2),void 0===e&&(e=this.X.length),e&&(this.a-=Eg(this,t-3,t+e+3));var r=n?this.X.splice.apply(this.X,[t,e].concat(n)):this.X.splice(t,e);return n&&(this.a+=Eg(this,t-3,t+n.length+3)),e&&!n&&(this.a+=Eg(this,t-3,t-3)),delete this.P,delete this.b,r},L.prototype.spliceLatLngAlts=L.prototype.zf,L.prototype.kk=function(t,e,n,r){this.zf(t,0,[e,n,r])},L.prototype.insertLatLngAlt=L.prototype.kk,L.prototype.el=function(t){this.zf(t,3)},L.prototype.removeLatLngAlt=L.prototype.el,L.prototype.Ed=function(t){Fg(this,t.lat,t.lng,t.alt,this.Ed)},L.prototype.pushPoint=L.prototype.Ed,L.prototype.Dc=function(t,e){this.kk(3*t,e.lat,e.lng,e.alt)},L.prototype.insertPoint=L.prototype.Dc,L.prototype.qf=function(t){this.el(3*t)},L.prototype.removePoint=L.prototype.qf,L.prototype.Pe=function(t,e){var n=this.X,r=3*t;t=n[r];var i=n[r+1];return n=n[r+2],e&&(e.lat=t,e.lng=i,e.alt=n),e||new Wf(t,i,n)},L.prototype.extractPoint=L.prototype.Pe,L.prototype.qm=function(t,e,n){var r=this.X;e=e||0,n=Ze(n,r.length/3);for(var i=3*e;e<n;)t(r[i++],r[i++],r[i++],e++)},L.prototype.eachLatLngAlt=L.prototype.qm,L.isDBC=Uf,L.prototype.wh=function(t){var e=this.a;return t&&(e+=Uf((t=this.X)[t.length-2],t[1])),e},L.prototype.getDBCs=L.prototype.wh,L.prototype.Ye=function(){return this.X.length/3},L.prototype.getPointCount=L.prototype.Ye,L.prototype.dn=function(){return this.X},L.prototype.getLatLngAltArray=L.prototype.dn,L.prototype.P=y,L.prototype.I=function(){var t;if(!(t=this.P)){var e,n,r=(t=this.X).length,i=3,o=y;if(3<=r){var a=e=t[0],s=n=t[1];for(o=new K(a,s,e,n);i<r;i+=3){if(a=t[i-3],s=t[i-2],e=t[i],s>(n=t[i+1])&&180<n-s||s<n&&-180>s-n||n<s&&180>Ad(n-s)){var l=s;s=n,n=l}a<e&&(l=a,a=e,e=l),cg(o.la,o.ca,o.ma,o.ia,a,s,e,n,o)}}t=this.P=o}return t},L.prototype.getBoundingBox=L.prototype.I,L.prototype.Xn=function(){return this.P!==y},L.prototype.hasBoundingBox=L.prototype.Xn,L.fromLatLngArray=Gg,L.prototype.na=function(t){var e,n=this===t;if(!n&&(n=C(t,L))){var r=this.X;for(t=t.X,n=(e=r.length)===t.length;n&&e--;)n=r[e]==t[e]}return n},L.prototype.equals=L.prototype.na,n=L.prototype,n.qb="LineString",n.Sc=function(t,e){var n,r=this.X,i=r.length;if(i){for(t.push("("),n=0;n<i;n+=3)n&&t.push(","),t.push(r[n+1]," ",r[n]);e&&(r[0]!==r[i-3]||r[1]!==r[i-2])&&t.push(",",r[1]," ",r[0]),t.push(")")}else t.push("EMPTY");return t},n.Lb="LineString",n.md=function(){var t,e=[],n=this.X,r=n.length;for(t=0;t<r;t+=3)e.push([n[t+1],n[t],n[t+2]]);return e},n.wc=function(){var t,e=this.X;if(this.I().Eb()){var n=1;for(t=(e=e.slice()).length;n<t;n+=3)0>e[n]&&(e[n]+=360)}return e},n.jp=function(t){t=void 0===t?5:t;for(var e=this.X,n=e.length,r=[],i=0;i<n;i+=3)r.push([e[i],e[i+1],e[i+2]]);return Bg({polyline:r,precision:t,thirdDim:2,thirdDimPrecision:t})},L.prototype.toFlexiblePolyline=L.prototype.jp,L.fromFlexiblePolyline=Jg,u(Kg,F),t("H.map.Feature",Kg),Kg.prototype.getData=function(){return this.data},Kg.prototype.getData=Kg.prototype.getData,Kg.prototype.s=function(){Kg.l.s.call(this),delete this.data},t("H.map.provider.Invalidations",Lg),Lg.MARK_INITIAL=Ud,Lg.prototype.update=function(t,e){e!==Mg.NONE&&(this.a=t,e&Mg.SPATIAL&&(this.f=t),e&Mg.VISUAL&&(this.g=t),e&Mg.ADD&&(this.b=t),e&Mg.REMOVE&&(this.c=t),e&Mg.Z_ORDER&&(this.j=t),e&Mg.VOLATILITY&&(this.i=t))},Lg.prototype.update=Lg.prototype.update,Lg.prototype.kn=function(){return this.a},Lg.prototype.getMark=Lg.prototype.kn,Lg.prototype.a=Ud,Lg.prototype.bo=function(t){return this.a>t},Lg.prototype.isAny=Lg.prototype.bo,Lg.prototype.g=Ud,Lg.prototype.ke=function(t){return this.g>t},Lg.prototype.isVisual=Lg.prototype.ke,Lg.prototype.f=Ud,Lg.prototype.Qh=function(t){return this.f>t},Lg.prototype.isSpatial=Lg.prototype.Qh,Lg.prototype.b=Ud,Lg.prototype.lk=function(t){return this.b>t},Lg.prototype.isAdd=Lg.prototype.lk,Lg.prototype.c=Ud,Lg.prototype.ig=function(t){return this.c>t},Lg.prototype.isRemove=Lg.prototype.ig,Lg.prototype.j=Ud,Lg.prototype.Rh=function(t){return this.j>t},Lg.prototype.isZOrder=Lg.prototype.Rh,Lg.prototype.i=Ud,Lg.prototype.io=function(t){return this.i>t},Lg.prototype.isVolatility=Lg.prototype.io;var Mg={NONE:0,VISUAL:1,SPATIAL:2,ADD:4,REMOVE:8,Z_ORDER:16,VOLATILITY:32};function Ng(t,e,n){Ng.l.constructor.call(this,t),this.oldValue=n,this.newValue=e}function M(t){if(uc(this,M),M.l.constructor.call(this,t?t.data:B),this.S=Og.next(),t){var e="min";Cc(t[e])&&(this.v=t[e]),Cc(t[e="max"])&&(this.u=t[e]),(e="visibility")in t&&(this.c=!!t[e]),(e="volatility")in t&&(this.D=!!t[e]),(e="zIndex")in t&&(this.m=+t[e]||0),(e="provider")in t&&!C(t[e],N)&&(this.a=t[e],this.xa(Mg.ADD))}}Lg.Flag=Mg,u(Ng,rd),t("H.util.ChangeEvent",Ng),u(M,Kg),t("H.map.Object",M);var Og=new af(1),Pg={ANY:31,OVERLAY:1,SPATIAL:2,MARKER:4,DOM_MARKER:8,GROUP:16};function Qg(t,e,n){var r,i;if(!n||t[0]|e[0]){var o=t.length,a=e.length,s=vd(o,a),l=1;for(i=1+n;l<s;l+=i)if(r=t[l]-e[l])return r}return n?0:o-a}function Rg(t,e){return t.wj(e)}function Sg(t,e,n){if(null===e||e===B)return null;if(0<=Object.keys(e).length&&"[object Object]"!==Object.prototype.toString.call(e))throw Error(Tg(t,n));try{return JSON.stringify(e),e}catch(r){throw Error(Tg(t,n))}}function Tg(t,e){return"Object Remote-Id: "+t.o+" - "+(e?"The value returned by the callback is not a valid JSON object and cannot be set as Feature properties.":"The given object data is not a valid JSON object and cannot be set as Feature properties.")}function Ug(t){var e;if(t){var n=Vg;for(e=C(t,Ug);n--;){var r=Wg[n];if(t.hasOwnProperty(r)){var i=t[r];if(e)this[r]=i;else{if((i=Xg[n](i))===Yg)throw new D(Ug,0,r+": "+t[r]);i!==this[r]&&i!==B&&(this[r]=i)}}}(n=e?t.bf:this.lineWidth&&Xe(this.strokeColor))||(this.bf=n),(n=e?t.Rb:Xe(this.fillColor))||(this.Rb=n),(n=e?t.af:"none"!==this.strokeColor&&this.lineWidth)||(this.af=n)}oc(this)}M.Type=Pg,M.prototype.fb=function(){return this.S},M.prototype.getId=M.prototype.fb,M.prototype.Qi=function(t){if(!Cc(t)&&!zc(t))throw new D(this.Qi,0,"id must be a number or a string");return this.o=t,this},M.prototype.setRemoteId=M.prototype.Qi,M.prototype.Bn=function(){return this.o},M.prototype.getRemoteId=M.prototype.Bn,M.prototype.v=-1/0,M.prototype.u=1/0,M.prototype.ln=function(){return this.u},M.prototype.getMax=M.prototype.ln,M.prototype.nn=function(){return this.v},M.prototype.getMin=M.prototype.nn,M.prototype.c=!0,M.prototype.vb=function(t){return(t=!!t)^this.c&&(this.c=t,this.invalidate(Mg.VISUAL)),this},M.prototype.setVisibility=M.prototype.vb,M.prototype.Bc=function(t){for(var e,n=this;(e=n.c)&&t&&(n=n.Wa););return e},M.prototype.getVisibility=M.prototype.Bc,M.prototype.D=!1,M.prototype.dg=function(t){for(var e,n=this;!(e=n.D)&&t&&(n=n.Wa););return e},M.prototype.getVolatility=M.prototype.dg,M.prototype.Bl=function(t){var e=this.D;return e^t&&(this.D=!e,this.invalidate(Mg.VOLATILITY)),this},M.prototype.setVolatility=M.prototype.Bl,M.prototype.m=B,M.prototype.ck=function(){return this.m},M.prototype.getZIndex=M.prototype.ck,M.prototype.xe=function(t){return t!==this.m&&(this.sf(),this.m=t,this.invalidate(Mg.Z_ORDER)),this},M.prototype.setZIndex=M.prototype.xe,M.prototype.N=B,M.prototype.ed=function(){var t,e,n=this.N;if(!n){var r=(t=this.m)!==B;(n=this.Wa)?(n=n.ed().slice())[0]|=r:n=[0|r],n.push(t||0,0>(e=this.Ti)?this.S:e),this.N=n}return n},M.prototype.getZInfo=M.prototype.ed,M.prototype.sf=function(){this.N=B},M.compareZInfo=Qg,M.compareZOrder=Rg,M.prototype.wj=function(t){return this.Ng-t.Ng||Qg(this.ed(),t.ed(),!1)},M.prototype.compareZOrder=M.prototype.wj,n=M.prototype,n.previousSibling=y,n.nextSibling=y,n.Ti=-1,n.Wa=y,n.qn=function(){return this.Wa},M.prototype.getParentGroup=M.prototype.qn,M.prototype.ic=function(){for(var t,e=this;t=e.Wa;)e=t;return e},M.prototype.getRootGroup=M.prototype.ic,M.prototype.contains=function(t){return this===t},M.prototype.contains=M.prototype.contains,M.prototype.ka=function(t){if(this.Wa)throw new Xc(this.ka,"Not allowed for a child of a group");M.l.ka.call(this,t)},M.prototype.setParentEventTarget=M.prototype.ka,M.prototype.a=y,M.prototype.ga=function(){return this.a},M.prototype.getProvider=M.prototype.ga,M.prototype.we=function(t,e){var n,r=this.a;if(n=r!==t){if(e&&(r&&!C(r,N)||t&&!C(t,N)))throw new Xc(e,"Only LocalObjectProvider allows an object transfers");e=this.type!==Pg.GROUP,r&&(this.invalidate(Mg.REMOVE),e&&r.Ha(this)),(this.a=t)&&(e&&t.ea(this),this.wa=y,this.invalidate(Mg.ADD))}return n},M.prototype.Ob=function(){return this.wa||(this.wa=new Lg)},M.prototype.getInvalidations=M.prototype.Ob,M.prototype.xa=function(t){var e,n=this.ga();return(e=!!n)&&n.invalidateObject(this,t),e},M.prototype.invalidate=M.prototype.xa,M.prototype.s=function(){this.Wa&&this.Wa.Ha(this),M.l.s.call(this)},M.prototype.setData=function(t){return this.data=t,this},M.prototype.setData=M.prototype.setData,M.prototype.Rc=function(t){if(t&&!Ca(t))throw new D(M.prototype.Rc,0,"opt_callback must be a function");return t={type:"Feature",properties:Sg(this,t?t(this.data):this.data,!!t),geometry:this.ba().Rc()},this.o&&(t.id=this.o),t},M.prototype.toGeoJSON=M.prototype.Rc,M.prototype.W=function(){return{id:this.S,properties:{min:this.v,max:this.u,zIdx:this.m,sIdx:this.Ti,parent:this.Wa?this.Wa.fb():0,visible:this.Bc(),volatile:this.dg()},type:"Feature"}},M.prototype.forWorkerMessage=M.prototype.W,t("H.map.SpatialStyle",Ug),Ug.prototype.Rb=!0,Ug.prototype.bf=!0,Ug.prototype.af=!0;var Wg="strokeColor fillColor lineWidth lineCap lineJoin miterLimit lineDash lineDashOffset lineHeadCap lineTailCap".split(" ");Ug.prototype.strokeColor="rgba(0,85,170,.6)",Ug.prototype.strokeColor=Ug.prototype.strokeColor,Ug.prototype.fillColor="rgba(0,85,170,.4)",Ug.prototype.fillColor=Ug.prototype.fillColor,Ug.prototype.lineWidth=2,Ug.prototype.lineWidth=Ug.prototype.lineWidth,Ug.prototype.lineCap="round",Ug.prototype.lineCap=Ug.prototype.lineCap,Ug.prototype.lineJoin="miter",Ug.prototype.lineJoin=Ug.prototype.lineJoin,Ug.prototype.miterLimit=1,Ug.prototype.miterLimit=Ug.prototype.miterLimit,Ug.prototype.no=ff,Ug.prototype.lineDash=Ug.prototype.no,Ug.prototype.lineDashOffset=0,Ug.prototype.lineDashOffset=Ug.prototype.lineDashOffset,Ug.prototype.oo=B,Ug.prototype.lineHeadCap=Ug.prototype.oo,Ug.prototype.po=B,Ug.prototype.lineTailCap=Ug.prototype.po;var Vg=Wg.length;Ug.prototype.na=function(t){var e=this===t;if(!e&&t){for(e=0;e<Vg;e++){var n=Wg[e];if(this[n]!==t[n])break}e=e===Vg}return e},Ug.prototype.equals=Ug.prototype.na,Ug.prototype.Qj=function(t){if(t){var e={};Wa(e,this,t)}else e=this;return new Ug(e)},Ug.prototype.getCopy=Ug.prototype.Qj;var Yg=oc({}),Xg=[function(t){return t?nc(t):Yg},function(t){return t?nc(t):Yg},function(t){return 0<=t&&100>=t?+t:Yg},function(t){return"butt"===(t=nc(t))||"square"===t||"round"===t||"arrow-head"===t||"arrow-tail"===t?t:Yg},function(t){return"round"===t||"bevel"===t||"miter"===t?t:Yg},function(t){return 0<t&&100>=t?+t:Yg},function(t){return t&&t.every&&t.every(Dc)?t:Yg},function(t){return E(+t)?Yg:+t},function(t){return tc(t)?Xg[3](t):B},function(t){return tc(t)?Xg[3](t):B}];Ug.MAX_LINE_WIDTH=100;var Zg=new Ug;Ug.DEFAULT_STYLE=Zg;var $g="fillColor strokeColor lineWidth lineCap lineJoin miterLimit lineDashOffset lineDash lineTailCap lineHeadCap".split(" ");function ah(t){var e;if(t){var n=C(t,ah);for(e in t)if(e in this){var r=t[e];r!==this[e]&&("fillColor"===e||0<(r=+r))&&(this[e]=r)}(t=n?t.Rb:!!(Xe(this.fillColor)&&this.width&&this.width))||(this.Rb=t)}oc(this)}function bh(t,e){var n;bh.l.constructor.call(this,e),e&&this.pc(e.style),t&&(this.j=!0),e&&(n=e.arrows)&&this.ql(n)}function ch(t,e){var n,r=!1,i=!1;if(e.length){for(r=0;r<e.length;r++)if(e[r]!==dh){i=!0;break}e=t.style,r=i?e.bf||e.Rb&&t.j||(n=t.g||!1)&&e.af&&n.Rb:e.Rb}return r&&t.Bc(!0)}function eh(t,e){eh.l.constructor.call(this,t,e)}function fh(t,e,n,r){var i,o=[],a=e.length;for(i=0;i<a;i++){var s=e[i];s.length&&o.push(gh(t,s,n,r))}return o}function gh(t,e,n,r){var i,o=[],a=e.length,s=0;for(t.sa=0,i=i||0;s<a;)o.push(hh(t,e[s++],e[s++],i,r));return n&&o.push(hh(t,e[0],e[1],i,r)),o}function hh(t,e,n,r,i){var o=t.sa;return o&&180<Ad(o-n)&&(n+=0>o?-360:360),t.sa=n,i.Sh(e,n+r)}function ih(t,e,n){for(var r,i,o,a=e,s=t.length+e;a--;){for(i=(e=t[a]).length,r=Array(i);i--;)o=e[i],r[i]=new I(o.x+n,o.y);t[--s]=r}}Ug.prototype.W=function(){for(var t,e={},n=$g.length;n--;)e[t=$g[n]]=this[t];return e},Ug.prototype.forWorkerMessage=Ug.prototype.W,t("H.map.ArrowStyle",ah),ah.prototype.Rb=!0,ah.prototype.fillColor="rgba(255,255,255,.75)",ah.prototype.width=1.2,ah.prototype.length=1.6,ah.prototype.frequency=5,ah.prototype.Pj=function(){return new ah(this)},ah.prototype.na=function(t){var e=this===t;return!e&&t&&(e=t.width===this.width&&t.fillColor===this.fillColor&&t.length===this.length&&t.frequency===this.frequency),e},ah.prototype.equals=ah.prototype.na,u(bh,M),t("H.map.Spatial",bh),bh.prototype.type=Pg.SPATIAL,bh.prototype.Ng=0,bh.prototype.style=Zg,bh.prototype.ua=function(){return this.style},bh.prototype.getStyle=bh.prototype.ua,bh.prototype.pc=function(t){var e=!0;return t?this.style=C(t,Ug)?t:new Ug(t):this.style?delete this.style:e=!1,e&&this.invalidate(Mg.VISUAL),this},bh.prototype.setStyle=bh.prototype.pc,bh.prototype.zm=function(){return this.g},bh.prototype.getArrows=bh.prototype.zm,bh.prototype.ql=function(t){var e=this.g,n=!1;return!t&&e?(delete this.g,n=!0):!t||e&&e.na(t)||(this.g=new ah(t),n=!0),n&&"none"!==this.style.strokeColor&&this.xa(1),this},bh.prototype.setArrows=bh.prototype.ql,bh.prototype.j=!1,bh.prototype.eo=function(){return this.j},bh.prototype.isClosed=bh.prototype.eo,bh.prototype.getGeometriesForTile=bh.prototype.Zd,bh.prototype.zh=function(){return y},bh.prototype.getLabels=bh.prototype.zh,u(eh,bh),t("H.map.GeoShape",eh),eh.prototype.getBoundingBox=eh.prototype.I;var jh=new L([0,0,0,0,0,0,0,0,0]),sh;function kh(t){uc(this,kh),kh.l.constructor.call(this),this.oa=lh(this,t,this.constructor,0)}function lh(t,e,n,r){var i,o=[];if(!yc(e))throw new D(n,r);for(i=0;i<e.length;i++){if(!t.a(e[i]))throw new D(n,r);o.push(t.b(e[i]))}return o}function mh(t){mh.l.constructor.call(this,t)}function nh(t,e){nh.l.constructor.call(this,!1,e),this.da(t)}function oh(t,e){if(!C(t,L)||2>t.Ye())throw new D(e,0)}function ph(t,e,n,r){var i=Ig(e,n.Zf());if(i.length&&(i=(t=fh(t,i,!1,e=n.ag())).length)){var o=n.$e();e=e.w,n.x||ih(t,i,-e),n.x===(1<<n.z)-1&&ih(t,i,e),(n=qh(t,o.left,o.top,o.right,o.bottom,!1)).length&&r.push(new rh(n))}}function th(t,e){if(x.URL)return new x.URL(t,e).toString();if(!t||!uh(t))return t;if(!e||uh(e))throw new TypeError("Failed to construct 'URL': Invalid base URL");sh||Fc(sh=document.createElement("a"));var n=sh;return n.href=e,"/"!==t[0]?t=n.href.replace(/\/[^\/]*$/,"/")+t:((e=n.origin)||(e=n.protocol+"//"+n.host),t=e+t),t}function uh(t){var e=!1;return"string"===typeof t&&(e=!(-1<t.search(/^(http|https|data|blob):/)||"//"===t.substr(0,2))),e}function vh(t,e){var n,r,i,o=arguments.length;for(n=1;n<o;n++)if((r=arguments[n])&&r!==t&&r!==a){var a=r;for(i in r){var s=r[i];t[i]!==s&&(wh(s)?wh(t[i])?t[i]=vh(t[i],s):t[i]=qc(s):void 0!==s&&(t[i]=qc(s)))}}return t}u(kh,Vf),t("H.geo.MultiGeometry",kh),kh.prototype.splice=function(t,e,n){return t=[t],e!==B&&t.push(e),n&&(e=lh(this,n,this.splice,2),t=t.concat(e)),this.P=y,this.oa.splice.apply(this.oa,t)},kh.prototype.splice=kh.prototype.splice,kh.prototype.nc=function(t){var e=this.oa.length;if(!(0<=t&&t<e))throw new je(this.nc,t,[0,e-1]);return this.P=y,this.oa.splice(t,1)[0]},kh.prototype.removeAt=kh.prototype.nc,kh.prototype.remove=function(t){if(0<=(t=this.oa.indexOf(t))){var e=this.oa.splice(t,1)[0];this.P=y}return e||y},kh.prototype.remove=kh.prototype.remove,kh.prototype.Wm=function(){return this.oa},kh.prototype.getGeometries=kh.prototype.Wm,kh.prototype.push=function(t){var e=lh(this,[t],this.push,0)[0];this.P&&(this.P=this.P.lc(t.I())),this.oa.push(e)},kh.prototype.push=kh.prototype.push,kh.prototype.I=function(){var t,e,n;if(!(t=this.P)&&(t=y,this.oa.length))for(t=this.oa[0].I(),n=1;n<this.oa.length;n++)(e=this.oa[n].I())&&(t=t?t.lc(e):e);return this.P=t},kh.prototype.getBoundingBox=kh.prototype.I,kh.prototype.P=y,kh.prototype.b=function(t){return t},kh.prototype.na=function(t){var e,n=this===t;if(!n&&(n=C(t,this.constructor))){var r=this.oa;for(t=t.oa,n=(e=r.length)===t.length;n&&e--;)n=r[e].na(t[e])}return n},kh.prototype.equals=kh.prototype.na,n=kh.prototype,n.Sc=function(t){var e,n,r=this.oa,i=r.length,o=!1;if(i){for(t.push("("),e=0;e<i;e++)(n=0<e&&o)&&t.push(","),r[e].Sc(t),"EMPTY"===t[t.length-1]?t.splice(-1-n,1+n):o=!0;o?t.push(")"):t.splice(-1,1,"EMPTY")}else t.push("EMPTY");return t},n.toString=function(){return this.Sc([this.qb.toUpperCase()," "]).join("")},n.wc=function(){for(var t=[],e=this.oa,n=e.length;n--;)t[n]=e[n].wc();return t},n.W=function(){var t=kh.l.W.call(this);return t.type=this.qb,t},n.md=function(){for(var t=[],e=this.oa,n=e.length;n--;)t[n]=e[n].md();return t},u(mh,kh),t("H.geo.MultiLineString",mh),mh.prototype.a=function(t){return C(t,L)},mh.prototype.qb="Multi"+L.prototype.qb,mh.prototype.Lb="Multi"+L.prototype.Lb,u(nh,eh),t("H.map.Polyline",nh),nh.prototype.I=function(){return this.eb.I()},nh.prototype.getBoundingBox=nh.prototype.I,nh.prototype.eb=y,nh.prototype.da=function(t){var e,n,r=this.da;if(C(t,mh)){var i=t.oa;if(!(e=i.length))throw new D(r,0);for(n=0;n<e;n++)oh(i[n],r)}else oh(t,r);return this.yd=!!i,this.eb=t,this.xa(Mg.SPATIAL),this},nh.prototype.setGeometry=nh.prototype.da,nh.prototype.ba=function(){return this.eb},nh.prototype.getGeometry=nh.prototype.ba,nh.prototype.clip=function(t){var e=this.eb;return Ig(this.yd?e.oa[0]:e,t)},nh.prototype.clip=nh.prototype.clip,nh.prototype.Zd=function(t){var e,n=this.eb,r=[];if(this.yd)for(e=(n=n.oa).length;e--;)ph(this,n[e],t,r);else ph(this,n,t,r);return r.length?r:B},nh.prototype.getGeometriesForTile=nh.prototype.Zd,nh.prototype.W=function(){var t=nh.l.W.call(this),e=t.properties;return t.geometry=this.ba().W(),e.style=this.ua().W(),e.height=0,t},nh.prototype.forWorkerMessage=nh.prototype.W,t("H.util.webgl.mergeObjects",vh);var xh=mc();function yh(t,e,n){var r=n[t];return e&&r in e&&0>sc.indexOf(r)?(e=e[r],++t<n.length?yh(t,e,n):e):xh}var zh=yh.bind(null,0),Ah={polygons:1,lines:1,"pattern-lines":1,points:1,text:1,raster:1,custom_icons:1,overlays:1},Bh={data:1,draw:1,enabled:1,filter:1,properties:1},Ch=Object.keys(Bh);function Dh(t,e,n,r,i,o){var a=r[t],s=n[a];if(++t<r.length){var l=e[a]||{};for(n=Ch.length;n--;){var u=Ch[n];if("draw"!==u||!o){var c=s[u];c!==B&&(l[u]=qc(c))}}Dh(t,l,s,r,i,o)}else i?l=qc(s):(l=s,delete n[a]);e[a]=e[a]?vh(e[a],l):l}var Eh=Dh.bind(null,0);function Fh(t,e){t in Ah&&(e[t]=1)}function Gh(t,e,n){var r,i,o;for(r in t)if(Bh[r]){if("draw"===r){var a=t[r];for(i in a){var s=a[i];(o=s.style)?(s.style=e+o,Fh(o,n)):(delete a[i],a[e+i]=s,Fh(i,n))}}}else Gh(t[r],e,n)}function Hh(t,e){var n,r,i,o,a={};if(e+="_",n=(t=vh({},t)).styles)for(r in n){var s=n[r];if(delete n[r],n[e+r]=s,i=s.mix)for(zc(i)&&(i=[i]),o=i.length;o--;)Fh(i[o],a),i[o]=e+i[o];(o=s.base)&&(i||(i=s.mix=[]),i.unshift(e+o),delete s.base,Fh(o,a)),Fh(r,a)}else n=t.styles={};if(s=t.layers)for(r in s)i=s[r],delete s[r],(o=i.data)&&!o.layer&&(o.layer=r),s[e+r]=i,Gh(i,e,a);for(r in a)n[e+r]={base:r};return t}function Ih(t,e){var n,r=t.sources,i=Object.keys(r)[0],o=vh(r[i],{uid:e});for(n in r=t.layers,t.sources={},t.sources[e]=o,r)(t=r[n]).data?t.data.source===i&&(t.data.source=e):t.data={source:e}}function Jh(t,e){var n,r=t.textures,i=t.fonts;for(n in r){var o=r[n];o.url&&(o.url=th(o.url,e))}for(n in i)if(yc(r=i[n]))for(o=0;o<r.length;o++){var a=r[o];a.url=a.url&&th(a.url,e)}else(a=t.fonts[n]).url=a.url&&th(a.url,e)}function Kh(t,e){return"function(){return feature."+t+(e||"")+";}"}function Lh(t){return Kh("style."+t,void 0)}function Mh(t,e,n,r){return t={base:t,blend:e,blend_order:n},r&&(t.clean_depth=!!r),t}function Nh(t){var e={};return e["translucent-"+(t?"extruded-":"")+"polygons"]={color:Lh("fillColor"),order:1,interactive:!0,extrude:t},e}function Oh(t,e,n,r){return t={data:{source:t,layer:e}},n&&(t.draw=n),r&&(t.filter=r),t}function wh(t){return Da(t)&&!yc(t)}function Ph(t,e){if(Ph.l.constructor.call(this),e&&uh(e))throw new D(Ph,1,"Base URL must be absolute");this.A=Qh.INIT,this.a=null,this.c=e}u(Ph,F),t("H.map.render.Style",Ph),Ph.prototype.load=Ph.prototype.load,Ph.prototype.getState=function(){return this.A},Ph.prototype.getState=Ph.prototype.getState,Ph.prototype.O=function(t){this.A=t},Ph.prototype.setState=Ph.prototype.O,Ph.prototype.fc=function(){return this.c},Ph.prototype.getBaseUrl=Ph.prototype.fc,Ph.prototype.ud=function(){return qc(this.a)},Ph.prototype.getConfig=Ph.prototype.ud,Ph.prototype.Gm=function(){return this.a},Ph.prototype.getConfigReference=Ph.prototype.Gm,Ph.prototype.Kd=function(t){this.a=t},Ph.prototype.setConfig=Ph.prototype.Kd,Ph.prototype.Kb=function(t){this.a=null,this.O(Qh.ERROR);var e=Rh;se(this.aa,void 0!==e?String(e):void 0)?this.dispatchEvent(new td(Rh,t,this)):console.error(t)},Ph.prototype.dispatchError=Ph.prototype.Kb,Ph.prototype.s=function(){Ph.l.s.call(this),this.a=null};var Rh="error",Sh={nd:"change",hj:Rh},Qh={ERROR:-1,INIT:0,LOADING:1,READY:2};function Th(t,e){if(Th.l.constructor.call(this,t,e),zc(t))Uh.test(t)&&-1===t.indexOf("import:")?(this.f=t,e||(this.j=uh(this.f)?B:this.f)):this.g=t;else{if(!Da(t))throw new D(Th,0,Vh);this.Kd(qc(t))}}function ai(t){var e,n=t.a;if(Da(n)){var r;if(r=t.i){for(var i in r=!1,n=n&&n.sources)if(n[i].type===t.i){r=!0;break}r=!(!n||r)}r&&(e="invalid source, the only valid type is "+t.i)}else e=Vh;return e&&t.Kb(e),!e}function Zh(t){t.dispatchEvent(new rd("change",t))}function Xh(t){if(t.getState()!==Qh.READY)throw new Xc(t.gf,"style is not ready yet")}function Yh(t,e,n,r){var i,o,a=[],s=yc(e)?e:[e];for(void 0===r&&(r=!0),s=s.sort().reverse();i=s.pop();){e=String(i).split(".");for(var l=t.a,u=e.length;u--&&!Bh[e[u]];);if(l&&0>u&&wh(l=zh(l.layers,e))||(l=xh),l===xh)throw new D(n,0,'Unresolvable layer ID "'+i+'"');if(a.push({id:e,gb:l}),r)for(o in l)!Bh[o]&&wh(l[o])&&s.push(i+"."+o)}return a}function $h(t,e){var n,r=0;for(n=e.length;r!==n;){var i=e[r++],o=t;if(!(t=o[i]))break}return r===n?{node:t,parent:o,vg:i}:void 0}Ph.State=Qh,u(Th,Ph),t("H.map.render.webgl.Style",Th),Th.prototype.load=function(){var t=this,e=this.fc();this.f?(this.O(Qh.LOADING),new rf("text/plain",this.f).then((function(t){var n={};return Wh(t,e,!1,(n[e]=!0,n))})).then((function(e){return t.Kd(e)}),(function(e){return t.Kb(e.message)})),this.f=null):this.g&&(this.O(Qh.LOADING),Wh(this.g,e).then((function(e){return t.Kd(e)}),(function(e){return t.Kb(e.message)})),this.g=null)},Th.prototype.wl=function(t,e,n){var r;for(Xh(this),t=Yh(this,t,this.wl,n),n=0;n<t.length;n++){var i=t[n].gb.draw;for(r in i){var o=i[r];wh(o)&&(o.interactive=!!e)}}Zh(this)},Th.prototype.setInteractive=Th.prototype.wl,Th.prototype.setProperty=function(t,e,n){var r,i=t.split("."),o=0,a=i.length;if(Xh(this),!tc(e))throw new D(this.setProperty,1,"value");if(r=$h(this.a,i)){if(!(r.parent instanceof Object)||r.parent instanceof Array){if(!n)throw new D(this.setProperty,0,t+" property is not primitive type");i.pop(),i=$h(this.a,i),r.parent=i.parent[i.vg]={}}r.parent[r.vg]=e}else{for(r=this.a;o!==a-1;)r[i[o]]={},r=r[i[o++]];r[i[o]]=e}ai(this)&&Zh(this)},Th.prototype.setProperty=Th.prototype.setProperty,Th.prototype.Eh=function(t){return Xh(this),(t=$h(this.a,t.split(".")))?qc(t.node):void 0},Th.prototype.getProperty=Th.prototype.Eh,Th.prototype.removeProperty=function(t){Xh(this),(t=$h(this.a,t.split(".")))&&t.parent&&t.parent.hasOwnProperty(t.vg)&&(delete t.parent[t.vg],ai(this)&&Zh(this))},Th.prototype.removeProperty=Th.prototype.removeProperty,Th.prototype.Oe=function(t,e,n){var r;Xh(this);var i=this.a,o=i.layers,a=Yh(this,t,this.Oe,!1);for(t=a.length,r={};t--;)Eh(r,o,a[t].id,!!e,!!n);for(n={},t=(a=Object.keys(i)).length;t--;){var s=a[t],l=i[s];n[s]=l===o?r:qc(l)}return e||Zh(this),n},Th.prototype.extractConfig=Th.prototype.Oe,Th.prototype.gf=function(t){if(Xh(this),!Da(t))throw new D(this.gf,0,"config");this.Kd(vh(this.a,t))},Th.prototype.mergeConfig=Th.prototype.gf,Th.prototype.b=ba(2),Th.prototype.toString=function(){return this.getState()===Qh.READY?x.H.gl.yaml.safeDump(this.a,{lineWidth:120}):""},Th.prototype.s=function(){Th.l.s.call(this),this.g=this.f=null};var Uh=/^(http[s]?)?.*\.ya?ml/i,Vh="invalid style configuration";function Wh(t,e,n,r){n=void 0!==n&&n,r=void 0===r?{}:r;try{var i=x.H.gl.yaml.safeLoad(t,{json:!0})}catch(o){return Promise.reject(o)}return i&&(zc(t=i.import)&&(t=[t]),n&&e&&bi(i,e),delete i.import,yc(t)&&t.length)?(n=t.reduce((function(t,n){var i=e?th(n,e):n;return r[i]||(r[i]=!0,t.push(new rf("text/plain",i).then((function(t){return Wh(t,i,!0,r)})))),t}),[]),Promise.all(n).then((function(t){var e={};return t.forEach((function(t){return t&&vh(e,t)})),vh(e,i),e}))):Promise.resolve(i)}function bi(t,e){function n(t){t.url&&(t.url=th(t.url,e))}var r=t&&t.fonts;if(r)for(var i in r)yc(r[i])?r[i].forEach(n):n(r[i]);if(t=t&&t.textures)for(var o in t)n(t[o])}function qh(t,e,n,r,i,o){var a,s,l,u,c=t.length;if(c)for(a=[];c--;){var h=t[c],f=h.length,p=0;for(l=1;l<f;l++)if(u=ci(h[l-1],h[l],n,e,r,i)){var d=u[0],v=u[1];p&&p.na(d)?s.push(v):a.push(s=u),p=v,o&&(l=f,c=0)}}else a=t;return a}function ci(t,e,n,r,i,o){var a=t.x;t=-t.y;var s=e.x;if(e=-e.y,n=-n,o=-o,a>s){if(s>i||a<r)return;var l=a,u=t;a=s,t=e,s=l,e=u,l=1}else if(a>i||s<r)return;if(t>e){if(e>n||t<o)return;var c=1;t=-t,e=-e,u=o,o=-n,n=-u}else if(t>n||e<o)return;if(a<r){if((t+=(r-a)*(e-t)/(s-a))>n)return;a=r}if(t<o){if((a+=(o-t)*(s-a)/(e-t))>i)return;t=o}return s>i&&(e=t+(i-a)*(e-t)/(s-a),s=i),e>n&&(s=a+(n-t)*(s-a)/(e-t),e=n),c&&(t=-t,e=-e),l?[new I(s,-e),new I(a,-t)]:[new I(a,-t),new I(s,-e)]}function di(t,e,n){var r,i;t=ei(t,!0),e=ei(e,!1);var o={},a=r=1;switch(~~(n||0)){case 1:a=r=0;break;case 2:r=0,a=1;break;case 3:r=1,a=0}n=r;var s=a;if(e&&t){for(e.Of=fi(e.x,e.y,null,gi(e)),t.Of=fi(t.x,t.y,null,gi(t)),a=e;a.next;a=a.next)if(!a.ab)for(r=t;r.next;r=r.next)if(!r.ab){var l=hi(a.next),u=hi(r.next);if(i=ii(a,l,r,u,o)){i=o.$l;var c=o.am,h=o.pp,f=o.qp;ji(i=fi(h,f,null,null,null,null,!0,0,0,i),a,l),ji(l=fi(h,f,null,null,null,null,!0,0,0,c),r,u),i.ki=l,l.ki=i}}for(o=ce(e,ki(t)),n&&(o=!o),a=e;a;a=a.next)a.ab&&(a.oh=o,o=!o);for(o=ce(t,ki(e)),s&&(o=!o),r=t;r.next;r=r.next)r.ab&&(r.oh=o,o=!o);for(li(e),li(t);(t=mi(e))!=e;){for(n=null;!t.Lg;t=t.ki){for(o=t.oh;(n=fi(t.x,t.y,n)).artificial=t.ab||t.co,t.Lg=1,t=o?t.next:t.Tb;)if(t.ab){t.Lg=1;break}if(!t)break}n.li=p;var p=n}return p}}function fi(t,e,n,r,i,o,a,s,l,u){return t={x:t,y:e,next:n||null,Tb:r||null,li:i||null,ki:o||null,ab:!!a,oh:s||0,Lg:l||0,alpha:u||0},r&&(t.Tb.next=t),n&&(t.next.Tb=t),t}function hi(t){for(;t&&t.ab;)t=t.next;return t}function gi(t){if(t)for(;t.next;)t=t.next;return t}function mi(t){var e=t;if(e)do{e=e.next}while(e!=t&&(!e.ab||e.ab&&e.Lg));return e}function li(t){var e=gi(t);e.Tb.next=t,t.Tb=e.Tb}function ii(t,e,n,r,i,o){var a,s=e.x-t.x,l=e.y-t.y,u=r.x-n.x,c=r.y-n.y,h=s*c-l*u;return h?(u=((n.x-t.x)*c-(n.y-t.y)*u)/h,h=(l*(n.x-t.x)-s*(n.y-t.y))/h,0>u||1<u||0>h||1<h?0:(0===u?a=t:1===u?a=e:0===h?a=n:1===h&&(a=r),a&&!o?(a.x+=2480549651603763e-20,a.y+=7321997314118067e-20,a.Of&&(a.Of.x=a.x,a.Of.y=a.y),ii(t,e,n,r,i)):(i.pp=t.x+u*s,i.qp=t.y+u*l,i.$l=u,i.am=h,1))):0}function ki(t){for(var e=[];t;)e.push(t.x,t.y),t=t.next;return e}function ji(t,e,n){for(e=e.next;e!==n&&e.alpha<=t.alpha;)e=e.next;t.next=e,t.Tb=e.Tb,t.next.Tb=t,t.Tb.next=t}function ei(t,e){for(var n,r=null,i=0,o=t.length;i<o;i++)(n=fi(t[i].x,t[i].y,r)).co=e,(n.next=r)&&(r.Tb=n),r=n;return r}function O(t,e){var n;if(O.l.constructor.call(this),C(t,L,O,0),e!==B&&yc(e,O,1)){for(n=0;n<e.length;n++)C(e[n],L,O,1,"index "+n);this.Oa=e}else this.Oa=[];this.cb=t,this.a=[]}function ni(t){var e=O,n=L,r=t.la,i=t.ca,o=t.ma,a=t.ia;return i=[r,i,B,r,a,B,o,a,B,o,i,B],180<=t.Db()&&(i.splice(9,0,o,t=t.kb().lng,B),i.splice(3,0,r,t,B)),new e(new n(i))}Th.normalize=bi,Th.prototype.Kd=function(t){Th.l.Kd.call(this,t),ai(this)&&(this.O(Qh.READY),Zh(this))},Th.prototype.ud=function(){return Th.l.ud.call(this)},Th.prototype.fc=function(){return this.j||Th.l.fc.call(this)},t("H.map.Style",Th),Th.State=Qh,t("H.math.clipping.clipStrips",qh),t("H.math.clipping.clipPolygon",di),u(O,Vf),t("H.geo.Polygon",O),O.fromRect=ni;var oi={NORTH:90,SOUTH:-90};function pi(t,e){var n,r,i;return(i=t.I())&&((n=t.wh(!0))&&(r=t.Ye())&&(i=i.lc(eg([t.Pe(0),t.Pe(r-1)],!0),!0)),360===i.Db()&&1===n%2&&(i=i.gd(e,0))),i}function qi(t,e,n,r){r=void 0===r||r;var i=t.Oa,o=ri.bind(null,e,n);return be(e,n,t.cb.X,0,!0,3)!==ae.NONE&&(!r||!i.some(o))}function ri(t,e,n){return be(t,e,n.X,0,!0,3)===ae.SURFACE}function si(t,e){e=e.X,t=t.cb.X;var n,r,i=e.length-3,o=t.length-3,a={};for(n=0;n<i;n+=3){var s=e[n],l=e[n+1],u=e[n+3],c=e[n+4];for(r=0;r<o;r+=3){var h=t[r],f=t[r+1],p=t[r+3];if(ii({x:l,y:s},{x:c,y:u},{x:f,y:h},{x:t[r+4],y:p},a,!0))return!0}}return!1}function ti(t,e){var n=e.cb,r=e.Oa,i=r.length,o=n.X,a=o.length,s=t.cb.X,l=s.length;if(si(t,n))return!0;for(n=0;n<a;n+=3)if(qi(t,o[n],o[n+1]))return!0;for(n=0;n<l;n+=3)if(qi(e,s[n],s[n+1]))return!0;for(n=0;n<i;n++)if(si(t,r[n]))return!0;return!1}function ui(t){ui.l.constructor.call(this,t)}function rh(t,e,n){this.paths=this.a=t,e!==B&&(this.interiorsIndex=this.b=e),n!==B&&(this.outlinesIndex=this.c=n)}O.Direction=oi,O.prototype.Bd=oi.NORTH,O.prototype.xl=function(t){return this.Bd!==t&&(this.P=y,this.a.length=0,this.Bd=t),this},O.prototype.setPoleCovering=O.prototype.xl,O.prototype.vn=function(){return this.Bd},O.prototype.getPoleCovering=O.prototype.vn,O.prototype.Qm=function(){return this.cb},O.prototype.getExterior=O.prototype.Qm,O.prototype.ul=function(t){if(!C(t,L))throw new D(this.ul,0,t);this.cb=t,this.P=y},O.prototype.setExterior=O.prototype.ul,O.prototype.an=function(){return this.Oa},O.prototype.getInteriors=O.prototype.an,O.prototype.Kg=function(t,e,n){var r,i=arguments.length;for(r=2;r<i;r++)C(arguments[r],L,this.Kg,r);var o=this.Oa.splice.apply(this.Oa,arguments);for(r=2;r<i;r++)arguments[r]=B;return this.a.splice.apply(this.a,arguments),o},O.prototype.spliceInteriors=O.prototype.Kg,O.prototype.To=function(t){return this.Kg(t,1)[0]},O.prototype.removeInteriorAt=O.prototype.To,O.prototype.So=function(t){return 0>(t=this.Oa.indexOf(t))?B:this.Kg(t,1)[0]},O.prototype.removeInterior=O.prototype.So,O.prototype.bl=function(t){if(!C(t,L))throw new D(this.bl,0,t);this.Oa.push(t)},O.prototype.pushInterior=O.prototype.bl,O.prototype.I=function(){var t=this.P;return t||(this.P=t=pi(this.cb,this.Bd)),t},O.prototype.getBoundingBox=O.prototype.I,n=O.prototype,n.Oj=function(t){var e=this.Oa.length;if(0>t||t>=e)throw new je(this.Oj,t,[0,e-1]);return(e=this.a[t])||(this.a[t]=e=pi(this.Oa[t],this.Bd)),e},n.cb=y,n.Oa=[],n.qb="Polygon",n.Sc=function(t){var e,n=this.Oa,r=n.length;if(this.cb.Ye()){for(t.push("("),this.cb.Sc(t,!0),e=0;e<r;e++)n[e].Ye()&&(t.push(","),n[e].Sc(t,!0));t.push(")")}else t.push("EMPTY");return t},n.Lb="Polygon",n.md=function(){var t,e=[],n=this.Oa,r=this.cb.md();for(r[0].toString()!==r[r.length-1].toString()&&r.push(r[0]),e.push(r),t=0;t<n.length;t++)(r=n[t].md())[0].toString()!==r[r.length-1].toString()&&r.push(r[0]),e.push(r);return e},n.W=function(){var t=O.l.W.call(this);return this.I().Eb()&&(t.type="Multi"+t.type),t},n.wc=function(){var t=[],e=this.Oa,n=e.length;for(t.push(this.cb.wc());n--;)t[n+1]=e[n].wc();return this.I().Eb()?[t]:t},n.na=function(t){var e=!1;if(C(t,O)){var n=t.Oa,r=this.Oa.length;e=n.length;var i=0;for(e=this.cb.na(t.cb)&&r===e;e&&i<r;)e=e&&this.Oa[i].na(n[i]),i++}return e},u(ui,kh),t("H.geo.MultiPolygon",ui),ui.prototype.a=function(t){return C(t,O)},ui.prototype.qb="Multi"+O.prototype.qb,ui.prototype.Lb="Multi"+O.prototype.Lb,rh.prototype.interiorsIndex=rh.prototype.b=Td,rh.prototype.outlinesIndex=rh.prototype.c=Td;var dh=pc(new rh([])),vi=oc([]);function xi(t,e){var n=e&&(+e.extrusion||+e.extrude),r=e&&+e.elevation,i=0;if(xi.l.constructor.call(this,!0,e),0<r&&(i+=r,this.f=r),0<n&&(i+=n,this.i=n),i>yi)throw new je(xi,i,[0,yi]);C(t,L)?this.da(new O(t)):this.da(t)}u(xi,eh),t("H.map.Polygon",xi),xi.prototype.i=0,xi.prototype.f=0,xi.prototype.eb=y;var yi=2047;function zi(t,e,n,r){var i,o,a=0,s=!0;if(i=Ai(t,e.cb,n,r,e.I())){var l=new rh(i),u=e.Oa;if(o=u.length)for(l.b=l.a.length;a<o;a++)(i=Ai(t,u[a],n,r,e.Oj(a)))&&(l.a=l.a.concat(i));for(o=l.a.length,a=0;a<o;a++)if(l.a[a]!==vi){s=!1;break}s&&(l=a%2?dh:B)}return l}function Ai(t,e,n,r,i){var o,a=n.$e(),s=i,l=s.Db(),u=[[]],c=e.X,h=[],f=c.length,p=!1;for(o=0;o<f;o+=3){var d=c[o],v=c[o+1];p||180!=Ad(v)||(h.push(d),h.push(v),h.push(d),h.push(-v),p=!0),h.push(d),h.push(v)}if(c=h,360>l&&-180==s.ca&&(s=new K(s.la,180,s.ma,s.ia)),360>l&&180==s.ia&&(s=new K(s.la,s.ca,s.ma,-180)),s.Eb()){for(d=(l=c).length,c=-1,h=0;h<d-2;h+=2)if(Uf(l[h+1],l[h+3])){c=h+2;break}-1===c&&Uf(l[d-1],l[1])&&(c=d),-1!==c&&(f=l[c-2],h=l[c-1],o=l[c%d],p=l[(c+1)%d],180!==Ad(f)&&180!==Ad(o)&&(v=Ad(o-f),d=Ad(p-h),d+=180<d?-360:0,p=Ad(180-p),p+=180<p?-360:0,d&&p&&(v/=Ad(d)/Ad(p),f=o+(o>f?-v:v),h=0<h?180:-180,l.splice(c,0,f,h,f,-h)))),c=l}if(u[0]=Bi([].concat(c),s.ca),360>s.Db()&&s.Qd(new Wf(s.la,180))&&(c=Bi([].concat(c),s.ia),u.push(c)),t=fh(t,u,!0,s=n.ag()),360===i.Db()&&1===e.wh(!0)%2){for(e=t,t=n.$e(),e[0][1].x>e[0][e[0].length-1].x&&(e[0]=e[0].reverse()),c=[],l=e[0].length-1,u=0;u<l;u++)h=e[0][u],c[u]=new I(h.x-2*s.w,h.y),c[u+l]=new I(h.x-s.w,h.y),c[u+2*l]=new I(h.x,h.y),c[u+3*l]=new I(h.x+s.w,h.y),c[u+4*l]=new I(h.x+2*s.w,h.y);e[0]=c,(u=s.Sh(r,0)).y=2*t[r===oi.NORTH?"top":"bottom"],r=u.clone(),u.x=e[0][e[0].length-1].x+1,r.x=e[0][0].x-1,e[0].push(u,r),t=e}if(qh(t,r=a.left,e=a.top,u=a.right,a=a.bottom,!0).length){if(!n.Zf().gh(i)){for(n=t,i=[new I(r,e),new I(u,e),new I(u,a),new I(r,a)],a=[],t=n.length;t--;)if(r=di(i,n[t]))for(e=Ci(r),a.push(e);r.li;)e=Ci(r=r.li),a.push(e);t=a}}else n=Di(r,e,t[0]),t[1]&&(n^=Di(r,e,t[1])),t=n?[vi]:B;return t}function Di(t,e,n){var r,i,o,a=r=n[0].x,s=i=n[0].y,l=1;for(o=n.length;l<o;l++){var u=n[l].x,c=n[l].y;u>r?r=u:u<a&&(a=u),c>i?i=c:c<s&&(s=c)}return a<=t&&t<=r&&s<=e&&e<=i&&ce({x:t,y:e},de(n.concat(n[0])))}function Ci(t){var e=[],n=t;do{var r=xd(100*(n.Ko?n.Ko:n.x))/100,i=xd(100*(n.Lo?n.Lo:n.y))/100;if(!o||.01<Cd(Dd(o.x-r,2)+Dd(o.y-i,2))){var o=new I(r,i);e.push(o)}n=n.next}while(n&&n!==t);return e}function Bi(t,e){var n,r=Number.POSITIVE_INFINITY,i=-1,o=t.length;for(n=0;n<o;n+=2){var a=Ad(t[n+1]-e);(a+=180<a?360-a:a)<r&&(r=a,i=n)}return 0<n?(e=t.splice(i,t.length-i)).concat(t):t}function Ei(t,e,n){Ei.l.constructor.call(this,jh,n),this.Gg(t),this.Pi(e),n&&"precision"in n&&this.Ni(n.precision)}function Fi(t){t.eb!==y&&Ei.l.da.call(t,Gi(t))}function Gi(t){var e=t.b,n=e.lat,r=t.fa,i=0,o=new L;if(90===Ad(n))for(n=e.Mg(0,r,!0).lat;360>i;i+=120)o.zi(n,i-180,B);else for(t=360/(t=t.F);360>i;i+=t)o.Ed(e.Mg(i,r,!0));return e=new O(o),0>n&&e.xl(oi.SOUTH),e}function Hi(t,e){if(!C(t,Element)){if(Ii.innerHTML=t,!(t=Ii.firstElementChild))throw new D(Hi,0,"No element data");Ii.removeChild(t);var n=!0;Ii.innerHTML=""}this.a=0!==hf(t).length,this.c=n?t:jf(t,x.document,this.a),e&&((n="onAttach")in e&&wc(t=e[n],"Function",Hi,1,n)&&(this.mi=t),(n="onDetach")in e&&wc(t=e[n],"Function",Hi,1,n)&&(this.b=t))}xi.MAX_EXTRUDE_HEIGHT=yi,xi.prototype.Gi=function(t){var e=+t;if(e!==t)throw new D(this.Gi,0,t);if(0>e||this.f+e>yi)throw new je(this.Gi,this.f+e,[0,yi]);this.i=e,this.xa(Mg.SPATIAL)},xi.prototype.setExtrusion=xi.prototype.Gi,xi.prototype.Rm=function(){return this.i},xi.prototype.getExtrusion=xi.prototype.Rm,xi.prototype.Fi=function(t){var e=+t;if(e!==t)throw new D(this.Fi,0,t);if(0>e||this.i+e>yi)throw new je(this.Fi,this.i+e,[0,yi]);this.f=e,this.xa(Mg.SPATIAL)},xi.prototype.setElevation=xi.prototype.Fi,xi.prototype.Pm=function(){return this.f},xi.prototype.getElevation=xi.prototype.Pm,xi.prototype.ba=function(){return this.eb},xi.prototype.getGeometry=xi.prototype.ba,xi.prototype.da=function(t){if(t===y||C(t,O))var e=!1;else C(t,ui,this.da,0),e=!0;return this.yd=e,e=this.eb,this.eb=t,e!==y&&this.xa(Mg.SPATIAL),this},xi.prototype.setGeometry=xi.prototype.da,xi.prototype.I=function(){return this.ba().I()},xi.prototype.getBoundingBox=xi.prototype.I,xi.prototype.Zd=function(t){var e,n,r,i=this.ba();if(this.yd){var o=0;for(r=(i=i.oa).length;o<r;o++)(n=zi(this,i[o],t,i[o].Bd))&&(e||(e=[]),e.push(n))}else(n=this.Da)===B&&(n=this.yd?oi.NORTH:this.ba().Bd),(n=zi(this,i,t,n))&&(e=[n]);return e},xi.prototype.getGeometriesForTile=xi.prototype.Zd,xi.prototype.V=y,xi.prototype.W=function(){var t,e=xi.l.W.call(this),n=this.ba(),r=this.yd?n.oa:[n],i=e.properties,o=e.geometry=n.W();if(i.style=this.ua().W(),i.height=this.i+this.f,i.min_height=this.f,this.I().Eb()&&(o.type="MultiPolygon",this.yd)){var a=[];r.forEach((function(e,n){t=o.coordinates[n],e.I().Eb()?a=a.concat(t):a.push(t)})),o.coordinates=a}return e},xi.prototype.forWorkerMessage=xi.prototype.W,u(Ei,xi),t("H.map.Circle",Ei),Ei.prototype.Gg=function(t){(t=Zf(t)).na(this.b)||(this.b=t,Fi(this))},Ei.prototype.setCenter=Ei.prototype.Gg,Ei.prototype.kb=function(){return this.b},Ei.prototype.getCenter=Ei.prototype.kb,Ei.prototype.Pi=function(t){if(E(t=Yd(t,0,6371000.79*Md/2)))throw new D(this.Pi,0,t);this.fa!==t&&(this.fa=t,Fi(this))},Ei.prototype.setRadius=Ei.prototype.Pi,Ei.prototype.An=function(){return this.fa},Ei.prototype.getRadius=Ei.prototype.An,Ei.prototype.F=60,Ei.prototype.Ni=function(t){if(!Cc(t))throw new D(this.Ni,0,t);this.F!==(t=Yd(xd(t),4,360))&&(this.F=t,Fi(this))},Ei.prototype.setPrecision=Ei.prototype.Ni,Ei.prototype.xn=function(){return this.F},Ei.prototype.getPrecision=Ei.prototype.xn,Ei.prototype.da=function(){return this},Ei.prototype.setGeometry=Ei.prototype.da,Ei.prototype.ba=function(){return this.eb||Ei.l.da.call(this,Gi(this)),this.eb},Ei.prototype.getGeometry=Ei.prototype.ba,t("H.map.DomIcon",Hi);var Ii=document.createElement("DIV");function Ji(t){Ji.l.constructor.call(this,t)}function Ki(t,e){this.w=+t,this.h=+e}function Li(t,e){var n,r=t,i=e||[];if(t!==Mi.NONE){if(e=n=i.length,-1===this.b.indexOf(r))throw new D(Li,0,t);if(!i)throw new D(Li,1,i);for(;n--;)if(E(i[n]))throw new D(Li,1,i);if(r===Mi.RECT&&3<e&&(i=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]],r=Mi.POLYGON),r===Mi.CIRCLE&&2<e&&0<(t=i[2])){r=i[0];var o=i[1],a=360/(n=vd(2*zd(t),40));for(i=[];n--;){var s=a*n*Rd;i.push(r+Fd(s)*t,o+Hd(s)*t)}r=Mi.POLYGON}if(r!==Mi.POLYGON||!e||i.length%2)throw new D(Li,1,i);this.a=i}}Hi.prototype.mi=null,Hi.prototype.b=null,Hi.prototype.Pj=function(t){return jf(this.c,t,this.a)},Hi.prototype.a=!1,u(Ji,kh),t("H.geo.MultiPoint",Ji),Ji.prototype.a=function(t){return Yf(t)},Ji.prototype.b=function(t){return C(t,Wf)?t:Zf(t)},Ji.prototype.qb="Multi"+Wf.prototype.qb,Ji.prototype.Lb="Multi"+Wf.prototype.Lb,t("H.math.Size",Ki),t("H.map.HitArea",Li);var Mi={NONE:0,RECT:1,CIRCLE:2,POLYGON:3};function Ni(t,e){var n;uc(this,Ni),Ni.l.constructor.call(this,e),this.da(t),e&&"icon"in e&&(n=e.icon),this.Nc(n||Oi(this))}function Oi(t){var e=t.g;return e||(e=t.constructor.prototype.g=t.f(Pi)),e}Li.ShapeType=Mi,Li.prototype.b=[Mi.RECT,Mi.CIRCLE,Mi.POLYGON],Li.prototype.fg=function(t,e,n){return this.a?be(t,e,this.a,n,!0):ae.NONE},Li.prototype.hitTest=Li.prototype.fg,u(Ni,M),t("H.map.AbstractMarker",Ni),Ni.prototype.ba=function(){return this.b},Ni.prototype.getGeometry=Ni.prototype.ba,Ni.prototype.da=function(t){var e=this.b;return C(t,Wf)||C(t,Ji)?this.b=t:(Yf(t,this.da,0),this.b=Zf(t)),e&&this.xa(Mg.SPATIAL),this},Ni.prototype.setGeometry=Ni.prototype.da,Ni.prototype.I=function(){return this.b.I()},Ni.prototype.Ab=function(){return this.icon},Ni.prototype.getIcon=Ni.prototype.Ab,Ni.prototype.Nc=function(t){var e=this.icon,n=!e;if(e!==t){if(!this.pk(t)){if(n)throw new D(this.constructor,1,t);throw new D(this.Nc,0,t)}this.icon=t,n||this.xa(Mg.VISUAL)}return this},Ni.prototype.setIcon=Ni.prototype.Nc;var Pi={svg:'<svg xmlns="http://www.w3.org/2000/svg" width="38" height="47" viewBox="0 0 38 47"><g fill="none"><path fill="#0F1621" fill-opacity=".4" d="M15 46c0 .317 1.79.574 4 .574s4-.257 4-.574c0-.317-1.79-.574-4-.574s-4 .257-4 .574z"></path><path fill="#01b6b2" d="M33.25 31.652A19.015 19.015 0 0 0 38 19.06C38 8.549 29.478 0 19 0S0 8.55 0 19.059c0 4.823 1.795 9.233 4.75 12.593L18.975 46 33.25 31.652z"></path><path fill="#6A6D74" fill-opacity=".5" d="M26.862 37.5l4.714-4.77c3.822-3.576 5.924-8.411 5.924-13.62C37.5 8.847 29.2.5 19 .5S.5 8.848.5 19.11c0 5.209 2.102 10.044 5.919 13.614l4.719 4.776h15.724zM19 0c10.493 0 19 8.525 19 19.041 0 5.507-2.348 10.454-6.079 13.932L19 46 6.079 32.973C2.348 29.495 0 24.548 0 19.04 0 8.525 8.507 0 19 0z"></path></g></svg>',size:new Ki(38,47),anchor:new I(19,45),hitArea:new Li(Mi.POLYGON,[19,46,2,27,0,18,5,6,19,0,32,5,38,15,36,27,19,47])};function Qi(t,e){Qi.l.constructor.call(this,t,e)}function Ri(t,e,n,r){Ri.l.constructor.call(this,t,e,n),this.modifiers=r}Ni.prototype.W=function(){var t=Ni.l.W.call(this),e=this.Ab(),n=e.Bb(),r=e.td();return t.geometry=this.ba().W(),n&&((e=t.properties.icon={id:e.uid}).size={w:n.w,h:n.h},e.offset=[n.w/2-(r?r.x:0),n.h/2-(r?r.y:0)]),t},Ni.prototype.forWorkerMessage=Ni.prototype.W,u(Qi,Ni),t("H.map.DomMarker",Qi),Qi.prototype.type=Pg.DOM_MARKER,Qi.prototype.Ng=2,Qi.prototype.f=function(t){var e=new Hi(t.svg,t);return t=t.anchor,e.c.style.margin=-t.y+"px 0 0 -"+t.x+"px",e},Qi.prototype.pk=function(t){return C(t,Hi)},u(Ri,Ng),t("H.map.ChangeEvent",Ri);var Si={SIZE:1,POSITION:2,HEADING:4,TILT:8,INCLINE:16,ZOOM:32,BOUNDS:64};function Ti(){this.a=[],Ti.l.constructor.call(this)}function Ui(t,e,n){if(t=t.a.length,n)var r=t;else if(E(r=0>(r=+e)?wd(0,t+r):vd(t,r)))throw new je(Ti,e,[0,t-1]);return r}function Wi(t,e){var n=t.a.splice(e,1)[0];return t.dispatchEvent(new Vi(t,t.b.Ce,e,null,n,null)),n}function Vi(t,e,n,r,i,o){Vi.l.constructor.call(this,e,t),this.idx=n,this.added=r,this.removed=i,this.moved=o}Ri.Type=Si,Ri.prototype.Wl=Si.SIZE,Ri.prototype.SIZE=Ri.prototype.Wl,Ri.prototype.oj=Si.POSITION,Ri.prototype.POSITION=Ri.prototype.oj,Ri.prototype.ij=Si.HEADING,Ri.prototype.HEADING=Ri.prototype.ij,Ri.prototype.qj=Si.TILT,Ri.prototype.TILT=Ri.prototype.qj,Ri.prototype.jj=Si.INCLINE,Ri.prototype.INCLINE=Ri.prototype.jj,Ri.prototype.rj=Si.ZOOM,Ri.prototype.ZOOM=Ri.prototype.rj,Ri.prototype.fj=Si.BOUNDS,Ri.prototype.BOUNDS=Ri.prototype.fj,u(Ti,F),t("H.util.OList",Ti),Ti.prototype.add=function(t,e){e=Ui(this,e,E(e)),this.a.splice(e,0,t),this.dispatchEvent(new Vi(this,this.b.Ae,e,t,null,null))},Ti.prototype.add=Ti.prototype.add,Ti.prototype.nc=function(t){return this.get(t),Wi(this,t)},Ti.prototype.removeAt=Ti.prototype.nc,Ti.prototype.remove=function(t){return 0<=(t=this.indexOf(t))&&(Wi(this,t),!0)},Ti.prototype.remove=Ti.prototype.remove,Ti.prototype.set=function(t,e){if(0!==this.a.length||0!==t){this.get(t),t=Ui(this,t,!1);var n=this.a[t]}return this.a[t]=e,this.dispatchEvent(new Vi(this,this.b.De,t,e,n,null)),n},Ti.prototype.set=Ti.prototype.set,Ti.prototype.indexOf=function(t){return this.a.indexOf(t)},Ti.prototype.indexOf=Ti.prototype.indexOf,Ti.prototype.get=function(t){var e=Ui(this,t,!1),n=this.a;if(e>=n.length)throw new je(this.get,t,[0,n.length-1]);return n[e]},Ti.prototype.get=Ti.prototype.get,Ti.prototype.gn=function(){return this.a.length},Ti.prototype.getLength=Ti.prototype.gn,Ti.prototype.Ma=function(){return[].concat(this.a)},Ti.prototype.asArray=Ti.prototype.Ma,Ti.prototype.flush=function(){for(var t=this.a.length;t--;)Wi(this,t)},Ti.prototype.flush=Ti.prototype.flush,Ti.prototype.s=function(){this.flush(),Ti.l.s.call(this)},Ti.prototype.b={Ae:"add",Ce:"remove",De:"set",up:"move"},u(Vi,rd);var Xi={};function Yi(t,e){this.projection=t||Xi,this.b=0,this.a=this.exp=Bd(e||256)/Ld,Zi(this),this.y=this.x=0}t("H.geo.mercator",Xi),Xi.a=function(t){return vd(1,wd(0,.5-Bd(Id(Od+Nd*t/180))/Md/2))},Xi.b=function(t){return t/360+.5},Xi.jg=function(t,e,n){return n?(n.x=Xi.b(e),n.y=Xi.a(t)):n=new I(Xi.b(e),Xi.a(t)),n},Xi.latLngToPoint=Xi.jg,Xi.$c=function(t,e){return Xi.jg(t.lat,t.lng,e)},Xi.geoToPoint=Xi.$c,Xi.f=function(t){return 0>=t?90:1<=t?-90:Sd*(2*Jd(Ed(Md*(1-2*t)))-Nd)},Xi.c=function(t){return 360*(1===t?1:Wd(t,1))-180},Xi.Ra=function(t,e,n){return n?(n.lat=Xi.f(e),n.lng=Xi.c(t)):n=new Wf(Xi.f(e),Xi.c(t)),n},Xi.xyToGeo=Xi.Ra,Xi.tg=function(t,e){return Xi.Ra(t.x,t.y,e)},Xi.pointToGeo=Xi.tg,t("H.util.constants.DEFAULT_MIN_ZOOM_LEVEL",0),t("H.util.constants.DEFAULT_MAX_ZOOM_LEVEL",22),t("H.geo.PixelProjection",Yi);var $i=Ad(24)+Ad(-8);function Zi(t){t.a>$i&&(t.a=$i),t.w=Dd(2,t.a),t.h=Dd(2,t.a)}function aj(t){t=t||{},aj.l.constructor.call(this),this.min=0,this.max=22,this.km=this.dark=!!t.dark,t.min&&this.Ki(t.min),t.max&&this.Ii(t.max),this.pixelProjection=new Yi(t.projection,t.minWorldSize),t.provider&&(this.a=t.provider,this.g=A(this.g,this),this.a.addEventListener(P.prototype.g.Ea,this.g,!1,this),this.i=A(this.i,this),this.a.addEventListener(P.prototype.g.Be,this.i,!1,this))}function bj(t,e,n){var r=t[e],i="min"===e,o=i?t.Ki:t.Ii;if(n!==r){if(!(i?n<=t.max:n>=t.min))throw new D(o,0,"Invalid condition min <= max");t[e]=n,t.g(),t.i(),t.dispatchEvent(new Ng(i?t.b.nj:t.b.mj,n,r))}return t}function cj(t){var e;if(cj.l.constructor.call(this),this.dispatchEvent=A(this.dispatchEvent,this),t){var n=t.length;for(e=0;e<n;e++)this.add(t[e])}}function dj(t,e){var n=e.getProvider&&e.getProvider();n&&(ej[n.uid]=n),e.ka(t)}function fj(t){var e=t.getProvider&&t.getProvider();e&&delete ej[e.uid],t.ka(null)}Yi.prototype.$k=Xi,Yi.prototype.projection=Yi.prototype.$k,Yi.prototype.x=0,Yi.prototype.x=Yi.prototype.x,Yi.prototype.y=0,Yi.prototype.y=Yi.prototype.y,Yi.prototype.np=Dd(2,$i),Yi.prototype.w=Yi.prototype.np,Yi.prototype.Vn=Dd(2,$i),Yi.prototype.h=Yi.prototype.Vn,Yi.prototype.Pa=function(t){if(E(t))throw new D(this.Pa,0,t);var e=this.x/this.w,n=this.y/this.h;this.b=t,this.a=this.exp+t,Zi(this),this.x=e*this.w,this.y=n*this.h},Yi.prototype.rescale=Yi.prototype.Pa,Yi.prototype.dk=function(){return this.b||0},Yi.prototype.getZoomScale=Yi.prototype.dk,Yi.prototype.jb=function(t,e){return(t=this.projection.jg(t.lat,t.lng,e)).x=t.x*this.w-this.x,t.y=t.y*this.h-this.y,t},Yi.prototype.geoToPixel=Yi.prototype.jb,Yi.prototype.kf=function(t,e){return this.projection.Ra((t.x+this.x)/this.w,(t.y+this.y)/this.h,e)},Yi.prototype.pixelToGeo=Yi.prototype.kf,Yi.prototype.Ra=function(t,e,n){return this.projection.Ra((t+this.x)/this.w,(e+this.y)/this.h,n)},Yi.prototype.xyToGeo=Yi.prototype.Ra,Yi.prototype.Sh=function(t,e,n){return(t=this.projection.jg(t,e,n)).x=t.x*this.w-this.x,t.y=t.y*this.h-this.y,t},Yi.prototype.latLngToPixel=Yi.prototype.Sh,Yi.prototype.oe=function(t){return new I(t.x*this.w-this.x,t.y*this.h-this.y)},Yi.prototype.pointToPixel=Yi.prototype.oe,u(aj,F),t("H.map.layer.Layer",aj),aj.prototype.min=0,aj.prototype.min=aj.prototype.min,aj.prototype.max=22,aj.prototype.max=aj.prototype.max,aj.prototype.qa=y,aj.prototype.pixelProjection=aj.prototype.qa,aj.prototype.b={Ea:"update",Be:"configchange",nj:"minchange",mj:"maxchange"},aj.prototype.ga=function(){return this.a},aj.prototype.getProvider=aj.prototype.ga,aj.prototype.ho=function(t){return this.min<=t&&t<=this.max},aj.prototype.isValid=aj.prototype.ho,aj.prototype.Ki=function(t){return bj(this,"min",+t)},aj.prototype.setMin=aj.prototype.Ki,aj.prototype.Ii=function(t){return bj(this,"max",+t)},aj.prototype.setMax=aj.prototype.Ii,aj.prototype.g=function(){this.dispatchEvent(this.b.Ea)},aj.prototype.i=function(){this.dispatchEvent(this.b.Be)},aj.prototype.s=function(){aj.l.s.call(this)},aj.prototype.ta=function(){return null},aj.prototype.getCopyrights=aj.prototype.ta,u(cj,Ti),t("H.map.DataModel",cj),cj.prototype.add=function(t,e){C(t,aj,this.add,0),dj(this,t),cj.l.add.call(this,t,e)},cj.prototype.add=cj.prototype.add,cj.prototype.set=function(t,e){return C(e,aj,this.set,0),dj(this,e),(t=cj.l.set.call(this,t,e))&&fj(t),t},cj.prototype.set=cj.prototype.set,cj.prototype.nc=function(t){var e;return(e=cj.l.nc.call(this,t))&&fj(e),e},cj.prototype.removeAt=cj.prototype.nc,cj.prototype.remove=function(t){var e;return(e=cj.l.remove.call(this,t))&&fj(t),e},cj.prototype.remove=cj.prototype.remove,cj.prototype.flush=function(){for(var t=this.a.length;t--;)this.nc(t);cj.l.flush.call(this)},cj.prototype.flush=cj.prototype.flush;var ej={};function gj(t,e,n){if(t=ej[t])return C(t[e],Function,gj,1,"invalid method"),t[e].apply(t,n)}function hj(t,e){Ca(t)&&(this.i=t),Cc(e)&&(this.a=e)}Fc(ej),cj.invoke=gj,t("H.util.Request",hj),hj.State={PENDING:0,PROCESSING:1,COMPLETE:2,CANCELLED:3,ERROR:4};var ij=[0,1,2,3,4],qj;function jj(t,e){t.b<t.a&&(tc(e)||(e=2),0===e||1===e||0!==t.A&&1!==t.A||(t.b++,2!==e&&t.g++,t.O(t.b<t.a?1:2)))}function kj(){}function lj(t,e){var n=t.L(),r=n.ownerDocument;lj.l.constructor.call(this),this.a=t,this.R=n=n.appendChild(mj(r,"DIV","position:absolute;bottom:0;right:0;left:0px;z-index:1;direction:ltr;pointer-events:none;height:40px-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;",null,"H_imprint")),this.Gf=mj(r,"DIV","margin: 0 0 "+nj+"px "+nj+"px;display:inline-block;",oj,"H_logo"),n.appendChild(this.Gf),n=n.appendChild(mj(r,"DIV","right:0;bottom:0;position:absolute;background-color:rgba(255,255,255,.8);color:#0F1621;padding:2px 16px",null,"H_copyright")),this.g=n.appendChild(mj(r,"A","color:inherit; margin:0px 8px; text-decoration:none; pointer-events:all;","Terms of use")),this.g.target="_blank",this.f=n.appendChild(mj(r,"SPAN","margin:0px 8px")),this.j=Ua(pj),this.Li(e),this.c=A(this.c,this),this.b=A(this.b,this),this.a.addEventListener(this.a.m.lj,this.c),this.a.a.addEventListener("add",this.b),this.a.a.addEventListener("remove",this.b),this.a.a.addEventListener("set",this.b),this.b()}hj.prototype.A=0,hj.prototype.getState=function(){return this.A},hj.prototype.getState=hj.prototype.getState,hj.prototype.O=function(t){if(0>ij.indexOf(t))throw new D(this.O,0,t);(this.A!==t||1===t&&1<this.a)&&(this.A=t,this.i&&this.i(this))},hj.prototype.a=1,hj.prototype.Nn=function(){return this.a},hj.prototype.getTotal=hj.prototype.Nn,hj.prototype.b=0,hj.prototype.yn=function(){return this.b},hj.prototype.getProcessed=hj.prototype.yn,hj.prototype.g=0,hj.prototype.Sm=function(){return this.g},hj.prototype.getFailed=hj.prototype.Sm,hj.prototype.He=function(){},hj.prototype.cancel=function(){3!==this.A&&(this.He(),this.O(3))},hj.prototype.cancel=hj.prototype.cancel,t("H.util.ICapturable",kj),kj.prototype.capture=function(){},kj.prototype.capture=kj.prototype.capture,t("H.util.Disposable",nd),nd.prototype.xb=nd.prototype.xb,nd.prototype.addOnDisposeCallback=nd.prototype.xb,t("H.util.dispose",qd),nd.prototype.B=nd.prototype.B,nd.prototype.dispose=nd.prototype.B,nd.prototype.s=nd.prototype.s,u(lj,nd),t("H.map.Imprint",lj);var nj=16,pj={font:'11px "Lucida Grande", Arial, Helvetica, sans-serif',href:"https://legal.here.com/{LN}/terms/serviceterms/{CN}",invert:!1,reportHref:"https://wego.here.com/",locale:"en-US"};function mj(t,e,n,r,i){return t=t.createElement(e),n&&(t.style.cssText=n),r&&(t.innerHTML=r),i&&(t.className=i),t}lj.prototype.Li=function(t){var e,n=this.Gf.firstChild.firstChild.childNodes;t||(this.j=Ua(pj));var r=this.j;for(e in r)t&&e in t&&(r[e]=t[e]);t=(this.Oh=t=r.invert)?rj:sj,n[0].style.fill=t.Cl,n[0].style.fillOpacity=t.Dl,n[1].style.fill=t.Hl,n[1].style.fillOpacity=t.Il,t=r.locale,tj[t]||(t="en-US",r.locale=t),this.g.innerHTML=tj[t],t=t.split("-"),this.g.href=r.href.replace("{LN}",t[0]).replace("{CN}",t[1].toLowerCase()),this.R.style.font=r.font},lj.prototype.setOptions=lj.prototype.Li,lj.prototype.L=function(){return this.R},lj.prototype.c=function(){this.f.innerHTML=this.i+" "+this.ta()},lj.prototype.b=function(){this.c(),setTimeout(this.c,5e3)};var oj='<svg height="40" viewBox="0 0 47 40" width="47" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="m45.2054149 8.82876345.6003191.40637037-.2240425.6914074-.4490426 1.38570368c-.1024468.3148889-.6998936 1.9596297-2.43 3.5918519l-.017234.0163704c-.188617.1887407-.3801064.3659259-.5467021.5084444l-.4605319.4285185-.486383.4516296-.1407447-.0702963c-.7257447.4583704-1.4926596.7886667-2.2796809.9831852l.5840426.5864445-.6769149.6817778-2.052766 2.0636296-.169468.1704444-.019149.0192593-2.3821276 2.3958518c-.4902128.8493334-1.1202128 1.6331852-1.8497873 2.3111112-.6031915.6047407-1.2504255 1.1054814-1.935 1.4954814l-.4777659.4805186-4.3247873 4.3506666-.0296808.0298519-.0315958.0269629-2.1532978 1.8171111-.2661702.2253334h-.3485107-3.8948936l-3.968617 3.9914815-1.3547873 1.3616296-.6769148.6808148-.6769149-.6808148-1.3538298-1.3616296-4.80925535-4.837926-3.2687234-3.2875555-1.63436171-1.6437778h2.3112766 4.62255319 2.67223407l-4.71063832-4.7368148-.6769149-.6808148.6769149-.6808148 4.93851062-4.9650371.6769149-.6798518.6769149.6808148 2.7296809 2.7454074c.9363829-.8820741 2.1485106-1.4685185 3.4037234-1.6562963.278617-1.4694815 1.0187234-2.834963 2.168617-3.9885926.5696808-.572 1.1843617-1.0438519 1.8335106-1.4107407l.2901064-.2917778 4.3094681-4.31985187c.5830851-1.0582963 1.4256383-1.78918519 2.0364893-2.12718519l.4471277-.24748148c.3829787-.7617037.9047872-1.47622222 1.5539362-2.12622222 1.510851-1.51666667 3.3165957-2.31881482 5.22-2.31881482.0871276 0 .1752127.00192593.2594681.00577778 1.9484042.06933334 3.8441489.97933334 5.4775532 2.62792593.1512765.15022222.3303191.34859259.5361702.5797037l.0526595.05874074c.1120213.12518519.2345745.26192593.370532.40733334l1.2657446 1.36066666.6328724.67985185-.6548936.65866667-.2508511.25325926zm-27.9288192 22.17414815h-9.57446804l4.78723404 4.8148148zm23.1864894-21.70422223c-.9220213 1.38666663-2.5180851 3.63037033-4.1984042 1.94133333l4.2510638-4.27651851c-.3810638-.41022222-.6711702-.754-.8923404-.97740741-2.2921277-2.31207407-4.8743617-2.34192593-6.8984043-.312-1.3528723 1.35681481-1.7071277 2.91007407-1.313617 4.38533332l-1.332766-1.52629628c-.385851.21474074-2.0182979 1.65918518-.7937234 3.84703708l-1.5252127-1.274963-2.0240426 2.0299259 2.7344681 2.7502222c-2.1121277-1.6861481-4.3889362-1.5205185-6.2157447.312-1.9560638 1.9615556-1.8181915 4.3381482-.3532979 6.293926l-.295851-.2946667c-1.9321277-1.9432593-4.0318085-1.2576296-5.0706383-.2128148-.8023405.8079259-1.2944681 1.9191852-1.0924468 2.6905185l-4.195532-4.2187407-2.22893613 2.2408148 8.25893613 8.3065185h4.4339362l-2.9767021-2.9938519c-.5893908-.6029568-.9604155-1.0987731-1.1531529-1.5232627-.3182349-.7008886-.1504161-1.2073234.3230465-1.680515.7334043-.7318519 1.583617-.2763704 3.0829787 1.2277777l2.9412766 2.9562963 2.2164894-2.2292592-2.7909575-2.8060741c2.0125532 1.5291852 4.4224468 1.612 6.5728724-.545037 1.3567021-1.2653334 1.7425532-2.4565185 1.7425532-2.4565185l-1.6755319-1.1314815c-.9229788 1.3866666-2.5152128 3.6361481-4.195532 1.9461481l4.2606383-4.2851852 2.655 2.6712593 2.3160639-2.3294074-3.3223405-3.3424445c-1.5520212-1.5609629-.6328723-3.0275555.0124469-3.5793333.3025531.6442222.7448936 1.2624445 1.3078723 1.8296296 2.1485106 2.1676297 4.9260638 2.6038519 7.3685106.1550371 1.3567022-1.2643704 1.7425532-2.4565185 1.7425532-2.4565185zm-3.6564894-1.35537321-2.0211702 2.03377777c-.9890425-1.18251851-.9392553-1.81422222-.3245744-2.43051851.7439361-.7462963 1.4993617-.43044445 2.3457446.39674074zm-12.4879787 12.56088884c-.9890425-1.1825185-.9411702-1.819037-.3284042-2.4353333.7448936-.7462963 1.5003191-.4304444 2.3467021.3967408z" fill="#0f1621" fill-opacity=".7"/><path d="m17.2765957 31.0029116-4.787234 4.8148148-4.78723404-4.8148148zm23.1864894-21.70422223 1.6755319 1.13148153s-.385851 1.1921481-1.7425532 2.4565185c-2.4424468 2.4488148-5.22 2.0125926-7.3685106-.1550371-.5629787-.5671851-1.0053192-1.1854074-1.3078723-1.8296296-.6453192.5517778-1.5644681 2.0183704-.0124469 3.5793333l3.3223405 3.3424445-2.3160639 2.3294074-2.655-2.6712593-4.2606383 4.2851852c1.6803192 1.69 3.2725532-.5594815 4.195532-1.9461481l1.6755319 1.1314815s-.3858511 1.1911851-1.7425532 2.4565185c-2.1504256 2.157037-4.5603192 2.0742222-6.5728724.545037l2.7909575 2.8060741-2.2164894 2.2292592-2.9412766-2.9562963c-1.4993617-1.5041481-2.3495744-1.9596296-3.0829787-1.2277777-.4734626.4731916-.6412814.9796264-.3230465 1.680515.1927374.4244896.5637621.9203059 1.1531529 1.5232627l2.9767021 2.9938519h-4.4339362l-8.25893613-8.3065185 2.22893613-2.2408148 4.195532 4.2187407c-.2020213-.7713333.2901063-1.8825926 1.0924468-2.6905185 1.0388298-1.0448148 3.1385106-1.7304445 5.0706383.2128148l.295851.2946667c-1.4648936-1.9557778-1.6027659-4.3323704.3532979-6.293926 1.8268085-1.8325185 4.103617-1.9981481 6.2157447-.312l-2.7344681-2.7502222 2.0240426-2.0299259 1.5252127 1.274963c-1.2245745-2.1878519.4078724-3.63229634.7937234-3.84703708l1.332766 1.52629628c-.3935107-1.47525925-.0392553-3.02851851 1.313617-4.38533332 2.0240426-2.02992593 4.6062766-2.00007407 6.8984043.312.2211702.22340741.5112766.56718519.8923404.97740741l-4.2510638 4.27651851c1.6803191 1.689037 3.2763829-.5546667 4.1984042-1.94133333zm-16.1444681 11.20551563 2.0182979-2.0385925c-.846383-.8271852-1.6018085-1.1430371-2.3467021-.3967408-.612766.6162963-.6606383 1.2528148.3284042 2.4353333zm12.4879787-12.56088884c-.8463829-.82718519-1.6018085-1.14303704-2.3457446-.39674074-.6146809.61629629-.6644681 1.248.3245744 2.43051851z" fill="#fff" fill-opacity=".3"/></g></svg>',sj={Hl:"#0F1621",Il:.3,Cl:"#fff",Dl:.6},rj={Hl:"#fff",Il:1,Cl:"#0F1621",Dl:.7},uj="1987&ndash;"+wd(2015,(new Date).getFullYear())+" HERE";function vj(t,e,n,r){wj(A((function(t){t?this.Oh?n("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAADNklEQVRYR82XW6hVVRSGv7+rmJfSMKSnSkMEfY7EogcJC7tilGRopBAiSaI+SBARQSCIIqgFISih2YW0oAgLCsKXojA0RB+81VugZEFZv/yHuWTt7d7Hfc4+6+h4OWefNfcc3xlj/v+YS1zjoab5bE8DZgGngB8keSg5GwO0PQ54F3i2BnQIWCLpx14hGwG0fT3wOfBwB5DzwOOSDvQC2RTgM8Ae4D/gaeA3YDdwN5AWvyxp+6gD2r4OmAq8AbwInAMmA/OAT4CbgBWStvYClzUjWkHbrwHLgF8LVHJ8DDxah7P9JHCil7M40oA/A7OBC8ANtSqlrQOVs30/8CWQat8r6cxg1RwRQNvPA88Bk4D7gJzBV4A5teSp5MlS4VuA/ZIeu1Kr+wa0/QTwIRDlRhT5eTswBvi2CKOd42AULilndNAYCcA7gK+BmbVMiyXtsh3Qt4FFBTgW8w6wXtLfV4LrSyS2FwAvAWOBX+JtwF0laUDmS/oun23fDNwJnJb0Ty9g1ZphVdB2qrK2LdFfBbb685/AIxXkUKDqa4cMaDs2kjalRe8Fola57J3qRQSJviGHA3gMuAdYI2lDUfDOArQLWAd8VTuTOW9vjUoFy6TIGYpS9wKfAjuK5wVuSfn91iKcvZJeHy5ci0hsZwzNk5Qh3xIFbLyks7aPAtPLgv+L4VZwDwLvA6uKz6XdfcVAi22PBz4q4+lVSRurXW2vKYKIZfwEHCmmXC35HngAyITYD0ys2t8XWflyBfhmvKm24QCk7aVFCPVc7WMszzKucknI+NoHPCUppt13VICZm2nNwjoksByY0SXL72Vi3FieZ97mgrpyqF432H9xScW2O0H+W6oSE/4D2FYuA9kzlUzVTwO3Ad9IOtx3ydo2aLGZLpABm5KW2Z4AfAbMLfsEcpGkKLqRuMwHu0CukrSpCCrvGlF6hBEVL5MUw24kOhp1B8gc+FTqgxpkFLuzSbjk6jpJOkC2tDPeKCkVbDRkO67fDTTC2VK7vgfyBUlfNEpV2zyAK4HNXRLmZfshScdHC6g9T+WDGU2XpkdZdNXhWs6g7dXAhmsJ7jKR2M77bG4kV7Wt9TZfBLgYEC7PSpcIAAAAAElFTkSuQmCC"):n("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIMSURBVFiFzdZPiE1RGADwXzPTTPIMQoodVpbKgpoUG5qExUi8DSVJQv4slJJsbNjYWFhNETWLUUosRDRLUVLCYhIiojFojHkW997uvefNGIuZc99Xp/fOO6/Or++c75xDi0d7hDlWYQNqeB9hvv+OGq6jUWjPsKZKVBbtuKOMy9p3bKqOlsROCWYc27AWr9PfJnCgKlgbluNqivmGDmzBrxR3sCocnMEw7sqXdEAzboeK9uLTFPVbed8VcesxglFJtqNEHbcxlIL68ChADuCSpEgauBULt11SDI3C5yJJdrLCCNsQumMBl+J5AKinY4slBfNTfsRcxJwYsK0YxD3J0r1RPut6Cv/twgp0xoDBBc3LNhr0RwJktNifAn7gsnLmsuxVinyVTn4i7dcLoH4sU96Tp2Pi2uSVehN75Gdev+QO7pIXztmZnLwTvf+AzU+/v5Rn50+A24gP2IW5M4mbJ7+ejgVjJ/EpHXuCa8p77nGK68FX5eWfsTgfTJoh92qu1vAaa+CtPJuDZuEh3CHZUyHyxSSYrL3DWKE/gStm8aybDDkmKYperJM/BrJMnsJuHMLq2YJNh/wsX7JuPAyQfTFg0yGPFMZreCCv4n2xgTQjxyXP+CxquK8iXBYhMlzOtliQBVg4RVuCG/iSto/YHAuWxWFTHyXDWBkbNFkc1cK4LI5rYVwW57QY7i/pZeJv8QQJRQAAAABJRU5ErkJggg=="):((t=this.Gf.cloneNode(!0)).firstChild.setAttribute("style","font:"+e),n($e(t.innerHTML)))}),t),r)}function wj(t,e){var n="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(oj),r=qj;tc(r)?t(r):new rf("image",n).then((function(e){We.drawImage(e,0,0);try{We.getImageData(0,0,1,1),r=!1}catch(n){r=18===n.code}finally{qj=r,t(r)}}),e)}lj.prototype.ta=function(){var t,e,n,r=this.a,i=r.ub(),o=r.b.lb().bounds,a=(r=r.a).a.length,s={},l=0,u=[uj];if(o)for(;l<a;l++)if(e=r.get(l).getCopyrights(o.I(),i))for(t=0;t<e.length;t++)s[n=e[t].label]||(u.push(n),s[n]=1);return u.join(", ")},lj.prototype.getCopyrights=lj.prototype.ta,lj.prototype.ua=function(){return this.R.style},lj.prototype.i=String.fromCharCode(169),lj.prototype.s=function(){if(this.a.removeEventListener(this.a.m.lj,this.c),this.a.a.removeEventListener("add",this.b),this.a.a.removeEventListener("remove",this.b),this.a.a.removeEventListener("set",this.b),this.R.parentNode){var t=this.R;t.parentNode.removeChild(t)}},lj.prototype.capture=function(t,e,n,r){var i,o=t.getContext("2d"),a=window.getComputedStyle(this.f.parentElement),s=2*Ac(a.paddingLeft,10),l=(this.f.offsetWidth+2*s)*e,u=this.f.offsetHeight*e,c=Bc(a.getPropertyValue("font-size")),h=this.R.ownerDocument,f=+t.width,p=+t.height,d=nj*e,v=this.Gf.childNodes[0].getBoundingClientRect(),g=v.width*e,y=v.height*e,m=hd;Ca(r)&&(m=function(){r("capture_error")}),o.fillStyle=a.backgroundColor,o.fillRect(f-l,p-u,l,u),l=this.i+" "+(i=this.ta(),(i=mj(h,"div",null,i)).textContent||i.innerText||""),o.font=c*e+"px "+a.getPropertyValue("font-family"),o.fillStyle=a.getPropertyValue("color"),o.textBaseline="bottom",o.textAlign="right",o.fillText(l,f-s*e,p),vj(this,o.font,(function(e){new rf("image",e).then((function(e){o.drawImage(e,d,p-(y+d),g,y),n(t)}),m)}),m)},lj.prototype.capture=lj.prototype.capture,lj.prototype.Oh=!1;var tj={"de-DE":"Nutzungsbedingungen","en-US":"Terms of use","en-GB":"Terms of use","es-ES":"Condiciones de uso","fi-FI":"Palveluehdot","fr-FR":"Conditions d'utilisation","it-IT":"Condizioni di utilizzo","nl-NL":"Dienstvoorwaarden","pl-PL":"Warunki \u015bwiadczenia us\u0142ugi","pt-BR":"Termos de servi\xe7o","pt-PT":"Termos do servi\xe7o","ru-RU":"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","tr-TR":"Servis Ko\u015fullar\u0131","zh-CN":"\u4f7f\u7528\u6761\u6b3e"};function Q(t){var e={};this.i=e.previousSibling=e.nextSibling=e,this.j=new af,Q.l.constructor.call(this,t),t&&"objects"in t&&this.dc(t.objects)}function xj(t,e,n){t.we(n.a)}function yj(t){t.sf()}function zj(t,e,n){t.xa(n.g)}function Aj(t){this.push(t)}function Bj(t,e){for(var n,r,i=0,o=e.length,a=[];i<o;i++)r={},(n=e[i])instanceof Q?(r.type="GeometryCollection",r.geometries=Bj(t,n.Va())):r=n.ba().Rc(),a.push(r);return a}u(Q,M),t("H.map.Group",Q),Q.prototype.type=Pg.GROUP,Q.prototype.we=function(t,e){return this.f=!0,t=Q.l.we.call(this,t,e),this.f=!1,t&&this.forEach(xj,!0),t},Q.prototype.setProvider=Q.prototype.we,Q.prototype.contains=function(t){var e=this===t;if(!e&&this.b&&C(t,M))for(;!e&&t;)t===this?e=!0:t=t.Wa;return e},Q.prototype.contains=Q.prototype.contains,Q.prototype.sf=function(){this.N=B,this.forEach(yj,!0)},Q.prototype.resetZInfo=Q.prototype.sf,Q.prototype.f=!1,Q.prototype.xa=function(t){var e=Q.l.xa.call(this,t);return e&&!this.f&&(this.g=t,this.forEach(zj,!0),delete this.g),e},Q.prototype.invalidate=Q.prototype.xa,Q.prototype.forEach=function(t,e,n){var r;if(this.b){var i=this.i,o=i.nextSibling;for(r=0;o!==i;){var a=o.nextSibling;t.call(n,o,r++,this),e&&C(o,Q)&&o.forEach(t,e,n),o=a}}},Q.prototype.forEach=Q.prototype.forEach,Q.prototype.Va=function(t){var e=[];return this.forEach(Aj,t,e),e},Q.prototype.getObjects=Q.prototype.Va,Q.prototype.I=function(){var t=null;return this.b&&this.forEach((function(e){(e=e.I())&&(t=t?t.lc(e):e)})),t},Q.prototype.getBoundingBox=Q.prototype.I,Q.prototype.b=0,Q.prototype.Em=function(){return this.b},Q.prototype.getChildCount=Q.prototype.Em,Q.prototype.ea=function(t){var e=this.i,n=e.previousSibling;if(C(t,M,this.ea,0),t.contains(this))throw new Xc(this.ea,"The new object contains the parent group");var r=t.dg(!0),i=t.Wa;if(i!==this){if(i){i=t.previousSibling;var o=t.nextSibling;i.nextSibling=o,o.previousSibling=i}t.Wa=this,M.l.ka.call(t,this),n.nextSibling=t,t.previousSibling=n,t.nextSibling=e,e.previousSibling=t,this.b++}return t.Ti=this.j.next(),t.sf(),e=t.we(this.a,this.ea),t.dg(!0)^r&&t.xa(Mg.VOLATILITY),e||t.xa(Mg.Z_ORDER),t},Q.prototype.addObject=Q.prototype.ea,Q.prototype.dc=function(t){var e;yc(t,this.dc,0);var n=t.length;for(e=0;e<n;e++)this.ea(t[e])},Q.prototype.addObjects=Q.prototype.dc,Q.prototype.Ha=function(t){if(!t||t.Wa!==this)throw new Xc(this.Ha,"object not found");var e=t.previousSibling,n=t.nextSibling;return e.nextSibling=n,n.previousSibling=e,t.Wa=null,M.l.ka.call(t,null),delete t.previousSibling,delete t.nextSibling,C(t.a,N)&&t.we(null,this.Ha),this.b--,t},Q.prototype.removeObject=Q.prototype.Ha,Q.prototype.Fd=function(t){var e;yc(t,this.Fd,0);var n=t.length;for(e=0;e<n;e++)this.Ha(t[e])},Q.prototype.removeObjects=Q.prototype.Fd,Q.prototype.pa=function(){var t=this.Va();this.Fd(t)},Q.prototype.removeAll=Q.prototype.pa,Q.prototype.Rc=function(t){for(var e,n,r,i=this.Va(),o=0,a=i.length,s=[];o<a;o++)(r=i[o])instanceof Q?(n=Sg(this,e=t?t(r.getData()):r.getData(),!!t),(e={type:"Feature"}).properties=n,r.o&&(e.id=r.o),e.geometry={},e.geometry.type="GeometryCollection",e.geometry.geometries=Bj(this,r.Va()),s.push(e)):s.push(r.Rc(t));return{type:"FeatureCollection",features:s}},Q.prototype.toGeoJSON=Q.prototype.Rc,Q.prototype.W=function(){var t=Q.l.W.call(this);return t.type="Group",t},Q.prototype.forWorkerMessage=Q.prototype.W;var Cj={PROVIDES_BY_VIEWPORT:1,PROVIDES_RASTERS:2,PROVIDES_SPATIALS:4,PROVIDES_OVERLAYS:8,PROVIDES_MARKERS:16,PROVIDES_DOM_MARKERS:32,PROVIDES_GEOJSON:64,PROVIDES_OMV:128,CROP_LINES_BY_TILE:256,CROP_POLYGONS_BY_TILE:512,HAS_VOLATILE_DATA:1024};function Dj(t,e,n,r,i){switch(e&&(this.b=e),tc(n)&&(this.Zg=!!n),this.Zg&&r&&(this.ah=new Ki(r.w,r.h)),tc(i)&&(this.c={crossOrigin:i}),Ej[xc(t)]){case 2:this.Cd=t,Fj(this,1);break;case 1:if(lf(t)){this.Cd=t,Gj(this),Fj(this,1);break}t=t.src;case 0:if(t){t=$e(t),this.a=new rf("image",t,B,this.c),this.a.then(A(this.Ho,this),A(this.Go,this));break}default:throw Fj(this,-1),new D(Dj,0,"No image data")}}function Fj(t,e){t.A=e,delete t.a,t.b&&t.b(e,t)}function Gj(t){if(t.Zg){var e=t.Cd,n=Hj(t),r=n&&n.w||+e.width,i=n&&n.h||+e.height,o=Se();if(C(e,x.HTMLCanvasElement))n=e;else{(n=e.ownerDocument.createElement("canvas")).width=zd(r*o),n.height=zd(i*o);var a=n.getContext("2d");a.scale(o,o),a.drawImage(e,0,0,r,i),Zc&&(a.clearRect(0,0,r,i),a.drawImage(e,0,0,r,i))}t.Cd=n}}t("H.map.provider.Capabilities",Cj),Cj.PROVIDES_WEBGL_RENDERABLE_OBJECTS=Cj.PROVIDES_SPATIALS|Cj.PROVIDES_OVERLAYS|Cj.PROVIDES_MARKERS,n=Dj.prototype,n.A=0,n.getState=function(){return this.A},n.Zg=!0,n.Cd=y,n.getData=function(){return this.Cd};var Ej={String:0,HTMLImageElement:1,HTMLCanvasElement:2};function Hj(t){var e,n=t.ah;if(!n){var r=t.Cd;if(0===(n=r.naturalWidth||r.width)&&Ye&&1===Ej[xc(r)]){var i=!0;if(e=r.parentNode)var o=r.nextSibling;document.body.appendChild(r)}t.ah=n=new Ki(r.naturalWidth||r.width,r.naturalHeight||r.height),i&&(e?e.insertBefore(r,o):document.body.removeChild(r))}return n}function Ij(t,e){var n,r="anonymous";if(this.uid=Jj.next(),Ij.l.constructor.call(this),e){var i="size";if(i in e){var o=e[i];if(!o||isNaN(o.w)||isNaN(o.h))throw new D(Ij,1,i);this.c=new Ki(o.w,o.h)}if((i="anchor")in e){if(!(o=e[i])||isNaN(o.x)||isNaN(o.y))throw new D(Ij,1,i);this.b=new I(o.x,o.y)}(i="hitArea")in e&&(C(o=e[i],Li,Ij,1),this.g=e[i]),(i="asCanvas")in e&&(n=e[i]),(i="crossOrigin")in e&&(r=e[i]),(o=e.stickHeight)===+o&&0<o&&(this.fp=o),o=e[i="stickColor"],i in e&&zc(o)&&(this.ep=o)}t=new Dj(t,A(this.i,this),n,this.c,r),0!==(e=this.A=t.getState())?this.i(e,t):this.f=t}n=Dj.prototype,n.ah=y,n.Bb=function(){return 1===this.A?Hj(this):y},n.Ho=function(t){this.Cd=t,Gj(this),Fj(this,1)},n.Go=function(){Fj(this,-1)},n.cancel=function(){this.a&&this.a.cancel()},u(Ij,F),t("H.map.Icon",Ij);var Jj=new af;function Kj(t,e,n,r,i,o){Kj.l.constructor.call(this,isNaN(t)?15:t,e,n,r,i,o)}function Lj(t,e,n,r,i){var o=e.entries;if(i)if(e.a)o=Mj(t,e,n,r,i);else if(o){var a=pg(e,(o=o[0])[1]>=e[8]|(o[0]>=e[9])<<1);a.entries=e.entries,delete e.entries,o.node=a,mg(t,a),o=Mj(t,e,n,r,i)}else qg(e,o=new Nj(n,r)),mg(t,e),kg(t,o,!0);else o||mg(t,e),qg(e,o=new Nj(n,r)),kg(t,o,!0);return o}function Mj(t,e,n,r,i){return Lj(t,pg(e,n>=e[8]|(r>=e[9])<<1),n,r,i-1)}function Nj(t,e){this.id=og++,this[0]=e,this[1]=t}function Oj(){this.a=new Kj(10,180,90,0,0,!0)}function Pj(t,e,n){this.c=t,this.a=e,this.g=n,this.f=this.c&Cj.PROVIDES_BY_VIEWPORT?"function(){return sources[$source].isInMinMaxRange(feature, $zoom) && feature.ref.effectiveVisibility;}":B,this.b={}}function Qj(t,e,n,r){this.a=t,this.b=e,this.c=n,this.Bf=r}function Rj(t,e,n,r){return t={type:e,uid:t.b,tiled:n,max_zoom:t.c},r&&Wa(t,r),t}function Sj(t){this.a=t}function Tj(t,e,n,r,i){this.a=t,this.b=e,this.c=n,this.f=r,this.Bf=i}function Uj(t){if(t.a&Cj.PROVIDES_DOM_MARKERS&&!(t.a&Cj.PROVIDES_MARKERS))return{};var e=new Qj(t.a,t.b,t.c,t.Bf),n=new Sj(t.a);t=new Pj(t.a,t.b,t.f);var r={},i=e.b;if(e=e.a&Cj.PROVIDES_BY_VIEWPORT?Rj(e,"ObjectSource",!1,{progressiveUpdate:!0,has_volatile_data:!!(e.a&Cj.HAS_VOLATILE_DATA)}):e.a&Cj.PROVIDES_RASTERS?Rj(e,"RemoteRasterTileSource",!0,{url:""}):Rj(e,"ObjectTileSource",!0,{tile_size:e.Bf}),r[i]=e,e={},n.a&Cj.PROVIDES_RASTERS&&(e={"translucent-raster":Mh("raster","inlay",1)}),n.a&Cj.PROVIDES_WEBGL_RENDERABLE_OBJECTS){i=!!(n.a&Cj.CROP_LINES_BY_TILE);var o={"translucent-polygons":Mh("polygons","inlay",2),"translucent-extruded-polygons":Mh("polygons","translucent",3),"translucent-pattern-lines":Mh("pattern-lines","translucent",4),"translucent-overlays":Mh("overlays","inlay",5),markers:Mh("custom_icons","overlay",6,!1)};o["translucent-polygons"].crop_by_tile=!!(n.a&Cj.CROP_POLYGONS_BY_TILE),o["translucent-pattern-lines"].crop_by_tile=i,o.markers.suppress_fade=!0,o.markers.stick=!0,Wa(e,o)}if(t.c&Cj.PROVIDES_RASTERS&&(t.b["tile_layer_"+t.a]=Oh(t.a,"_default",{"translucent-raster":{color:[1,1,1,t.g],order:0}})),t.c&Cj.PROVIDES_SPATIALS){n={"translucent-pattern-lines":{color:Lh("strokeColor"),width:Lh("lineWidth * $meters_per_pixel"),join:Lh("lineJoin"),cap:Lh("lineCap"),tail_cap:Lh("lineTailCap"),head_cap:Lh("lineHeadCap"),miter_limit:Lh("miterLimit"),order:"function() { return 2 + feature.effectiveZIdx / 2; }",interactive:!0,dash:Lh("lineDash"),extrude:!0,dash_phase:Lh("lineDashOffset")}},i=t.b,o="polygon_layer_"+t.a;var a=Oh(t.a,"polygons",void 0,t.f);a.flat={filter:"function(){return !feature.height && !feature.min_height;}",draw:Nh(!1)},a.extruded={filter:"function(){return feature.height || feature.min_height;}",draw:Nh(!0)},i[o]=a,t.b["outline_layer_"+t.a]=Oh(t.a,"outlines",n,t.f),t.b["polyline_layer_"+t.a]=Oh(t.a,"polylines",n,t.f)}return t.c&Cj.PROVIDES_OVERLAYS&&(t.b["overlay_layer_"+t.a]=Oh(t.a,"overlays",{"translucent-overlays":{color:[1,1,1,t.g],order:8190,interactive:!0}})),t.c&Cj.PROVIDES_MARKERS&&(t.b["marker_layer_"+t.a]=Oh(t.a,"markers",{markers:{sprite:Kh("icon.id"),offset:Kh("icon.offset"),collide:!1,priority:8191,elevate_by_altitude:!0,interactive:!0,stick:{color:Kh("icon.stick_color"),height:Kh("icon.stick_height")}}},t.f)),{sources:r,styles:e,layers:t.b}}function P(t){var e,n=""+cf();if(P.l.constructor.call(this),t=t||{},this.min=t.min||0,this.max=t.max||22,e=t.uri){if(/_/.test(e))throw new D(P,0,"uri "+e)}else e=n;this.uri=e||n,this.uid=n,t.getCopyrights&&wc(t.getCopyrights,"Function",P)&&(this.getCopyrights=t.getCopyrights),this.f=this.f.bind(this),this.sa=!0}function Vj(t,e,n){t.dispatchEvent(new sd(t.g.Ea,n,e))}function Wj(t,e){e=Yd(e,0,1),E(e)&&(e=1),t.i!==e&&(t.i=e,t.sa&&Xj(t),t.f(),Vj(t))}function Xj(t){var e=new Tj(t.getCapabilities(),t.uid,t.max,t.i,t.tileSize);t.b=new Th(Uj(e)),t.sa=!0}function Zj(t){var e;for(e in uc(this,Zj),Zj.l.constructor.call(this,t),this.Da=t=[],Pg)t[Pg[e]]=new Lg}function N(t){t=t||{},N.l.constructor.call(this,t),this.c=t=new Q({min:t.min,max:t.max}),t.a=this,t.ka(this),t.xa(Mg.ADD),this.v=new wg,this.j=new wg,this.m=new Oj,this.u=new wg,this.D=new Oj,this.S=new wg}function ak(t,e,n,r,i,o,a){if(a=a||[],e.bd())for(t=e!==t.m&&e!==t.u,i=!i,n=(e=e.gg(n,o,o)).length,o=0;o<n;o++){var s,l=e[o].dj;if(s=void 0!==r){for(var u=yd(r),c=l;(s=c.v<=u&&c.u>=u)&&(c=c.Wa););s=!s}s||!i&&!l.Bc(!0)||(t||1===l.Ab().getState())&&a.push(l)}return a}function bk(t,e,n,r,i){var o=ak(t,t.m,e,n,r,i);return ak(t,t.u,e,n,r,i,o),o}function ck(t,e,n,r,i){var o=ak(t,t.D,e,n,r,i);return ak(t,t.S,e,n,r,i,o),o}function dk(t,e,n){var r,i=n.ba(),o=ek.bind(null,t);t=fk.bind(null,t),C(n,nh)?r=C(i,L)?o(i):i.oa.some(o):C(n,xi)?r=C(i,O)?t(i):i.oa.some(t):C(n,gk)&&(r=t(ni(i))),r&&e.push(n)}function ek(t,e){t:{var n=e.X,r=si(t,e);if(!r){e=e.X.length;for(var i=0;i<e;i+=3)if(qi(t,n[i],n[i+1])){t=!0;break t}}t=r}return t}function fk(t,e){return ti(t,e)}function hk(t,e,n){for(var r=t.length;r--;){var i=t[r],o=i.ba();if(C(o,Ji)){for(var a,s=(o=o.oa).length;s--;)if(qi(e,(a=o[s]).lat,a.lng)){n.push(i);break}}else qi(e,o.lat,o.lng)&&n.push(i)}}Ij.State={ERROR:-1,LOADING:0,READY:1},Ij.prototype.getState=function(){return this.A},Ij.prototype.getState=Ij.prototype.getState,Ij.prototype.i=function(t,e){if(this.a=e.getData(),1===t){var n=this.c;n||(n=this.c=e.Bb()),this.b||(this.b=new I(n.w/2|0,n.h))}this.f&&(this.A=t,delete this.f,this.dispatchEvent("statechange"))},Ij.prototype.a=y,Ij.prototype.ad=function(){return this.a},Ij.prototype.getBitmap=Ij.prototype.ad,Ij.prototype.c=y,Ij.prototype.Bb=function(){return this.c},Ij.prototype.getSize=Ij.prototype.Bb,Ij.prototype.b=y,Ij.prototype.td=function(){return this.b},Ij.prototype.getAnchor=Ij.prototype.td,Ij.prototype.g=y,Ij.prototype.Xm=function(){return this.g},Ij.prototype.getHitArea=Ij.prototype.Xm,Ij.prototype.s=function(){Ij.l.s.call(this),this.a?(this.a.removeAttribute("src"),delete this.a):(this.f.cancel(),delete this.f)},u(Kj,hg),Kj.prototype.o=function(t){for(var e,n,r,i=this.head;t;){if(e=t.entries)if(n=e.length){if(2>n&&(r=t.parent)&&1===r.a){r.removeChild(t),i===t&&(i=r),r.entries=e,t=e[0].node=r;continue}}else if(delete t.entries,(r=t.parent)&&(r.removeChild(t),i===t&&(i=r),1===r.a)){t=r.a?r[0]||r[1]||r[2]||r[3]:null;continue}t=y}this.head!==i&&(this.head=i,mg(this))},Kj.prototype.Dc=function(t,e){if(rg(this.a,t,e,t,e))return Lj(this,this.a,t,e,this.c);throw Error("Coordinates out of bounds")},Nj.prototype.vd=function(t){return this[t%2]},n=Oj.prototype,n.Wh=0,n.bd=function(){return this.Wh},n.P=null,n.I=function(){var t,e=this.P;return!e&&(t=ig(this.a))&&(this.P=e=new K(-t[0],t[3],-t[2],t[1])),e},n.Dc=function(t){return++this.Wh,this.P=null,this.a.Dc(t.lng,-t.lat)},n.remove=function(t){return(t=this.a.remove(t))&&(--this.Wh,this.P=null),t},n.gg=function(t,e,n){var r=this.a,i=t.Qb(),o=t.Mb(),a=-i.lat;i=i.lng;var s=-o.lat;return o=o.lng,t.Eb()?r.ab(-180,a,o,s,n,e).concat(r.ab(i,a,180,s,n,e)):r.ab(i,a,o,s,n,e)},u(P,F),t("H.map.provider.Provider",P),P.prototype.g={Be:"configchange",Ea:"update"},P.prototype.f=function(){this.dispatchEvent(this.g.Be)},P.prototype.s=function(){F.prototype.s.call(this),this.b&&(this.b.removeEventListener("change",this.f),this.b=null)},P.prototype.ta=function(){return null},P.prototype.getCopyrights=P.prototype.ta,P.prototype.getCapabilities=function(){var t=0;return this.wi()&&(t|=Cj.PROVIDES_BY_VIEWPORT),this.providesRasters()&&(t|=Cj.PROVIDES_RASTERS),this.providesSpatials()&&(t|=Cj.PROVIDES_SPATIALS),this.providesOverlays()&&(t|=Cj.PROVIDES_OVERLAYS),this.providesMarkers()&&(t|=Cj.PROVIDES_MARKERS),this.providesDomMarkers()&&(t|=Cj.PROVIDES_DOM_MARKERS),this.providesGeoJSON()&&(t|=Cj.PROVIDES_GEOJSON),this.providesOMV()&&(t|=Cj.PROVIDES_OMV),t},P.prototype.getCapabilities=P.prototype.getCapabilities,P.prototype.wi=ef,P.prototype.mf=ef,P.prototype.providesRasters=P.prototype.mf,P.prototype.Hc=ef,P.prototype.providesSpatials=P.prototype.Hc,P.prototype.yi=ef,P.prototype.providesOverlays=P.prototype.yi,P.prototype.Vb=ef,P.prototype.providesMarkers=P.prototype.Vb,P.prototype.Ub=ef,P.prototype.providesDomMarkers=P.prototype.Ub,P.prototype.xi=ef,P.prototype.providesGeoJSON=P.prototype.xi,P.prototype.Dd=ef,P.prototype.providesOMV=P.prototype.Dd,P.prototype.ug=hd,P.prototype.preprocessData=P.prototype.ug,P.prototype.i=1,P.prototype.pn=function(){return this.i},P.prototype.getOpacityInternal=P.prototype.pn,P.prototype.Pc=function(t,e){this.b&&(this.b.removeEventListener("change",this.f),this.b.removeEventListener(Rh,this.f)),this.b=t,this.b.addEventListener("change",this.f),this.b.addEventListener(Rh,this.f),e||this.f(),this.sa=!1},P.prototype.setStyleInternal=P.prototype.Pc,P.prototype.tb=function(){return this.b||Xj(this),this.b},P.prototype.getStyleInternal=P.prototype.tb,P.prototype.Yj=function(){var t=this.getCapabilities(),e=Yj.FEATURE;return t&Cj.PROVIDES_BY_VIEWPORT?e=Yj.SOURCE:t&Cj.PROVIDES_RASTERS?e=null:t&Cj.PROVIDES_WEBGL_RENDERABLE_OBJECTS&&(e=Yj.PROVIDER),e},P.prototype.getPickingMode=P.prototype.Yj,P.prototype.Tm=function(){return!1},P.prototype.getFeatureProxy=P.prototype.Tm,u(Zj,P),t("H.map.provider.ObjectProvider",Zj),Zj.prototype.wi=df,Zj.prototype.providesByViewport=Zj.prototype.wi,Zj.prototype.Ob=function(t){return this.Da[t||Pg.ANY]},Zj.prototype.getInvalidations=Zj.prototype.Ob,Zj.prototype.ie=function(t,e){if(e!==Mg.NONE){var n=this.Da[Pg.ANY],r=n.a+1;n.update(r,e),(n=this.Da[t.type]).update(r,e),t.Ob().update(r,e),Vj(this,t)}},Zj.prototype.invalidateObject=Zj.prototype.ie,Zj.prototype.requestOverlays=Zj.prototype.Gd,Zj.prototype.requestSpatials=Zj.prototype.zg,Zj.prototype.requestSpatialsByTile=Zj.prototype.Ag,Zj.prototype.Ja=!1,Zj.prototype.requestMarkers=Zj.prototype.Jc,Zj.prototype.requestDomMarkers=Zj.prototype.Ic,u(N,Zj),t("H.map.provider.LocalObjectProvider",N),N.prototype.getCapabilities=function(){return Cj.PROVIDES_BY_VIEWPORT|Cj.PROVIDES_WEBGL_RENDERABLE_OBJECTS|Cj.PROVIDES_DOM_MARKERS|Cj.CROP_LINES_BY_TILE},N.prototype.tb=function(){if(!this.V){this.V=N.l.tb.call(this);var t=new Tj(this.getCapabilities()|Cj.HAS_VOLATILE_DATA,this.uid+"_vol",this.max,this.i,this.tileSize);this.V.gf(Uj(t))}return this.V},N.prototype.ic=function(){return this.c},N.prototype.getRootGroup=N.prototype.ic,N.prototype.ie=function(t,e){e&Mg.SPATIAL&&this.ea(t),N.l.ie.call(this,t,e)},N.prototype.invalidateObject=N.prototype.ie,N.prototype.ea=function(t){var e;if(C(t,M,this.ea,0),t.a!==this)throw new Xc(this.ea,"foreign object");this.Ha(t);var n=t.type;if(n===Pg.MARKER)if((e=t.ba())instanceof Wf){var r=!0;n=this.m}else n=this.u;else n===Pg.DOM_MARKER?(e=t.ba())instanceof Wf?(r=!0,n=this.D):n=this.S:n=n===Pg.OVERLAY?this.v:this.j;(r=r?n.Dc(e):n.jk(t.I())).dj=t,t.$=r},N.prototype.Ha=function(t){var e;if(t)if(t.a!==this){if(C(t,M))throw new Xc(this.Ha,"foreign object")}else if(e=t.$){var n=t.type;n===Pg.MARKER?this.m.remove(e)||this.u.remove(e):n===Pg.DOM_MARKER?this.D.remove(e)||this.S.remove(e):n===Pg.OVERLAY?this.v.remove(e):this.j.remove(e),delete e.dj,delete t.$}},N.prototype.removeObject=N.prototype.Ha,N.prototype.yi=function(){return 0<this.v.bd()},N.prototype.providesOverlays=N.prototype.yi,N.prototype.Gd=function(t,e,n){return ak(this,this.v,t,e,n,!1).filter((function(t){return t.ad()}))},N.prototype.requestOverlays=N.prototype.Gd,N.prototype.Hc=function(){return 0<this.j.bd()},N.prototype.providesSpatials=N.prototype.Hc,N.prototype.zg=function(t,e,n){return ak(this,this.j,t,e,n,!1)},N.prototype.requestSpatials=N.prototype.zg,N.prototype.Ag=function(t,e){return ak(this,this.j,t.Zf(),t.zL,e,!1)},N.prototype.requestSpatialsByTile=N.prototype.Ag,N.prototype.Vb=function(){return 0<this.m.bd()+this.u.bd()},N.prototype.providesMarkers=N.prototype.Vb,N.prototype.Jc=function(t,e,n){return bk(this,t,e,n,!1)},N.prototype.requestMarkers=N.prototype.Jc,N.prototype.Ub=function(){return 0<this.D.bd()+this.S.bd()},N.prototype.providesDomMarkers=N.prototype.Ub,N.prototype.Ic=function(t,e,n){return ck(this,t,e,n,!1)},N.prototype.requestDomMarkers=N.prototype.Ic,N.prototype.Va=function(t,e,n,r,i){for(var o=this,a=t.I(),s=[],l=Xb(),u=1;u&Pg.ANY;){if(u&r)switch(u){case Pg.MARKER:l=l.then((function(){return bk(o,a,n,e,!0)})).then((function(e){return hk(e,t,s)}));break;case Pg.DOM_MARKER:l=l.then((function(){return ck(o,a,n,e,!0)})).then((function(e){return hk(e,t,s)}));break;case Pg.SPATIAL:l=l.then((function(){return ak(o,o.j,a,n,e,!0)})).then((function(e){e.forEach(dk.bind(null,t,s))}));break;case Pg.OVERLAY:l=l.then((function(){return ak(o,o.v,a,n,e,!0)})).then((function(e){e.forEach(dk.bind(null,t,s))}))}u<<=1}l.then((function(){return i(s)}))},N.prototype.s=function(){N.l.s.call(this),this.c.pa()};var ik={PENDING:0,ACTIVE:1,DONE:2};function jk(t,e){var n;if(e=e||{},!C(t,Element))throw new D(jk,0,t);var r=t.ownerDocument.createElement("div");this.R=t,jk.l.constructor.call(this),this.padding=new kk(0,0,0,0),this.center=new I(0,0),this.margin=0,this.element=r,r.style.zIndex=0,r.style.height=r.style.width="100%",r.style.direction="ltr",r.style.position="relative"===t.style.position?"absolute":"relative",this.resize(),t.appendChild(r),(n=e.padding)!==B&&this.Mi(n.top,n.right,n.bottom,n.left),this.Hi((n=e.margin)!==B?n:0)}function lk(t){var e=t.padding;t.center.set((t.width+e.left-e.right)/2<<0,(t.height+e.top-e.bottom)/2<<0)}function mk(t,e,n,r,i,o){var a;for(a=[];r<=i;r++)a=a.concat(nk(t,n,r));for(t=a.length,hj.call(this,o,t),this.j=n=[],this.f=A(this.f,this),this.c=A(this.c,this),this.O(1);t--;)o=a[t],n.push(ok(e,o[0],o[1],o[2],this.f,this.c))}function pk(){}function qk(t,e){var n=this;if(!Ca(e))throw new D(rk,1,e);if(!Ca(t.next||Ca(t.cycle)))throw new D(qk,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.b=[],this.c=[],this.g=t,this.i=e,this.j=function(){sk(n)},this.a=null,this.f=function(){n.a||(n.a=x.setTimeout(n.j,1))}}function sk(t){var e=t.c,n=0,r=t.g;for(r.a(),t.a=null;n<e.length;){var i=e[n];i.nk?e.splice(n,1):n++}for(;i=r.next(t.b,t.c);)i.cancelled?i.done(null,"cancelled"):(e.push(i),t.i(i,i.data))}function uk(){tk(this,null,null,null)}function tk(t,e,n,r){return t.data=e,t.cancelled=!1,t.nk=!1,t.b=n,t.c=r,t.a=null,t}function vk(){}function wk(t,e){wk.l.constructor.call(this,new xk(t),e)}function xk(t){if(isNaN(t)||0>t)throw new D(wk,1,'Argument "maxTime" must be a positive number');this.b=t,this.Qc=yk()}function zk(t){if(uc(this,zk),zk.l.constructor.call(this,t),t&&"tileSize"in t){var e=Bd(+t.tileSize)/Ld;if(isNaN(e)||e%1||0>e||30<e)throw new D(zk,0,"tileSize: "+t.tileSize);this.tileSize=+t.tileSize}}function Ak(t,e){return Vd(t)-8-xd(Vd(e))}function Bk(){}function Ck(t,e,n){if(this.g=[],e&&this.pe(e),n&&!Ca(n))throw new D(Ck,2,n);this.b=0,this.filter=n,this.a={},this.f=this.c=null,this.Ji(t)}function Ek(t,e){return e&&(t.c=Fk(t,e,t.c)),e}function Gk(t){for(;t.b>t.i&&t.f;)Hk(t,t.f,!0)}function Fk(t,e,n){return n!==e&&((e.mc||e.jd)&&Hk(t,e,!1),(e.mc=n)&&(e.jd=n.jd,n.jd=e),e.jd||(t.c=e),e.mc||(t.f=e),t.b+=e.size),e}function Hk(t,e,n){var r=e.jd,i=e.mc;(r||i||e==t.c&&e==t.f)&&(r?r.mc=i:t.c=i,i?i.jd=r:t.f=r,t.b-=e.size,n&&(delete t.a[e.id],Dk(t,e))),e.mc=e.jd=null}function Dk(t,e){for(var n=t.g.length;n--;)t.g[n].call(t,e.id,e.data,e.size)}t("H.map.render.RenderState",ik),u(jk,F),t("H.map.ViewPort",jk),jk.prototype.a={Ea:"update",Ee:"sync"},jk.prototype.Hi=function(t){if(this.margin!==+t){if(E(this.margin=+t))throw new D(this.Hi,0,t);lk(this),this.dispatchEvent(this.a.Ea)}},jk.prototype.setMargin=jk.prototype.Hi,jk.prototype.Mi=function(t,e,n,r){var i=this.padding;if(i.top!==t||i.right!==e||i.bottom!==n||i.left!==r){if(E(t+e+n+r))throw new D(this.Mi);i.top=t,i.right=e,i.bottom=n,i.left=r,lk(this),this.dispatchEvent(this.a.Ea)}},jk.prototype.setPadding=jk.prototype.Mi,jk.prototype.resize=function(){var t=this.R.offsetWidth,e=this.R.offsetHeight;this.width===t&&this.height===e||(this.c=new Ki(this.width,this.height),this.width=t,this.height=e,lk(this),this.dispatchEvent(this.a.Ea))},jk.prototype.resize=jk.prototype.resize,jk.prototype.bb=function(t){this.dispatchEvent(new Ri(this.a.Ee,this.c,t,Si.SIZE))},jk.prototype.synchronize=jk.prototype.bb,jk.prototype.s=function(){x.clearTimeout(this.b),this.b=null,this.R.removeChild(this.element),this.element=this.R=null,jk.l.s.call(this)},jk.prototype.sc=Nc,jk.prototype.startInteraction=jk.prototype.sc,jk.prototype.jc=Nc,jk.prototype.interaction=jk.prototype.jc,jk.prototype.zb=Nc,jk.prototype.endInteraction=jk.prototype.zb,u(mk,hj),mk.prototype.f=function(){jj(this,2)},mk.prototype.c=function(){jj(this,4)},mk.prototype.He=function(){for(var t=this.j,e=t.length;e--;)t[e].cancel();this.j=y},t("H.util.ICancelable",pk),pk.prototype.cancel=function(){},pk.prototype.cancel=pk.prototype.cancel,t("H.util.AsyncQueue",qk),qk.prototype.push=function(t,e){if(!Ca(e))throw new D(this.push,1,e);return t=tk(new uk,t,this.f,e),this.b.push(t),this.f(),t},qk.prototype.push=qk.prototype.push,qk.Task=uk,uk.prototype.done=function(t,e){this.nk=!0,this.b(),this.c(this,t,e)},uk.prototype.done=uk.prototype.done,uk.prototype.cancel=function(){this.a&&this.a(),this.cancelled=!0},uk.prototype.cancel=uk.prototype.cancel,uk.prototype.Yo=function(t){return this.a=t,this},uk.prototype.setCancelFn=uk.prototype.Yo,qk.Mode=vk,vk.prototype.next=function(){},vk.prototype.a=function(){},u(wk,qk),t("H.util.SequentialQueue",wk),xk.prototype.next=function(t){return t.length&&yk()-this.Qc<this.b?t=t.shift():null},xk.prototype.a=function(){this.Qc=yk()},u(zk,P),t("H.map.provider.TileProvider",zk),zk.getZoomLevelOffset=Ak,zk.prototype.xd=function(t,e,n){return this.uri.concat("_",t,"_",e,"_",n)},zk.prototype.getTileKey=zk.prototype.xd,zk.prototype.Bf=256,zk.prototype.tileSize=zk.prototype.Bf,t("H.util.ICache",Bk),Bk.prototype.add=function(){},Bk.prototype.add=Bk.prototype.add,Bk.prototype.get=function(){},Bk.prototype.get=Bk.prototype.get,Bk.prototype.Rf=function(){},Bk.prototype.drop=Bk.prototype.Rf,Bk.prototype.forEach=function(){},Bk.prototype.forEach=Bk.prototype.forEach,Bk.prototype.pa=function(){},Bk.prototype.removeAll=Bk.prototype.pa,Bk.prototype.pe=function(){},Bk.prototype.registerOnDrop=Bk.prototype.pe,Bk.prototype.lh=function(){},Bk.prototype.deRegisterOnDrop=Bk.prototype.lh,t("H.util.Cache",Ck),Ck.prototype.add=function(t,e,n){var r,i;if(!Cc(n=+n)||0>n)throw new D(this.add,2,n);return t=String(t),(i=!this.filter||this.filter(t,e,n))&&((r=this.a[t])?(r.data!==e&&Dk(this,r),this.b+=n-r.size,r.size=n,r.data=e,Ek(this,r)):this.a[t]=Fk(this,{id:t,data:e,size:n,mc:null,jd:null},this.c),Gk(this)),i},Ck.prototype.add=Ck.prototype.add,Ck.prototype.pe=function(t){if(!Ca(t))throw new D(this.pe,0,t);this.g.push(t)},Ck.prototype.registerOnDrop=Ck.prototype.pe,Ck.prototype.lh=function(t){this.g=this.g.filter((function(e){return e!==t}))},Ck.prototype.deRegisterOnDrop=Ck.prototype.lh,Ck.prototype.get=function(t,e){return(t=e?this.a[t]:Ek(this,this.a[t]))&&t.data},Ck.prototype.get=Ck.prototype.get,Ck.prototype.Rf=function(t){var e;(e=this.a[t])&&Hk(this,e,!0)},Ck.prototype.drop=Ck.prototype.Rf,Ck.prototype.forEach=function(t,e,n){var r;for(r in this.a){var i=this.a[r];(!n||n(r,i.data,i.size))&&t.call(e,r,i.data,i.size)}},Ck.prototype.forEach=Ck.prototype.forEach,Ck.prototype.pa=function(t){var e;for(e in this.a){var n=this.a[e];(!t||t(e,n.data,n.size))&&Hk(this,this.a[e],!0)}},Ck.prototype.removeAll=Ck.prototype.pa,Ck.prototype.Ji=function(t){if(!(0<+t))throw new D(Ck.prototype.Ji,0,t);return this.i=+t,Gk(this),this},Ck.prototype.setMaxSize=Ck.prototype.Ji,Ck.prototype.mn=function(){return this.i},Ck.prototype.getMaxSize=Ck.prototype.mn,Ck.prototype.Km=function(){return this.b},Ck.prototype.getCurrentSize=Ck.prototype.Km;var Ik,Jk=function(){function t(){}for(var e,n,r,i=rc("o ms moz webkit "),o=5;o--&&!e;)e=i[o],e=(n=x[e+(e?"R":"r")+"equestAnimationFrame"])&&!E(n.call(window,t))&&(r=x[e+(e?"C":"c")+"ancelAnimationFrame"]);return Ik=e?function(t){return n.call(x,t)}:function(t){return x.setTimeout(t,25)},e?function(t){return r.call(x,t)}:function(t){return x.clearTimeout(t)}}(),yk=x.performance&&x.performance.now?function(){return x.performance.now()}:function(){return x.Date.now()};function Kk(t,e,n,r){this.key="",this.x=t,this.y=e,this.z=n,this.data=r,this.valid=!0}function Lk(t,e,n,r){return(t-=n)*t+(e-=r)*e}function Mk(t,e,n){return Nk(t,e*e,n||0,0,t.length-1)}function Nk(t,e,n,r,i){var o=0,a=r,s=t[r].x,l=t[r].y,u=t[i].x,c=t[i].y,h=r+1,f=Lk(s,l,u,c);if(f)for(;h<i;){var p=t[h++],d=p.x,v=((d-s)*(u-s)+((p=p.y)-l)*(c-l))/f;(d=0>v?Lk(d,p,s,l):1<v?Lk(d,p,u,c):Lk(d,p,s+v*(u-s),l+v*(c-l)))>o&&(o=d,a=h-1)}else for(;h<i;)(d=Lk(d=(p=t[h++]).x,p=p.y,s,l))>o&&(o=d,a=h-1);return o>=e||0<n&&a-r?(--n,1<a-r?(r=Nk(t,e,n,r,a)).splice(r.length-1,1):r=[t[r]],r=1<i-a?r.concat(Nk(t,e,n,a,i)):r.concat(t.slice(a,i+1))):r=[t[r],t[i]],r}function Ok(t,e,n,r,i,o,a,s){Ok.l.constructor.call(this,e,n,r,null),this.key=t,this.aa=s,this.a=i,this.g=o,this.i={},this.zL=a,this.m=zd(Ug.MAX_LINE_WIDTH/2*this.g+1)}function Pk(t){return t.aa.getInvalidations(Pg.SPATIAL)}function Qk(t){var e,n=Pk(t),r=n.a,i=t.c,o=i===r;if(!(o||n.lk(i)||n.Qh(i))){o=t.f;var a=t.i;if(n.ig(i))for(e=o.length;e--;){var s=o[e];if(s.Ob().ig(i)){o.splice(e,1);var l=l||Rk(t,s.fb())}}if(n.Rh(i)){for(e=o.length;e--;)if((s=o[e]).Ob().Rh(i)){var u=1;if((s=a[s.fb()])&&s.a){l=1;break}}u&&o.sort(Sk)}if(!l&&n.ke(i))for(e=o.length;e--;)if(o[e].Ob().ke(i)){var c=1;break}t.u!==i||c||(t.u=r,t.b!==i||l||(t.b=r)),t.c=r,o=!0}return o}function Tk(t,e){this.b=t,this.a=e}function Rk(t,e){var n=(t=t.i)[e];if(n)return delete t[e],n.a}function Uk(t){var e,n=Pk(t),r=t.c,i=t.f;if(!Qk(t)){for(e=i.length;e--;){var o=i[e],a=o.Ob();(a.ig(r)||a.Qh(r))&&Rk(t,o.fb())}t.f=t.aa.requestSpatialsByTile(t,!1,!1).sort(Sk),t.c=n.a}}function Sk(t,e){return Qg(t.ed(),e.ed(),!1)}t("H.map.provider.Tile",Kk),t("H.math.simplifyDP",Mk),u(Ok,Kk),t("H.map.provider.SpatialTile",Ok),Ok.prototype.c=Ud,Ok.prototype.u=Ud,Ok.prototype.b=Ud,Ok.prototype.je=function(){var t=Pk(this),e=t.a,n=this.b,r=n===e;return r||(this.aa.Ja&&!t.ke(n)?r=!0:Qk(this)&&(r=this.b===e)),r},Ok.prototype.isCanvasValid=Ok.prototype.je,Object.defineProperty(Ok.prototype,"valid",{get:function(){return this.je()},set:hd,configurable:!0}),Ok.prototype.f=ff,Ok.prototype.Va=function(){return this.f},Ok.prototype.getObjects=Ok.prototype.Va,Ok.prototype.Kn=function(){return this.a},Ok.prototype.getTileSize=Ok.prototype.Kn;var Vk={};function Xk(t,e,n,r,i,o,a,s,l){var u=t.a,c=-a;if(a=o+a,s=s||0,l===B&&(l=u.length),i&&t===dh)e.fillRect(0,0,o,o);else if(l>s){for(e.beginPath(),o=s;o<l;o++){var h=u[o],f=h.length;if(h===vi)e.moveTo(c,c),e.lineTo(c,a),e.lineTo(a,a),e.lineTo(a,c);else{var p=h[0];for(e.moveTo(p.x,p.y),s=1;s<f;s++)p=h[s],e.lineTo(p.x,p.y)}n&&e.closePath()}n&&i&&e.fill(t.b!==Td?"evenodd":"nonzero"),r&&e.stroke()}}function Wk(t,e,n){var r;t.strokeStyle=e.strokeColor,t.lineWidth=e.lineWidth*n,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.setLineDash&&(r=e.lineDash)!==ff&&(t.setLineDash(r),t.lineDashOffset=e.lineDashOffset)}function Yk(t,e){t.fillStyle=e.fillColor}function Zk(t,e,n,r,i,o){var a=i*r.width/2,s=(i=i*r.length/2)/2;r=2*i*r.frequency;var l=Cd(Dd(i,2)+Dd(a,2));t=new kk(l,l,t=t.a-l,t),n=n.a;var u,c,h,f,p,d,v,g=Md/2;for(o=o||0,l=n.length;l-- >o;){var y=0,m=n[l];if(c=u=m.length){var b=m;for(c=b.length,h=0;--c;)h+=b[c].Za(b[c-1]);c=(b=h)>=r}if(c)for(h=(c=b/((c=vd(yd(b/r),1e3))+1))/2;--u;){for(f=(p=m[u]).Za(d=m[u-1]);h<=y+f;){var _=p.x+(d.x-p.x)*(v=(h-y)/f);v=p.y+(d.y-p.y)*v,t.Nf(_,v)&&(e.save(),e.translate(_,v),e.rotate(-Jd((d.y-p.y)/(p.x-d.x))+(p.x<d.x?g:-g)),e.beginPath(),e.moveTo(-a,-i),e.lineTo(0,i),e.lineTo(a,-i),e.lineTo(0,-s),e.closePath(),e.fill(),e.restore()),h+=c}y+=f}}}Ok.prototype.$e=function(){var t=this.a+"_"+this.g,e=Vk[t];if(!e){e=-this.m;var n=this.a-e;e=Vk[t]=new kk(e,e,n,n)}return e},Ok.prototype.getPxClipRect=Ok.prototype.$e,Ok.prototype.Zf=function(){var t=this.rb;if(!t){var e=this.ag();t=0;var n=this.a;this.z&&(n-=t+=this.$e().top),t=this.rb=dg(e.kf(new I(t,t)),e.kf(new I(n,n)))}return t},Ok.prototype.getGeoClipRect=Ok.prototype.Zf,Ok.prototype.ag=function(){var t=this.v;if(!t){var e=this.a;(t=this.v=new Yi(B,e)).Pa(this.z),t.x=this.x*e,t.y=this.y*e}return t},Ok.prototype.getPxProj=Ok.prototype.ag,Ok.prototype.$a=function(){return this.g},Ok.prototype.getPixelRatio=Ok.prototype.$a,Ok.prototype.wg=function(){var t=this.data;return this.data=null,this.b=Ud,t},Ok.prototype.releaseCanvas=Ok.prototype.wg,Ok.prototype.xg=function(){this.i={},delete this.f,this.c=Ud},Ok.prototype.releaseData=Ok.prototype.xg,Ok.prototype.U=function(t){var e,n,r,i,o=t.getContext("2d"),a=0;if(Uk(this),this.b<this.c){var s=this.f;if(e=s.length){t.width=t.height=this.a,o.clearRect(0,0,this.a,this.a);var l=this.i;for(n=0;n<e;n++){var u=s[n],c=u.fb();if(i=(r=l[c])?r.b:u.getGeometriesForTile(this)){if(r)u.Ob().ke(this.b)&&(r.a=ch(u,i)),r=r.a;else{var h;r=ch(u,i);for(var f=i,p=u.j?2:0,d=f.length;d--;){var v=f[d];if(v!==dh){var g=v.a;for(h=g.length;h--;)4<(v=g[h]).length&&(g[h]=Mk(v,.6,p))}}this.i[c]=new Tk(i,r)}if(r){for(o.save(),f=u.j?this.F:this.D,c=0;c<i.length;c++)f.call(this,u,i[c],u.ua(),o);if(i=u.getLabels(this))for(u=o,c=i.length;c--;)for(f=(p=i[c]).size,u.font=f+"px "+p.font,u.fillStyle=p.color,u.textAlign="center",u.translate(p.x,p.y),u.rotate(p.angle),f=p.lineHeight||1.375*f,p=(d=p.lines).length;p--;)u.fillText(d[p],0,p*f);o.restore()}a|=r}}}this.data=a?t:null,this.u=this.b=this.c}else this.data&&(a=1);return 0<a},Ok.prototype.render=Ok.prototype.U,Ok.prototype.D=function(t,e,n,r){var i;n.bf&&(Wk(r,n,this.g),Xk(e,r,!1,!0,!1,this.a,this.m)),n.af&&(i=t.g)&&i.Rb&&(Yk(r,i),Zk(this,r,e,i,n.lineWidth))},Ok.prototype.F=function(t,e,n,r){var i,o=n.Rb,a=n.bf,s=this.a,l=this.m;if(e===dh)o&&(Yk(r,n),r.fillRect(0,0,s,s));else{if(a&&Wk(r,n,this.g),n.af&&(i=t.g)){var u=n.lineWidth;i.Rb||(i=null)}(t=e.c)===Td?((a||o)&&(Yk(r,n),Xk(e,r,!0,a,o,s,this.m)),i&&(Yk(r,i),Zk(this,r,e,i,u,0))):(o&&(Yk(r,n),Xk(e,r,!0,!1,o,s,l,0,t)),a&&Xk(e,r,!1,a,!1,s,l,t),i&&(Yk(r,i),Zk(this,r,e,i,u,t)))}};var $k=[];function al(t,e){var n;al.l.constructor.call(this,e),this.F=t,this.N=t=e.pixelRatio,this.tileSize=n=1<<xd(Vd((e.tileSize||256)*t)),this.S=Ak(n,t),this.Zh=A(this.Zh,this),this.ni=A(this.ni,this),this.$h=A(this.$h,this),this.Yh=A(this.Yh,this),this.u=A(this.u,this),this.F.addEventListener(P.prototype.g.Ea,this.u,!1,this),this.c=[],this.j=new Ck(e.tileCacheSize||256,this.Zh),this.m=new Ck(e.dataCacheSize||512,this.ni),this.D=new wk(20,this.$h),this.a={},this.v=yk()}function bl(t,e){if(e=e||{},!t)throw new D(bl,0,t);this.tileSize=t.tileSize,this.c={},aj.call(this,{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max,minWorldSize:this.tileSize,projection:e.$k,dark:e.dark,provider:t})}function dl(t,e,n,r,i){r=yd(r);var o=Dd(2,r),a=e.left,s=e.top,l=e.right;n=l+(n?o+(l===e.left?0:1):1);var u=e.bottom,c=[];if(i)var h=a+(1+l-a)/2+i.x/t.tileSize-.5,f=s+(1+u-s)/2+i.y/t.tileSize-.5;for(;a<n;){for(s=e.top;s<=u;)t=a%o,c.push([t,s,r,i?Ad(h-a)+Ad(f-s):0]),s++;a++}return c}function nk(t,e,n){n=yd(n),t.pixelProjection.Pa(n),e=t.Se(e);var r=t.he(e,n);return dl(t,r,e.left>e.right,n)}function el(t,e){return e[3]-t[3]}function R(t){uc(this,R),R.l.constructor.call(this,t),this.cc=new fl,this.ec=A(this.ec,this),this.S=gl,this.createTileInternal=this.qd.bind(this)}Ok.prototype.Ga=function(t,e,n){for(var r,i,o,a,s,l,u,c=this.f,h=c.length,f=ff,p=this.g;h--;)if((i=c[h]).Bc(!0)&&(o=this.i[i.fb()])&&(a=o.b)){for(l="none"!==(r=i.ua()).fillColor&&i.j,u="none"===r.strokeColor?0:r.lineWidth*p,r=a.length;r--;){var d;if(s=a[r],!(d=l&&s===dh)&&(d=l||u)){var v;d=t;var g=e,y=l,m=u,b=s.b,_=s.c,x=_!==Td,w=s.a,k=w.length,E=0,S=0,T=!1;for(s=0;s<k;s++){var A=w[s],O=s>=_,M=!O&&s>=b;if(A===vi&&y)M?E++:S++;else{var C=A.length;for($k.length=2*C,v=0;v<C;v++){var j=A[v];$k[2*v]=j.x,$k[2*v+1]=j.y}if(v=y&&!O,O=x&&!O?0:m,v||O){if((O=be(d,g,$k,O,v))===ae.EDGE||O===ae.VERTEX){T=!0;break}if(O===ae.SURFACE)if(M)E++;else if(S++,b===Td)break}}}d=T||0<S&&!(E%2)}if(d){f===ff&&(f=[]),f.push(i);break}}if(n&&f.length)break}return f},u(al,zk),al.prototype.u=function(t){t.target.type===Pg.SPATIAL&&Vj(this,t.target)},al.prototype.ib=function(t,e,n,r){var i,o=this.getTileKey(t,e,n);if(i=this.j.get(o,r)){if(r||i.je())return i;r||this.j.Rf(o)}if((i=this.m.get(o,r))&&(r||Qk(i)))return t=this.c.pop()||document.createElement("canvas"),i.U(t)||this.c.push(t),this.j.add(o,i,1),i;r||((i=this.a[o])?i.count++:((i=this.D.push([o,t,e,n],this.Yh)).count=1,this.a[o]=i))},al.prototype.requestTile=al.prototype.ib,al.prototype.qd=function(){},al.prototype.Wc=function(t,e,n){this.Jf(this.getTileKey(t,e,n))},al.prototype.cancelTile=al.prototype.Wc,al.prototype.Jf=function(t){var e;(e=this.a[t])&&(e.count--,e.count||(e.cancel(),delete this.a[t]))},al.prototype.cancelTileByKey=al.prototype.Jf,n=al.prototype,n.$h=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];r=(n=this.j.get(n)||new Ok(n,r,i,o,this.tileSize,this.N,o+this.S,this.F)).data||this.c.pop()||document.createElement("canvas"),n.U(r)||this.c.push(r),e.push(n),t.done(n)},n.Yh=function(t,e){t=t.data[0],e&&this.j.add(t,e,1),delete this.a[t],Vj(this)},n.Zh=function(t,e){e.data&&this.c.push(e.wg()),this.m.add(t,e,1)},n.ni=function(t,e){e.xg()},n.s=function(){for(var t in this.a)this.a[t].cancel();this.j.pa(),this.m.pa(),this.c.length=0,al.l.s.call(this)},u(bl,aj),t("H.map.layer.BaseTileLayer",bl),bl.prototype.Se=function(t,e){var n=this.pixelProjection;if(!C(t,K))throw new D(this.Se,0,t);if(!E(e)){var r=n.dk();n.Pa(e)}return t=cl(n.jb(t.Qb()),n.jb(t.Mb())),!E(r)&&n.Pa(r),t},bl.prototype.geoRectToRect=bl.prototype.Se,bl.prototype.he=function(t,e){var n=Dd(2,yd(e)),r=this.tileSize;if(!C(t,kk))throw new D(this.he,0,t);if(E(e=+e))throw new D(this.he,1,e);(e=yd(t.left/r))===n&&--e;var i=yd(t.right/r);return i===n&&--i,new kk(e,Yd(yd(t.top/r),0,n-1),i,Yd(yd(t.bottom/r),0,n-1))},bl.prototype.getTileBounds=bl.prototype.he,bl.prototype.ib=function(t,e,n,r){return this.a.requestTile(t,e,n,r)},bl.prototype.Wc=function(t,e,n){this.a.cancelTile(t,e,n)},bl.prototype.cancelTile=bl.prototype.Wc,bl.prototype.ta=function(t,e){return this.a.getCopyrights?this.a.getCopyrights(t,e):null},bl.prototype.getCopyrights=bl.prototype.ta,bl.prototype.Ze=function(t,e,n,r,i,o){var a,s,l=[],u=this.a;o=null!=o?o:"__default__";var c=u.requestTile;if(!C(t,kk))throw new D(this.Ze,0,t);if(E(n=+n))throw new D(this.Ze,1,n);if(r||(a={}),t=(e=dl(this,t,e,n,i)).length)for(r||e.sort(el),n=t;n--;)i=e[n],r||(a[u.xd.apply(u,i)]=!0),i[3]=+r,(s=c.apply(u,i))&&l.push(s);if(!r){var h;for(h in r=a,a=this.c[o]||{})a.hasOwnProperty(h)&&a[h]&&!r[h]&&this.a.cancelTileByKey(h);this.c[o]=r}return{total:t,tiles:l}},bl.prototype.getProviderTiles=bl.prototype.Ze,u(R,zk),t("H.map.provider.RemoteTileProvider",R),R.prototype.Xd=function(){return 1},R.prototype.getEntryWeight=R.prototype.Xd;var gl=new Ck(65536);function ok(t,e,n,r,i,o){return r=~~r,t.requestInternal(e,n,r,(function(a,s){t.fe().put(t.xd(e,n,r),{raw:s&&s.raw||a,timestamp:x.Date.now()},i,o)}),o,0)}function il(t,e){delete t.j[e],delete t.V[e]}function hl(t){for(var e in t.j)t.ec(e)&&t.cancelTileByKey(e)}R.prototype.j={},R.prototype.V={},R.prototype.Nb=function(){return this.S},R.prototype.getCache=R.prototype.Nb,R.prototype.v=ba(3),R.prototype.ec=function(t){var e=this.uri;return!t.indexOf(e)&&"_"===t.charAt(e.length)},R.prototype.cacheFilter=R.prototype.ec,R.prototype.wa=function(t,e){e.valid=!1},R.prototype.reload=function(t){var e=this.getCache();t?e.pa(this.ec):e.forEach(this.wa,this,this.ec),hl(this),Vj(this,this,{isReload:!0})},R.prototype.reload=R.prototype.reload,R.prototype.eh=function(){return!1},R.prototype.MAX_STORE_TIME=1/0,R.prototype.fe=function(){return this.cc},R.prototype.fa=function(t,e){e(t)},R.prototype.requestInternal=R.prototype.K,R.prototype.ib=function(t,e,n,r){var i=this,o=this.getCache();if(E(t=+t))throw new D(this.ib,0,t);if(E(e=+e))throw new D(this.ib,0,e);if(E(n=+n))throw new D(this.ib,0,n);n=~~n;var a=this.getTileKey(t,e,n);return(o=o.get(a))&&o.valid||r||this.j[a]||(o=B,this.requestTileAsPromise(t,e,n,r).then((function(t){Vj(i,t)}),hd)),o},R.prototype.requestTile=R.prototype.ib,R.prototype.il=function(t,e,n,r){var i,o=this,a=this.getCache(),s=this.getTileKey(t,e,n),l=this.j,u=this.V,c=this.fe();return u[s]?u[s]:(u[s]=u=new Ob((function(u,h){function f(i){var f,p,d=function(r,i){(p=o.createTileInternal(t,e,n,r,i)).key=s,a.add(s,p,o.Xd(r)),u(p),il(o,s)};i&&(f=x.Date.now()-i.timestamp),i&&f<o.MAX_STORE_TIME?o.fa(i.raw,d):(f&&c.remove(s),(p=a.get(s))&&p.valid||r?u(p||null):l[s]=o.requestInternal(t,e,n,d,h))}i=c.get(s,f,f)})),l[s]||(l[s]=i),u.then((function(){il(o,s)}),(function(){il(o,s)})),u)},R.prototype.requestTileAsPromise=R.prototype.il,R.prototype.hl=function(t,e){var n=this,r=t.id,i=t.tile.coords;return new Ob((function(t,o){n.il(i.x,i.y,i.z,e).then((function(e){for(var n,i=y,o=(e=e.Va?e.Va():e.data).length;o--;)if((n=e[o]).fb()===r){i=n;break}t(i)}),o)}))},R.prototype.requestObjectAsPromise=R.prototype.hl;var jl={cancel:function(){}};function fl(){}function rk(t){if(rk.l.constructor.call(this,t),t&&(this.F={crossOrigin:t.crossOrigin||"anonymous",headers:t.headers||{}},this.u=t.getURL),!Ca(this.u))throw new D(rk,0,"getURL");if(Wj(this,t.opacity),this.c=x.URL||x.webkitURL,!(t="anonymous"===(t=this.F.crossOrigin)||"use-credentials"===t)){t=this.u(0,0,0);var e=window.location,n=document.createElement("a");n.href=t,t=n.hostname===e.hostname&&n.port===e.port&&n.protocol===e.protocol}(this.N=t&&!!rf.prototype.b.arraybuffer&&!!this.c)&&this.Nb().pe(A(this.Da,this))}function kk(t,e,n,r){this.left=+t,this.top=+e,this.right=+n,this.bottom=+r}function cl(t,e){return new kk(t.x,t.y,e.x,e.y)}function kl(t,e){bl.call(this,t,e)}function ll(t,e){(e=e?Ua(e):{}).tileSize=e.tileSize||256,e.pixelRatio=e.pixelRatio||Se(),e.max=24,this.c=new al(t,e),this.f=new kl(this.c),e.minWorldSize=this.c.tileSize,e.provider=t,ll.l.constructor.call(this,e),this.tileSize=this.f.tileSize,this.j=A(this.j,this),this.c.addEventListener(this.c.g.Ea,this.j),t.addEventListener(t.g.Ea,this.j)}R.prototype.qd=function(t,e,n,r){return new Kk(t,e,n,r)},R.prototype.Jf=function(t){var e=this.j[t];e&&(e.cancel(),il(this,t))},R.prototype.cancelTileByKey=R.prototype.Jf,R.prototype.Wc=function(t,e,n){this.cancelTileByKey(this.getTileKey(t,e,n))},R.prototype.cancelTile=R.prototype.Wc,R.prototype.s=function(){R.l.s.call(this),this.getCache().pa(this.ec),hl(this)},R.NullStorage=fl,fl.prototype.get=function(t,e){return e(),jl},fl.prototype.get=fl.prototype.get,fl.prototype.put=function(t,e,n){n&&n()},fl.prototype.put=fl.prototype.put,fl.prototype.clear=function(t){t&&t()},fl.prototype.clear=fl.prototype.clear,fl.prototype.remove=function(t,e){e&&e()},fl.prototype.remove=fl.prototype.remove,u(rk,R),t("H.map.provider.ImageTileProvider",rk),rk.prototype.oc=function(t){Wj(this,t)},rk.prototype.setOpacity=rk.prototype.oc,rk.prototype.dd=function(){return this.i},rk.prototype.getOpacity=rk.prototype.dd,rk.prototype.mf=df,rk.prototype.providesRasters=rk.prototype.mf,rk.prototype.Xd=function(){return this.tileSize},rk.prototype.getEntryWeight=rk.prototype.Xd,rk.prototype.K=function(t,e,n,r,i,o){var a,s=this,l=this.u(t,e,n);if(t=null,l){var u=x.setTimeout((function(){s.N?(a=new rf("arraybuffer",l,o,s.F)).then((function(t){return t.blob()})).then((function(t){var e=new Image;e.onload=A(r,null,e,{raw:t}),e.onerror=A(i,null,"bad url");try{e.src=s.c.createObjectURL(t)}catch(n){}}),i):(a=new rf("image",l,o,s.F)).then(r,i)}),150);t={cancel:function(){a?a.cancel():x.clearTimeout(u)}}}else r(null);return t},rk.prototype.requestInternal=rk.prototype.K,rk.prototype.fa=function(t,e){var n=new Image;n.onload=function(){e(this)},n.src=this.c.createObjectURL(t)},rk.prototype.Da=function(t,e){(t=e.data)&&t instanceof HTMLImageElement&&this.c.revokeObjectURL(t.src)},t("H.math.Rect",kk),kk.prototype.set=kk,kk.prototype.set=kk.prototype.set,kk.prototype.Qb=function(){return this.c||(this.c=new I(this.left,this.top))},kk.prototype.getTopLeft=kk.prototype.Qb,kk.prototype.Mb=function(){return this.a||(this.a=new I(this.right,this.bottom))},kk.prototype.getBottomRight=kk.prototype.Mb,kk.prototype.Nf=function(t,e){return this.left<=t&&this.right>=t&&this.top<=e&&this.bottom>=e},kk.prototype.containsXY=kk.prototype.Nf,kk.fromPoints=cl,kk.prototype.clone=function(){return new kk(this.left,this.top,this.right,this.bottom)},kk.prototype.clone=kk.prototype.clone,u(kl,bl),t("H.map.layer.TileLayer",kl),kl.prototype.Hd=function(t,e,n,r,i){if(!C(t,K))throw new D(this.Hd,0,t);if(E(e=+e))throw new D(this.Hd,1,e);e=yd(e),this.pixelProjection.Pa(e),t=this.Se(t);var o=this.he(t,e);return this.Ze(o,t.left>t.right,e,n,r,i)},kl.prototype.requestTiles=kl.prototype.Hd,u(ll,aj),t("H.map.layer.ObjectLayer",ll),ll.prototype.j=function(t){t.currentTarget!==this.c&&t.target.type===Pg.SPATIAL||this.g()};var ml={markers:ff,total:0};ll.prototype.Jc=function(t,e,n){var r,i=this.a;return i.providesMarkers()&&(r=i.requestMarkers(t,e,!0,n)).length?{markers:r,total:r.length}:ml},ll.prototype.requestMarkers=ll.prototype.Jc,ll.prototype.Ic=function(t,e,n){var r,i=this.a;return i.providesDomMarkers()&&(r=i.requestDomMarkers(t,e,!0,n)).length?{markers:r,total:r.length}:ml},ll.prototype.requestDomMarkers=ll.prototype.Ic;var nl={tiles:ff,total:0};ll.prototype.Hd=function(t,e,n,r){if(this.a.providesSpatials()){var i=this.f.Hd(t,e,n,r);n||(n=this.c,33<(i=yk())-n.v&&(sk(n.D),n.v=i),i=this.f.Hd(t,e,!0,r))}else i=nl;return i},ll.prototype.requestTiles=ll.prototype.Hd,ll.prototype.ib=function(t,e,n,r){return this.f.ib(t,e,n,r)},ll.prototype.requestTile=ll.prototype.ib,ll.prototype.Wc=function(t,e,n){this.f.Wc(t,e,n)},ll.prototype.cancelTile=ll.prototype.Wc;var ol={overlays:ff,total:0};function pl(t,e,n,r){var i=new kk(0,0,0,0);if(pl.l.constructor.call(this),!t)throw new D(pl,0,t);if(!e)throw new D(pl,1,e);if(!n)throw new D(pl,2,n);if("object"!==typeof r)throw new D(pl,3,r+" is not an object");if("number"!==typeof r.pixelRatio)throw new D(pl,3,r.pixelRatio+" is not a number");this.ra=r.pixelRatio,this.zoom=0,this.hb=Bd(this.ra)/Ld,this.qa=new Yi,this.Gb={1:i.clone(),2:i.clone(),4:i.clone()},this.o=new I(.5,.5),this.g=t,ql(this,this.ra),this.sc=A(this.sc,this),this.jc=A(this.jc,this),this.zb=A(this.zb,this),t.startInteraction=this.sc,t.interaction=this.jc,t.endInteraction=this.zb,t.addEventListener(t.a.Ea,this.V,!1,this),this.getCapabilities=this.getCapabilities,this.capture=this.capture,this.zoomAt=this.ze,this.relaunch=this.ha,this.dispose=this.B,this.screenToGeo=this.Xa,this.geoToScreen=this.Fa,this.screenToLookAtData=this.Dg,this.F=e,this.rc=A(this.rc,this),this.control=A(this.control,this),this.yb=A(this.yb,this),e.startControl=this.rc,e.control=this.control,e.endControl=this.yb,e.addEventListener(e.a.Ea,this.bh,!1,this),this.c=n,this.og=A(this.og,this),this.df=A(this.df,this),this.ef=A(this.ef,this),this.ng=A(this.ng,this),n.addEventListener(aj.prototype.b.Ea,this.og,!1,this),n.addEventListener(n.b.Ae,this.df,!1,this),n.addEventListener(n.b.Ce,this.ef,!1,this),n.addEventListener(n.b.De,this.ng,!1,this)}function ql(t,e){var n=t.g,r=n.width,i=n.height,o=n.padding,a=o.top,s=o.left,l=o.bottom;o=o.right,n=n.margin;var u=-(r+s-o)/2<<0,c=-(i+a-l)/2<<0;r+=u,i+=c,(t=t.Gb)[1].set((u-n)*e,(c-n)*e,(r+n)*e,(i+n)*e),t[2].set(u*e,c*e,r*e,i*e),t[4].set((u+s)*e,(c+a)*e,(r-o)*e,(i-l)*e)}function sl(t,e){t.style.transition="opacity 1.5s",Ce(t,"transitionend",e,!1),t.style.opacity=0}ll.prototype.Gd=function(t,e,n){var r=this.a,i=ol;return r.providesOverlays&&r.providesOverlays()&&(e=(t=r.requestOverlays(t,e,!0,n)).length)&&(i={overlays:t,total:e}),i},ll.prototype.requestOverlays=ll.prototype.Gd,ll.prototype.s=function(){this.c.B(),this.f.B(),this.a.dispose(),ll.l.s.call(this)},u(pl,F),t("H.map.render.RenderEngine",pl),pl.prototype.V=function(){ql(this,this.ra)},pl.prototype.s=function(){var t=this.g,e=this.F,n=this.c;t.removeEventListener(t.a.Ea,this.V,!1,this),t.startInteraction===this.sc&&(t.startInteraction=jk.prototype.sc),t.interaction===this.jc&&(t.interaction=jk.prototype.jc),t.endInteraction===this.zb&&(t.endInteraction=jk.prototype.zb),e.removeEventListener(e.a.Ea,this.bh,!1,this),e.startControl===this.rc&&(e.startControl=rl.prototype.rc),e.control===this.control&&(e.control=rl.prototype.control),e.endControl===this.yb&&(e.endControl=rl.prototype.yb),n.removeEventListener(aj.prototype.b.Ea,this.og,!1,this),n.removeEventListener(n.b.Ae,this.df,!1,this),n.removeEventListener(n.b.Ce,this.ef,!1,this),n.removeEventListener(n.b.De,this.ng,!1,this)},pl.prototype.Di=function(t){this.Rg=t},pl.prototype.setAnimationCallback=pl.prototype.Di,pl.prototype.Ai=function(){this.Rg=void 0},pl.prototype.resetAnimationCallback=pl.prototype.Ai,pl.prototype.control=function(){},pl.prototype.capture=function(){return Yb(Error("not implemented"))};var tl={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};function wl(t,e){return e.tilt=xl(t,e.tilt),e.heading=yl(t,e.heading),e.incline=t.getCapabilities().lookAt.incline.min,e}function vl(t,e){var n=t.getCapabilities().lookAt.zoom;return Yd(e,wd(n.min,t.Og),vd(n.max,t.Sg))}function xl(t,e){return Yd(e,(t=t.getCapabilities().lookAt.tilt).min,t.max)}function yl(t,e){return Yd((e%360+360)%360,(t=t.getCapabilities().lookAt.heading).min,t.max)}function ul(t,e,n){(n=n?e.addEventListener:e.removeEventListener).call(e,e.b.nj,t.pi,!1,t),n.call(e,e.b.mj,t.pi,!1,t)}pl.InteractionModifiers=tl,n=pl.prototype,n.wk={pj:"render"},n.og=function(t){this.Ok(t),this.ha()},n.df=function(t){this.hf(t.idx,t.added)},n.ef=function(t){this.oi(t.idx,t.removed,t.type===this.c.b.De)},n.ng=function(t){t.removed&&this.ef(t),this.df(t)},n.Ok=hd,n.hf=function(t,e){this.Mh(t,e),0===t&&this.Ib(),C(e,aj)&&ul(this,e,!0),this.re(),this.ha()},n.Ib=function(){var t=this.c.Ma();if(0<t.length){var e=t[0].max;this.Og=t[0].min,this.Sg=e}else e=(t=this.getCapabilities().lookAt.zoom).max,this.Og=t.min,this.Sg=e;(t=vl(this,this.zoom))!==this.zoom&&(this.zoom=t,this.qa.Pa(t),this.bb())},n.bb=function(t){this.N=this.lb(),t&&(this.N.position=t),this.N.zoom=this.zoom-this.hb,this.N.position.alt=0},n.Kl=0,n.heading=180,n.lb=function(){return wl(this,{position:this.qa.projection.tg(this.o),zoom:this.zoom,tilt:this.Kl,heading:this.heading})},n.Mh=hd,n.oi=hd,n.Zo=function(t,e){this.D={before:t,after:e}},pl.prototype.setOnRenderCallbacks=pl.prototype.Zo;var zl={P2D:0,WEBGL:1,HARP:2};pl.EngineType=zl;var Al={lookAt:{zoom:{min:-8,max:24},tilt:{min:0,max:85},incline:{min:0,max:0},heading:{min:0,max:360}},interaction:{ZOOM:tl.ZOOM,COORD:tl.COORD},capture:!0};function Bl(t){var e,n=this,r=x.H.gl;Bl.l.constructor.call(this),this.a=e=r.Scene.create(x.URL.createObjectURL(nf(JSON.stringify(Cl))),{viewport:t.viewport,container:t.tc,disableRenderLoop:!0,devicePixelRatio:t.devicePixelRatio,logLevel:"error"}),t.Io&&e.subscribe({load:t.Io}),e.subscribe({view_complete:function(){n.g=!0,t.Qk()}});var i=e.requestRedraw;e.requestRedraw=function(){i.apply(e),t.Qk()},this.i=A(this.i,this),this.f=A(this.f,this),this.j=0,this.c={},this.b={}}function Dl(t){var e;for(e in t=t.a.sources){var n=t[e];if(n.hasPendingCommands&&n.hasPendingCommands())return!0}return x.H.gl.Task.hasPendingTasks()}function El(t){t.g=!1,t.a.resetViewComplete()}function Fl(t){return t.a.view}function Gl(t,e){function n(){var n,i,o,a,s,l=e.Ma(),u={},c={},h=++t.j;for(vh(c,Cl),i=0;i<l.length;i++){var f=l[i];if(n=f.ga()){var p=n.tb();if(p.getState()===Qh.READY){var d=p.ud();if(!Ta(d)){for(o in delete d.cameras,delete d.camera,u[i]=d=Hh(d,i),!C(f,ll)&&d.sources&&Ih(d,n.uid),d.sources){var v=d.sources[o];v.max_zoom=vd(n.max,Al.lookAt.zoom.max),v.max_display_zoom=f.max,v.min_display_zoom=f.min,(s=n.tileSize)&&(2<=r&&256<s&&n instanceof rk&&(s/=2),v.tile_size=s)}(a=p.fc())&&Jh(d,a),vh(c,d)}}}}return vh(c.layers.skybox.draw.skybox.color,c.scene.sky),t.a.config=c,t.a.updateConfig().then((function(){var e,n,r={};if(h!==t.j)return!1;for(n in t.j=0,u){f=l[+n];var i=u[n].sources;for(e in i)(i=t.a.sources[e])&&(r[e]=i,i.initialize&&f.getProvider()&&i.initialize(f.getProvider(),t.i,t.a.getWorkers().length,i.tiled?B:t.a.tile_manager.getWorkerForTile(y,i)))}for(e in t.c)!r[e]&&t.c[e].dispose&&t.c[e].dispose();return t.c=r,!0}))}var r=t.a.pixelRatio();t.a.initialized?n():t.a.load(y,{blocking:!1}).then(n)}t("H.map.render.webgl.capabilities",Al),u(Bl,nd),Bl.prototype.g=!1,Bl.prototype.U=function(){var t=x.H.gl.Task;return this.a.immediateRedraw(),t.setState({user_moving_view:this.a.view.user_input_active}),t.processAll(),this.g&&!this.a.dirty&&!this.a.building&&!Dl(this)&&!Object.keys(this.b).length},Bl.prototype.i=function(t,e,n){var r=this,i=this.a.sources[t],o=n&&n.isReload;e?!0!==this.b[t]&&(this.b[t]||(this.b[t]={Jl:{},$g:[]}),C(e,Kk)?this.b[t].Jl[e.x+"/"+e.y+"/"+e.z]=!0:(e=e.boundingBox,this.b[t].$g.push(new K(e[0],e[1],e[2],e[3])))):this.b[t]=!0,i&&i.has_volatile_data?Hl(this,o):(x.clearTimeout(this.o),this.o=x.setTimeout((function(){return Hl(r,o)}),Il))};var Il=100;function Hl(t,e){var n=t.a.tile_manager;n.removeTiles(t.f),n.updateTilesForView(),e&&n.removeCachedTiles(t.f),El(t),t.b={}}function Jl(t,e,n,r){t.a.getFeatureAt(e,n,r),t.a.update()}function Kl(t){return t.a.screenshot(void 0).then((function(t){return new Ob((function(e,n){new Dj(URL.createObjectURL(t.blob),(function(t,r){1===t?e(r.getData()):n()}),!1)}))}))}Bl.prototype.f=function(t){var e=!1,n=this.b[t.source.name],r=x.H.gl;if(n)if(!0===n)e=!0;else{var i=r.Tile.coord(r.Geo.wrapTile(t.coords));if(!(e=!!n.Jl[i.key]))for(t=dg((t=r.Geo.getTileBoundingBox(i,t.source.tile_size,Ug.MAX_LINE_WIDTH/2)).getTopLeft(),t.getBottomRight()),r=0;r<n.$g.length;r++)if(n.$g[r].zd(t,!0)){e=!0;break}}return e},Bl.prototype.ud=function(){return this.a.config},Bl.prototype.$a=function(){return this.a.pixelRatio()},Bl.prototype.s=function(){var t=this.c;Bl.l.s.call(this),this.a.destroy(),this.b={},t&&Object.keys(t).forEach((function(e){t[e].dispose()})),x.clearTimeout(this.o),this.c=this.a=null};var Cl={scene:{background:{color:"#FFFFFF"},sky:{zenith:"#347BC0",horizon:"#EDF2F9",fog:"#FFFFFF"}},lights:{default_light:{type:"directional",name:"default_light",visible:!0}},camera:{type:"perspective"},styles:{},fonts:{},sources:{skybox:{type:"SkyBox"}},layers:{skybox:{data:{source:"skybox"},draw:{skybox:{color:{}}}}},global:{}},Yj={FEATURE:1,SOURCE:2,PROVIDER:3};function Ll(t){return t}function Ml(t){return-t*(t-2)}function Nl(t){return 1-Math.sqrt(1-t*t)}function Ol(t){return Cd(2*t-t*t)}function Pl(t){return 1-Math.cos(t*Math.PI/2)}function Ql(t){return Math.sin(t*Math.PI/2)}function Rl(t,e){this.a={tilt:Sl(t.tilt,e.tilt),heading:Sl(t.heading,e.heading),zoom:e.zoom-t.zoom};var n=this.b=Zf(t.position),r=e.position;t=r.lat*Rd;var i=n.lat*Rd;r=r.lng*Rd-n.lng*Rd,n=Fd(r)*Hd(t),t=Hd(i)*Fd(t)-Fd(i)*Hd(t)*Hd(r),t=Math.atan2(n,t),this.j=(0<=t?t:Pd+t)*Sd,this.c=this.b.Za(e.position),e=this.a.zoom,this.i=0===e?this.f:Object.assign({},this.f,{zoom:0>e?Ol:Nl,position:0>e?Pl:Ql}),this.g=Object.assign({},{tilt:0,heading:0,zoom:0})}function Sl(t,e){return-180<(t=e-t)&&180>=t?t:180<t?t-360:t+360}function Tl(t,e){if(E(this.x=+t))throw new D(Tl,0,t);if(E(this.y=+e))throw new D(Tl,1,e)}function Ul(t){return Cd(t.a(t))}function Vl(t){t=t||gf,this.rb=tc(t.Do)?t.Do:3,this.aa=tc(t.Bo)?t.Bo:300,this.u=tc(t.mp)?t.mp:3,this.v=tc(t.ip)?t.ip:50,this.f=[],this.clear()}function Yl(t,e){t.i^=t.i&e}t("H.map.provider.PickingMode",Yj),t("H.util.animation.ease.LINEAR",Ll),t("H.util.animation.ease.EASE_IN_QUAD",(function(t){return t*t})),t("H.util.animation.ease.EASE_OUT_QUAD",Ml),t("H.util.animation.ease.EASE_IN_OUT_QUINT",(function(t){return 1>(t*=2)?Dd(t,5)/2:Dd(t-=2,5)/2+1})),t("H.util.animation.ease.EASE_OUT_CIRC",Ol),Rl.prototype.f={tilt:Ll,heading:Ll,zoom:Ll,position:Ll},Tl.prototype.add=function(t){return new Tl(this.x+t.x,this.y+t.y)},Tl.prototype.a=function(t){if(!C(t,Tl))throw new D(this.a,0,t);return(t=this.b(t)).x+t.y},Tl.prototype.b=function(t){if(!C(t,Tl))throw new D(this.b,0,t);return new Tl(this.x*t.x,this.y*t.y)},Tl.prototype.Pa=function(t){return new Tl(this.x*t,this.y*t)},t("H.map.render.InteractionUtils",Vl),Vl.prototype.fo=function(){return this.c},Vl.prototype.isGestureDetected=Vl.prototype.fo,Vl.prototype.start=function(t,e){var n=tl.HEADING,r=tl.TILT;this.a&&this.clear(),this.i=t,this.o=!!e,this.a=!0,this.c=!(t&(n|r))||t===n||t===r},Vl.prototype.start=Vl.prototype.start,Vl.prototype.store=function(t,e,n,r,i){var o=!1;if(this.a){if(o=(t=new Wl(t,e,n,r,i)).c,this.m=this.b,this.b=t,this.g){if(this.j=!0,o){e=this.i;var a=this.c;if(!a&&this.j){i=tl.HEADING;var s=tl.TILT;n=tl.COORD,r=tl.ZOOM;var l=e&(n|s)?this.be(!0):Xl,u=e&r?this.Uf(!0):1,c=e&i?Ad(this.uh(!0)):0,h=Ad(l.x),f=Ad(l.y);l=10<h||10<f,h=10<f&&f>3*h,u=.8>u||1.2<u,c=7<c,e&s&&(c||u||l&&!h?Yl(this,s):h&&(Yl(this,~s>>>0),a=!0)),!a&&e&i&&e&(n|r)&&(u||l?(Yl(this,i),a=!0):c&&(Yl(this,s),a=!0)),this.c=a}}}else this.g=t,o||(this.c=!0);this.o&&this.f.push(t)}return o},Vl.prototype.store=Vl.prototype.store,Vl.prototype.clear=function(){this.f.length=0,this.a=this.o=this.j=this.c=!1,this.g=this.m=this.b=void 0},Vl.prototype.clear=Vl.prototype.clear,Vl.prototype.Fc=function(t){return 0<(this.i&t)},Vl.prototype.isModifierEnabled=Vl.prototype.Fc,Vl.prototype.va=function(){return this.a},Vl.prototype.isRunning=Vl.prototype.va;var Xl=oc(new Tl(0,0));function Wl(t,e,n,r,i){this.a=new I(t,e),n!==B&&(this.b=new I(n,r),this.c=!0),this.timestamp=i!==B?i:yk()}function $l(t){var e=t.a;return(t=t.b)?new I(e.x-(e.x-t.x)/2,e.y-(e.y-t.y)/2):B}function bm(t,e){var n=t.a;return(t=t.b)&&t.Za(e)<n.Za(e)?t:n}function Zl(t,e){var n=t.b,r=e.b;return r&&n?(e=$l(e),t=$l(t)):n?t=bm(t,e=e.a):r?e=bm(e,t=t.a):(e=e.a,t=t.a),new Tl(e.x-t.x,e.y-t.y)}function am(t){var e=t.b;return e?t.a.Za(e):0}function cm(){F.call(this),this.reset()}function em(t){em.l.constructor.call(this,cm.prototype.g.Qg),this.c=t}function fm(t){return x.Object.create(t.f)}function dm(t,e,n,r,i,o){this.mb=t,this.nb=e,this.ob=n,this.se=r,this.te=i,this.uf=o}function gm(t,e,n,r){gm.l.constructor.call(this),this.tc=t,this.ra=r,this.a=t.appendChild(this.createElement(t.ownerDocument)),this.wf(e,n)}function hm(t,e,n,r){hm.l.constructor.apply(this,arguments)}function im(t,e,n,r,i,o){var a=i||"2d";im.l.constructor.apply(this,arguments),this.b=this.a.getContext(a,o),this.c="2d"===a,this.f=a,this.so=o}function jm(t){this.gb=t}function km(t){var e="dom";km.l.constructor.call(this,t),C(this.gb,lm)&&(e="2d"===t.Wd()?"2d":"webgl"),this.a=e}function mm(t,e,n,r,i){if(!Ca(t.Di)||!Ca(t.Ai))throw new D(mm,0,t);if(this.b=t,!Ca(this.i=e))throw new D(mm,1,e);if(E(this.g=+n))throw new D(mm,2,n);if(!Ca(this.f=r)&&null!=r)throw new D(mm,3,r);if(!Ca(this.c=i)&&null!=i)throw new D(mm,4,i);this.id=(new af).next(),this.a=!1}function nm(t,e){nm.l.constructor.call(this,t),this.vc=!(!e||!e.vc),this.f={}}Vl.prototype.xc=function(){var t;if(this.o){var e=this.f,n=e.length,r=0;for(t=new Tl(0,0);--n&&r<this.u;)t=t.add(Zl(e[n-1],e[n])),r++}else t=this.be();return 0!==(n=Ul(e=t))?new Tl(e.x/n,e.y/n):e},Vl.prototype.getDirection=Vl.prototype.xc,Vl.prototype.Cb=function(t){var e,n;if(t=t||yk(),this.o){var r=this.f,i=this.f.length,o=this.f[i-1];for(n=e=0;--i&&e<this.u;)n+=Ul(Zl(r[i],r[i-1])),e++;r=n/e}else o=this.b,r=Ul(this.be());return r>=this.rb&&t-o.timestamp<=this.v?r>this.aa?this.aa:r:0},Vl.prototype.getSpeed=Vl.prototype.Cb,Vl.prototype.Tf=function(){return this.b?$l(this.b):B},Vl.prototype.getBifocalCenter=Vl.prototype.Tf,Vl.prototype.be=function(t){return(t=t?this.g:this.m)?Zl(t,this.b):new Tl(0,0)},Vl.prototype.getMoveVector=Vl.prototype.be,Vl.prototype.Uf=function(t){var e=1;if(this.j){var n=this.b;(t=am(t=t?this.g:this.m))&&(n=am(n))&&(e=n/t)}return e},Vl.prototype.getBifocalScaling=Vl.prototype.Uf,Vl.prototype.uh=function(t){if(this.j){var e=t?this.g:this.m,n=this.b;t=e.b;var r=n.b,i=0;t&&r&&(e=e.a,n=n.a,i-=Kd(r.y-n.y,r.x-n.x)*Sd-Kd(t.y-e.y,t.x-e.x)*Sd),t=i}else t=0;return t},Vl.prototype.getBifocalRotation=Vl.prototype.uh,Wl.prototype.c=!1,u(cm,F),cm.prototype.start=function(t,e){this.a&&this.reset(),E(t-e)||(this.b=+t,this.c=+e),this.a=!0},cm.prototype.reset=function(){this.a=!1,this.b=this.c=null,this.f=new dm(0,0,0,0,0,0)},cm.prototype.va=function(){return this.a},cm.prototype.g={Qg:"animationupdate"},u(em,rd),cm.prototype.set=function(t,e,n,r,i,o){var a=this.f;this.a&&(t=new dm(t/1e3,e/1e3,n/1e3,r/1e3,i/1e3,o/1e3),a.na(t)||(this.f=t,this.dispatchEvent(new em(fm(this)))))},cm.prototype.Cb=function(){return fm(this).Cb()},cm.prototype.xc=function(){var t=fm(this),e=this.Cb()||1;return new dm(t.mb/e,t.nb/e,t.ob/e,t.se,t.te,t.uf)},cm.prototype.s=function(){this.reset(),cm.l.s.call(this)},dm.prototype.Cb=function(){return Cd(this.mb*this.mb+this.nb*this.nb+this.ob*this.ob)},dm.prototype.xc=function(){var t=this.Cb()||1;return new dm(this.mb/t,this.nb/t,this.ob/t,this.se,this.te,this.uf)},dm.prototype.na=function(t){return!!t&&this.mb===t.mb&&this.nb===t.nb&&this.ob===t.ob&&this.se===t.se&&this.te===t.te&&this.uf===t.uf},u(gm,nd),gm.prototype.L=function(){return this.a},gm.prototype.wf=function(t,e){this.size?(this.size.w=t,this.size.h=e):this.size=new Ki(t,e),this.Al(this.a,this.a.style,t,e,this.ra)},gm.prototype.setSize=gm.prototype.wf,n=gm.prototype,n.Bb=function(){return this.size},n.$a=function(){return this.ra},n.qk=!0,n.vb=function(t){t!==this.qk&&(this.a.style.display=t?"block":"none",this.qk=t)},n.ai=1,n.oc=function(t){this.ai!==t&&(this.xk(t),this.ai=t)},n.dd=function(){return this.ai},n.xe=function(t){this.a.style.zIndex=t},gm.prototype.setZIndex=gm.prototype.xe,n=gm.prototype,n.ck=function(){return+this.a.style.zIndex},n.Zc=function(){},n.clear=function(){},n.s=function(){this.clear(),this.tc.removeChild(this.a),this.wf(0,0),this.a=this.tc=null,gm.l.s.call(this)},n.dl=0,n.Cg=function(){++this.dl},n.release=function(){--this.dl||this.B()},u(hm,gm),t("H.map.render.dom.Surface",hm),n=hm.prototype,n.Wd=function(){return"dom"},n.createElement=function(t){return(t=t.createElement("DIV")).style.position="absolute",t.style.pointerEvents="none",t},n.Al=function(t,e,n,r){e.width=n+"px",e.height=r+"px"},n.xk=function(t){this.a.style.opacity=t},n.Zc=function(t,e,n){var r=this.ra,i=t.style;i[xf("transform")]="matrix(1,0,0,1,"+e/r+","+n/r+")",t.parentNode!==this.a&&(i.position="absolute",this.a.appendChild(t),this.a.style.pointerEvents="auto","auto"===getComputedStyle(t).pointerEvents&&(t.style.pointerEvents="all"),this.a.style.pointerEvents="none")},n.clear=function(t){t?this.a.removeChild(t):this.a.innerHTML=""},u(im,gm),n=im.prototype,n.createElement=function(t){var e=(t=t.createElement("canvas")).style;return e.position="absolute",e.top=e.left="0",t},n.Al=function(t,e,n,r,i){t.width=wd(n,1),t.height=wd(r,1),e.width=xd(n/i)+"px",e.height=xd(r/i)+"px"},n.xk=function(t){this.b.globalAlpha=t},n.Zc=function(t,e,n,r,i){this.c&&this.b.drawImage(t,e,n,r,i)},n.Wd=function(){return this.f},n.clear=function(t){var e,n;this.c&&(t?this.b.clearRect(e=t.left,n=t.top,t.right-e,t.bottom-n):this.a.width=this.size.w)},n.s=function(){this.a.width=this.a.height=0,this.b=y,im.l.s.call(this)},u(jm,nd),jm.prototype.sb=function(){return this.gb},jm.prototype.getLayer=jm.prototype.sb,jm.prototype.In=function(){return this.wb},jm.prototype.getSurface=jm.prototype.In,jm.prototype.ld=function(t){var e=this.wb;t!==e&&(this.wb=t,t.Cg(),e&&e.release())},jm.prototype.setSurface=jm.prototype.ld,jm.prototype.s=function(){this.wb.release()},jm.prototype.ge=function(){},jm.prototype.render=jm.prototype.U,u(km,jm),km.prototype.U=function(t,e,n,r,i,o,a,s){a=this.gb;var l=this.wb,u=!(C(l,im)&&"2d"===l.Wd());return r>=a.min&&r<=a.max?(u&&l.vb(!0),a.U(l.L(),{boundingBox:t,zoom:r,screenCenter:e,priorityCenter:o,projection:n,cacheOnly:i,size:l.Bb(),pixelRatio:l.$a(),cameraMatrix:s})):(u&&l.vb(!1),ik.DONE)},km.prototype.ge=function(){return this.a},t("H.util.animation.Animation",mm),mm.prototype.start=function(){var t=this;this.Qc=yk(),this.a=!0;var e=this.Qc;this.b.Di((function(){if(t.a){var n=yk(),r=n-t.Qc,i=r/t.g,o=!1;1<=i&&(i=1,o=!0),t.i(t.c?t.c(i):i,r,n-e,n),e=n,o&&t.stop()}else t.stop()}))},mm.prototype.start=mm.prototype.start,mm.prototype.stop=function(t){this.a=!1,this.b.Ai(),t||this.f&&this.f(this)},mm.prototype.stop=mm.prototype.stop,mm.prototype.va=function(){return this.a},mm.prototype.isRunning=mm.prototype.va,u(nm,jm),nm.prototype.ld=function(t){nm.l.ld.call(this,t),this.g=t.tc.ownerDocument},nm.prototype.setSurface=nm.prototype.ld;var om=function(t,e){return C(e=e.ba(),kh)?e.oa:(t[0]=e,t)}.bind(null,[]);function pm(t,e){var n=t[1].ed(),r=e[1].ed();return Qg(n,r,!0)||t[5]-e[5]||Qg(n,r,!1)}function qm(t,e){qm.l.constructor.apply(this,arguments),this.c=0,this.a=[],this.b=A(this.b,this)}nm.prototype.U=function(t,e,n,r,i,o,a){var s,l,u,c,h=this.gb;if(this.o=e=this.f,this.f=n={},r>=h.min&&r<=h.max){var f=this.Mj(t,r,i,o),p=f.markers;if(t=p.length){for(r=[],i=this.wb,o=0;o<t;o++){h=p[o];var d=om(h);for(s=d.length;s--;)(l=a(d[s]))&&((c=e[u=h.fb()+"_"+s])?delete e[u]:c={Jk:h},n[u]=c,r.push([c,h,h.Ab(),i,l.x,l.y]))}for(r.sort(pm),t=r.length,o=0;o<t;o++)this.fl.apply(this,r[o])}}return!f||f.requested&&f.requested===f.total||!f.requested&&p.length===f.total?ik.DONE:ik.PENDING},nm.prototype.render=nm.prototype.U,nm.prototype.Ga=function(){},nm.prototype.getObjectsAt=nm.prototype.Ga,u(qm,nm),t("H.map.render.dom.MarkerRenderer",qm),qm.prototype.Mj=function(){return this.gb.Ic.apply(this.gb,arguments)},qm.prototype.U=function(t,e,n,r,i,o,a){this.b(),this.j=0;var s,l=qm.l.U.apply(this,arguments),u=this.wb,c=this.o;for(s in c)rm(this,u,c[s]);return 0===this.a.length&&l?ik.DONE:ik.PENDING},qm.prototype.render=qm.prototype.U,qm.prototype.ld=function(t){qm.l.ld.call(this,t),this.i=t.$a()},qm.prototype.setSurface=qm.prototype.ld,qm.prototype.b=function(){for(var t,e,n,r=this.a.length;r--;)t=(n=this.a[r]).Cf,(e=n.Cf.Ab()).mi(n,e,t);this.a.length=0},qm.prototype.fl=function(t,e,n,r,i,o){var a,s=r.$a(),l=e.Ob();i*=s,o*=s,this.vc||(i=xd(i),o=xd(o)),t.detail&&(l.ke(t.ao)?rm(this,r,t):a=t.detail),a||(t.detail=a=n.Pj(this.g),this.c++,Ca(n.mi)&&this.a.push(a)),t.ao=l.a,a.style.zIndex=this.j++,a.Cf=e,r.Zc(a,i,o,0,0)};var sm,tm="pointer-events",um,vm;Ye&&(Ye&&Yc!==y&&(Yc=(vm=/(MSIE\s+|rv:)([^\);]+)(\)|;)/.exec(navigator.userAgent))?+vm[2]:y),um=Yc,9===um?tm="display":10===um&&(tm="visibility"));function rm(t,e,n){e.clear(e=n.detail),delete e.Cf,t.c--,(n=(t=n.Jk).Ab()).b&&n.b(e,n,t)}function lm(t,e){var n=e||{},r=n.contextType;if(n=n.contextAttributes,lm.l.constructor.call(this,e),wc(t,"Function",lm,0,"invalid render callback"),r){if(-1===wm.indexOf(r))throw new D(lm,1,"invalid context type");this.f=r}n&&(this.o=n),this.j=t}sm=tm,qm.prototype.Ga=function(t,e,n){var r,i,o,a,s,l=this.i,u=ff;if(this.c){t/=l,e/=l;var c=(l=this.g).documentElement,h=this.wb.L(),f=h.getBoundingClientRect();for(t+=f.left,e+=f.top;(i=o=l.elementFromPoint(t,e))&&i!==h&&i!==c&&o!==p;){for(;(a=i.parentNode)&&(!Ca(a.contains)||!a.contains(h));)i=a;if(a===h&&(i!==o||"svg"!==i.nodeName)&&0>u.indexOf(s=i.Cf)&&(u===ff&&(u=[]),u.push(s),n))break;r||(r=[]);var p=i.style;r.push({zj:p.getPropertyValue(sm),$n:p.getPropertyPriority(sm),style:p}),p.setProperty(sm,"visibility"===sm?"hidden":"none","important"),p=o}if(r)for(e=r.length;e--;)(t=r[e]).style.removeProperty(sm),zc(t.zj)&&t.style.setProperty(sm,t.zj,t.$n)}return u},qm.prototype.getObjectsAt=qm.prototype.Ga,qm.prototype.ge=function(){return"dom"},qm.prototype.s=function(){this.a.length=0;var t,e=this.wb,n=this.f;for(t in n)rm(this,e,n[t]);this.wb.B(),qm.l.s.call(this)},u(lm,aj),t("H.map.layer.CanvasLayer",lm);var wm=["2d","webgl","webgl2","experimental-webgl"];function xm(t,e){xm.l.constructor.call(this,e),wc(t,"Function",xm,0,"invalid render callback"),this.c=t}function ym(t,e){if(E(this.b=+t))throw new D(ym,0,t);this.a=0,e&&this.vl(e)}function zm(t,e){this.a=t,this.b=e}function Am(t,e,n){var r=[],i={tc:t.a,width:e.w,height:e.h,ra:t.b};for(t=0;t<n.length;t++){var o=(e=n[t]).ge(),a={};Wa(a,i);var s=e.wb;switch(o){case"2d":if(C(e.sb(),lm)&&(a.hh=e.sb().o),o=c&&"2d"===c.Wd()){o=a.hh;var l=c.so;o=l===o||(l&&!o?!l.alpha&&!l.willReadFrequently:o&&!l?!o.alpha&&!o.willReadFrequently:!o.alpha===!o.alpha&&!l.willReadFrequently===!o.willReadFrequently)}if(o)var u=!1;else if(s&&!u){var c=s;u=!1}else c=new im(a.tc,a.width,a.height,a.ra,"2d",a.hh),u=!0;break;case"dom":c=s||new hm(a.tc,a.width,a.height,a.ra),u=!s;break;default:c=s||new im(a.tc,a.width,a.height,a.ra,e.sb().Wd(),a.hh),u=!s}r[r.length-1]!==c&&(c.xe(r.length),r.push(c)),e.ld(c)}return r}lm.prototype.f="2d",lm.prototype.Wd=function(){return this.f},lm.prototype.U=function(t,e){return this.c&&this.c.canvas===t||(this.c=t.getContext(this.f,this.o)),this.j(this.c,e)},lm.prototype.s=function(){lm.l.s.call(this),this.c=B},u(xm,aj),t("H.map.layer.DomLayer",xm),xm.prototype.U=function(t,e){return this.c(t,e)},t("H.util.kinetics.KineticMove",ym),ym.prototype.vl=function(t){return this.a=t,this},ym.prototype.setInitialSpeed=ym.prototype.vl,ym.prototype.Om=function(){return Math.abs(this.a/this.b)},ym.prototype.getDuration=ym.prototype.Om,ym.prototype.Ve=function(t){return this.a+this.b*t},ym.prototype.getCurrentSpeed=ym.prototype.Ve,ym.prototype.Jm=function(t){return this.a*t+this.b*t*t/2},ym.prototype.getCurrentPath=ym.prototype.Jm,t("H.util.events.listenOnce",Ce),t("H.util.events.dispatchEvent",(function(t,e){return t.dispatchEvent(e)})),t("H.util.events.fireListeners",(function(t,e,n,r){return le(t)?t.sd(e,n,r):Le(t,e,n,r)})),t("H.util.events.listen",Be),t("H.util.events.unlisten",Je);var Bm=Me;function rl(){rl.l.constructor.call(this),this.c={},this.b={position:new Wf(0,0),zoom:0,heading:180,incline:0,tilt:0,bounds:new O(Gg([90,-180,90,0,90,180,-90,180,-90,-180]))}}Me=function(t,e){var n,r,i=!0,o=e[e.currentTarget===e.target?"AT_TARGET":t.capture?"CAPTURING_PHASE":(n=!0,"BUBBLING_PHASE")];return(!n||"pointerenter"!==(r=e.type)&&"pointerleave"!==r)&&(e.eventPhase=o,i=Bm(t,e),n&&t.src&&t.src.Pb&&null===t.src.Pb()&&delete e.eventPhase),i},u(rl,F),t("H.map.ViewModel",rl),rl.prototype.a={Ea:"update",Ee:"sync"},rl.prototype.Zb=function(t,e){if(!t)throw new D(this.Zb,0,t);var n=t[Cm];if(tc(n)&&!Yf(n))throw new D(this.Zb,0,Cm);if(tc(n=t[Dm])&&E(+n))throw new D(this.Zb,0,Dm);if(tc(n=t[Em])&&!C(n,Vf))throw new D(this.Zb,0,Em);return n=Fm(t=x.Object.assign({},t),this.c,this.b),Gm(this,this.c,t),this.dispatchEvent(new Hm(this.c,n,e)),this},rl.prototype.setLookAtData=rl.prototype.Zb,rl.prototype.lb=function(){var t={};return t[Cm]=Zf(this.b[Cm]),Gm(this,t,this.b,!0),t},rl.prototype.getLookAtData=rl.prototype.lb;var Cm="position",Dm="zoom",Em="bounds",Im={oj:Cm,rj:Dm,ij:"heading",qj:"tilt",jj:"incline",fj:Em},Jm=Object.keys(Im).map((function(t){return Im[t]}));function Gm(t,e,n,r){t.i={},t.g={},t.f=[];for(var i,o,a,s=t.o,l=t.j,u=Jm.length;u--;)if(a=n[i=Jm[u]],null==(o=e[i])||!r)if(null!=a){tc(s)&&s.call(t,i,o,a);var c,h=i;if((c="position"!==i)||(c=!(!(c=a)||E(c.lat)||E(c.lng))),e[h]=c?a:Zf(a),tc(l)){switch(i){case"position":o=a&&o&&(a.lat!==o.lat||a.lng!==o.lng);break;case"bounds":o=a&&o&&!a.na(o);break;default:o=a!==o}o&&l.call(t,i)}}else delete e[i]}rl.prototype.o=function(t,e,n){this.i[t]=e,this.g[t]=n},rl.prototype.j=function(t){this.f.push(Km[t])};var Km=Jm.reduce((function(t,e){return t[e]=Si[e.toUpperCase()],t}),{});function Fm(t,e,n){var r=0;return["tilt","incline","heading",Dm].forEach((function(i){if(E(t[i])){var o=E(e[i])?n[i]:e[i];t[i]=o}else r|=Km[i]})),[Cm,Em].forEach((function(i){t[i]?r|=Km[i]:t[i]=e[i]||n[i]})),r}function Lm(t,e){return t|e}function Hm(t,e,n){Hm.l.constructor.call(this,rl.prototype.a.Ea,t,null,e),this.b=this.animate=!!n}function S(t,e,n,r){if(S.l.constructor.call(this,t,e,n,r),this.Ja=new Ck(100),this.fa=new I(0,0),this.Me=!!r.enableSubpixelRendering,this.bc=Mm,this.m=new Vl,this.i=r=new cm,this.cc=A(this.cc,this),r.addEventListener(r.g.Qg,this.cc),r=t.element,this.S=t=r.ownerDocument.createElement("div"),t.style.position="absolute",t.style.width=t.style.height="100%",t.style.zIndex=0,r.insertBefore(t,r.firstChild),this.Nd=new zm(this.S,this.ra),this.$=e.lb().position,!(e=x.H.gl))throw new Xc(S,'"H-webgl" module is missing');for(this.a=new Bl({viewport:this.g,tc:this.S,devicePixelRatio:this.ra,Qk:A(this.ha,this)}),e.WorkerBroker.addTarget("model",cj),t=0,r=(e=this.c.Ma()).length,this.j={Yc:[],ja:[]},this.f=e;t<r;t++){var i=e[t];this.hf(t,i),ul(this,i,!0)}this.Ib(),this.Uc=A(this.Uc,this),this.ci=A(this.ci,this),this.Fa=A(this.Fa,this),n.addEventListener(aj.prototype.b.Be,this.Uc),this.A=Nm,this.zoom=vl(this,this.F.ub()),this.Ib(),this.V()}rl.prototype.bb=function(t){var e={},n={};Gm(this,this.b,t),this.c={},e.lookAt=this.g,n.lookAt=this.i,t=(t=this.f).length?t.reduce(Lm):0,this.dispatchEvent(new Ri(this.a.Ee,e,n,t))},rl.prototype.synchronize=rl.prototype.bb,rl.prototype.xf=function(t,e){if(E(t=+t))throw new D(this.xf,0,Dm);this.Zb({zoom:t},e)},rl.prototype.ub=function(){return this.b.zoom},rl.prototype.rc=Nc,rl.prototype.startControl=rl.prototype.rc,rl.prototype.control=Nc,rl.prototype.control=rl.prototype.control,rl.prototype.yb=Nc,rl.prototype.endControl=rl.prototype.yb,u(Hm,Ri),u(S,pl),t("H.map.render.webgl.RenderEngine",S),S.prototype.lb=function(){var t=this.$;return wl(this,{position:{sk:t.sk,uk:t.uk},zoom:this.zoom,tilt:this.Kl,heading:this.heading})},S.prototype.Uc=function(t){((t=(t=t.target.ga())&&t.tb())&&t.getState())===Qh.INIT?t.load():(El(this.a),Gl(this.a,this.c),this.ha())},S.prototype.type=zl.WEBGL,S.prototype.type=S.prototype.type;var Nm=2;function Om(t,e,n){return(e=n-e)<(t=Dd(2,8+t.zoom))/2?e:e-t*n/Ad(n)}function Pm(t,e,n){function r(t){return i[t]+Sl(i[t],e[t])/2}if(!(n&Si.POSITION||n&Si.BOUNDS))return null;var i=Fl(t.a).getLookAtData();n=i.position;var o=e.position,a=e.bounds;return qi(i.bounds,o.lat,o.lng,!1)||a&&qi(a,n.lat,n.lng,!1)?null:((n=Qm(t,{tilt:r("tilt"),heading:r("heading"),incline:0,bounds:eg([n,o])})).zoom=vl(t,n.zoom-.5),delete n.bounds,n)}function Rm(t,e,n,r){return t=(t=t.getCapabilities().lookAt[r]).max-t.min,Ad("zoom"===r?n[r]-e[r]:Sl(e[r],n[r]))/t||0}function Sm(t,e,n){return Yd(3e3*(t=wd(8*Rm(t,e,n,"zoom"),Rm(t,e,n,"heading"),Rm(t,e,n,"tilt")/2)),300,4e3)}function Qm(t,e){return Wm(e),Fl(t.a).getBestLookAtData(e)}function Wm(t){var e=t.bounds;!e||e instanceof O||(t.bounds=ni(e.I()))}function Ym(t,e,n){Fl(t.a).setLookAtData(e),El(t.a),Xm(t),t.ha(),n&&setTimeout(n,0)}function Vm(t,e,n,r){var i=Fl(t.a).getLookAtData(),o=new Rl(i,e);0!==o.a.tilt+o.a.heading+o.a.zoom+o.c?Zm(t,(function(e){for(var n in o.a)if(0!==o.a[n]){var r=o.i[n](e);i[n]+=o.a[n]*(r-o.g[n]),o.g[n]=r}return 0!==o.c&&(i.position=o.b.Mg(o.j,o.c*o.i.position(e),!0)),Ym(t,i)}),n,(function(){return Ym(t,e,r)})):Ym(t,e,r)}function $m(t,e){t.Ja.pa((function(t,n){return n.Pb()===e}))}function an(t){return!(C(t,xm)||C(t,lm))}function Um(t,e){var n=e.position;return wl(t,{zoom:vl(t,e.zoom),position:new Wf(n.lat,n.lng),tilt:e.tilt,heading:e.heading,bounds:e.bounds})}function Xm(t){var e=Fl(t.a).getLookAtData();t.zoom=e.zoom,t.$=e.position}function cn(t,e){return new I((t=Fl(t.a).geoToMeters(e)).x/40075016.68557849+.5,1-(t.y/40075016.68557849+.5))}function dn(t,e){return e.sub(cn(t,t.$)).scale(Dd(2,8+t.zoom))}function en(t,e,n,r,i,o,a,s){var l,u,c,h=0,f=function(){0===--h&&o(i)};if(s&&s.features)for(h=u=s.features.length,c=0;c<u;c++){var p=s.features[c],d=p.id;if(l=t.a.a.sources[p.source_name]){var v=l.provider,g=v.Yj();if(g===Yj.SOURCE){var y=p.source_layer;if("overlays"===y)fn(t,e,n,r,i,l,p.properties.overlays_config);else if(l=l.getMapObjectById(d))if("markers"!==y)i.push(l);else if(gn(t,e,n,l))i.push(l);else if(r&&!a){var m=!0;Jl(t.a,{x:e,y:n},{radius:hn,top_most_only:!1},(function(a){en(t,e,n,r,i,o,!0,a)}))}h--}else g===Yj.FEATURE?(y=p.tile.coords,(m=v.getFeatureProxy(p.properties,y,(function(t){if(t){for(var e,n=t;n&&(e=n.Pb())&&e!==v;)n=e;e||n.ka(v),i.push(t)}f()})))||((l=t.Ja.get(d))||((l=new Kg(p)).ka(v),t.Ja.add(d,l,1)),i.push(l),h--)):g===Yj.PROVIDER&&(m=!0,v.hl(p,!1).then((function(t){t&&(!(t instanceof Ni)||gn(this,e,n,t))&&i.push(t),f()}),(function(){f()}),t))}}g&&(m||0!==h)||o(i)}function fn(t,e,n,r,i,o,a){var s;for(t=t.Xa(e,n),e=a.length;e--&&(!(s=o.getMapObjectById(a[e].id))||0<=i.indexOf(s)||!s.ba().Qd(t)||(i.push(s),!r)););}function gn(t,e,n,r){var i,o=r.Ab(),a=o.g,s=!a;if(a)if(e+=(o=o.td()).x,n+=o.y,C(o=r.ba(),Ji))for(i=(r=o.oa).length;i--&&!s;)o=t.Fa(r[i]),s=a.fg(e-o.x,n-o.y,0)!==ae.NONE;else o=t.Fa(o),s=a.fg(e-o.x,n-o.y,0)!==ae.NONE;return s}function jn(t,e,n,r,i){for(var o,a=e.length;a--&&!((o=e[a])&&o.Ga&&(t=t.concat(o.Ga(n,r,i)),t.length&&i)););return t}function bn(t){return{w:(t=t.Gb[2]).right-t.left,h:t.bottom-t.top}}function kn(t){t.b&&t.b.va()||(Dl(t.a)||yk()-t.Da<t.bc)&&!t.v?t.Ud||(t.Ud=Ik(t.ci)):(t.v&&(t.re(),ln(t)),t.A=Nm)}function ln(t,e){t.od||setTimeout(A(t.dispatchEvent,t,{type:t.wk.pj,target:e||t}),1)}function nn(t,e,n){Fl(t.a).applyPxOffset([e,n]),Xm(t),t.fa.set(0,0),El(t.a),t.ha()}function on(t,e,n,r){Fl(t.a).setLookAtData({zoom:e},Cc(n)&&Cc(n)?[n,r]:B),Xm(t),El(t.a),t.ha()}function Tm(t){mn(t),t.i.va()&&t.yb(!0),t.m.va()&&t.zb(!0)}function pn(t,e){if(e){var n={};n.lf=e.power,n.Ne=e.ease,n.duration=e.duration,t.u=n}}function rn(t,e){var n=dn(t,cn(t,e.position)),r=n.y;n=n.x;var i=e.zoom,o=dn(t,cn(t,t.$));e=o.y;var a=o.x;o=t.zoom;var s=t.i.Cb(),l=t.i.b,u=t.i.c,c=0;if(n=Om(t,a,n),e=Cd((n-=a)*n+(r-=e)*r+(o=i-o)*o),0!==s&&0!==e){var h=n/e,f=r/e,p=o/e,d=s*s/(2*e);Zm(t,(function(e,n){var r;1!==e?((r=p*(n=(e=s*n-d*n*n/2)-c))&&(r=vl(t,t.zoom+r),on(t,r,l,u)),nn(t,xd(h*n),xd(f*n)),c=e):(on(t,vl(t,i),l,u),t.ha())}),2*e/s)}}function qn(t,e,n){n=n||0;var r=t.i,i=Fl(t.a),o=i.getLookAtData();e.ob&&on(t,vl(t,o.zoom+e.ob*n),r.b,r.c),i.setLookAtData({heading:yl(t,o.heading+e.te*n),tilt:xl(t,o.tilt+e.se*n)}),Xm(t),nn(t,e.mb*n,e.nb*n)}function Zm(t,e,n,r,i){t.b&&t.b.va()&&t.b.stop(!0),t.b=new mm(t,e,n,r,i),t.b.start()}function mn(t){t.b&&t.b.va()&&t.b.stop(!0)}S.prototype.getState=function(){return this.A},S.prototype.getState=S.prototype.getState,S.prototype.od=!1,S.prototype.bh=function(t){var e=this,n=t.newValue,r=t.modifiers,i=Fl(this.a);Tm(this),this.fa.set(0,0);var o=Um(this,n);if(Jm.forEach((function(e){r&t[e.toUpperCase()]||delete o[e]})),t.b){i=Fl(this.a).getLookAtData();var a=Qm(this,o);n=Pm(this,a,r);var s=function(){return e.od=!1};if(delete a.bounds,this.od=!0,n){i=Sm(this,i,n);var l=Sm(this,n,a);Vm(this,n,i,(function(){return Vm(e,a,l,s)}))}else n=Sm(this,i,a),Vm(this,a,n,s)}else Wm(o),i.setLookAtData(o);Xm(this),El(this.a),this.ha()},S.prototype.Eg=function(){},S.prototype.setAnimationDuration=S.prototype.Eg,S.prototype.sh=function(){},S.prototype.getAnimationDuration=S.prototype.sh,S.prototype.Fg=function(){},S.prototype.setAnimationEase=S.prototype.Fg,S.prototype.th=function(){},S.prototype.getAnimationEase=S.prototype.th,S.prototype.Bg=function(){},S.prototype.resetAnimationDefaults=S.prototype.Bg,n=S.prototype,n.Ok=function(t){$m(this,t.target.ga()),El(this.a),this.ha()},n.hf=function(t,e){S.l.hf.call(this,t,e),an(e)&&(El(this.a),(t=(t=e.ga())&&t.tb())&&t.getState()===Qh.INIT&&t.load())},n.oi=function(t,e,n){var r;if(this.Da=yk(),$m(this,e.ga()),e.requestDomMarkers||C(e,lm)||C(e,xm)){var i=this.j.ja;for(r=i.length;r--;){var o=i[r];if(o.sb()===e){i.splice(r,1),o.B();break}}}an(e)&&Gl(this.a,this.c),this.f=this.c.Ma(),0===t&&(ul(this,e,!1),this.Ib()),Am(this.Nd,bn(this),this.j.ja.filter(tc)),this.re(),n||this.ha()},n.pi=function(){this.Ib()},n.Ib=function(){S.l.Ib.call(this);var t=this.getCapabilities().lookAt.zoom;Fl(this.a).setZoomConstraints(wd(t.min,this.Og),vd(t.max,this.Sg))},n.Mh=function(t,e){var n;if(e){if(t={vc:this.Me,hb:this.hb},e.U?(C(e,lm)||C(e,xm))&&(n=new km(e)):e.requestDomMarkers&&(n=new qm(e,t)),n){this.j.ja.push(n);var r=this.c.Ma();this.j.ja.sort((function(t,e){return r.indexOf(t.gb)-r.indexOf(e.gb)})),Am(this.Nd,bn(this),this.j.ja.filter(tc))}an(e)&&Gl(this.a,this.c)}this.f=this.c.Ma()},n.Fa=function(t){return Fl(this.a).geoToPixel(t)},S.prototype.geoToScreen=S.prototype.Fa,S.prototype.Xa=function(t,e){return Fl(this.a).xyToGeo(t,e)},S.prototype.screenToGeo=S.prototype.Xa,S.prototype.Dg=function(t,e){return t=this.Xa(t,e),(e=this.F.lb()).position=t,e},S.prototype.Ga=function(t,e,n,r){var i=this,o=[];o=jn(o,this.j.ja,t*this.ra,e*this.ra,n),n&&o.length?r(o):this.a.a.initialized?Jl(this.a,{x:t,y:e},{radius:hn,top_most_only:n},(function(a){en(i,t,e,n,o,r,!1,a)})):r(o)},S.prototype.getObjectsAt=S.prototype.Ga,S.prototype.sa=y,S.prototype.V=function(){var t=this.j.ja.length;ql(this,this.ra),this.fa.set(0,0);var e=bn(this),n=e.w,r=e.h;for(this.a.a.handleViewportUpdate();t--;){var i=(e=this.j.ja[t].wb).Bb();i.w===n&&i.h===r||e.wf(n,r)}this.sa=new Ki(n,r),El(this.a),this.ha()},S.prototype.getCapabilities=function(){return Al},S.prototype.getCapabilities=S.prototype.getCapabilities,n=S.prototype,n.Ud=0,n.re=function(){this.j.Yc.length=0},n.ci=function(){this.Ud=0,this.D&&this.D.before();var t=Fl(this.a),e=t.getLookAtData(!1),n=t.getLookAtData(!0);t=this.g.center.clone(),n=n.bounds.I();var r=this.zoom,i=this.fa,o=this.f,a=o.length;for(this.bc=Mm;a--;){var s=o[a];C(s,aj)&&s.ga()&&s.ga().ug(n,r)}this.v=this.a.U(),this.F.bb(e),e=this.v,a=(o=this.j).ja.length;var l,u=!0;for(l=0;l<a;l++){s=o.ja[l];var c=o.Yc;if(s){var h=s.U(n,t,void 0,r,!1,i,this.Fa,this.a.a.getCameraMatrix());h===ik.ACTIVE&&(this.bc=1/0),h!==ik.DONE||c[l]||(ln(this,s.sb()),c[l]=!0),c[l]||(u=!1)}}this.v=e&u,this.sa&&(this.g.bb(this.sa),this.sa=y),this.b&&this.b.va()&&this.Rg(),this.D&&this.D.after(),kn(this)},n.s=function(){var t=this.c.Ma()[0],e=this.g;Jk(this.Ud),mn(this),t&&ul(this,t,!1),this.j.ja.filter(tc).forEach((function(t){t.B()})),e.element&&e.element.removeChild(this.S),this.S=null,this.A=3,this.a.B(),S.l.s.call(this)},n.ha=function(){this.Da=yk(),this.A===Nm&&(this.v=!1,this.A=1,kn(this))},n.ze=function(t,e,n){on(this,t=vl(this,vl(this,t)),e,n)},S.prototype.zoomAt=S.prototype.ze,S.prototype.sc=function(t,e){var n=!!(e||t&(tl.HEADING|tl.TILT));Tm(this),pn(this,e),this.m.start(t,n),Fl(this.a).setPanning(!0)},S.prototype.startInteraction=S.prototype.sc,S.prototype.jc=function(t,e,n,r,i){var o=this.m,a=!1;if(o.va()){var s=Fl(this.a),l=s.getLookAtData(),u=this.g.center;u=[u.x,u.y],e=o.store(t,e,n,r,i),n=o.Tf(),t=o.be(),i=this.m.Uf(),r=this.m.uh(),o.c&&(o.Fc(tl.TILT)&&(s.setLookAtData({tilt:xl(this,l.tilt+t.y/this.g.height*-180)},u),a=!0),e&&1!==i&&o.Fc(tl.ZOOM)&&(a=o.Tf(),on(this,vl(this,i=Bd(Dd(2,this.zoom)*i)/Ld),a.x,a.y),a=!0),o.Fc(tl.COORD)&&0<Ul(t)&&(nn(this,-t.x,-t.y),a=!0),o.Fc(tl.HEADING)&&(e?s.setLookAtData({heading:l.heading+yl(this,r)},[n.x,n.y]):t.x&&s.setLookAtData({heading:yl(this,l.heading+t.x/this.g.width*360)},u),a=!0),a&&(El(this.a),this.ha()))}},S.prototype.interaction=S.prototype.jc,S.prototype.zb=function(t){var e=this;if(this.m.va()&&!t){if(this.u){t=this.m.Cb();var n=this.m.xc(),r=this.u.duration,i=(this.u.lf||1)*t,o=new ym(-i/(0<r?r:1),i);!E(n.x)&&!E(n.y)&&0<i&&e.m.Fc(tl.COORD)&&Zm(this,(function(t){i=o.Ve(t*r),E(i)||nn(e,xd(-n.x*i),xd(-n.y*i))}),r,void 0,this.u.Ne)}this.u=null,this.m.clear()}Fl(this.a).setPanning(!1),this.ha()},S.prototype.endInteraction=S.prototype.zb,S.prototype.rc=function(t,e,n){Tm(this),this.i.start(e,n),pn(this,t),Fl(this.a).setPanning(!0)},S.prototype.startControl=S.prototype.rc,S.prototype.control=function(t,e,n,r,i,o){for(var a,s=0;s<arguments.length;s++)if((a=+arguments[s])!==a)throw new D(this.control,s,a);this.i.va()&&this.i.set(t,e,n,r,i,o)},S.prototype.control=S.prototype.control,S.prototype.yb=function(t,e){var n,r=this;if(this.i.va()){mn(this);var i=yk(),o=i-this.wa;if(1<=o)qn(this,fm(this.i),o);if(!this.u||t||e)"function"===typeof e&&(e(t=(t=Fl(this.a)).getLookAtData()),rn(this,t));else{e=this.i.Cb();var a=this.i.xc(),s=this.u.duration,l=(this.u.lf||1)*e,u=new ym(-l/(0<s?s:1),l);!E(a.mb)&&!E(a.nb)&&0<l&&Zm(this,(function(t,e,o,c){i&&(o=c-i,i=0),l=u.Ve(t*s)*o,E(l)||((n=a.ob*l)&&on(r,vl(r,r.zoom+n),r.i.b,r.i.c),nn(r,xd(a.mb*l),xd(a.nb*l)))}),s,void 0,this.u.Ne)}this.i.reset(),Fl(this.a).setPanning(!1),this.ha()}},S.prototype.endControl=S.prototype.yb,S.prototype.cc=function(t){var e=this,n=t.c;this.fa.set(0,0),n.mb||n.nb||n.ob||n.se||n.te||n.uf?(this.wa=yk(),Zm(this,(function(t,r,i,o){e.wa=o,qn(e,n,i)}),Td),this.ha()):mn(this)},S.prototype.nh=function(){},S.prototype.enter=S.prototype.nh,S.prototype.Sf=function(t){sl(this.S,t)},S.prototype.exit=S.prototype.Sf,S.prototype.capture=function(t,e,n,r){var i=this;return Kl(i.a).then((function(o){var a=i.S.ownerDocument.createElement("canvas"),s=i.ra,l=a.getContext("2d"),u=i.a.$a()/s,c=(n-t)*s;return s*=r-e,a.width=c,a.height=s,l.drawImage(o,t*u,e*u,c*u,s*u,0,0,c,s),a}))},S.prototype.vm=function(t){return Fl(this.a).geoToMeters(t)},S.prototype.geoToMeters=S.prototype.vm,S.prototype.Co=function(t){return Fl(this.a).metersToGeo(t)},S.prototype.metersToGeo=S.prototype.Co;var Mm=5e3,hn=3.5;function T(t,e,n){var r={};if(T.l.constructor.call(this),this.N=A(T.prototype.N,this),this.i=sn(n,T),this.b=n=new rl,this.S=!1,n.addEventListener(n.a.Ee,this.wa,!1,this),!C(t,Element))throw new D(T,0,t);var i=(n=this.R=t.ownerDocument.createElement("div")).style;if(i.position="relative",i.height=n.style.width="100%",i.overflow="hidden",i.webkitTapHighlightColor="transparent","transparent"!==i.webkitTapHighlightColor&&(i.webkitTapHighlightColor="rgba(0,0,0,0)"),t.appendChild(n),this.za=new jk(this.R,this.i),this.za.addEventListener(this.za.a.Ee,this.wa,!1,this),(t=this.a=new cj(this.i.layers)).addEventListener(t.b.De,this.V,!1,this),t.addEventListener(t.b.Ae,this.V,!1,this),t.addEventListener(t.b.Ce,this.V,!1,this),!this.f&&tn(this),this.c=null,this.a.add(e,0),this.g=this.F(null!=this.i.engineType?this.i.engineType:un.WEBGL,this.i),this.v=A(this.v,this),this.D=A(this.D,this),(e=this.i.imprint)!==B&&"object"!==typeof e)throw new D(T,1,"imprint");this.o=null===e?e:new lj(this,e),e=this.i.autoColor,this.fa=e===B||!!e,vn(this),(e=this.i.zoom)&&(r.zoom=e),(e=this.i.bounds)&&(r.bounds=e),(e=this.i.center)&&(r.position=e),this.b.Zb(r)}function sn(t,e){if(t){var n=t.pixelRatio;if(n===B)t.pixelRatio=Se();else if(!(0<n))throw new D(e,0,"pixelRatio: "+n)}else(t={}).pixelRatio=Se();return t.renderBaseBackground||(t.renderBaseBackground={lower:3,higher:2}),t}function vn(t){t.o&&t.fa&&t.o.Li({invert:t.c&&t.c.km})}function wn(t,e,n){t.dispatchEvent(n?new Ri(t.m.kj,n.newValue,n.oldValue,n.modifiers):t.m.kj+e)}function xn(t){hj.call(this,t)}function tn(t){t.j=new N({max:24}),t.f=new ll(t.j,t.i),t.a.add(t.f)}u(T,F),t("H.Map",T),T.prototype.s=function(){this.fa=!1,this.o&&this.o.B(),this.g.dispose(),this.b.B(),this.za.B(),this.f.B(),this.j.B(),this.a.B();var t=this.R;t.parentNode.removeChild(t),this.R=null,F.prototype.s.call(this)},T.prototype.L=function(){return this.R},T.prototype.getElement=T.prototype.L,T.prototype.$a=function(){return this.i.pixelRatio},T.prototype.getPixelRatio=T.prototype.$a,T.prototype.V=function(t){var e=t.added,n=t.removed;e&&e.ga()&&e.ga().ka(this),n&&n.ga()&&n.ga().ka(null),n===this.f&&(this.j=this.f=null),n===this.c&&(this.c=null),0===t.idx&&(this.dispatchEvent(new Ng(this.m.Df,this.c=t.type!==this.a.b.Ce?e:0<this.a.a.length?this.a.get(0):y,t.type!==this.a.b.Ae?n:1<this.a.a.length?this.a.get(1):y)),vn(this))},T.prototype.wa=function(t){t.modifiers&&(this.S||(wn(this,"start"),this.S=!0),wn(this,"",t),this.sa&&x.clearTimeout(this.sa),this.sa=x.setTimeout(this.D,333))},T.prototype.D=function(){wn(this,"end"),this.S=!1},T.prototype.Gg=function(t,e){return this.g.getCapabilities().lookAt&&this.b.Zb({position:t},!!e),this},T.prototype.setCenter=T.prototype.Gg,T.prototype.kb=function(){var t=this.b.lb();return t?t.position:y},T.prototype.getCenter=T.prototype.kb,T.prototype.xf=function(t,e){return this.b.xf(t,!!e),this},T.prototype.setZoom=T.prototype.xf,T.prototype.ub=function(){return this.b.ub()},T.prototype.getZoom=T.prototype.ub,T.prototype.ze=function(t,e,n){this.g.zoomAt(t,e,n)},T.prototype.zoomAt=T.prototype.ze,T.prototype.Sn=function(){return this.za},T.prototype.getViewPort=T.prototype.Sn,T.prototype.Rn=function(){return this.b},T.prototype.getViewModel=T.prototype.Rn,T.prototype.en=function(){return this.a},T.prototype.getLayers=T.prototype.en,T.prototype.$m=function(){return this.o},T.prototype.getImprint=T.prototype.$m,T.prototype.capture=function(t,e,n,r,i,o){function a(t,e){d?t.cancel():(u.save(),e.capture(l,f,(function(e){u.restore(),t.done(e)}),(function(e){t.done(null,e),s(null)})))}function s(e){d||(d=!0,t(e))}var l,u,c=this.gc(),h=c.getCapabilities(),f=this.i.pixelRatio,p=this.za,d=!1,v=this;if(!Ca(t))throw new D(this.capture,0,t);n=n||0,r=r||0,i=i||p.width,o=o||p.height;var g=wd(0,vd(n,i)),m=wd(0,vd(r,o));n=vd(p.width,wd(n,i)),r=vd(p.height,wd(r,o)),h.capture?c.capture(g,m,n,r).then((function(t){var n=v.o,r=e||[];u=(l=t).getContext("2d"),l.style.width=l.width/f+"px",l.style.height=l.height/f+"px";var i=new wk(10,a);(r=r.concat(n).filter((function(t){return Ca(t&&t.capture)}))).length?(t=r.pop(),r.forEach((function(t){i.push(t,hd)})),i.push(t,A(s,v,l)),sk(i)):s(l)}),(function(){s(y)})):t(null)},T.prototype.capture=T.prototype.capture,T.prototype.gc=function(){return this.u||this.g},T.prototype.getEngine=T.prototype.gc,T.prototype.tl=function(t){return this.g.type===t||this.$||(this.$=!0,this.u=this.F(t),this.u.addEventListener("render",this.v)),this},T.prototype.setEngineType=T.prototype.tl,T.prototype.v=function(t){t.target===this.u&&(this.u.removeEventListener("render",this.v),this.g.Sf(this.N))},T.prototype.N=function(){var t=this.g.type;this.g.B(),this.g=this.u,this.u=B,this.$=!1,this.dispatchEvent(new Ng(this.m.Sl,this.g.type,t))},T.prototype.F=function(t,e){if(e=e?sn(e,this.F):this.i,vn(this),t===un.P2D)return new x.H.map.render.p2d.RenderEngine(this.za,this.b,this.a,e);if(t===un.WEBGL)return new S(this.za,this.b,this.a,e);if(t===un.HARP)return new x.H.harp.RenderEngine(this.za,this.b,this.a,e);throw new D(this.tl,0,t)},T.prototype.Af=function(t,e,n,r,i){if(e=tc(e)?C(e,K,this.Af,1,e)&&e:this.b.lb().bounds.I(),!C(i=i||this.c,bl))throw new D(this.Af,4);var o=i.ga(),a=this.$a(),s=i.tileSize;if(2<=a&&256<s&&o instanceof rk&&(s/=2),a=this.ub(),s=Math.log2(s)-8,!((n=tc(n)?+n:a)<=(r=tc(r)?+r:a)))throw new D(this.Af,B,"!(min <= max)");a=o.min;var l=o.max,u=this.gc().type===un.WEBGL?yd:xd;if(n=Yd(u(n)-s,a,l),r=Yd(u(r)-s,a,l),!(o&&C(o,R)&&md()&&o.eh()))throw new Xc(this.Af,"Storing is not supported");return new mk(i,o,e,n,r,t)},T.prototype.storeContent=T.prototype.Af,u(xn,hj),xn.prototype.f=function(){jj(this,2)},xn.prototype.c=function(){jj(this,4)},T.prototype.jm=function(t){return t=new xn(t),kd().clear(A(t.f,t),A(t.c,t)),t},T.prototype.clearContent=T.prototype.jm,T.prototype.Wg=function(t,e){var n=this.a,r=n.indexOf(t),i=e!==+e;return e=i?n.a.length-1:e,0>r?n.add(t,e):r-e&&(n.nc(r),n.add(t,i?e-1:e)),this},T.prototype.addLayer=T.prototype.Wg,T.prototype.pf=function(t){var e=this.a.indexOf(t);return t!==this.c&&t!==this.f&&-1!==e&&this.a.nc(e),this},T.prototype.removeLayer=T.prototype.pf,T.prototype.Jd=function(t){return this.c!==t&&(this.a.a.length&&this.a.get(0)!==this.f?this.a.set(0,t):this.a.add(t,0),this.c=t),this},T.prototype.setBaseLayer=T.prototype.Jd,T.prototype.Bm=function(){return this.c},T.prototype.getBaseLayer=T.prototype.Bm,T.prototype.Fa=function(t){if(!Yf(t))throw new D(this.Fa,0,t);return(t=this.g.geoToScreen(t))?wf(t):y},T.prototype.geoToScreen=T.prototype.Fa,T.prototype.Xa=function(t,e){var n;if(n=+E(t)||2*E(e))throw new D(this.Xa,n-1,arguments[n-1]);return(n=this.g.screenToGeo(t,e))?Zf(n):y},T.prototype.screenToGeo=T.prototype.Xa,T.prototype.Dg=function(t,e){return this.g.screenToLookAtData(t,e)},T.prototype.screenToLookAtData=T.prototype.Dg,T.prototype.ea=function(t){if(!C(t,M))throw new D(this.ea,0,t);return!this.f&&tn(this),this.j.ic().ea(t),t},T.prototype.addObject=T.prototype.ea,T.prototype.Ha=function(t){if(!C(t,M))throw new D(this.Ha,0,t);return!this.f&&tn(this),this.j.ic().Ha(t),t},T.prototype.removeObject=T.prototype.Ha,T.prototype.Va=function(t){return!this.f&&tn(this),this.j.ic().Va(t)},T.prototype.getObjects=T.prototype.Va,T.prototype.dc=function(t){var e;yc(t,this.dc,0,t),!this.f&&tn(this);var n=t.length;for(e=0;e<n;e++)this.ea(t[e]);return this},T.prototype.addObjects=T.prototype.dc,T.prototype.Fd=function(t){var e;yc(t,this.Fd,0,t),!this.f&&tn(this);var n=t.length;for(e=0;e<n;e++)this.Ha(t[e]);return this},T.prototype.removeObjects=T.prototype.Fd,T.prototype.ce=function(t,e,n){var r;if(r=+E(t)||2*E(e))throw new D(this.ce,r-1,arguments[r-1]);this.g.getObjectsAt(t,e,!0,(function(t){n(t[0])}))},T.prototype.getObjectAt=T.prototype.ce,T.prototype.Ga=function(t,e,n){var r;if(r=+E(t)||2*E(e))throw new D(this.ce,r-1,arguments[r-1]);this.g.getObjectsAt(t,e,!1,n)},T.prototype.getObjectsAt=T.prototype.Ga,T.prototype.Bh=function(t,e,n){var r=n||gf;n=r.visiblesOnly;var i=r.zoom;r=r.types;var o=Pg.ANY;C(t,O,this.Bh,0,"area"),wc(e,"Function",this.Bh,1,"callback"),this.j.Va(t,!tc(n)||!!n,tc(i)?+i:this.b.ub(),tc(r)?r&o:o,e)},T.prototype.getObjectsWithin=T.prototype.Bh;var un={P2D:zl.P2D,WEBGL:zl.WEBGL};function yn(t,e){yn.l.constructor.call(this,t,e)}function zn(t,e){zn.l.constructor.call(this,jh,e),this.ue(t)}function gk(t,e,n){var r="anonymous",i=1;this.f=A(this.f,this),M.call(this,n),this.da(t),n&&((t="crossOrigin")in n&&(r=n[t]),(t="opacity")in n&&(i=n[t])),this.sl(e,r),this.oc(i)}function An(t){if(!t||!Ca(t.requestData))throw new D(An,0,"options.requestData");An.l.constructor.call(this,t),this.N=t.requestData,this.D=!!t.providesDomMarkers}function Bn(t,e){Bn.l.constructor.call(this,t,e)}T.EngineType=un,un.HARP=zl.HARP,T.prototype.m={tp:"mapviewchangestart",kj:"mapviewchange",lj:"mapviewchangeend",Df:"baselayerchange",Sl:"enginechange"},u(yn,Ni),t("H.map.Marker",yn),n=yn.prototype,n.type=Pg.MARKER,n.Ng=1,n.xa=function(t){if(t!==Mg.VISUAL||1===this.Zk||1===this.icon.getState())var e=yn.l.xa.call(this,t);return e||!1},n.Zk=0,n.pk=function(t){return C(t,Ij)},n.Ph=!1,n.Nk=function(){this.xa(Mg.VISUAL)},n.Nc=function(t){var e=this.icon;return this.Ph&&(e.removeEventListener("statechange",this.Nk,!1,this),delete this.Ph),e&&(this.Zk=e.getState()),yn.l.Nc.call(this,t),0===t.getState()&&(this.Ph=!0,Ce(t,"statechange",this.Nk,!1,this)),this},yn.prototype.setIcon=yn.prototype.Nc,yn.prototype.f=function(t){return new Ij(t.svg,t)},yn.prototype.W=function(){var t=this.getIcon(),e=t.fp||0,n=yn.l.forWorkerMessage.call(this),r=n.properties.icon;return r&&0<e&&Wa(r,{stick_color:t.ep,stick_height:e}),n},yn.prototype.forWorkerMessage=yn.prototype.W,u(zn,xi),t("H.map.Rect",zn),zn.prototype.ue=function(t){if(!C(t,K))throw new D(this.ue,0,t);t.na(this.V)||(this.V=this.P=t,this.eb!==y&&zn.l.da.call(this,ni(t)))},zn.prototype.setBoundingBox=zn.prototype.ue,zn.prototype.I=function(){return this.P},zn.prototype.getBoundingBox=zn.prototype.I,zn.prototype.da=function(){return this},zn.prototype.setGeometry=zn.prototype.da,zn.prototype.ba=function(){return this.eb||zn.l.da.call(this,ni(this.V)),this.eb},zn.prototype.getGeometry=zn.prototype.ba,u(gk,M),t("H.map.Overlay",gk),gk.prototype.type=Pg.OVERLAY,gk.prototype.I=function(){return this.P},gk.prototype.getBoundingBox=gk.prototype.I,gk.prototype.ue=function(t){return C(t,K,this.ue,0,t),this.da(t)},gk.prototype.setBoundingBox=gk.prototype.ue,gk.prototype.ba=function(){return this.P},gk.prototype.getGeometry=gk.prototype.ba,gk.prototype.da=function(t){var e=this.P,n=!e;return C(t,K,this.da,0,t),!n&&e.na(t)||(this.P=t,n||this.xa(Mg.SPATIAL)),this},gk.prototype.setGeometry=gk.prototype.da,gk.prototype.ad=function(){return this.b.getData()},gk.prototype.getBitmap=gk.prototype.ad,gk.prototype.sl=function(t,e){var n=this.b;return n&&1!==n.getState()&&n.cancel(),this.b=new Dj(t,this.f,!0,B,e),this},gk.prototype.setBitmap=gk.prototype.sl,gk.prototype.f=function(t,e){this.b=e,1===t&&this.xa(Mg.VISUAL)},gk.prototype.dd=function(){return this.g},gk.prototype.getOpacity=gk.prototype.dd,gk.prototype.oc=function(t){var e=this.g,n=2>e;if(!(0<=t&&1>=t))throw new D(this.oc,0);return t!==e&&(this.g=t,n&&this.xa(Mg.VISUAL)),this},gk.prototype.setOpacity=gk.prototype.oc,gk.prototype.W=function(){var t=gk.l.W.call(this);return t.geometry=ni(this.P).W(),t.properties.overlay=!0,t},gk.prototype.forWorkerMessage=gk.prototype.W,u(An,R),t("H.map.provider.MarkerTileProvider",An),An.prototype.Xd=function(t){return t?t.length+1:1},An.prototype.getEntryWeight=An.prototype.Xd,An.prototype.K=function(t,e,n,r,i){var o=this;return this.N(t,e,n,(function(i){for(var a,s,l=[],u=i.length;u--;)(s=i[u]).hp=o.getTileKey(t,e,n),s.ka(o),a=s.Ab(),(C(s,Qi)||1===a.getState())&&l.push(i[u]);r(l)}),i)},An.prototype.requestInternal=An.prototype.K,An.prototype.ie=function(t,e){e===Mg.VISUAL&&(t=this.Nb().get(t.hp))&&(t.valid=!1,Vj(this,t))},An.prototype.invalidateObject=An.prototype.ie,An.prototype.Ub=function(){return this.D},An.prototype.providesDomMarkers=An.prototype.Ub,An.prototype.Vb=df,An.prototype.providesMarkers=An.prototype.Vb,u(Bn,bl),t("H.map.layer.MarkerTileLayer",Bn);var Cn={markers:[],total:0,requested:0};function Dn(t,e,n,r,i){var o,a=yd(n);for(t.pixelProjection.Pa(a),e=t.he(t.Se(e),a),n=t.Ze(e,e.left>e.right,~~n,r,i),t=n.tiles,n=n.total,r=t.length,i=[],o=0;o<r;o++)for(a=(e=t[o]).data.length;a--;)i.push(e.data[a]);return{markers:i,total:t.length,requested:n}}function En(t,e,n){var r,i=6;if(e){for(r=' expected close to: "'+e;i--;)-1!==(e=t.a.next())&&(r+=String.fromCharCode(e));r+='"'}throw new D(Fn,0,"- Malformed WKT: "+(r?n+r:"unexpected end of stream"))}Bn.prototype.Jc=function(t,e,n,r){return this.a.providesDomMarkers()?Cn:Dn(this,t,e,n,r)},Bn.prototype.requestMarkers=Bn.prototype.Jc,Bn.prototype.Ic=function(t,e,n,r){return this.a.providesDomMarkers()?Dn(this,t,e,n,r):Cn},Bn.prototype.requestDomMarkers=Bn.prototype.Ic;var Gn={Xl:" ",Ul:"(",Vl:")",Rl:",",Tl:""};function Hn(t,e){var n=t.next();n!==(e=e?")":"(")&&En(t,n,'"'+e+'"')}function In(t){return","===Jn(t)&&(t.next(),!0)}function Kn(t,e,n,r,i){var o,a,s=2+e+n;for(a=1;a<=s;a++)(n=t.next())?(o=+n)!==o?En(t,n,"number"):1===a?r[i+1]=o:2===a?r[i]=o:3===a&&(r[i+2]=o):En(t,n);e||(r[i+2]=0)}Object.keys(Gn).reduce((function(t,e){return t[Gn[e]]=!0,t}),mc());var Ln=[];function Mn(t,e,n,r){return r||Hn(t,0),Kn(t,e,n,Ln,0),r||Hn(t,1),new Wf(Ln[0],Ln[1],e?Ln[2]:B)}function Nn(t,e,n){var r=[];Hn(t,0);do{Kn(t,e,n,r,r.length)}while(In(t));return Hn(t,1),new L(r)}function On(t,e,n){Hn(t,0);var r=Nn(t,e,n);if(In(t)){var i=[];do{i.push(Nn(t,e,n))}while(In(t))}return Hn(t,1),new O(r,i)}var Pn=[],Qn=[On],Rn=[Mn],Sn={POINT:Rn,LINESTRING:[Nn],POLYGON:Qn,MULTIPOINT:[Mn,Ji],MULTILINESTRING:[Nn,mh],MULTIPOLYGON:[On,ui],GEOMETRY:Pn,GEOMETRYCOLLECTION:Pn,CIRCULARSTRING:Pn,COMPOUNDCURVE:Pn,CURVEPOLYGON:Pn,MULTICURVE:Pn,MULTISURFACE:Pn,CURVE:Pn,SURFACE:Pn,POLYHEDRALSURFACE:Pn,TIN:Pn,TRIANGLE:Pn},Tn={Z:1,M:2,ZM:3};function Fn(t){var e,n=(t=new Un(t)).next();if((e=Sn[n.toUpperCase()])||En(t,n,"type name"),e!==Pn){n=Jn(t);var r=1&(n=Tn[n.toUpperCase()]),i=n>>1;if(r|i&&t.next(),"EMPTY"===(n=Jn(t)))if(t.next(),r=e[1])var o=new r([]);else e!==Rn&&(o=new L([]),e===Qn&&(o=new O(o)));else if("("===n){if(o=e[0],e=e[1]){var a=[];if(Hn(t,0),o===Mn){var s="("!==Jn(t);do{a.push(o(t,r,i,s))}while(In(t))}else do{a.push(o(t,r,i))}while(In(t));Hn(t,1),r=new e(a)}else r=o(t,r,i);o=r}else En(t,n,'"Z", "M", "ZM", "(" or "EMPTY"');t.next()&&En(t,n,"end of stream")}return o||y}function Un(t){this.a=t}function Jn(t){var e=t.b;if(e===B){for(e=t.a;e.Sb()===Vn;)e.next();if(Wn[e.Sb()])e=(e=e.next())===Xn?"":String.fromCharCode(e);else{e.ye();do{e.next()}while(!Wn[e.Sb()]);e=String.fromCharCode.apply(null,e.Td())}t.b=e}return e}Un.prototype.next=function(){var t=Jn(this);return""!==t&&delete this.b,t};var Vn=32,Xn=-1,Yn={Xl:Vn,Ul:40,Vl:41,Rl:44,Tl:Xn},Wn=Object.keys(Yn).reduce((function(t,e){return t[Yn[e]]=!0,t}),mc());function Zn(){}function $n(t){this.c=String(t),this.f=0,this.a=[],this.b=!1}t("H.util.ICharStream",Zn),Zn.prototype.next=function(){},Zn.prototype.ye=function(){},Zn.prototype.Td=function(){},Zn.prototype.Sb=function(){},t("H.util.CharStream",$n),$n.prototype.next=function(){var t=this.c.charCodeAt(this.f++);return t=isNaN(t)?-1:t,this.b&&this.a.push(t),t},$n.prototype.ye=function(){this.b=!0,this.a=[]},$n.prototype.Td=function(){var t=this.a.slice();return this.b=!1,this.a=[],t},$n.prototype.Sb=function(){var t=this.c.charCodeAt(this.f);return isNaN(t)?-1:t},t("H.util.wkt.toGeometry",(function(t){return Fn(new $n(t))})),t("H.buildInfo",(function(){return Ef("H-core","1.28.0","02e4f30f")}));var ao=function(){var a="maps"+eval('"js-"'),b=x.document.querySelector('script[src*="'+a+'"]');if(!b){var c=x.document.getElementsByTagName("script"),d=new RegExp("^.*"+a),e=0;for(a=c.length;e<a;e++)if(d.test(c[e].src)){b=c[e];break}}return b?b.src.replace(/\/[^\/]*$/,"/"):""}();function bo(t,e){if(!t)throw new D(bo,0,t);bo.l.constructor.call(this,t),this.b={},this.c=e&&e.vc,this.f=co++}t("H.getScriptPath",(function(){return ao})),u(bo,jm);var co=0;function eo(t,e){e=e||{},C(t,ll,eo,0),eo.l.constructor.call(this,t),this.vc=!!e.vc,this.c=e.hb||0,this.a=[],this.b={}}bo.prototype.U=function(t,e,n,r,i,o){var a=xd(r),s=this.gb,l=a+(n.exp-s.pixelProjection.exp),u=s.min,c=s.max;r=s.tileSize;var h=s.ga().i,f=this.wb,p=f.dd(),d=f.Bb().w,v=n.w,g=n.x,y=n.y,m={};if(a<u||a>c)return ik.DONE;for(t=(i=s.requestTiles(t,l,i,o,this.f)).total,o=(i=i.tiles).length,this.g=n,this.j=e,this.a=l,p!==h&&f.oc(h),n=r=r*v/(Dd(2,l)*r),this.c||(r%1&&(g/=v=n/(r=yd(r)),y/=v,v=Dd(2,l)*r),g=yd(g),y=yd(y)),this.i=n,l=-r,a=d+r,s=0;s<o;s++){if((u=(d=i[s]).data)&&u.tagName){for(n=e.x-(g-d.x*r),h=e.y-(y-d.y*r),f.Zc(u,n,h,r,r),p=n;(p-=v)>l;)f.Zc(u,p,h,r,r);for(p=n;(p+=v)<a;)f.Zc(u,p,h,r,r)}m[this.a+"_"+d.x+"_"+d.y]=d}return this.b=m,o===t?ik.DONE:ik.PENDING},bo.prototype.Ga=function(t,e,n){var r,i=this.i,o=i/this.gb.tileSize,a=this.g,s=this.j;if(tc(this.a)&&a){t=a.x+(t-s.x),e=a.y+(e-s.y);var l=yd(a.w/i),u=a=yd(t/i);s=yd(e/i),Ad(u)>=l&&(u%=l),0>u&&(u=l+u),(l=this.b[this.a+"_"+u+"_"+s])&&l.Ga&&(r=l.Ga((t-i*a)/o,(e-i*s)/o,n))}return r||ff},bo.prototype.ge=function(){return"2d"},u(eo,jm),eo.prototype.U=function(t,e,n,r,i,o){var a,s,l=this.gb;r-=this.c,this.a.length=0;var u=this.b;if(this.b=a={},r>=l.min&&r<=l.max){var c=l.Gd(t,r,i,o),h=c.overlays;if(t=h.length)for(h.sort(Rg),r=this.wb,i=this.vc,o=0;o<t;o++){var f=(l=h[o]).I(),p=n.jb(f.Qb()),d=n.jb(f.Mb());f=n.w,p.x>=d.x&&(p.x-=f),f=-((p.x+d.x)/f>>1)*f,p.x+=f,p.add(e),d.x+=f,d.add(e),i||(p.round(),d.round()),(f=u[s=l.fb()])?delete u[s]:f={Mo:l},a[s]=f;var v=p.x;p=p.y;var g=d.x,y=g-v,m=(d=d.y)-p;r.oc(l.dd()),r.Zc(l.ad(),v,p,y,m),f.mh?f.mh.set(v,p,g,d):f.mh=new kk(v,p,g,d),this.a.push(f)}}return!c||c.requested&&c.requested===c.total||!c.requested&&h.length===c.total?ik.DONE:ik.PENDING},eo.prototype.Ga=function(t,e,n){for(var r,i,o=this.a,a=o.length;a--;)if((r=o[a]).mh.Nf(t,e))if(r=r.Mo,i)i.push(r);else if(i=[r],n)break;return i||ff},eo.prototype.ge=function(){return"2d"},eo.prototype.s=function(){this.a=null,eo.l.s.call(this)};var fo={lookAt:{zoom:{min:-8,max:24},tilt:{min:0,max:0},incline:{min:0,max:0},heading:{min:180,max:180}},interaction:{ZOOM:tl.ZOOM,COORD:tl.COORD},capture:!0};function go(t,e){this.a=[],go.l.constructor.apply(this,arguments)}function U(t,e,n,r){U.l.constructor.call(this,t,e,n,r),this.S=new I(0,0),(n=r.renderBaseBackground)&&(this.ro=n.lower,this.lo=n.higher),this.ko=!!r.enableSubpixelRendering,this.od=ho,this.Nj=0,this.Me=this.Lj=!1,this.i=new Vl,this.a=r=new cm,this.Nd=A(this.Nd,this),r.addEventListener(r.g.Qg,this.Nd),this.Fa=A(this.Fa,this),r=t.element,this.Ja=t=r.ownerDocument.createElement("div"),t.style.position="absolute",t.style.width=t.style.height="100%",t.style.zIndex=0,r.insertBefore(t,r.firstChild),this.fk=new zm(this.Ja,this.ra),this.m=[],io(this),this.bi=A(U.prototype.bi,this),this.A=jo,this.Bg(),this.zoom=ko(this,this.F.ub()+this.hb),this.Ib(),lo(this,e.lb().position,this.zoom),this.bb(),this.V()}t("H.map.render.p2d.capabilities",fo),u(go,nm),n=go.prototype,n.Mj=function(){return this.gb.Jc.apply(this.gb,arguments)},n.U=function(t,e,n,r,i,o,a){return this.a=[],go.l.U.apply(this,arguments)},n.zk=1,n.fl=function(t,e,n,r,i,o){var a=this.zk=r.$a();i*=a,o*=a;var s=n.Bb();e=s.w*a,s=s.h*a;var l=n.td();this.vc?(i-=l.x*a,o-=l.y*a):(i=xd(i-l.x*a),o=xd(o-l.y*a)),r.Zc(n.ad(),i,o,e,s),t.detail?t.detail.set(i,o,i+e,o+s):t.detail=new kk(i,o,i+e,o+s),this.a.push(t)},n.Ga=function(t,e,n){for(var r,i,o,a=this.a,s=a.length,l=ff,u=this.zk;s--&&!((i=(r=a[s]).detail).Nf(t,e)&&(r=r.Jk,(!(o=r.Ab().g)||o.fg((t-i.left)/u,(e-i.top)/u,0))&&0>l.indexOf(r)&&(l===ff&&(l=[]),l.push(r),n))););return l},n.ge=function(){return"2d"},n.s=function(){this.a=null,go.l.s.call(this)},u(U,pl),t("H.map.render.p2d.RenderEngine",U),U.prototype.type=zl.P2D,U.prototype.type=U.prototype.type;var jo=2;function mo(t,e,n){return Ad(e=n-e)<t.qa.w/2?e:e-t.qa.w*n/Ad(n)}function io(t){var e=t.c.Ma(),n=0,r=e.length;for([t.fa={},t.u={},t.sa={},t.$={}].forEach((function(t){t.Yc=[],t.ja=[]})),t.f=t.c.Ma();n<r;n++)t.hf(n,e[n]);t.Ib()}function vo(t){var e=[];return(e=(e=(e=(e=e.concat(t.u.ja)).concat(t.fa.ja)).concat(t.sa.ja)).concat(t.$.ja)).filter(tc)}function po(t,e){var n=vl(t,vl(t,e.zoom)+t.hb);return(t=wl(t,e)).zoom=n,t}function lo(t,e,n){var r=t.qa;r.Pa(n),t.o=r.projection.$c(e),r.x=r.w*t.o.x,r.y=r.h*t.o.y}function uo(t){return{w:(t=t.Gb[2]).right-t.left,h:t.bottom-t.top}}function wo(t){t.b&&t.b.va()||yk()-t.Da<t.od&&!t.v?t.Ud=Ik(t.bi):(t.v&&(t.re(),xo(t)),t.A=jo)}function xo(t,e){t.dispatchEvent({type:t.wk.pj,target:e||t})}function Bo(t,e,n){ro(t,e*t.ra,n*t.ra),t.S.set(0,0),t.bb(),t.ha()}function ro(t,e,n){var r=t.qa;t=t.o,r.x=Wd(r.x+e,r.w),r.y=wd(0,vd(r.w,r.y+n)),t.x=r.x/r.w,t.y=r.y/r.h}function so(t,e,n,r){var i=t.ra,o=t.g.center;n===+n&&r===+r?(n=(n-o.x)*i,r=(r-o.y)*i,t.S.set(n,r),ro(t,n,r),t.qa.Pa(e),ro(t,-n,-r)):(t.S.set(0,0),t.qa.Pa(e)),t.zoom=e,t.bb(),t.ha()}function no(t,e,n,r){var i=t.getCapabilities().lookAt.zoom.max,o=e.kb(),a=r||o;if(e.hg()||n&&r)n=n===B?i:n;else{var s=new Yi(t.qa.projection);s.Pa(i);var l=s.jb(e.Qb()).round(),u=s.jb(e.Mb()).round();i=s.w,e.Eb()&&(l.x-=i),r?(o=s.jb(a),e=2*wd(o.x-l.x,u.x-o.x),l=2*wd(o.y-l.y,u.y-o.y)):(e=u.x-l.x,l=u.y-l.y,a=o),n===B&&(n=(o=t.Gb[4]).right-o.left,o=o.bottom-o.top,n=vl(t,n=-8+vd(Bd(n/e*i)/Ld,Bd(o/l*i)/Ld)-t.hb))}return{zoom:yd(n),position:a}}function oo(t){to(t,!0),t.a.va()&&t.yb(!0),t.i.va()&&t.zb(!0),to(t,!0)}function Co(t,e){if(e){var n={};n.lf=e.power,n.Ne=e.ease,n.duration=e.duration,t.j=n}}function ko(t,e){return vl(t,vl(t,e-t.hb)+t.hb)}function Eo(t,e){var n=t.o,r=t.qa.projection.$c(e.position),i=t.qa.oe(r),o=i.y;i=i.x;var a=e.zoom;e=(n=t.qa.oe(n)).y;var s=n.x;n=t.zoom;var l=t.a.Cb(),u=t.a.b,c=t.a.c,h=0;if(i=mo(t,s,i),e=Cd((i-=s)*i+(o-=e)*o+(n=a-n)*n),0!==l&&0!==e){var f=i/e,p=o/e,d=n/e,v=l*l/(2*e);qo(t,(function(e,n){var i;1!==e?((i=d*(n=(e=l*n-v*n*n/2)-h))&&(i=ko(t,t.zoom+i),so(t,ko(t,i),u,c)),Bo(t,xd(f*n),xd(p*n)),h=e):(t.o=r,so(t,ko(t,a),u,c),t.bb(),t.ha())}),2*e/l)}}function Do(t,e,n){n=n||0,e.ob&&so(t,ko(t,t.zoom+e.ob*n),t.a.atX,t.a.atY),Bo(t,e.mb*n,e.nb*n)}function qo(t,e,n,r,i){t.b&&t.b.va()&&t.b.stop(!0),t.b=new mm(t,e,n,r,i),t.b.start()}function to(t,e){t.b&&t.b.va()&&t.b.stop(e)}U.prototype.getState=function(){return this.A},U.prototype.getState=U.prototype.getState,U.prototype.bh=function(t){var e=this,n=t.b,r=t.newValue,i=t.modifiers;t=r.position;var o,a=r.bounds,s=this.zoom,l=this.o,u=0;if(i&Si.POSITION&&(o=e.qa.jb(t)),i&Si.BOUNDS)r=no(this,a.I(),i&Si.ZOOM?r.zoom:B,i&Si.POSITION?t:B),this.F.Zb(r,n);else{i&Si.POSITION||(o=e.qa.jb(r.position));var c=o.x,h=o.y;oo(this),this.S.set(0,0);var f=(r=po(this,r)).zoom,p=r.position;if(n){var d=f-s,v={x:l.x,y:l.y};n=this.qa.oe(v).x;var g=this.qa.projection.$c(t);g.x===this.o.x&&g.y===this.o.y&&f===this.zoom||(c=mo(this,n,c),qo(this,(function(t){var n=t-u;if(f!==s){o=e.qa.oe(g);var r=e.qa.oe(v);c=mo(e,r.x,o.x),h=o.y-r.y}u=t,ro(e,c*n,h*n),so(e,s+=d*n),e.bb(),e.ha()}),this.bc,(function(){lo(e,p,f),so(e,f),e.bb(p),e.ha()}),this.cc))}else to(this),lo(this,p,f),so(this,f),this.bb(p);this.ha()}},U.prototype.bc=300,U.prototype.Eg=function(t){var e=Cc(t);if(!e||e&&0>t)throw new D(this.Eg,1,"positive number required");this.bc=t},U.prototype.setAnimationDuration=U.prototype.Eg,U.prototype.sh=function(){return this.bc},U.prototype.getAnimationDuration=U.prototype.sh,U.prototype.cc=Ml,U.prototype.Fg=function(t){if(!Ca(t))throw new D(this.Fg,1,"function required");this.cc=t},U.prototype.setAnimationEase=U.prototype.Fg,U.prototype.th=function(){return this.cc},U.prototype.getAnimationEase=U.prototype.th,U.prototype.Bg=function(){this.cc=Ml,this.bc=300},U.prototype.resetAnimationDefaults=U.prototype.Bg,U.prototype.oi=function(t,e,n){var r;this.Da=yk(),(r=this.fa.ja.splice(t,1)[0])&&r.B&&r.B(),(r=this.u.ja.splice(t,1)[0])&&r.B&&r.B(),(r=this.sa.ja.splice(t,1)[0])&&r.B&&r.B(),(r=this.$.ja.splice(t,1)[0])&&r.B&&r.B(),this.f=this.c.Ma(),0===t&&(ul(this,e,!1),this.Ib()),this.m=Am(this.fk,uo(this),vo(this)),this.re(),n||this.ha()},U.prototype.pi=function(){this.Ib(),this.ha()},U.prototype.Mh=function(t,e,n){var r,i,o,a;if(e){var s={vc:this.ko,hb:this.hb};e.U?C(e,lm)?i=new km(e):C(e,xm)&&(a=new km(e)):(e.requestOverlays&&(r=new eo(e,s)),e.requestTiles&&(i=new bo(e,s)),e.requestMarkers&&(o=new go(e,s)),e.requestDomMarkers&&(a=new qm(e,s)))}n=n||0,this.fa.ja.splice(t,n,r),this.u.ja.splice(t,n,i),this.sa.ja.splice(t,n,o),this.$.ja.splice(t,n,a),this.f=this.c.Ma(),this.m=Am(this.fk,uo(this),vo(this))},U.prototype.Xa=function(t,e){var n=this.g.center,r=this.ra;return this.qa.Ra((t-n.x)*r,(e-n.y)*r)},U.prototype.screenToGeo=U.prototype.Xa,U.prototype.Dg=function(t,e){return t=this.Xa(t,e),(e=this.F.lb()).position=t,e},U.prototype.Fa=function(t){var e=this.ra,n=this.g.center,r=n.x*e;n=n.y*e,t=this.qa.jb(t);var i=this.qa.w;return new I(xd((t.x-xd(t.x/i)*i+r)/e),xd((t.y+n)/e))},U.prototype.geoToScreen=U.prototype.Fa,U.prototype.I=function(t,e){var n=this.Gb[t||4];t=this.qa;var r=n.left-e,i=t.Ra(r,n.top-e),o=n.right+e;return e=t.Ra(o,n.bottom+e),o-r>=t.w&&(i.lng=-(e.lng=180)),dg(i,e)},U.prototype.Ga=function(t,e,n,r){var i,o=[],a=this.ra;for(t*=a,e*=a,i=(a=[this.fa,this.u,this.sa,this.$]).length;i--&&(!n||!o.length);){for(var s=o,l=a[i].ja,u=t,c=e,h=n,f=l.length;f--&&!((o=l[f])&&o.Ga&&(s=s.concat(o.Ga(u,c,h)),s.length&&h)););o=s}r(o)},U.prototype.getObjectsAt=U.prototype.Ga,U.prototype.Uc=y,U.prototype.V=function(){var t,e=this.m.length;U.l.V.call(this);var n=uo(this);this.S.set(0,0);var r=n.w;for(t=n.h;e--;){var i=(n=this.m[e]).Bb();i.w===r&&i.h===t||n.wf(r,t)}this.Uc=new Ki(r,t),this.ha()},U.prototype.getCapabilities=function(){return fo},U.prototype.getCapabilities=U.prototype.getCapabilities,n=U.prototype,n.re=function(){this.fa.Yc.length=0,this.u.Yc.length=0,this.sa.Yc.length=0,this.$.Yc.length=0},n.bi=function(){var t;this.D&&this.D.before();var e=this.u.ja,n=this.g.center.clone().scale(this.ra).round(),r=this.I(1,0),i=this.I(1,yo),o=this.zoom,a=o-this.hb,s=this.qa,l=this.ro,u=this.lo,c=e[0];e=this.S;var h=this.m.length,f=this.f;for(t=f.length;h--;){var p=this.m[h];C(p,im)&&p.clear()}if(c){if(l)for(;l;)h=o-l,c.U(r,n,s,h,!0,e),--l;if(u&&this.Me)for(p=1;p<=u&&(h=o+p,s.Pa(h),l=this.I(2,0),s.Pa(o),!c.U(l,n,s,h,!0,e));p++);}for(this.od=ho;t--;)C(s=f[t],aj)&&s.ga()&&s.ga().ug(i,a);r=this.yk(r,n,o,!1,e,zo,this.u,this.fa),n=this.yk(i,n,a,!1,e,Ao,this.sa,this.$),this.v=r&&n,this.b&&this.b.va()&&this.Rg(),this.N||(this.N=this.F.lb()),this.N.bounds=this.I(4,0),this.F.bb(this.N),this.N=null,this.Uc&&(this.g.bb(this.Uc),this.Uc=y),o<this.Nj?this.Me=!0:this.Lj&&(this.Me=!1),this.Nj=o,this.Lj=r,this.D&&this.D.after(),wo(this)},n.yk=function(t,e,n,r,i,o,a){var s,l=Array.prototype.slice.call(arguments,6),u=l.length,c=l[0].ja.length,h=u*c,f=!!h;for(s=0;s<h;s++){if(o===zo)var p=s%u,d=Math.floor(s/u);else p=Math.floor(s/c),d=s%c;var v=l[p].ja[d];p=l[p].Yc,v&&((v=v.U(t,e,this.qa,n,r,i,this.Fa))===ik.ACTIVE&&(this.od=1/0),v!==ik.DONE||p[d]||(xo(this,this.f[d]),p[d]=!0),p[d]||(f=!1))}return f},n.s=function(){var t=this.c.Ma()[0],e=this.g;Jk(this.Ud),to(this,!0),t&&ul(this,t,!1),vo(this).forEach((function(t){t.B()})),e.element&&e.element.removeChild(this.Ja),this.Ja=null,this.A=3,U.l.s.call(this)},n.ha=function(){this.Da=yk(),this.A===jo&&(this.v=!1,this.A=1,wo(this))},n.ze=function(t,e,n){so(this,t=vl(this,vl(this,t)+this.hb),e,n)},U.prototype.zoomAt=U.prototype.ze,U.prototype.sc=function(t,e){oo(this),Co(this,e),this.i.start(t,!!e)},U.prototype.startInteraction=U.prototype.sc,U.prototype.jc=function(t,e,n,r,i){var o=!1;this.i.va()&&(e=this.i.store(t,e,n,r,i),this.i.Fc(tl.COORD)&&(0<Ul(t=this.i.be())&&(Bo(this,-t.x,-t.y),o=!0)),e&&this.i.Fc(tl.ZOOM)&&(t=this.i.Tf(),e=this.i.Uf(),(e=Bd(Dd(2,this.zoom)*e)/Ld)!==this.zoom&&(so(this,e=ko(this,e),t.x,t.y),o=!0)),o&&this.ha())},U.prototype.interaction=U.prototype.jc,U.prototype.zb=function(t){var e=this;if(this.i.va()&&!t){if(this.j){t=this.i.Cb();var n=this.i.xc(),r=this.j.duration,i=(this.j.lf||1)*t,o=new ym(-i/(0<r?r:1),i);!E(n.x)&&!E(n.y)&&0<i&&e.i.Fc(tl.COORD)&&qo(this,(function(t){i=o.Ve(t*r),E(i)||Bo(e,xd(-n.x*i),xd(-n.y*i))}),r,void 0,this.j.Ne)}this.j=null,this.i.clear()}},U.prototype.endInteraction=U.prototype.zb,U.prototype.rc=function(t,e,n){oo(this),this.a.start(e,n),Co(this,t)},U.prototype.startControl=U.prototype.rc,U.prototype.control=function(t,e,n){if(E(+n))throw new D(this.control,2,n);if(E(t))throw new D(this.control,0,t);if(E(e))throw new D(this.control,1,e);this.a.va()&&this.a.set(t,e,n,0,0,0)},U.prototype.control=U.prototype.control,U.prototype.yb=function(t,e){var n,r=this;if(this.a.va()){to(this,!0);var i=yk(),o=i-this.wa;if(1<=o)Do(this,fm(this.a),o);if(!this.j||t||e)"function"===typeof e&&((t=this.lb()).zoom=this.zoom-this.hb,e(t),t.zoom+=this.hb,Eo(this,t));else{e=this.a.Cb();var a=this.a.xc(),s=this.j.duration,l=(this.j.lf||1)*e,u=new ym(-l/(0<s?s:1),l);!E(a.mb)&&!E(a.nb)&&0<l&&qo(this,(function(t,e,o,c){i&&(o=c-i,i=0),l=u.Ve(t*s)*o,E(l)||((n=a.ob*l)&&so(r,ko(r,r.zoom+n),r.a.b,r.a.c),Bo(r,xd(a.mb*l),xd(a.nb*l)))}),s,void 0,this.j.Ne)}this.a.reset()}},U.prototype.endControl=U.prototype.yb,U.prototype.Nd=function(t){var e=this,n=t.c;this.S.set(0,0),n.mb||n.nb||n.ob?(this.wa=yk(),qo(this,(function(t,r,i,o){e.wa=o,Do(e,n,i)}),Number.POSITIVE_INFINITY),this.ha()):to(this,!0)},U.prototype.nh=function(){},U.prototype.enter=U.prototype.nh,U.prototype.Sf=function(t){sl(this.Ja,t)},U.prototype.exit=U.prototype.Sf,U.prototype.capture=function(t,e,n,r){var i=this.Ja.ownerDocument.createElement("canvas"),o=i.getContext("2d"),a=this.ra;for(i.width=(n-t)*a,i.height=(r-e)*a,n=0;n<this.m.length;n++)C(r=this.m[n],im)&&o.drawImage(r.L(),-t*a,-e*a);return Xb(i)};var Ao=0,zo=1,ho=1e3,yo=256;function Fo(t){var e=t.ownerDocument;e=e.documentElement||e.body.parentNode||e.body;try{var n=t.getBoundingClientRect()}catch(r){n={top:0,right:0,bottom:0,left:0,height:0,width:0}}return{x:n.left+("number"===typeof window.pageXOffset?window.pageXOffset:e.scrollLeft),y:n.top+("number"===typeof window.pageYOffset?window.pageYOffset:e.scrollTop)}}var Go=Function("return this")();function Ho(t,e,n,r,i,o,a){Ho.l.constructor.call(this,t),this.pointers=e,this.changedPointers=n,this.targetPointers=r,this.currentPointer=i,this.originalEvent=a,this.target=o}function Io(t,e,n,r,i,o){if(isNaN(t))throw Error("x needs to be a number");if(isNaN(e))throw Error("y needs to be a number");if(isNaN(n))throw Error("pointer must have an id");this.viewportX=t,this.viewportY=e,this.target=null,this.id=n,this.type=r,this.dragTarget=null,this.button=tc(i)?i:-1,this.buttons=tc(o)?o:0,this.a=this.button}function Jo(t,e,n){if(isNaN(e))throw Error("x needs to be a number");if(isNaN(n))throw Error("y needs to be a number");t.viewportX=e,t.viewportY=n}function Ko(t,e){t.a=e,t.buttons|=Io.prototype.b[+e]||0}function Lo(t,e){t.a=e,t.buttons&=~(Io.prototype.b[+e]||0)}u(Ho,rd),t("H.mapevents.Event",Ho),t("H.mapevents.Pointer",Io),Io.prototype.cn=function(){return this.a},Io.prototype.getLastChangedButton=Io.prototype.cn,Io.prototype.b=[1,4,2];var Mo={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};function No(t){this.a=t instanceof Array?t.slice(0):[]}function Oo(t,e){return-1!==(e=t.indexOf(e))?t.a[e]:null}function Po(t,e){for(var n=t.a.length,r=[];n--;)t.a[n].type!==e&&r.push(t.a[n]);t.a=r}function Qo(t,e){for(var n=t.a.length;n--;)if(t.a[n].dragTarget===e)return!0;return!1}function Ro(t,e,n){if(n=n||{},!(t instanceof T))throw Error("events: map instance required");if(!(e instanceof Array))throw Error("events: map array required");nd.call(this),this.kh=n.kh||300,this.Aj=n.Aj||50,this.Fl=n.Fl||50,this.Gl=n.Gl||500,this.Vh=n.Vh||900,this.Uh=n.Uh||8,this.map=t,this.m=this.map.za,this.j=this.m.element,this.F=e,this.a=new No,this.b=new No,this.i={},this.c=null,this.u=!0,this.aa={},this.f={},this.o=null,this.Ke=A(this.Ke,this),this.D={pointerdown:this.nm,pointermove:this.om,pointerup:this.pm,pointercancel:this.mm},So(this)}function So(t,e){var n,r=t.F.length;for(n=0;n<r;n++){var i=t.F[n],o=i.listener;"function"===typeof o&&(e?(i.target||t.j).removeEventListener(i.Ta,o):(i.target||t.j).addEventListener(i.Ta,o))}}function To(t,e,n){var r;if("function"===typeof t.D[e]){"pointermove"!==e&&(t.u=!0);var i=0;for(r=t.b.length();i<r;i++){var o=t.b.a[i];t.j.contains(n.composedPath()[0])?Uo(t,o,t.Hj.bind(t,n,e,o)):t.Hj(n,e,o,null)}}t.b.clear()}function Uo(t,e,n){if(t.c===e)n(e.target);else{var r=t.m,i=e.viewportX;if(e=e.viewportY,0>i||0>e||i>=r.width||e>=r.height)n(y);else{var o=t.map;o.ce(i,e,(function(t){n(t||o)}))}}}function Wo(t,e,n){e===t.c&&(Xo(t,e.dragTarget,"dragend",n,e),t.c=null,Vo(e.id,t.aa)),e.dragTarget=null}function Vo(t,e){e[t]&&(e[t].timeout?clearTimeout(e[t].timeout):clearTimeout(e[t]),delete e[t])}function Yo(t,e,n){var r=e.target,i=new I(e.viewportX,e.viewportY),o=e.id;Vo(o,t.f);var a=setTimeout((function(){r&&r===e.target&&i.Za({x:e.viewportX,y:e.viewportY})<t.Uh&&(Xo(t,r,"longpress",n,e),delete t.i[e.id])}),t.Vh);t.f[o]={timeout:a,Ge:i}}function Xo(t,e,n,r,i){if(e&&"function"===typeof e.dispatchEvent){var o,a=Ho,s=t.a.Ma(),l=t.b.Ma(),u=(t=t.a).a.length,c=[];for(o=0;o<u;o++)t.a[o].target===e&&c.push(t.a[o]);a=new a(n,s,l,c,i,e,r),i.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(n)?i.a:Mo.NONE,e.dispatchEvent(a)}return a}function Zo(t){this.g=A(this.g,this),Ro.call(this,t,[{Ta:"touchstart",listener:this.g},{Ta:"touchmove",listener:this.g},{Ta:"touchend",listener:this.g},{Ta:"touchcancel",listener:this.g}]),this.N={touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",touchcancel:"pointercancel"},this.v=(t=(t=t.o)?t.L():null)?Array.prototype.slice.call(t.querySelectorAll("a"),0):[]}function $o(t){var e=ap(this);(window.PointerEvent||window.MSPointerEvent)&&e.push({Ta:"MSHoldVisual",listener:"prevent"}),Ro.call(this,t,e)}function ap(t){var e,n,r=!!window.PointerEvent,i=[];return t.g=A(t.g,t),"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver".split(" ").forEach((function(o){e=o.toLowerCase().replace(/ms/g,""),n=r?e:o,i.push({Ta:n,listener:t.g,target:/^pointer(up|move)$/.test(e)?window:null})})),i}Io.Button=Mo,n=No.prototype,n.clear=function(){this.a.splice(0,this.a.length)},n.length=function(){return this.a.length},n.indexOf=function(t){for(var e=this.a.length;e--;)if(this.a[e].id===t)return e;return-1},n.remove=function(t){return-1!==(t=this.indexOf(t))?this.a.splice(t,1)[0]:null},n.push=function(t){if(t instanceof Io)return this.a.push(t);throw Error("list needs a pointer")},n.Ma=function(){return this.a},n.clone=function(){return new No(this.a)},u(Ro,nd),n=Ro.prototype,n.Hj=function(t,e,n,r){Vo(n.id,this.aa),this.D[e].call(this,n,r,t)},n.pm=function(t,e,n){var r=t.id;t.target=e,Wo(this,t,n),Xo(this,e,"pointerup",n,t),"mouse"!==t.type&&Xo(this,e,"pointerleave",n,t),e=this.i[t.id];var i={x:t.viewportX,y:t.viewportY},o=n.timeStamp,a=t.target,s=this.o;e&&e.target===a&&e.Ge.Za(i)<this.Fl&&o-e.Yi<this.Gl?(Xo(this,a,"tap",n,t),s&&s.target===a&&o-s.Yi<this.kh?s.Ge.Za({x:t.viewportX,y:t.viewportY})<this.Aj&&(Xo(this,a,"dbltap",n,t),this.o=null):this.o={target:a,Ge:new I(t.viewportX,t.viewportY),Yi:n.timeStamp}):this.o=null,this.i={},Vo(r,this.f)},n.Ke=function(t,e){var n=this;Xo(this,t.dragTarget,"drag",e,t),Vo(t.id,this.aa),this.aa[t.id]=setTimeout((function(){n.Ke(t,e)}),150)},n.om=function(t,e,n){var r=t.dragTarget,i=t.id,o=t.target;t.target=e,o!==e&&(Xo(this,o,"pointerleave",n,t),Xo(this,e,"pointerenter",n,t)),r?this.c?(this.Ke(t,n),this.f[i]&&this.f[i].Ge.Za({x:t.viewportX,y:t.viewportY})>this.Uh&&Vo(i,this.f)):this.u?this.u=!1:(this.c=t,Xo(this,r,"dragstart",n,t),this.Ke(t,n),delete this.i[i],this.u=!0):(!this.c||this.c&&this.c.dragTarget!==e&&this.c.dragTarget!==this.map)&&Xo(this,e,"pointermove",n,t)},n.nm=function(t,e,n){var r=!(/^(?:mouse|pen)$/.test(t.type)&&0!==n.button);if(e){t.target=e,this.i[t.id]={Ge:new I(t.viewportX,t.viewportY),target:t.target,Yi:n.timeStamp},"mouse"!==t.type&&Xo(this,e,"pointerenter",n,t);var i=Xo(this,e,"pointerdown",n,t);!this.c&&r&&(e.draggable&&!Qo(this.a,e)?t.dragTarget=e:!this.map.draggable||i.defaultPrevented||Qo(this.a,this.map)||(t.dragTarget=this.map)),Yo(this,t,n)}},n.mm=function(t,e,n){var r=t.id;t.target=null,e?(Xo(this,e,"pointerleave",n,t),Xo(this,e,"pointercancel",n,t)):Xo(this,this.map,"pointercancel",n,t),Wo(this,t,n),this.i={},Vo(r,this.f)},n.s=function(){So(this,!0),this.a.clear(),this.b.clear();var t,e=this.aa;for(t in e)Vo(t,e);for(var n in e=this.f)Vo(n,e);this.c=this.i=this.o=this.map=this.b=this.a=this.F=this.R=null,nd.prototype.s.call(this)},u(Zo,Ro),Zo.prototype.g=function(t){var e,n=t.touches,r=this.a.length();if("touchstart"===t.type&&r>=n.length){for(r=this.a.clone(),e=n.length;e--;)r.remove(n[e].identifier);for(e=r.length();e--;)this.a.remove(r.a[e].id);this.b=r,To(this,"pointercancel",t),this.b.clear()}if(this.N[t.type]){n=Fo(this.m.element),r=t.type;var i,o=(e=t.changedTouches).length;for(this.b.clear(),i=0;i<o;i++){var a=e[i],s=Oo(this.a,a.identifier),l=a.pageX-n.x,u=a.pageY-n.y;if(s)if("touchmove"===r){a=Math.abs(s.viewportX-l);var c=Math.abs(s.viewportY-u);(1<a||1<c||1===a&&1===c)&&(Jo(s,l,u),this.b.push(s))}else"touchend"===r&&(this.a.remove(s.id),this.b.push(s),Lo(s,Mo.LEFT));else s=new Io(l,u,a.identifier,"touch",Mo.LEFT,1),this.a.push(s),this.b.push(s)}To(this,this.N[t.type],t),-1===this.v.indexOf(t.target)&&t.preventDefault()}},Zo.prototype.s=function(){this.v=null,Ro.prototype.s.call(this)},u($o,Ro);var bp={2:"touch",3:"pen",4:"mouse"};function cp(t,e,n,r){cp.l.constructor.call(this,"contextmenu"),this.items=[],this.viewportX=t,this.viewportY=e,this.target=n,this.originalEvent=r}function dp(t){this.Hh=A(this.Hh,this),this.Jh=A(this.Jh,this),this.Ih=A(this.Ih,this),this.v=!1,this.g=-1,this.N=0,dp.l.constructor.call(this,t,[{Ta:"contextmenu",listener:this.Hh},{target:t,Ta:"longpress",listener:this.Jh},{target:t,Ta:"dbltap",listener:this.Ih}])}function ep(t,e,n,r,i){var o=t.map,a=Date.now()-t.N;i?!t.v&&a>t.Vh&&(t.v=!0,i.dispatchEvent(new cp(e,n,i,r)),Ce(o.L(),t.gj,t.Gj,!1,t)):o.ce(e,n,t.to.bind(t,e,n,r))}function fp(t,e,n,r,i){fp.l.constructor.call(this,"wheel"),this.delta=t,this.viewportX=e,this.viewportY=n,this.target=r,this.originalEvent=i}function gp(t){var e="onwheel"in document;this.S=e,this.N=(e?"d":"wheelD")+"elta",this.g=A(this.g,this),gp.l.constructor.call(this,t,[{Ta:(e?"":"mouse")+"wheel",listener:this.g}]),this.v=this.map.za}function hp(t){this.g=A(this.g,this),Ro.call(this,t,[{Ta:"mousedown",listener:this.g},{Ta:"mousemove",listener:this.g,target:window},{Ta:"mouseup",listener:this.g,target:window},{Ta:"mouseover",listener:this.g},{Ta:"mouseout",listener:this.g},{Ta:"dragstart",listener:this.v}])}function ip(t){var e=t.za.element.style;if(-1!==jp.indexOf(t))throw Error("InvalidArgument: map is already in use");this.a=t,jp.push(t),e.msTouchAction=e.touchAction="none",$c||!window.PointerEvent&&!window.MSPointerEvent?(this.c=new Zo(this.a),this.b=new hp(this.a)):this.c=new $o(this.a),this.g=new gp(this.a),this.f=new dp(this.a),this.a.xb(this.B,this),nd.call(this)}$o.prototype.g=function(t){var e=window.PointerEvent?t.type:t.type.toLowerCase().replace(/ms/g,""),n=Fo(this.j),r=Oo(this.a,t.pointerId),i=t.pageX-n.x;n=t.pageY-n.y;var o=bp[t.pointerType]||t.pointerType;if(Zc&&"rtl"===x.getComputedStyle(this.m.element).direction&&(i-=(x.devicePixelRatio-1)*this.m.width),!(r||/^pointer(up|out|cancel)$/.test(e)||"touch"===o&&"pointerdown"!==e)){r={x:i,y:n};var a=t.pointerType;"number"===typeof a&&(a=bp[a]),r=new Io(r.x,r.y,t.pointerId,a,t.button,t.buttons),this.a.push(r)}r&&(/^pointer(up|cancel)$/.test(e)?("touch"===o&&this.a.remove(r.id),Lo(r,t.button)):"pointerdown"===e&&("touch"===t.pointerType&&(Po(this.a,"mouse"),Po(this.a,"pen")),Ko(r,t.button)),this.b.push(r),"pointermove"!==e?(Jo(r,i,n),To(this,/^pointer(over|out)$/.test(e)?"pointermove":e,t)):r.viewportX===i&&r.viewportY===n||(Jo(r,i,n),To(this,e,t))),this.b.clear()},u(cp,rd),t("H.mapevents.ContextMenuEvent",cp),u(dp,Ro),n=dp.prototype,n.Jh=function(t){var e=t.currentPointer;"touch"===e.type&&1===t.pointers.length&&ep(this,e.viewportX,e.viewportY,t.originalEvent,t.target)},n.Ih=function(t){"touch"===t.currentPointer.type&&(this.N=Date.now())},n.Hh=function(t){var e=this;-1===this.g?this.g=setTimeout((function(){var n=Fo(e.j),r=t.pageX-n.x;n=t.pageY-n.y,e.g=-1,ep(e,r,n,t)}),this.kh):(clearInterval(this.g),this.g=-1),t.preventDefault()},n.to=function(t,e,n,r){ep(this,t,e,n,r=r&&Ca(r.dispatchEvent)?r:this.map)},n.gj=["mousedown","touchstart","pointerdown","wheel"],n.Gj=function(){this.v&&(this.v=!1,this.map.dispatchEvent(new rd("contextmenuclose",this.map)))},n.s=function(){var t=this.map.L();clearInterval(this.g),t&&Je(t,this.gj,this.Gj,!1,this),Ro.prototype.s.call(this)},u(fp,rd),t("H.mapevents.WheelEvent",fp),u(gp,Ro),gp.prototype.g=function(t){if(!t.Ql){var e=Fo(this.j),n=t.pageX-e.x;e=t.pageY-e.y;var r,i=this.N,o=t[i+(i+"Y"in t?"Y":"")];if(Zc&&"rtl"===x.getComputedStyle(this.v.element).direction&&(n-=(x.devicePixelRatio-1)*this.v.width),o){var a=Math.abs,s=a(o);o=(!(r=t[i+"X"])||3<=s/a(r))&&(!(r=t[i+"Z"])||3<=s/a(r))?((0<o)-(0>o))*(this.S?1:-1):0}(n=new fp(o,n,e,null,t)).delta&&(t.stopImmediatePropagation(),t.preventDefault(),this.map.ce(n.viewportX,n.viewportY,this.V.bind(this,n)))}},gp.prototype.V=function(t,e){var n,r,i=t.target=e||this.map;setTimeout((function(){i.dispatchEvent(t),t.f||(n=t.originalEvent,(r=new x.WheelEvent("wheel",n)).Ql=1,n.target.dispatchEvent(r))}),0)},u(hp,Ro),hp.prototype.g=function(t){var e,n=t.type,r=Fo(this.j);r={x:t.pageX-r.x,y:t.pageY-r.y},(e=this.a.a[0])||(e=new Io(r.x,r.y,1,"mouse"),this.a.push(e)),this.b.push(e),Jo(e,r.x,r.y),/^mouse(?:move|over|out)$/.test(n)?To(this,"pointermove",t):(/^mouse(down|up)$/.test(n)&&(r=t.which-1,"up"===Go.RegExp.$1?Lo(e,r):Ko(e,r)),To(this,n.replace("mouse","pointer"),t)),this.b.clear()},hp.prototype.v=function(t){t.preventDefault()},u(ip,nd),t("H.mapevents.MapEvents",ip),ip.prototype.c=null,ip.prototype.b=null,ip.prototype.g=null,ip.prototype.f=null;var jp=[];function kp(t,e){var n;if(e=void 0===e?{}:e,kp.l.constructor.call(this),-1!==lp.indexOf(t))throw new D(kp,0,"events are already used");this.a=n=t.a,this.j=t,lp.push(t),n.draggable=!0,this.i=e.kinetics||{duration:600,ease:Ml},this.o=e.modifierKey||"Alt",this.enable(e.enabled),this.c=n.za,this.f=this.c.element,this.g=0,n.addEventListener("dragstart",this.ei,!1,this),n.addEventListener("drag",this.Bk,!1,this),n.addEventListener("dragend",this.di,!0,this),n.addEventListener("wheel",this.Rk,!1,this),n.addEventListener("dbltap",this.Mk,!1,this),n.addEventListener("pointermove",this.Ck,!1,this),Be(this.f,"contextmenu",this.Ak,!1,this),t.xb(this.B,this)}Fc(jp),ip.prototype.B=function(){this.a=null,this.c.B(),this.g.B(),this.f.B(),this.b&&this.b.B(),jp.splice(jp.indexOf(this.a),1),nd.prototype.B.call(this)},ip.prototype.dispose=ip.prototype.B,ip.prototype.Am=function(){return this.a},ip.prototype.getAttachedMap=ip.prototype.Am,u(kp,nd),t("H.mapevents.Behavior",kp);var lp=[];Fc(lp),kp.prototype.b=0;var mp={PANNING:1,PINCH_ZOOM:2,WHEEL_ZOOM:4,DBL_TAP_ZOOM:8,FRACTIONAL_ZOOM:16,TILT:32,HEADING:64};kp.Feature=mp;var np=mp.PANNING,op=mp.PINCH_ZOOM,pp=mp.WHEEL_ZOOM,qp=mp.DBL_TAP_ZOOM,rp=mp.FRACTIONAL_ZOOM,sp=mp.TILT,tp=mp.HEADING,up=np|op|pp|qp|rp|sp|tp;function vp(t,e){if(t!==+t||t%1||0>t||2147483647<t)throw new D(e,0,"integer in range [0...0x7FFFFFFF] required")}function wp(t,e,n){var r,i="touch"===e.currentPointer.type,o=0;if(r=!i){r=t.o;var a,s=e.originalEvent;a=s.getModifierState?s.getModifierState(r):!!s[r.replace(/^Control$/,"ctrl").toLowerCase()+"Key"],r=a}return r?o|=sp|tp:(o|=np,i&&(2===(e=e.pointers).length&&(o|=op|tp,n?55>Ad(e[0].viewportY-e[1].viewportY)&&(o|=sp):t.Nh&tl.TILT&&(o|=sp)))),((o&=t.b)&sp?tl.TILT:0)|(o&tp?tl.HEADING:0)|(o&op?tl.ZOOM:0)|(o&np?tl.COORD:0)}function xp(t){var e=t.pointers;return t=e[0],e=e[1],t=[t.viewportX,t.viewportY],e&&t.push(e.viewportX,e.viewportY),t}function yp(t,e,n,r,i){var o=+n-+e;if(t=t.a.b,isNaN(+e))throw Error("start zoom needs to be a number");if(isNaN(+n))throw Error("to zoom needs to be a number");0!==o&&(t.startControl(null,r,i),t.control(0,0,6,0,0,0),t.endControl(!0,(function(t){t.zoom=n})))}function zp(t,e){return Wa.apply(null,arguments),t}function Ap(t,e){if(e=void 0===e?{}:e,!t.mk)throw new Xc(t);Ap.l.constructor.call(this);var n=Bp(this,e);if(!n.baseUrl&&!n.platformBaseUrl)throw new D(t,0,'either "baseUrl" or "platformBaseUrl" must be specified');this.c=(n.baseUrl?n.baseUrl:n.platformBaseUrl).clone(),(t=n.baseUrl?e:n).host&&this.c.Hg(t.host),t.subDomain&&this.c.Sa(t.subDomain),t.path&&this.c.ve(t.path),Cp(this.c),this.ff=n.headers||{}}function Bp(t,e){return t=t.a(),e?zp({},t,e):t}function Dp(t,e,n){return function(r){return"function"!==typeof r.json?Promise.reject(n(Ep(e,r))):r.json().then((function(e){return n(t.b(e))}),(function(){return n(Ep(e,r))}))}}function Ep(t,e){return Error((e.statusText?"["+e.statusText+"] ":"")+t+" request failed")}function V(t,e,n,r,i,o){if(!t||!e)throw Error('Parameters "scheme" and "host" must be specified');this.zl(t),this.Hg(e),this.ve(n),this.yl(i),this.ol(o),this.Oi(r)}function Fp(t,e){var n,r=x.document,i=r&&r.createElement("a"),o="";if(r){if(e){var a=(n=r.getElementsByTagName("base")[0])&&n.href,s=r.head,l=n||s.appendChild(r.createElement("base"));l.href=e}i.href=t,o=i.href,e&&(n?n.href=a:s.removeChild(l))}else/[\w]+:\/\//.test(t)&&(o=t);if(t=(a=/(?:(\w+):\/\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\/[^?#]*)?(\?[^#]+)?(#.*)?/.exec(o))[1],l=a[4],e=a[5],s=a[6],r=a[7],n=a[8],!a[2]&&l&&/@/.test(l)&&(l=l.split("@")[1]),a=l,s=s&&0<s.length?s.substr(1):"",l={},r)for(i=/([?&]?([^=&+]+))(=([^&]+))?/g;o=i.exec(r);)l[decodeURIComponent(o[2])]=o[4]?decodeURIComponent(o[4]):void 0;return new V(t,a,s,l,isNaN(+e)?void 0:+e,n&&0<n.length?n.substr(1):"")}kp.DRAGGING=np,kp.WHEELZOOM=pp,kp.DBLTAPZOOM=qp,kp.FRACTIONALZOOM=rp,kp.prototype.disable=function(t){var e=this.b;t!==B?(vp(t,this.disable),e^=e&t):e=0,this.c.endInteraction(!0),this.b=e,this.a.draggable=0<(e&(np|sp|tp|op))},kp.prototype.disable=kp.prototype.disable,kp.prototype.enable=function(t){var e=this.b;t!==B?(vp(t,this.enable),e|=t&up):e=up,this.b=e,this.a.draggable=0<(e&(np|sp|tp|op))},kp.prototype.enable=kp.prototype.enable,kp.prototype.isEnabled=function(t){return vp(t,this.isEnabled),t===(this.b&t)},kp.prototype.isEnabled=kp.prototype.isEnabled,n=kp.prototype,n.Nh=0,n.ei=function(t){var e=wp(this,t,!0);if(this.Nh=e){var n=this.c;if(t=xp(t),n.startInteraction(e,this.i),n.interaction.apply(n,t),this.b&pp&&!(this.b&rp)&&(e=t[0],n=t[1],this.g)){t=this.a.ub();var r=(0>this.g?zd:yd)(t);t!==r&&(this.g=0,yp(this,t,r,e,n))}}},n.Bk=function(t){var e=wp(this,t,!1);if(e!==this.Nh)"pointerout"!==t.originalEvent.type&&"pointerover"!==t.originalEvent.type&&(this.di(t),this.ei(t));else if(e){e=this.c;var n=xp(t);e.interaction.apply(e,n),t.originalEvent.preventDefault()}},n.di=function(t){wp(this,t,!1)&&this.c.endInteraction(!this.i)},n.Rk=function(t){if(!t.defaultPrevented&&this.b&pp){var e=t.delta,n=this.a.ub(),r=this.a,i=r.gc().type;r=this.b&rp?n-e:(0>-e?zd:yd)(n)-e,i!==un.P2D&&i!==un.WEBGL&&i!==un.HARP||(yp(this,n,r,t.viewportX,t.viewportY),this.g=e),t.preventDefault()}},n.Ck=function(){},n.Mk=function(t){var e=t.currentPointer,n=this.a.ub(),r=t.currentPointer.type,i=this.a.gc().type;(i===un.P2D||i===un.WEBGL||i===un.HARP)&&this.b&qp&&(t="mouse"===r?0===t.originalEvent.button?-1:1:0<t.pointers.length?1:-1,yp(this,n,t=this.b&rp?n-t:(0>-t?zd:yd)(n)-t,e.viewportX,e.viewportY))},n.Ak=function(t){return!(this.b&qp)||(t.preventDefault(),!1)},n.B=function(){var t=this.a;t&&(t.draggable=!1,t.removeEventListener("dragstart",this.ei,!1,this),t.removeEventListener("drag",this.Bk,!1,this),t.removeEventListener("dragend",this.di,!0,this),t.removeEventListener("wheel",this.Rk,!1,this),t.removeEventListener("dbltap",this.Mk,!1,this),t.removeEventListener("pointermove",this.Ck,!1,this),this.a=null),this.f&&(this.f.style.msTouchAction="",Je(this.f,"contextmenu",this.Ak,!1,this),this.f=null),this.i=this.c=null,lp.splice(lp.indexOf(this.j),1),nd.prototype.B.call(this)},kp.prototype.dispose=kp.prototype.B,t("H.mapevents.buildInfo",(function(){return Ef("H-mapevents","1.28.0","a2dc7f9")})),R.prototype.v=ca(3,(function(t){var e=this.getCache(),n=this;if(t!==y){C(t,Ck,R.prototype.v,0);var r=t}else r=gl;r!==e&&e.pa((function(t,e,i){return!!n.ec(t)&&(r.add(t,e,i),!0)})),this.S=r})),Th.prototype.b=ca(2,(function(t){this.i=t,(t=this.getState())!==Qh.INIT&&t!==Qh.LOADING&&ai(this)})),u(Ap,F),t("H.service.Service",Ap),Ap.prototype.a=function(){return{}},Ap.prototype.C=function(){return this.c},Ap.prototype.getUrl=Ap.prototype.C,Ap.prototype.K=function(t,e,n,r){return(r=new rf(void 0===r?"application/json":r,t.toString(),fe,{headers:this.ff})).then(e,Dp(this,t,n)),r},Ap.prototype.b=function(t){return Error(t.message)},t("H.service.Url",V),V.parse=Fp;var Gp=0;function Ip(t){function e(t,e){return encodeURIComponent(t)+(void 0===e?"":"="+encodeURIComponent(e).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)})))}var n,r=[],i=t.a;for(n in i)if(i.hasOwnProperty(n)&&"function"!==typeof i[n]){var o=t.a[n];C(o,Jp)?o.Ol.forEach((function(t){r.push(e(n,t))})):r.push(e(n,o))}return 0<r.length?"?"+r.join("&"):""}function Cp(t){var e=Ef("H-service","1.28.0","14651b1");return t.a.xnlp="CL_JSMv3."+e.version,t}function Hp(t){var e,n=0;for(e in t.a)if(t.a.hasOwnProperty(e)&&"function"!==typeof t.a[e]&&0<++n)break;return!n}function Jp(t){var e;if(!yc(t))throw new D(Jp,0,t);for(e=0;e<t.length;e++){var n=t[e];if(!zc(n)&&!Cc(n))throw new D(Jp,0,"The array can only contain strings and numbers")}this.Ol=t}function Y(t){var e=(t=zp({},this.b,t)).apikey||t.apiKey,n=t.baseUrl;if(n=e?n?0:"baseUrl":"apikey")throw new D(Y,0,'"'+n+'" must be specified');this.rl(t.baseUrl),this.a=e,this.c.J({apikey:e}),this.f=t.headers||{},this.g=Ua(t.servicesConfig||{})}V.prototype.clone=function(){Gp++;var t,e={};for(t in this.a)e[t]=this.a[t];return new V(this.m,this.f,this.c,e,this.g,this.b)},V.prototype.clone=V.prototype.clone,V.prototype.zl=function(t){if(!t||"string"!==typeof t)throw Error('The "scheme" parameter must be a non-empty string.');return this.m=t,this},V.prototype.setScheme=V.prototype.zl,V.prototype.Fn=function(){return this.m},V.prototype.getScheme=V.prototype.Fn,V.prototype.Hg=function(t){if(!t||"string"!==typeof t||"-"===t.charAt(0)||"."===t.charAt(0)||"."===t.charAt(t.length-1))throw Error('The "host" parameter is not a valid host name.');return this.f=t,this},V.prototype.setHost=V.prototype.Hg,V.prototype.Ym=function(){return this.f},V.prototype.getHost=V.prototype.Ym,V.prototype.ve=function(t){return this.c=t||void 0,this},V.prototype.setPath=V.prototype.ve,V.prototype.sn=function(){return this.c},V.prototype.getPath=V.prototype.sn,V.prototype.Oi=function(t){if(t){if("object"!=typeof t)throw Error('Parameter "params" must be an object.');this.a=t}else this.a={};return this},V.prototype.setQuery=V.prototype.Oi,V.prototype.gk=function(){return!Hp(this)},V.prototype.hasQuery=V.prototype.gk,V.prototype.getQuery=function(){return this.a},V.prototype.getQuery=V.prototype.getQuery,V.prototype.yl=function(t){if(t&&isNaN(parseInt(t,10)))throw Error('Parameter "port" must be a number or undefined');return this.g=+t||void 0,this},V.prototype.setPort=V.prototype.yl,V.prototype.wn=function(){return this.g},V.prototype.getPort=V.prototype.wn,V.prototype.ol=function(t){return this.b=t||void 0,this},V.prototype.setAnchor=V.prototype.ol,V.prototype.td=function(){return this.b},V.prototype.getAnchor=V.prototype.td,V.prototype.J=function(t){if("object"!==typeof t)throw Error('Parameter "other" must be an object.');var e,n=this.a;for(e in t)t.hasOwnProperty(e)&&"function"!==typeof t[e]&&(n[e]=t[e]);return this},V.prototype.mergeQuery=V.prototype.J,V.prototype.Sa=function(t){if(!t||"string"!==typeof t)throw Error('Parameter "subDomain" must be a non-empty string');return"."===t.substr(t.length-1)&&(t=t.substr(0,t.length-1)),this.Hg(t+"."+this.f)},V.prototype.addSubDomain=V.prototype.Sa,V.prototype.G=function(t){if(!t||"string"!==typeof t)throw Error('Parameter "subPath" must be a non-empty string');return this.ve((this.c?this.c+"/":"")+t)},V.prototype.addSubPath=V.prototype.G,V.prototype.toString=function(){return[this.m+"://",this.f,this.g?":"+this.g:"",this.c||!Hp(this)||this.b?"/":"",this.c?encodeURI(this.c):"",Ip(this),this.b?"#"+encodeURIComponent(this.b):""].join("")},V.prototype.toString=V.prototype.toString,V.MultiValueQueryParameter=Jp,Jp.prototype.Qn=function(){return this.Ol},Jp.prototype.getValues=Jp.prototype.Qn,t("H.service.Platform",Y),Y.prototype.b={apikey:null,baseUrl:new V("https","hereapi.com")},Y.prototype.rl=function(t){this.c=Cp(t.clone()),this.a=t=this.a,this.c.J({apikey:t})},Y.prototype.setBaseUrl=Y.prototype.rl,Y.prototype.fc=function(){return this.c},Y.prototype.getBaseUrl=Y.prototype.fc,Y.prototype.Ya=function(t,e){try{return t.mk=!0,new t(zp({platformBaseUrl:this.fc(),headers:this.f},this.g[t.CONFIG_KEY]||{},e||{}))}finally{delete t.mk}},Y.prototype.createService=Y.prototype.Ya;var Kp=Function("return this")();function Lp(){}rc("monospace serif"),Lp.prototype.pop=function(t){return this[t]||(this[t]=[]),this[t].pop()||Kp.document.createElement("canvas")},Lp.prototype.push=function(t,e){this[e]||(this[e]=[]),this[e].push(t)};var Mp=new Lp;function Np(){var t=decodeURIComponent(x.H.getScriptPath());return Fp(t=t?"/"===t[t.length-1]?t.substring(0,t.length-1):t:"https://js.api.here.com/v3/3.1.28.0").G("styles")}function Op(t,e,n){var r=this,i=+(n=n||{}).min,o=+n.max;n.tileSize=n.tileSize||512,n.min=i?Yd(i,1,17):1,n.min+=Ak(n.tileSize,1),n.max=o?Yd(o,1,17):17,Op.l.constructor.call(this,n),C(t,Pp,Op,0),C(e,Ph,Op,1),this.o=t,e.b&&e.b("OMV"),this.Pc(e,!0),this.m=function(){Qp(r),r.reload(!1)},t.addEventListener("versionupdate",this.m),Qp(this),Op.prototype.D=function(){var e=/^v2\/vectortiles\/(.+)\/mc$/.exec(t.C().c);return e?e[1]:B+""}()}function Qp(t){var e=t.xd("_#-;,:","_#-;,:","_#-;,:");t.u=new RegExp("^"+e.replace(/[.*+?^${}()|[\]\\\/]/g,"\\$&").replace(/_#-;,:/g,"\\d+")+"$")}function Sp(t,e,n){var r=t.tb().getState()===Qh.READY,i=zc(e),o=zc(n);i&&(t.c=e),o&&(t.a=n),(i||o)&&(t.F=!0,r&&t.f())}function Pp(t){Pp.l.constructor.call(this,Pp,t),t=Bp(this,t).mapVersion,this.cf=tc(t)?t:Vp[this.C().toString()],tc(this.cf)||Wp(this)}t("H.service.util.eval",(function(a){return eval(a)})),u(Op,R),t("H.service.omv.Provider",Op),Op.prototype.Dd=df,Op.prototype.providesOMV=Op.prototype.Dd,Op.prototype.ec=function(t){return this.u.test(t)},Op.prototype.cacheFilter=Op.prototype.ec,Op.prototype.xd=function(t,e,n){return Rp(this.o,t,e,n).toString()},Op.prototype.getTileKey=Op.prototype.xd,Op.prototype.Nb=function(){return this.N},Op.prototype.getCache=Op.prototype.Nb,Op.prototype.MAX_STORE_TIME=2592e6,Op.prototype.eh=function(){return md()},Op.prototype.fe=function(){return md()?kd():Op.l.fe.call(this)},Op.prototype.K=function(t,e,n,r,i){return this.o.ib(t,e,n,r,i)},Op.prototype.requestInternal=Op.prototype.K,Op.prototype.pc=function(t){t.b&&t.b("OMV"),this.Pc(t)},Op.prototype.setStyle=Op.prototype.pc,Op.prototype.ua=function(){return Op.l.tb.apply(this)},Op.prototype.getStyle=Op.prototype.ua,Op.prototype.tb=function(){var t,e=Op.l.tb.apply(this);return this.F&&(e.getState()===Qh.READY?(t=e.ud())&&t.global&&(this.c&&(t.global.ux_language=this.c),this.a&&(t.global.ux_language_fallback=this.a),e=new Th(t,e.fc())):e.load()),e},Op.prototype.s=function(){Op.l.s.call(this),this.o.removeEventListener("versionupdate",this.m)},Op.prototype.N=new Ck(256),Op.prototype.ta=function(t,e){return Tp(this.o.ta(),this.D,e,t)},Op.prototype.getCopyrights=Op.prototype.ta,u(Pp,Ap),t("H.service.omv.Service",Pp),Pp.prototype.a=function(){return{subDomain:"vector",path:"v2/vectortiles/base/mc"}},Pp.CONFIG_KEY="omv";var Vp={};function Wp(t){t.K(t.C().clone().G("../../info"),(function(e){e=e.mapVersion;var n=t.C().toString();t.cf=e,e!==Vp[n]&&(Vp[n]=e,t.dispatchEvent("versionupdate"))}),(function(){}))}function Rp(t,e,n,r){return e=t.C().clone().G(r+"/"+e+"/"+n+"/omv"),tc(t.cf)&&e.J({mv:t.cf}),e}function Xp(){this.a={}}function Yp(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r,i=e[n],o=t.a[n]||(t.a[n]=[]),a=i.length;for(r=0;r<a;r++)o.push(new Zp(i[r]))}}function Tp(t,e,n,r){var i=(t=t.a[e])?t.length:0,o=[];for(e=0;e<i;e++)t[e].zd(n,r)&&o.push(t[e]);return o}function Zp(t){var e,n=t.boxes;if(this.label=t.label,this.min=t.minLevel,this.max=t.maxLevel,this.b=[],n&&(e=n.length)){var r=n[0],i=new K(r[0],r[1],r[2],r[3]);for(this.b.push(i),this.a=new K(r[0],r[1],r[2],r[3]),t=1;t<e;t++)i=new K((r=n[t])[0],r[1],r[2],r[3]),this.b.push(i),this.a.lc(i,!1,this.a)}}function $p(t,e,n,r,i,o,a){var s=this;a=a||{},o=o||{};var l=t.C().clone().G(e+"/"+t.Ac()+"/"+n).J(o),u=t.Fh();this.D=t,this.$=l,rk.call(this,{tileSize:r,max:512===r?19:20,min:512===r?2:0,getURL:function(t,e,n){var o=s.$.clone();return u&&o.Sa(u[(n+e+t)%u.length]),o.G(n+"/"+t+"/"+e+"/"+r+"/"+i),o.toString()},crossOrigin:a.crossOrigin,headers:a.headers,uri:l.toString().replace(/_/g,"")+r}),this.Gb=e,this.m=n,this.a=o,this.Ja=n.split(".")[0],this.kg=A(this.kg,this),this.getCopyrights=this.ta,t.addEventListener("versionupdate",this.kg)}function aq(t){aq.l.constructor.call(this,aq,t),t=Bp(this,t),this.$b=t.shards,(this.Qa=t.ignoreTypes?null:t.type)&&this.C().Sa(this.Qa),this.ac=t.version,this.Xc=new Xp,this.vi={},this.Pf=0,"newest"===this.ac&&this.ph()}function bq(t,e){for(var n={},r=t[e+"s"][e],i=r.length;i--;)n[r[i].id]=r[i];t[e+"s"]=n}function cq(){this.a={}}Fc(Vp),Pp.prototype.jn=function(){return this.cf},Pp.prototype.getMapVersion=Pp.prototype.jn,Pp.prototype.pd=function(t,e){return new kl(new Op(this,t,e),{max:22})},Pp.prototype.createLayer=Pp.prototype.pd,Pp.prototype.ib=function(t,e,n,r,i){return this.K(Rp(this,t,e,n),(function(t){return t.arrayBuffer().then(r,i)}),i,"arraybuffer")},Pp.prototype.cg=function(t){return Np().G("omv/"+t+".yaml")},Pp.prototype.Ch=function(t,e){if(!Ca(t))throw new D(this.Ch,0,'"onResult" must be a function');if(!Ca(e))throw new D(this.Ch,1,'"onError" must be a function');return this.K(this.C().clone().ve("v2/vectortiles/pviews"),t,e)},Pp.prototype.getPoliticalViews=Pp.prototype.Ch,Y.prototype.Xj=function(t){return this.Ya(Pp,t)},Y.prototype.getOMVService=Y.prototype.Xj,Pp.prototype.Qe=function(){this.Xc=new Xp,this.K(this.C().clone().G("../../copyrights"),A(this.Zi,this),hd)},Pp.prototype.Zi=function(t){Yp(this.Xc,t),this.dispatchEvent("copyrightupdate")},Pp.prototype.ta=function(){return this.Xc||this.Qe(),this.Xc},Pp.prototype.getCopyrights=Pp.prototype.ta,Zp.prototype.zd=function(t,e){if(t>=this.min&&t<=this.max){if(!(t=this.b.length)||!this.a)return!0;if(this.a.zd(e))for(;t--;)if(this.b[t].zd(e))return!0}return!1},u($p,rk),$p.prototype.MAX_STORE_TIME=2592e6,n=$p.prototype,n.s=function(){rk.prototype.s.call(this),this.D.removeEventListener("versionupdate",this.kg)},n.ta=function(t,e){return Tp(this.D.ta(),this.Ja,e,t)},n.kg=function(){var t=this.D;this.$=t.C().clone().G(this.Gb+"/"+t.Ac()+"/"+this.m).J(this.a),this.reload(!1)},n.eh=function(){return md()},n.fe=function(){return md()?kd():$p.l.fe.call(this)},u(aq,Ap),t("H.service.MapTileService",aq),aq.prototype.a=function(){return{subDomain:"maps.ls",path:"maptile/2.1",type:"base",version:"newest",shards:["1","2","3","4"]}},aq.CONFIG_KEY="maptile",aq.prototype.Fh=function(){return this.$b},aq.prototype.bk=function(){return this.Qa},aq.prototype.getType=aq.prototype.bk,aq.prototype.Ac=function(){return this.ac},aq.prototype.getVersion=aq.prototype.Ac,aq.prototype.Si=function(t){this.ac=t},aq.prototype.ta=function(){return this.Pf||(this.ac&&"newest"!==this.ac||"traffic"===this.Qa)&&this.Qe(),this.Xc},aq.prototype.getCopyrights=aq.prototype.ta,n=aq.prototype,n.$i=function(t){var e;if(bq(t=t.response,"map"),bq(t,"scheme"),bq(t,"tiletype"),bq(t,"format"),bq(t,"resolution"),bq(t,"language"),"newest"===this.ac&&"traffic"!==this.Qa)for(e in t.maps)t.maps[e].hash&&t.maps[e].newest&&(this.Si(t.maps[e].hash),this.dispatchEvent("versionupdate"));this.Lh=t,this.dispatchEvent("infoupdate")},n.Zi=function(t){Yp(this.Xc,t),this.dispatchEvent("copyrightupdate")},n.ph=function(){var t=this,e=this.C().clone().G("info").J({output:"json"});this.$b&&e.Sa(this.$b[0]),this.K(e,(function(e){t.$i(e)}),(function(t){throw t}))},n.Qe=function(){var t=this,e=this.C().clone().G("copyright").G(t.Ac()).J({output:"json"});this.$b&&e.Sa(this.$b[0]),this.Pf=1,this.K(e,(function(e){t.Pf=2,t.Zi(e)}),(function(e){throw t.Pf=-1,e}))},n.xh=function(){return this.Lh},aq.prototype.getInfo=aq.prototype.xh,aq.prototype.Le=function(t,e,n,r,i,o){var a,s=this.C().clone().G(t+"/"+this.Ac()+"/"+e+"/"+n+"/"+r).J(i||{}).toString(),l=0,u=s.length;if(0!==u)for(a=0;a<u;a++){l=(l<<5)-l+s.charCodeAt(a),l|=0}return s=l,(l=this.vi[s])||(l=new $p(this,t,e,n,r,i,zp({headers:this.ff},o||{})),this.vi[s]=l),l},aq.prototype.createTileProvider=aq.prototype.Le,aq.prototype.uc=function(t,e,n,r,i,o,a,s){return new kl(t=this.Le(t,e,n,r,i,s),{opacity:o,dark:!!a})},aq.prototype.createTileLayer=aq.prototype.uc,Y.prototype.Ah=function(t){return this.Ya(aq,t)},Y.prototype.getMapTileService=Y.prototype.Ah,Y.prototype.ih=function(t,e,n,r,i,o){var a=this.Ah(),s=this.Ah({type:"aerial"}),l=this.ak(),u=this.Xj(),c={},h={crossOrigin:"anonymous"};Da(t)&&("crossOrigin"in(o=t)&&(h.crossOrigin=o.crossOrigin),t=o.tileSize,e=o.ppi,n=o.lg,r=o.lg2,i=o.style,o=o.pois);var f=t||512;if(0>[72,250,320,500].indexOf(+e)){if(e!==B)throw new D(this.ih,1,e)}else c.ppi=+e;return n&&(c.lg=n),r&&(c.lg2=r),i&&(c.style=i),o&&(c.pois=o),t=function(t,e,n,r,i){return t.uc(e,n,f,r,c,1,i,h)},Sp((e=u.pd(new Th(u.cg("miami/normal.day").toString()))).ga(),c.lg,c.lg2),Sp((n=u.pd(new Th(u.cg("miami/truck.day").toString()))).ga(),c.lg,c.lg2),u=l.yj(c.lg?{lg:c.lg,i18n:!0}:void 0),{vector:{normal:{map:e,truck:n,traffic:l.xj(),trafficincidents:u}},raster:{normal:{xbase:t(a,"xbasetile","normal.day","png8",!1),xbasenight:t(a,"xbasetile","normal.night","png8",!0),base:t(a,"basetile","normal.day","png8",!1),basenight:t(a,"basetile","normal.night","png8",!0),map:t(a,"maptile","normal.day","png8",!1),mapnight:t(a,"maptile","normal.night","png8",!0),trafficincidents:u,transit:t(a,"maptile","normal.day.transit","png8",!1),labels:t(a,"labeltile","normal.day","png",!1)},satellite:{xbase:t(s,"xbasetile","hybrid.day","jpg",!0),base:t(s,"basetile","hybrid.day","jpg",!0),map:t(s,"maptile","hybrid.day","jpg",!0),labels:t(s,"labeltile","hybrid.day","png",!0)},terrain:{xbase:t(s,"xbasetile","terrain.day","jpg",!1),base:t(s,"basetile","terrain.day","jpg",!1),map:t(s,"maptile","terrain.day","jpg",!1),labels:t(s,"labeltile","terrain.day","png",!1)}}}},Y.prototype.createDefaultLayers=Y.prototype.ih,cq.prototype.Ab=function(t,e){var n,r=t+e;return(n=this.a[r])?n:(t=(t=dq.MARKER.replace("{{icon}}",eq[t]||eq.OTHER)).replace("{{color}}",fq[e]||fq.BLOCKING),e={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Li(Mi.POLYGON,gq.MARKER)},this.a[r]=new Ij(t,e))};var dq={MARKER:'<svg width="26" height="33" enable-background="new 0 0 26 33" viewBox="0 0 26 33" xmlns="http://www.w3.org/2000/svg"><path d="m26 33h-26v-33h26z" fill="#8c8c8c" opacity="0"/><path d="m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026" fill="#878787" opacity=".6"/><path d="m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z" fill="{{color}}"/>{{icon}}</svg>'},eq={CONGESTION:'<path style="fill:#FFFFFF;" d="M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z"/>',ROADWORKS:'<path d="m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z" fill="#fff"/>',ACCIDENT:'<path style="fill:#FFFFFF;" d="M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z"/>',OTHER:'<path style="fill:#FFFFFF;" d="M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z"/>'},fq={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},gq={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function hq(t,e,n){(n=n||{}).criticality||(n.criticality="major,critical"),C(t,iq,hq,0),An.call(this,{max:20,min:8,requestData:A(this.$,this)}),this.m=new cq,this.F=t,this.a=n,this.reload=A(this.reload,this),this.u=setInterval(this.reload,e||18e4)}u(hq,An),t("H.service.traffic.incidents.Provider",hq),hq.prototype.c={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"},hq.prototype.$=function(t,e,n,r,i){var o=this,a=this.c,s=this.m;return this.F.requestIncidentsByTile(t,e,n,(function(t){var e,n=[];if(t=t.TRAFFIC_ITEMS)for(e=(t=t.TRAFFIC_ITEM).length;e--;){var i=t[e],l=i.TRAFFIC_ITEM_TYPE_DESC;switch(l){case"ACCIDENT":case"CONGESTION":var u=l;break;case"CONSTRUCTION":u="ROADWORKS";break;default:u="OTHER"}u=s.Ab(u,a[i.CRITICALITY.DESCRIPTION]),(l=new yn({lat:(l=i.LOCATION.GEOLOC.ORIGIN).LATITUDE,lng:l.LONGITUDE},{provider:o,icon:u})).setData(i),n.push(l)}r(n)}),i,this.a)},hq.prototype.B=function(){An.prototype.B.call(this),clearInterval(this.u)};var jq="A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A".split(" ");function kq(t,e){var n={};this.a=t,Wa(n,e||n),Zj.call(this,n),this.yg={},(t=this.Ob(Pg.SPATIAL)).update(t.a+1,Mg.ADD)}function lq(t){return t.Bc(!0)}function mq(t,e,n){var r,i=e.j&&e.j[n];return!i&&(r=e.o)&&(delete e.o,(e.j=t=t.a.parse(t,e,r))&&(i=t[n])),i||ff}u(kq,Zj),t("H.service.remote.ObjectProvider",kq),kq.prototype.B=function(){Zj.prototype.B.call(this)},kq.prototype.Jc=function(){return ff},kq.prototype.requestMarkers=kq.prototype.Jc,kq.prototype.Ic=function(){return ff},kq.prototype.requestDomMarkers=kq.prototype.Ic,kq.prototype.Gd=function(){return ff},kq.prototype.requestOverlays=kq.prototype.Gd,kq.prototype.Vb=df,kq.prototype.providesMarkers=kq.prototype.Vb,kq.prototype.Ub=df,kq.prototype.providesDomMarkers=kq.prototype.Ub,kq.prototype.Hc=df,kq.prototype.providesSpatials=kq.prototype.Hc,kq.prototype.zg=function(){return ff},kq.prototype.requestSpatials=kq.prototype.zg,kq.prototype.Ag=function(t,e){return t=mq(this,t,nq),e&&(t=t.filter(lq)),t},kq.prototype.requestSpatialsByTile=kq.prototype.Ag,kq.prototype.ea=function(t){var e=t.fb();if(this.yg[e])throw new Xc(this.ea,"Remote object "+e+" already added");return this.yg[e]=t},kq.prototype.Ha=function(t){delete this.yg[t.fb()]};var nq="spatials";function oq(t,e,n){oq.l.constructor.call(this,{min:pq,max:qq}),C(t,iq,oq,0),this.m=t,this.a=n||rq,this.a.responseattributes="sh,fc",this.c=setInterval(A(this.reload,this),e||18e4),this.Pc(new Th(t.cg().toString()),!0)}u(oq,R),t("H.service.traffic.flow.Provider",oq),oq.prototype.xi=df,oq.prototype.providesGeoJSON=oq.prototype.xi,oq.prototype.ua=function(){return this.tb()},oq.prototype.getStyle=oq.prototype.ua,oq.prototype.pc=function(t){t.b&&t.b("GeoJSONTileSource"),this.Pc(t)},oq.prototype.setStyle=oq.prototype.pc;var rq={locationreferences:"tmc,shp"};oq.prototype.s=function(){oq.l.s.call(this),clearInterval(this.c)},oq.prototype.K=function(t,e,n,r,i){return this.m.requestFlowByTile(t,e,n,(function(t){t.type&&-1!==t.type.indexOf("Error")?i(t.Details):r(t)}),i,this.a)},oq.prototype.requestInternal=oq.prototype.K,oq.prototype.qd=function(t,e,n,r,i){var o,a,s,l,u,c={type:"FeatureCollection",features:[]},h=r.RWS.length;for(o=0;o<h;o++){var f=r.RWS[o],p=f.RW,d=p.length,v=-1!==jq.indexOf(f.EXTENDED_COUNTRY_CODE+f.EBU_COUNTRY_CODE);for(f=0;f<d;f++){var g=p[f].FIS,y=g.length;for(g=0;g<y;g++){var m=p[f].FIS[g].FI,b=m.length;for(a=0;a<b;a++){var _=m[a],x=[],w=_.CF[0],k=!!w.SSS,E={type:"Feature",properties:w,geometry:{type:"MultiLineString",coordinates:x}};for(E.properties.LHT=v,_.SHP.length&&(E.properties.FC=_.SHP[0].FC),k&&(u=[]),w=0;w<_.SHP.length;w++){var S=_.SHP[w].value,T=S.length;for(s=0;s<T;s++){var A=k?u:void 0,O=new $n(S[s].trim()),M=[],C={};for(O.ye();-1!==(l=O.Sb());)l===sq?(C.lat=+String.fromCharCode.apply(oq,O.Td()),O.next(),O.ye()):l===tq?(C.lng=+String.fromCharCode.apply(oq,O.Td()),M.push([C.lng,C.lat]),A&&A.push(Zf(C)),C=[],O.next(),O.ye()):O.next();C.lng=+String.fromCharCode.apply(oq,O.Td()),M.push([C.lng,C.lat]),A&&A.push(Zf(C)),l=M,x.push(l)}}c.features.push(E)}}}}return oq.l.qd.call(this,t,e,n,c,i)},oq.prototype.createTileInternal=oq.prototype.qd;var qq=21,pq=10,tq=32,sq=44;function uq(t){function e(e){r.contains(i)&&r.removeChild(i),u&&clearTimeout(u),delete uq.a[o],e&&t.Jj&&t.Jj.call(l,e)}if(!t.url||!t.dh)throw Error('Parameter "options" must specify at least a URL and a callback.');if("function"!==typeof t.dh)throw Error("Parameters options.callback must be a function");var n=t.yp||document,r=n.getElementsByTagName("head")[0],i=n.createElement("script");n=t.url instanceof V?t.url:Fp(t.url,t.xp);var o=uq.b++,a=t.gm||"callback",s=t.dh,l={},u=null;return l.id=o,l.cancel=function(){e("cancelled")},0!==t.timeout&&(u=x.setTimeout((function(){e("timeout")}),t.timeout||3e4)),uq.a[o]=function(t){e(),s.call(l,t)},i.type="text/javascript",i.src=n.toString()+(n.gk()?"&":"?")+a+"="+(t.zp?"H.service.jsonp.handleResponse("+o+")":encodeURI("H.service.jsonp.handleResponse("+o+")")),r.appendChild(i),l}function iq(t){iq.l.constructor.call(this,iq,t),this.hm=Bp(this,t).callbackKey}function vq(t,e,n,r){return uq({url:e,dh:n,Jj:function(t){r(Error("["+t+"] "+e+" request failed"))},gm:t.hm})}function wq(t){wq.l.constructor.call(this,wq,t),this.ll=Bp(this,t).reverseSubDomain}function xq(t){xq.l.constructor.call(this,xq,t)}function yq(t){yq.l.constructor.call(this,yq,t),this.f=t.getToken}function Gq(t,e,n,r){return t.C().clone().G(e+"/layers/"+n+"/features").J(r||{})}function Eq(t,e,n,r,i){return Gq(t,n,r,e=Object.assign({},i,{id:new Jp(e)}))}function Cq(t,e,n,r,i){return t.C().clone().G(n+"/layers/"+r+"/features/"+e).J(i||{})}function zq(t,e,n,r){wc(n,"String",t,e,"must be a string"),wc(r,"String",t,e+1,"must be a string")}function Bq(t,e){wc(e,"String",t,0,"must be a string")}function Dq(t,e){if(!Array.isArray(e)||0===e.length||e.some((function(t){return"string"!==typeof t})))throw new D(t,0,"must be a non-empty array of strings")}function Fq(t,e,n){if(!Da(n))throw new D(t,e,"must be a GeoJSON object")}function Aq(t,e,n,r){if(!Ca(n))throw new D(t,e,"must be a function");if(!Ca(r))throw new D(t,e+1,"must be a function")}function Hq(t,e,n,r){if(Hq.l.constructor.call(this,r?{min:r.min,max:r.max}:void 0),C(t,yq,Hq,0),!zc(e))throw new D(Hq,1,'"catalogHrn" must be a string');if(!zc(n))throw new D(Hq,2,'"layerId" must be a string');this.u=t,this.a=e,this.c=n,this.m=Da(r)&&Da(r.parameters)?r.parameters:{},this.Pc(new Th({sources:{iml:{type:"MVT"}},layers:{iml:{data:{source:"iml",layer:this.a+":"+this.c},points:{filter:{$geometry:"point"},draw:{points:{collide:!1,order:200,color:"#92CF48",size:[[10,"8px"],[14,"12px"],[18,"16px"]]}}},polygons:{filter:{$geometry:"polygon"},draw:{polygons:{order:201,color:"#E39E3C"},lines:{order:202,color:"#755DA5",width:"1px"}}},lines:{filter:{$geometry:"line"},draw:{lines:{order:203,color:"#0258AE",width:"2px",join:"round",cap:"round"}}}}}}))}function Iq(t){Iq.l.constructor.call(this,Iq,t)}function Jq(t){Jq.l.constructor.call(this,Jq,t)}function Kq(t){Kq.l.constructor.call(this,Kq,t)}function Lq(){}function Mq(){}function Nq(t,e){this.a=t,this.b=e}function Oq(){}function Pq(t,e){this.b=t,this.a=e}function Qq(t,e,n){var r;if(e=e||(t&&t.length?Object.keys(t[0]):B),this.Fb=t,e)for(this.Pd=e,this.fh=t=mc(),r=e.length;r--;)t[e[r]]=!0;n!==B&&(this.ji=n)}function Rq(t,e){return t.Fb?t.Fb.push(e):t.Fb=[e],t.Fb.length-1}function Sq(t){var e=Tq;if(!t||!zc(Ze(t.layerId,t.layer))||!Cc(t.level)||tc(t.rowFilter)&&!Ca(t.rowFilter)||tc(t.rowFilterContext)&&!Da(t.rowFilterContext))throw new D(e,1,tc("invalid layer config")?"invalid layer config":t)}function Uq(t,e,n,r){r=r||Vq,this.rf={},r.provider=t,this.invalidate=ef,Uq.l.constructor.call(this,e,r),delete this.invalidate,n&&(this.b=n),this.xa(Mg.ADD)}t("H.service.jsonp",uq),uq.Wn=function(t){return(t=uq.a[t])?t:function(){}},uq.handleResponse=uq.Wn,uq.b=0,uq.a={},u(iq,Ap),t("H.service.traffic.Service",iq),iq.prototype.a=function(){return{subDomain:"traffic.ls",path:"traffic/6.1",callbackKey:"jsoncallback"}},iq.CONFIG_KEY="traffic",iq.prototype.xj=function(t){return new kl(new oq(this,void 0,t),{max:22})},iq.prototype.createFlowLayer=iq.prototype.xj,iq.prototype.yj=function(t){return new Bn(new hq(this,void 0,t))},iq.prototype.createIncidentsLayer=iq.prototype.yj,iq.prototype.Vo=function(t,e,n){return vq(this,t=this.C().clone().G("incidents.json").J(t),e,n)},iq.prototype.requestIncidents=iq.prototype.Vo,iq.prototype.Uo=function(t,e,n,r,i,o){return vq(this,t=this.C().clone().G(["flow/json",n,t,e].join("/")).J(o||{}),r,i)},iq.prototype.requestFlowByTile=iq.prototype.Uo,iq.prototype.Wo=function(t,e,n,r,i,o){return vq(this,t=this.C().clone().G(["incidents/json",n,t,e].join("/")).J(o||{}),r,i)},iq.prototype.requestIncidentsByTile=iq.prototype.Wo,iq.prototype.cg=function(){return Np().G("traffic/flow.yaml")},Y.prototype.ak=function(t){return this.Ya(iq,t)},Y.prototype.getTrafficService=Y.prototype.ak,u(wq,Ap),t("H.service.GeocodingService",wq),wq.prototype.a=function(){return{subDomain:"geocoder.ls",reverseSubDomain:"reverse",path:"6.2"}},wq.CONFIG_KEY="geocoding",wq.prototype.b=function(t){return Error(t.Details||t.message||t.error)},wq.prototype.rh=function(t,e,n){return t=this.C().clone().G("geocode.json").J(t),this.K(t,e,n)},wq.prototype.geocode=wq.prototype.rh,wq.prototype.Bi=function(t,e,n){return t=this.C().clone().G("reversegeocode.json").J(t),this.ll&&t.Sa(this.ll),this.K(t,e,n)},wq.prototype.reverseGeocode=wq.prototype.Bi,wq.prototype.search=function(t,e,n){return t=this.C().clone().G("search.json").J(t),this.K(t,e,n)},wq.prototype.search=wq.prototype.search,Y.prototype.Um=function(t){return this.Ya(wq,t)},Y.prototype.getGeocodingService=Y.prototype.Um,u(xq,Ap),t("H.service.PlacesService",xq),xq.prototype.a=function(){return{subDomain:"places.ls",path:"places/v1"}},xq.CONFIG_KEY="places",xq.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"},xq.prototype.request=function(t,e,n,r){return this.T(t,e,n,r)},xq.prototype.T=function(t,e,n,r){return t=this.C().clone().G(t).J(e||{}),this.K(t,n,r)},xq.prototype.search=function(t,e,n){return this.T("discover/search",t,e,n)},xq.prototype.search=xq.prototype.search,xq.prototype.gp=function(t,e,n){return this.T("suggest",t,e,n)},xq.prototype.suggest=xq.prototype.gp,xq.prototype.rm=function(t,e,n){return this.T("discover/explore",t,e,n)},xq.prototype.explore=xq.prototype.rm,xq.prototype.bm=function(t,e,n){return this.T("discover/around",t,e,n)},xq.prototype.around=xq.prototype.bm,xq.prototype.Yn=function(t,e,n){return this.T("discover/here",t,e,n)},xq.prototype.here=xq.prototype.Yn,xq.prototype.im=function(t,e,n){return this.T("categories/places",t,e,n)},xq.prototype.categories=xq.prototype.im,xq.prototype.tm=function(t,e,n,r){return t=Fp(t).J(this.C().getQuery()).J(r||{}),this.K(t,e,n)},xq.prototype.follow=xq.prototype.tm,Y.prototype.tn=function(t){return this.Ya(xq,t)},Y.prototype.getPlacesService=Y.prototype.tn,u(yq,Ap),t("H.service.iml.Service",yq),yq.prototype.a=function(){return{host:"interactive.data.api.platform.here.com",path:"interactive/v1/catalogs"}},yq.prototype.b=function(t){var e=[{keys:["code","title","cause","action"],format:function(){return t.code+": "+t.title+"; cause: "+t.cause+"; action: "+t.action}},{keys:["error","error_description"],format:function(){return t.error+": "+t.error_description}},{keys:["error","errorMessage"],format:function(){return t.error+": "+t.errorMessage}}];return Error(Da(t)?function(){for(var n=ea(e),r=n.next();!r.done;r=n.next()){var i=(r=r.value).format;if(r.keys.every((function(e){return t[e]})))return i()}return JSON.stringify(t)}():t)},yq.prototype.ee=function(t,e,n,r,i){var o=this.ee;return zq(o,0,t,e),Aq(o,2,n,r),t=this.C().clone().G(t+"/layers/"+e+"/statistics").J(i||{}),this.T(t,"GET",n,r)},yq.prototype.getStatistics=yq.prototype.ee,yq.prototype.Xf=function(t,e,n,r,i,o,a,s,l){var u=l?"":".mvtf";return t=this.C().clone().G(r+"/layers/"+i+"/tile/web/"+n+"_"+t+"_"+e+u).J(Object.assign({clip:!0},s)),this.T(t,"GET",l?o:function(t){return t.arrayBuffer().then(o)},a,void 0,l?"application/json":"arraybuffer")},yq.prototype.getFeaturesByTile=yq.prototype.Xf,yq.prototype.Rj=function(t,e,n,r,i,o){var a=this.Rj;return Bq(a,t),zq(a,1,e,n),Aq(a,3,r,i),t=Cq(this,t,e,n,o),this.T(t,"GET",r,i)},yq.prototype.getFeatureById=yq.prototype.Rj,yq.prototype.cd=function(t,e,n,r,i,o){var a=this.cd;return Dq(a,t),zq(a,1,e,n),Aq(a,3,r,i),t=Eq(this,t,e,n,o),this.T(t,"GET",r,i)},yq.prototype.getFeaturesById=yq.prototype.cd,yq.prototype.Yd=function(t,e,n,r,i){var o=this.Yd;if(!Da(t)||!(t.bbox||t.north&&t.east&&t.south&&t.west))throw new D(o,0,'must be an object with either "bbox" or a full set of "north", "east", "south" and "west"');return zq(o,1,e,n),Aq(o,3,r,i),t=this.C().clone().G(e+"/layers/"+n+"/bbox").J(t),this.T(t,"GET",r,i)},yq.prototype.getFeaturesByBoundingBox=yq.prototype.Yd,yq.prototype.Tj=function(t,e,n,r,i){var o=this.Tj;if(!(Da(t)&&t.radius&&(t.lat&&(t.lng||t.lon)||t.refCatalogHrn&&t.refLayerId&&t.refFeatureId)))throw new D(o,0,'must be an object with "radius" and a combination of either "lat"+"lng" or "refCatalogHrn"+"refLayerId"+"refFeatureId"');return zq(o,1,e,n),Aq(o,3,r,i),t=this.C().clone().G(e+"/layers/"+n+"/spatial").J(t),this.T(t,"GET",r,i)},yq.prototype.getFeaturesByPointAndRadius=yq.prototype.Tj,yq.prototype.Sj=function(t,e,n,r,i,o){var a=this.Sj;if(!Da(t)||!t.radius)throw new D(a,0,'must be an object with "radius"');return Fq(a,1,e),zq(a,2,n,r),Aq(a,4,i,o),t=this.C().clone().G(n+"/layers/"+r+"/spatial").J(t),this.T(t,"POST",i,o,e)},yq.prototype.getFeaturesByGeometryAndRadius=yq.prototype.Sj,yq.prototype.ml=function(t,e,n,r,i){var o=this.ml;return zq(o,0,t,e),Aq(o,2,n,r),t=this.C().clone().G(t+"/layers/"+e+"/search").J(i||{}),this.T(t,"GET",n,r)},yq.prototype.searchFeatures=yq.prototype.ml,yq.prototype.rk=function(t,e,n,r,i){var o=this.rk;return zq(o,0,t,e),Aq(o,2,n,r),t=this.C().clone().G(t+"/layers/"+e+"/iterate").J(i||{}),this.T(t,"GET",n,r)},yq.prototype.iterateFeatures=yq.prototype.rk,yq.prototype.kd=function(t,e,n,r,i,o){var a=this.kd;return Fq(a,0,t),zq(a,1,e,n),Aq(a,3,r,i),e=Gq(this,e,n,o),this.T(e,"PUT",r,i,t)},yq.prototype.putFeatures=yq.prototype.kd,yq.prototype.hd=function(t,e,n,r,i,o){var a=this.hd;return Fq(a,0,t),zq(a,1,e,n),Aq(a,3,r,i),e=Gq(this,e,n,o),this.T(e,"POST",r,i,t)},yq.prototype.postFeatures=yq.prototype.hd,yq.prototype.rd=function(t,e,n,r,i){var o=this.rd;return Dq(o,t),zq(o,1,e,n),Aq(o,3,r,i),t=Eq(this,t,e,n),this.T(t,"DELETE",r,i)},yq.prototype.deleteFeatures=yq.prototype.rd,yq.prototype.cl=function(t,e,n,r,i,o,a){var s=this.cl;return Bq(s,t),Fq(s,1,e),zq(s,2,n,r),Aq(s,4,i,o),t=Cq(this,t,n,r,a),this.T(t,"PUT",i,o,e)},yq.prototype.putFeature=yq.prototype.cl,yq.prototype.Wk=function(t,e,n,r,i,o,a){var s=this.Wk;return Bq(s,t),Fq(s,1,e),zq(s,2,n,r),Aq(s,4,i,o),t=Cq(this,t,n,r,a),this.T(t,"PATCH",i,o,e)},yq.prototype.patchFeature=yq.prototype.Wk,yq.prototype.Cj=function(t,e,n,r,i){var o=this.Cj;return Bq(o,t),zq(o,1,e,n),Aq(o,3,r,i),t=Cq(this,t,e,n),this.T(t,"DELETE",r,i,void 0,"text/plain")},yq.prototype.deleteFeature=yq.prototype.Cj,yq.prototype.T=function(t,e,n,r,i,o){return o=void 0===o?"application/json":o,e={method:e,headers:Object.assign({},i?{"Content-Type":"application/geo+json"}:void 0,"function"===typeof this.f?{Authorization:"Bearer "+this.f()}:void 0,this.ff)},i&&(e.data=JSON.stringify(i)),(i=new rf(o,t.toString(),fe,e)).then(n,Dp(this,t,r)),i},yq.CONFIG_KEY="iml",Y.prototype.Zm=function(t){return this.Ya(yq,t)},Y.prototype.getIMLService=Y.prototype.Zm,u(Hq,R),t("H.service.iml.Provider",Hq),Hq.prototype.K=function(t,e,n,r,i){return this.u.Xf(t,e,n,this.a,this.c,r,i,this.m)},Hq.prototype.requestInternal=Hq.prototype.K,Hq.prototype.Dd=df,Hq.prototype.providesOMV=Hq.prototype.Dd,Hq.prototype.ua=function(){return this.tb()},Hq.prototype.getStyle=Hq.prototype.ua,Hq.prototype.pc=function(t){C(t,Th)&&t.b("MVT"),this.Pc(t)},Hq.prototype.setStyle=Hq.prototype.pc,u(Iq,Ap),t("H.service.publicTransit.Service",Iq),Iq.prototype.a=function(){return{subDomain:"transit.router",path:"v8"}},Iq.CONFIG_KEY="publicTransit",Iq.prototype.Dn=function(t,e,n){return t=this.C().clone().G("routes").J(t),this.K(t,e,n)},Iq.prototype.getRoutes=Iq.prototype.Dn,Iq.prototype.Nm=function(t,e,n){return t=this.C().clone().G("departures").J(t),this.K(t,e,n)},Iq.prototype.getDepartures=Iq.prototype.Nm,Iq.prototype.Hn=function(t,e,n){return t=this.C().clone().G("stations").J(t),this.K(t,e,n)},Iq.prototype.getStations=Iq.prototype.Hn,Iq.prototype.b=function(t){return Error(JSON.stringify(t))},Y.prototype.zn=function(t){return this.Ya(Iq,t)},Y.prototype.getPublicTransitService=Y.prototype.zn,u(Jq,Ap),t("H.service.RoutingService",Jq),Jq.prototype.a=function(){return{subDomain:"route.ls",path:"routing/7.2"}},Jq.prototype.b=function(t){return Error(t.details)},Jq.CONFIG_KEY="routing",Jq.prototype.Od=function(t,e,n){return t=this.C().clone().G("calculateroute.json").J(t),this.K(t,e,n)},Jq.prototype.calculateRoute=Jq.prototype.Od,Jq.prototype.fm=function(t,e,n){return t=this.C().clone().Sa("isoline").G("calculateisoline.json").J(t),this.K(t,e,n)},Jq.prototype.calculateIsoline=Jq.prototype.fm,u(Kq,Ap),t("H.service.RoutingService8",Kq),Kq.CONFIG_KEY="routing_v8",Kq.prototype.a=function(){return{subDomain:"router",path:"v8/routes"}},Kq.prototype.b=function(t){return Error(t.error)},Kq.prototype.Od=function(t,e,n){return t=this.C().clone().J(t),this.K(t,e,n)},Kq.prototype.calculateRoute=Kq.prototype.Od,Y.prototype.Zj=function(t,e){if(7===(e=+e||7))e=Jq;else{if(8!==e)throw new D(this.Zj,1,"allowed values are 7 and 8");e=Kq}return this.Ya(e,t)},Y.prototype.getRoutingService=Y.prototype.Zj,t("H.service.extension.dataView.ITable",Lq),Lq.prototype.ae=function(){},Lq.prototype.getMeta=Lq.prototype.ae,Lq.prototype.de=function(){},Lq.prototype.getRowCount=Lq.prototype.de,Lq.prototype.zc=function(){},Lq.prototype.getRow=Lq.prototype.zc,Lq.prototype.Ua=function(){},Lq.prototype.getColumnNames=Lq.prototype.Ua,Lq.prototype.Te=function(){},Lq.prototype.getColumn=Lq.prototype.Te,Lq.prototype.ya=function(){},Lq.prototype.getCell=Lq.prototype.ya,Lq.prototype.concat=function(){},Lq.prototype.concat=Lq.prototype.concat,t("H.service.extension.dataView.IRow",Mq),Mq.prototype.Ua=function(){},Mq.prototype.getColumnNames=Mq.prototype.Ua,Mq.prototype.ya=function(){},Mq.prototype.getCell=Mq.prototype.ya,Mq.prototype.wd=function(){},Mq.prototype.getTable=Mq.prototype.wd,t("H.service.extension.dataView.ObjRow",Nq),Nq.prototype.Ua=function(){return this.a.Ua()},Nq.prototype.getColumnNames=Nq.prototype.Ua,Nq.prototype.ya=function(t){return this.a.ya(this.b,t)},Nq.prototype.getCell=Nq.prototype.ya,Nq.prototype.wd=function(){return this.a},Nq.prototype.getTable=Nq.prototype.wd,t("H.service.extension.dataView.IColumn",Oq),Oq.prototype.ya=function(){},Oq.prototype.getCell=Oq.prototype.ya,t("H.service.extension.dataView.ObjColumn",Pq),Pq.prototype.ya=function(t){return this.b.ya(t,this.a)},Pq.prototype.getCell=Pq.prototype.ya,t("H.service.extension.dataView.ObjTable",Qq),n=Qq.prototype,n.ji=B,n.Fb=B,n.Pd=B,n.fh=B,n.ae=function(){return this.ji},Qq.prototype.getMeta=Qq.prototype.ae,Qq.prototype.de=function(){return this.Fb?this.Fb.length:0},Qq.prototype.getRowCount=Qq.prototype.de,Qq.prototype.zc=function(t){var e=this.Fb;return e&&e[t]?new Nq(this,t):B},Qq.prototype.getRow=Qq.prototype.zc,Qq.prototype.Ua=function(){return this.Pd||ff},Qq.prototype.getColumnNames=Qq.prototype.Ua,Qq.prototype.Te=function(t){return this.fh[t]?new Pq(this,t):B},Qq.prototype.getColumn=Qq.prototype.Te,Qq.prototype.ya=function(t,e){var n=this.Fb;return(t=n&&this.fh[e]&&n[t])&&t[e]},Qq.prototype.getCell=Qq.prototype.ya,Qq.prototype.concat=function(){var t,e=arguments.length,n=this.Pd,r=""+this.Pd,i=(this.Fb||[]).slice();for(t=0;t<e;t++){var o=arguments[t];if(!(o instanceof Qq))throw new D(this.concat,t);if(o.Fb){if(n&&""+o.Pd!==r)throw new D(this.concat,t,"Incompatible columns!");i=i.concat(o.Fb)}}return new Qq(i,this.Pd,this.ji)},Qq.prototype.concat=Qq.prototype.concat,u(Uq,bh),t("H.service.remote.Spatial",Uq);var Vq={};function Wq(t,e){this.a=t,e&&(this.b=e)}Uq.prototype.fb=function(){return this.b||bh.prototype.fb.call(this)},Uq.prototype.getId=Uq.prototype.fb,Uq.prototype.Cg=Function(),Uq.prototype.retain=Uq.prototype.Cg,Uq.prototype.release=Function(),Uq.prototype.release=Uq.prototype.release;var Xq=new Wq([]);function Yq(t,e,n){t.rf[e.key]=new Wq(n,void 0)}function Zq(t,e,n,r,i,o){$q(Zq,1,e,n),$q(Zq,2,r,i),(this.f=t.length)?(this.u=t,this.aa=e,this.i=n,this.b=0,this.c=A(this.c,this),this.m=r,this.j=i,this.a=mc(),Wa(this.a,ar,o||{}),this.g={},x.setTimeout(this.c,0)):e(ff,!0)}Uq.prototype.Zd=function(t){return(this.rf[t.key]||Xq).a},Uq.prototype.getGeometriesForTile=Uq.prototype.Zd,Uq.prototype.zh=function(t){return(this.rf[t.key]||Xq).b},Uq.prototype.getLabels=Uq.prototype.zh;var ar={duration:100,xm:"geometry",wm:"WKT",Xo:"searchAttributes",Bj:B};function $q(t,e,n,r){if(!Ca(n))throw new D(t,e,"has invalid type");if(!Ca(r))throw new D(t,e+1,"has invalid type")}function br(t,e,n){var r=8===t;this.b=e,this.c=n||hd,(this.a=4===t||r)?this.j=r:this.g=1===t,this.f=this.a?"$HProjGeometry":"geometry"}function cr(t,e,n,r,i){var o=[],a=i.paths,s=a.length,l=0,u=t.b&&t.b(r);for(t=new Uq(e,t.j,B,{style:u||t.i,data:r});l!==s;)o.push(er(a[l++]));return Yq(t,n,[new rh(o,i.interiorsIndex,i.outlinesIndex)]),t}function dr(t,e,n,r){r=new Wf(r[0],r[1]);var i=t.b&&t.b(n);return t.g?t=new yn(r,t={icon:i,data:n,provider:e}):t=new Qi(r,t={icon:i,data:n,provider:e}),t}function er(t){for(var e=0,n=t.length,r=[];e<n;)r.push(new I(t[e++],t[e++]));return r}function fr(t){var e=(t=t||{}).tileCacheSize||1024,n=t.resultType,r=t.styleCallback;if(tc(t.min)||(t.min=12),fr.l.constructor.call(this,t),-1===gr.indexOf(n))throw new D(fr,2,"invalid resultType");if(this.a=n,r&&!Ca(r))throw new D(fr,2,"invalid style callback");this.Da=r,this.$=t.pixelRatio||Se(),this.Kb=A(this.Kb,this),this.v(new Ck(e,A(this.bc,this))),this.createTileInternal=A(4===n||8===n?this.N:this.D,this)}function hr(t){var e=t.Ja;return e||(t.u||(t.u=t.m(t.a,t.Da,t.Kb)),(e=t.Ja=new kq(t.u)).ka(t),e.addEventListener(t.g.Ea,A(t.Gb,t)),e.Ja=!0),e}Zq.prototype.c=function(){for(var t,e=[],n=!1,r=yk();this.b<this.f;){var i=this.u[this.b];if(n=i.attributes,t=i.layerId||this.a.Bj,i.distance&&(n[this.a.Xo]={nearest:new Wf(i.nearestLat,i.nearestLon),distance:i.distance}),i=i[this.a.xm]){try{var o=Fn(new $n(i))}catch(a){this.i(new x.Error(a.message)),n=!0;break}n[this.a.wm]=o}if((i=this.g[t])||(i=this.g[t]=this.m({layerId:t,columnNames:Object.keys(n)})),n=this.j(i,n),e.push(n),this.b++,(n=this.b===this.f)||yk()-r>=this.a.duration){this.aa(e,n);break}}n?this.g=y:this.o=x.setTimeout(this.c,0)},Zq.prototype.cancel=function(){x.clearTimeout(this.o),this.b<this.f&&this.i(new x.Error("parsing canceled"))},Zq.prototype.cancel=Zq.prototype.cancel,br.prototype.parse=function(t,e,n){var r,i,o,a,s={},l=[],u=0;for(o=n.length;u<o;u++){var c=n[u],h=c.Rows;if(c=h.length){var f=Object.keys(h[0]).filter((function(t){return"geometry"!==t&&"$HProjGeometry"!==t}));for(f=new Qq(h,f),a=0;a<c;a++){var p=h[a];if(i=p[this.f]){if(delete p[this.f],p=f.zc(a))try{(r=this.a?cr(this,t,e,p,i):dr(this,t,p,i.path)).ka(t),l.push(r)}catch(d){this.c(d.message)}}else this.c("Layer must contain geometries")}}}return s[this.a?"spatials":this.g?"markers":"domMarkers"]=l,s},u(fr,R),t("H.service.extension.TileProvider",fr),fr.prototype.c=!1,fr.prototype.getCapabilities=function(){return fr.l.getCapabilities.call(this)|Cj.CROP_LINES_BY_TILE|Cj.CROP_POLYGONS_BY_TILE},fr.prototype.ib=function(t,e,n,r){return this.c?fr.l.ib.call(this,t,e,n,r):B},fr.prototype.requestTile=fr.prototype.ib,fr.prototype.Kb=function(t){this.dispatchEvent(new td("error",zc(t)?t:t+"",this))},fr.prototype.Vb=function(){return 1===this.a},fr.prototype.providesMarkers=fr.prototype.Vb,fr.prototype.Ub=function(){return 2===this.a},fr.prototype.providesDomMarkers=fr.prototype.Ub,fr.prototype.Hc=function(){return 4===this.a||8===this.a},fr.prototype.providesSpatials=fr.prototype.Hc,fr.prototype.D=function(t,e,n,r){var i=this.getTileKey(t,e,n);i=this.Nb().get(i);var o=2==this.a,a=[],s=hr(this);for(i?i.valid=!0:(delete(t=i=new Kk(t,e,n,y)).j,t.o=r),e=(r=mq(s,i,o?"domMarkers":"markers")).length;e--;)(t=r[e]).aj=i,(o||1===t.Ab().getState())&&a.push(t);return i.data=a,i},fr.prototype.Gb=function(t){(t=t.target.aj)&&(t.valid=!1)},fr.prototype.ap=function(t){this.F=!!t},fr.prototype.setTileCanvasRendering=fr.prototype.ap,fr.prototype.F=!0,fr.prototype.N=function(t,e,n,r){var i=hr(this),o=this.getTileKey(t,e,n),a=this.tileSize,s=this.Nb().get(o);return s||(delete(t=s=new Ok(o,t,e,n,a,this.$,n,i)).j,t.o=r),this.F?(r=Mp.pop(a),s.U(r)||Mp.push(r,a)):Uk(s),s},fr.prototype.bc=function(t,e){var n;if(4===this.a||8===this.a){for(n=(t=e.Va()).length;n--;)delete t[n].rf[e.key];e.data&&(Mp.push(e.wg(),this.tileSize),e.xg())}else for(n=(t=e.data).length;n--;)delete t[n].aj},fr.prototype.s=function(){fr.l.s.call(this),hr(this).B()};var ir={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};fr.ResultType=ir;var gr=[1,2,4,8];function Tq(t,e,n){var r=this,i=e&&e.rowFilter,o=n.resultType;Tq.l.constructor.call(this,n),C(t,jr,Tq,0),Sq(e),i?(n=Ua(e)).rowFilter=i.toString():n=Ua(e),delete n.layer,n.layerId=Ze(e.layerId,e.layer),(new Mf).a("pde","H.service.extension.worker.processor"),t=t.C().clone().G(kr+"."+lr).J({meta:1}),new Pf("pde",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===o,serverUrl:t.toString(),layerConfigs:[n],horizontalMargin:1}]}).then((function(){r.c=!0,Vj(r)}),this.Kb)}u(Tq,fr),t("H.service.extension.platformData.TileProvider",Tq),Tq.prototype.m=function(t,e,n){return(t=new br(t,e,n)).i=mr,t};var mr=new Ug({strokeColor:"transparent",fillColor:"transparent",lineWidth:0,lineJoin:"round",lineCap:"round"});function nr(t){this.a=t}function jr(t){jr.l.constructor.call(this,jr,t)}Tq.prototype.K=function(t,e,n,r,i){var o,a=this,s=this.getTileKey(t,e,n);s=this.Nb().get(s);var l={cancel:hd},u=!0,c=this.a;if(s&&(4===c||8===c?s.je()||(r(Mp.pop(this.tileSize),null),u=!1):(r(y),u=!1)),u){var h=Kp.setTimeout((function(){(o=new Pf("pde",{message:[a.uid,1,[t,e,n]]})).then(r,i)}),500);l.cancel=function(){o?o.cancel():Kp.clearTimeout(h)}}return l},Tq.prototype.requestInternal=Tq.prototype.K,Tq.prototype.s=function(){Tq.l.s.call(this),new Pf("pde",{message:[this.uid,3]})},Tq.ResultType=ir,nr.prototype.cancel=function(){for(var t=this.a,e=t.length;e--;)t[e].cancel();t.length=0},u(jr,Ap),t("H.service.extension.platformData.Service",jr),jr.prototype.a=function(){return{subDomain:"s.fleet.ls",path:"1"}},jr.CONFIG_KEY="platformData",jr.prototype.request=function(t,e,n,r,i){return this.T(t,e,n,r,i)},jr.prototype.T=function(t,e,n,r,i){var o="text/plain";if(!t)throw new D(this.request,0,t);if(!e)throw new D(this.request,1,e);if(!r)throw new D(this.request,3,r);if(!i)throw new D(this.request,4,i);return t=this.C().clone().G(t+"."+e).J(n),e===or.JSON&&(o="application/json"),this.K(t,r,i,o)};var kr="tiles";jr.EntryPoint={DOC_ATTRIBUTES:"doc/attributes",DOC_LAYER:"doc/layer",DOC_LAYERS:"doc/layers",DOC_MAPS:"doc/maps",DOC_INDEXES:"doc/indexes",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SERVICE_CONFIGURATION:"serviceconfiguration",STATIC:"static",TILE:"tile",TILES:kr,FILE:"file",INDEX:"index"};var lr="json",or={TXT:"txt",JSON:lr,HTML:"html",BIN:"bin"};function pr(t,e,n){if(!yc(t))throw new D(n,0,"has invalid type");if(!yc(e))throw new D(n,1,"has invalid type");if(t.length!==e.length||!t.length)throw new D(n,1,"specify one key attribute for each given layer id in the same order")}function qr(t){qr.l.constructor.call(this,qr,t)}function rr(t){var e=sr;if(!t||!zc(t.layerId)||tc(t.rowFilter)&&!Ca(t.rowFilter)||tc(t.rowFilterContext)&&!Da(t.rowFilterContext))throw new D(e,1,tc("invalid layer config")?"invalid layer config":t)}function tr(t){return zc(t)&&/^[A-Z][A-Z0-9_]*$/.test(t)}function ur(t){for(var e=t&&t.length,n=2<=e&&"WKT"===t[--e]&&"GEOMETRY_ID"===t[--e];n&&e--;)n=tr(t[e]);return n}function vr(t,e){var n,r,i="",o=[];if(e){if(t.geometries&&t.geometries.length)for(i=i+"Meta:\t"+e+"\n"+(r=Object.keys(t.geometries[0].attributes)).join("\t"),i+="\tWKT\n",n=0;n<t.geometries.length;n++){var a=t.geometries[n].attributes;for(s=t.geometries[n].geometry,e=0;e<r.length;e++)o.push(a[r[e]]);i+=o.join("\t"),i+="\t"+s+"\n",o=[]}}else{var s={};if(o=[],t.geometries)for(r=0;r<t.geometries.length;r++)s[(e=t.geometries[r]).layerId]||(s[e.layerId]=[]),s[e.layerId].push(e);for(n in s)o.push({layerId:n,geometries:s[n]});for(n=0;n<o.length;n++)i+=vr(o[n],o[n].layerId)}return i}function sr(t,e,n){var r,i=this,o=e&&e.rowFilter;sr.l.constructor.call(this,n),C(t,wr,sr,0);var a=n.resultType;if(rr(e),o){var s=Ua(e);s.rowFilter=o.toString()}else s=e;(new Mf).a("cle","H.service.extension.worker.processor");var l=e.layerId;t.request(xr,yr,{detail_level:"all",layer_id:l},(function(e){var n;for(e=e.layers,n=0;n<e.length;n++)if(e[n].layerId===l){s.level=e[n].level;break}r=t.C().clone().G(zr+"."+yr).J({meta:1}),new Pf("cle",{message:[i.uid,0,{tileSize:i.tileSize,projected:!0,onlyOutline:4===a,serverUrl:r.toString(),layerConfigs:[s],batchTiles:!1,horizontalMargin:1}]}).then((function(){i.c=!0,Vj(i)}),i.Kb)}),(function(t){i.Kb(t.message)}))}function Ar(){if(Br)throw new Xc(Ar)}jr.EntryPointType=or,jr.prototype.uc=function(t,e){var n=e&&e.resultType;return t=new Tq(this,t,e),1==n||2===n?new Bn(t):new kl(t)},jr.prototype.createTileLayer=jr.prototype.uc,jr.prototype.Id=function(t,e,n,r){var i,o=[],a=e.layer_id||e.layer_ids;return t=this.request(t,lr,e,(function(t){i=new Zq(t.geometries,n,r,(function(t){return new Qq([],t.columnNames,t)}),(function(t,e){return t.zc(Rq(t,e))}),{Bj:a}),o.push(i)}),(function(t){r(new x.Error(t))})),o.push(t),new nr(o)},jr.prototype.Kc=function(t,e,n,r,i,o){function a(t,e){e&&s--,r(t,!s)}var s,l=[];for(pr(t,e,this.Kc),$q(this.Kc,3,r,i),C(n,K,this.Kc,2),n={bbox:n.la+","+n.ca+";"+n.ma+","+n.ia},o&&Wa(n,o),t=n.layer_id?[n.layer_id]:t,o=0,s=t.length;o<s;o++)n.layer_id=t[o],n.key_attribute=e[o],l.push(this.Id("search/bbox",n,a,i));return new nr(l)},jr.prototype.searchByBoundingBox=jr.prototype.Kc,jr.prototype.Xb=function(t,e,n,r,i,o,a){if(pr(t,e,this.Xb),C(n,Wf,this.Xb,2,"has invalid type"),!Cc(r))throw new D(this.Xb,3,"has invalid type");return $q(this.Xb,4,i,o),t={layer_ids:t.join(","),key_attributes:e.join(","),proximity:n.lat+","+n.lng+","+r},a&&Wa(t,a),this.Id("search/proximity",t,i,o)},jr.prototype.searchByProximity=jr.prototype.Xb,jr.prototype.Wb=function(t,e,n,r,i,o,a){var s="";if(pr(t,e,this.Wb),!zc(n)&&!C(n,L))throw new D(this.Wb,1,"has invalid type");if(!Cc(r))throw new D(this.Wb,2,"has invalid type");if($q(this.Wb,4,i,o),t={layer_ids:t.join(","),key_attributes:e.join(","),radius:r},zc(n))t.route_id=n;else{for(r=n.X,n=0,e=r.length;n<e;n+=3)s+=r[n]+","+r[n+1],n<e-3&&(s+=";");t.corridor=s}return a&&Wa(t,a),this.Id("search/corridor",t,i,o)},jr.prototype.searchByCorridor=jr.prototype.Wb,Y.prototype.un=function(t){return this.Ya(jr,t)},Y.prototype.getPlatformDataService=Y.prototype.un,u(qr,Ap),t("H.service.extension.geofencing.Service",qr),qr.prototype.a=function(){return{subDomain:"fleet.ls",path:"2"}},qr.CONFIG_KEY="geofencing",qr.prototype.request=function(t,e,n,r){return this.T(t,e,n,r)},qr.prototype.b=function(t){return Error(t.issues&&t.issues.length?t.issues.map((function(t){return t.message})).join(". "):t.message||t.response_code)},qr.prototype.T=function(t,e,n,r){if(!t)throw new D(this.request,0,t);if(!Ca(n))throw new TypeError("onResult must be a function");if(!Ca(r))throw new TypeError("onError must be a function");return t=this.C().clone().G(t+".json").J(e),this.K(t,n,r)},qr.EntryPoint={SEARCH_PROXIMITY:"search/proximity"},Y.prototype.Vm=function(t){return this.Ya(qr,t)},Y.prototype.getGeofencingService=Y.prototype.Vm,t("H.service.extension.customLocation.Permission",{READ:"read",WRITE:"write",EXPORT:"export"}),t("H.service.extension.customLocation.Storage",{READONLY:"readonly",UPDATABLE:"updatable"}),u(sr,fr),t("H.service.extension.customLocation.TileProvider",sr),sr.prototype.m=function(t,e,n){return new br(t,e,n)},sr.prototype.K=function(t,e,n,r,i){var o,a=this,s=this.getTileKey(t,e,n);s=this.Nb().get(s);var l={cancel:hd},u=!0,c=this.a;if(s&&(4===c||8===c?s.je()||(r(Mp.pop(this.tileSize),null),u=!1):(r(y),u=!1)),u){var h=Kp.setTimeout((function(){(o=new Pf("cle",{message:[a.uid,1,[t,e,n]]})).then(r,i)}),500);l.cancel=function(){o?o.cancel():Kp.clearTimeout(h)}}return l},sr.prototype.requestInternal=sr.prototype.K,sr.prototype.s=function(){sr.l.s.call(this),new Pf("cle",{message:[this.uid,3]})},t("H.service.extension.customLocation.Table",Ar);var Br=!0;function Cr(t,e){var n;Br=!1;var r=new Ar;Br=!0,r.c=pc(x.JSON.parse(x.JSON.stringify(t))),t=t.columnNames;var i=mc();for(n=t.length;n--;)i[t[n]]=n;if(r.f=i,r.b=t.length,e){if(e.length%t.length)throw new D(Cr,1,"Invalid number of cells")}else e=[];return r.a=e,r}Ar.prototype.ae=function(){return this.c},Ar.prototype.getMeta=Ar.prototype.ae,Ar.prototype.de=function(){return this.a.length/this.b},Ar.prototype.getRowCount=Ar.prototype.de,Ar.prototype.zc=function(t){return t<this.a.length/this.b?new Dr(this,t):B},Ar.prototype.getRow=Ar.prototype.zc,Ar.prototype.En=function(){var t,e=this.a.length/this.b,n=new x.Array(e);for(t=0;t<e;t++)n[t]=new Dr(this,t);return n},Ar.prototype.getRows=Ar.prototype.En,Ar.prototype.Vg=function(t){var e=this.b,n=this.a,r=n.length/this.b;if(!t||t.length%e)throw new D(this.Vg,0,"Invalid number of cells");return this.a=n.concat(t),r},Ar.prototype.addCells=Ar.prototype.Vg,Ar.prototype.Zl=function(){for(var t=this.b,e=this.a,n=this.a.length/this.b;t--;)e.push(y);return this.zc(n)},Ar.prototype.addRow=Ar.prototype.Zl,Ar.prototype.Ua=function(){return this.c.columnNames},Ar.prototype.getColumnNames=Ar.prototype.Ua,Ar.prototype.Te=function(t){return this.f[t]===B?B:new Er(this,t)},Ar.prototype.getColumn=Ar.prototype.Te,Ar.prototype.ya=function(t,e){return this.a[t*this.b+this.f[e]]},Ar.prototype.getCell=Ar.prototype.ya,Ar.prototype.Lc=function(t,e,n){if(e=this.f[e],t>=this.a.length/this.b)throw new D(this.Lc,0,"Row index out of bounds");if(e===B)throw new D(this.Lc,0,"Column unknown");this.a[t*this.b+e]=n},Ar.prototype.setCell=Ar.prototype.Lc,Ar.prototype.concat=function(t){var e,n=arguments.length,r=""+this.Ua(),i=this.a?this.a.slice():[];for(e=0;e<n;e++){var o=arguments[e];if(!(o instanceof Ar))throw new D(this.concat,e);if(""+o.Ua()!==r)throw new D(this.concat,e,"Incompatible columns!");o.a&&(i=i.concat(o.a))}return Cr(this.c,i)},Ar.prototype.concat=Ar.prototype.concat;var Fr=/(\n|\t|\r|")/;function Gr(t,e,n,r,i,o,a,s){var l;for(l=0;l<a;l++){l&&e.push("\t");var u=n[r*i+o[l]];if(l!==s){if(u!==y){if(u=String(u),Fr.test(u))throw new D(t.Xi,0,'Invalid character (\\n, \\r, \\t, or ") in row '+r+" column "+t.c.columnNames[o[l]]);e.push(u)}}else e.push(u)}}function Er(t,e){this.b=t,this.a=e}function Dr(t,e){this.a=t,this.gi=e}function Hr(t){if(t===B)t="\t";else if(!/^[^"\r\n]$/.test(t))throw new D(Hr,0);this.b=String(t).charCodeAt(0),this.hi=A(this.hi,this),this.A=Ir}Ar.prototype.Xi=function(t,e){var n,r=this.b,i=this.Ua(),o=[],a=[],s=this.a,l=-1;for(n=0;n<r;n++)t&&!t.test(i[n])||("WKT"===i[n]&&(l=o.length),o.push(n));if(!(t=o.length))throw new D(this.Xi,1,"No columns filtered");if(Gr(this,a,i,0,r,o,t,l),e){var u=e.length;for(n=0;n<u;n++)a.push("\n"),Gr(this,a,s,i=e[n],r,o,t,l)}else for(u=this.de(),i=0;i<u;i++)a.push("\n"),Gr(this,a,s,i,r,o,t,l);return a.join("")},Ar.Column=Er,Er.prototype.ya=function(t){return this.b.ya(t,this.a)},Er.prototype.getCell=Er.prototype.ya,Er.prototype.Lc=function(t,e){this.b.Lc(t,this.a,e)},Er.prototype.setCell=Er.prototype.Lc,Ar.Row=Dr,Dr.prototype.Ua=function(){return this.a.Ua()},Dr.prototype.getColumnNames=Dr.prototype.Ua,Dr.prototype.ya=function(t){return this.a.ya(this.gi,t)},Dr.prototype.getCell=Dr.prototype.ya,Dr.prototype.Lc=function(t,e){this.a.Lc(this.gi,t,e)},Dr.prototype.setCell=Dr.prototype.Lc,Dr.prototype.wd=function(){return this.a},Dr.prototype.getTable=Dr.prototype.wd;var Ir=0;function Jr(t,e,n){var r=t.A;if(r!==e)throw 1===r&&(t.A=Ir),new Xc(n,"Requires state: "+["READY","PARSE","PAUSE"][e]+" but found "+["READY","PARSE","PAUSE"][r])}function Kr(t,e){var n=[];return t.parse(e,(function(t,e,r){return 1>t&&(n[e]=r),0<t})),t.A=Ir,n}function Lr(t,e,n){this.c=new $n(t),this.o=e,this.g=!0,this.Lf=this.j=this.b=0,Mr(this),this.a=n,this.f=[],this.i=!1}function Mr(t){var e=t.c.Sb();t.m=!1,(t.aa=34===e)&&t.c.next()}function Nr(t,e){var n=t.c;switch(t.m=!0,e){case t.o:t.b++;break;case 13:n.next(),10!==n.Sb()&&t.a("CR without LF");case 10:t.b=0,t.j++;break;case-1:t.g=!1;break;default:t.a("End of field expected")}return n.next(),-1}function Or(t,e,n,r){if(r=r||{},!e)throw new D(Or,1,"has to be a function");if(!n)throw new D(Or,2,"has to be a function");for(this.c=e,this.g=n,this.a=[],this.i=r.duration||Pr,this.b=A(this.b,this),this.f={},t=t.split("Meta:\t").slice(1),e=0;e<t.length;e++){n=(r=t[e].split("\n"))[0].split("\t")[0],r=r.slice(1).join("\n"),this.Sd[n]=new Hr,this.fi[n]=Kr(this.Sd[n],r);var i={layerId:n,columnNames:this.fi[n]};this.Th.push(n),this.f[n]=Cr(i),this.Qc[n]=yk(),Qr(this,r,n),this.b(n)}}n=Hr.prototype,n.getState=function(){return this.A},n.abort=function(){Jr(this,2,Hr.prototype.abort),this.A=Ir},n.hi=function(t){throw this.A=Ir,new D(Hr.prototype.parse,0,"Malformed DSV at row "+this.a.j+" column "+this.a.b+": "+t)},n.parse=function(t,e,n){Jr(this,Ir,Hr.prototype.parse),t=t.trim(),this.a=new Lr(t,this.b,this.hi),this.c=e,this.Lk=n||ef,this.A=2,this.resume()},n.Lk=ef,n.resume=function(){var t=this.a,e=[];Jr(this,2,Hr.prototype.resume),this.A=1;do{if(!t.g){this.A=Ir;break}if(i>t.b){if(void 0!==n&&n!==i)return void this.a.a("The number of columns must be the same for all rows");var n=i}var r=t.j,i=t.b,o=t.Lf,a=this.Lk(r,i,t);if(t.Lf>o)for(;-1!==t.next(););else{for(;-1!==(o=t.next());)e.push(o);a=String.fromCharCode.apply(y,e),e.length=0}Mr(t),this.c(r,i,a)&&(this.A=t.g?2:Ir)}while(1===this.A);2!=this.A&&void 0!==n&&0<i&&n!==i&&this.a.a("The number of columns must be the same for all rows")},n=Lr.prototype,n.Lf=0,n.Sb=function(){if(this.m)var t=-1;else{var e=this.c;if(t=e.Sb(),this.aa)switch(t){case 34:e.next(),34!==(t=e.Sb())&&(t=Nr(this,t));break;case-1:this.a("Closing quotation mark expected")}else switch(t){case 34:this.a("Unexpected quotation mark");case this.o:case 13:case 10:case-1:t=Nr(this,t)}}return t},n.ye=function(){this.i=!0,this.f=[]},n.Td=function(){var t=this.f.slice();return this.i=!1,this.f=[],t},n.next=function(){var t=this.Sb();return-1!==t&&this.c.next(),this.i&&this.f.push(t),this.Lf++,t};var Pr=100;function Qr(t,e,n){var r=[],i=t.fi[n].length-1,o=t.f[n];try{t.Sd[n].parse(e,(function(e,a,s){var l=!1;return 0<e&&(r[a]=s,a===i&&(t.a.push(o.zc(o.Vg(r))),yk()-t.Qc[n]>t.i&&(l=!0))),l}),(function(t,e,n){if(0<t&&e===i)return Fn(n)}))}catch(a){t.g(a)}}function wr(t){wr.l.constructor.call(this,wr,t)}function Rr(t,e,n,r){var i,o=e[t=t===Sr?"changes":"file"],a=zc(o),s=!a&&C(o,Blob);if(!a&&!s)throw new D(r,0,"Invalid "+t+" parameter");if(Tr)i=s?o:nf(o,"text/plain"),(r=new x.FormData).append(t,i,i.name||t+".wkt"),n.method="POST",n.data=r,delete e[t];else if(s)throw new D(r,0,"Sending Blob data is not supported by the browser")}n=Or.prototype,n.fi={},n.Th=[],n.Sd={},n.Qc={},n.Wi={},n.cancel=function(){for(var t in this.Wi)x.clearTimeout(this.Wi[t])},Or.prototype.cancel=Or.prototype.cancel,Or.prototype.b=function(t){var e,n,r=this;this.Wi[t]=x.setTimeout((function(){if(2===r.Sd[t].getState())r.Qc[t]=yk(),r.c(r.a,!1),r.a=[],r.Sd[t].resume(),r.b(t);else{for(e=!0,n=0;n<r.Th.length;n++)if(r.Sd[r.Th[n]].getState()!==Ir){e=!1;break}e&&(0<r.a.length&&r.c(r.a,!0),r.a=[])}}),0)},u(wr,Ap),t("H.service.extension.customLocation.Service",wr),wr.prototype.a=function(){return{subDomain:"fleet.ls",path:"2"}},wr.CONFIG_KEY="customLocation",wr.prototype.uc=function(t,e){var n=e&&e.resultType;return t=new sr(this,t,e),1===n||2===n?new Bn(t):new kl(t)},wr.prototype.createTileLayer=wr.prototype.uc;var Tr=x.FormData&&!!x.FormData.prototype.append;wr.prototype.request=function(t,e,n,r,i){return this.T(t,e,n,r,i)},wr.prototype.T=function(t,e,n,r,i){var o="text/plain",a=t===Ur.LAYERS_UPLOAD||t===Ur.LAYERS_MODIFY||t===Ur.LAYERS_IMPORT,s=n,l={data:B,method:"GET",headers:this.ff};if(!t)throw new D(this.request,0,t);if(!e)throw new D(this.request,1,e);$q(this.request,3,r,i),a&&(C(n,Object,this.request,2,"Invalid request parameters"),Rr(t,s=Ua(n),l,this.request));var u=this.C().clone().G(t+"."+e).J(s);return e===Vr.JSON&&(o="application/json"),(t=new rf(o,u.toString(),fe,l)).then((function(t){var e=t.issues;e&&t.error_id&&t.response_code?i(Error(e[0].message)):r(t)}),(function(t){"error"===t.type||404===t.status?i(Error(t.statusText||"Unable to load data")):t.json().then((function(t){i(Error("["+t.issues[0].message+"] "+u+" request failed"))}),(function(){i(Error("["+t.statusText+"] "+u+" request failed"))}))})),t};var xr="layers/list",Sr="layers/modify",zr="tiled/tile",Ur={LAYERS_DELETE:"layers/delete",LAYERS_GRANT:"layers/access/grant",LAYERS_LIST:xr,LAYERS_MODIFY:Sr,LAYERS_UPLOAD:"layers/upload",LAYERS_IMPORT:"layers/import",SEARCH_ALL:"search/all",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SEARCH_TILE:zr};wr.EntryPoint=Ur;var yr="json",Vr={TXT:"txt",JSON:yr};wr.EntryPointType=Vr,wr.prototype.sb=function(t,e,n){var r=this;return this.request("search/all","txt",{filter:'WKT==""',layer_id:t},(function(i){var o=i.replace(/[\r\n]+$/g,"").split("\t");r.request(xr,yr,{layer_id:t,detail_level:"all"},(function(t){(t=t.layers[0]).columnNames=o,e(Cr(t))}),n)}),n)},wr.prototype.getLayer=wr.prototype.sb,wr.prototype.ek=function(t,e,n,r){var i=e&&e.length,o=-1,a=this;return function s(){return++o<i?a.request("layers/access/grant",yr,{layer_id:t,granted_app_id:e[o].grantedAppId,permissions:e[o].permissions.join(",")},s,r):a.sb(t,n,r)}()},wr.prototype.grantAccess=wr.prototype.ek,wr.prototype.Dj=function(t,e,n){return this.request("layers/delete",yr,{layer_ids:t},e,n)},wr.prototype.deleteLayer=wr.prototype.Dj,wr.prototype.pd=function(t,e,n){function r(){setTimeout((function(){l.sb(a,(function(t){setTimeout(i.bind(null,t),c)}),(function(){64e3>u?(u+=c,r()):n(x.Error("Timeout"))}))}),c),c*=2}function i(r){var i=JSON.stringify(r.Ua()),o=t.grants;if(i!==JSON.stringify(s)){var u="Results into different column names on the backend: "+i;setTimeout((function(){l.Dj(a,(function(){n(x.Error(u))}),(function(t){n(x.Error(u+". "+t.message))}))}),c)}else o&&o.length?l.ek(a,o,e,n):e(r)}var o,a,s,l=this,u=0,c=1e3,h=!t||!tr(a=t.layerId)&&(o="layerId")||!ur(s=t.columnNames)&&(o="columnNames")?0:Ca(e)?Ca(n)?-1:2:1;if(0<=h)throw new D(l.pd,h,o||arguments[h]);return l.sb(a,(function(){n(x.Error("Layer exists already"))}),(function(){var e={layer_id:a,file:s.join("\t")},i=t.level,o=t.storage;i!==B&&(e.level=i),o!==B&&(e.storage=o),l.request("layers/upload",yr,e,r,n)}))},wr.prototype.createLayer=wr.prototype.pd,wr.prototype.Id=function(t,e,n,r){var i,o=[];return t=this.request(t,yr,e,(function(t){t.geometries.length?(t=vr(t,e.layer_id),i=new Or(t,n,r),o.push(i)):n(ff,!0)}),r),o.push(t),new nr(o)},wr.prototype.Xb=function(t,e,n,r,i,o){if(!yc(t))throw new D(this.Xb,0,"has invalid type");if(C(e,Wf,this.Xb,1,"has invalid type"),!Cc(n))throw new D(this.Xb,2,"has invalid type");return $q(this.Xb,3,r,i),t={layer_ids:t.join(","),proximity:e.lat+","+e.lng+","+n},o&&Wa(t,o),this.Id("search/proximity",t,r,i)},wr.prototype.searchByProximity=wr.prototype.Xb,wr.prototype.Wb=function(t,e,n,r,i,o){var a="";if(!yc(t))throw new D(this.Wb,0,"has invalid type");if(!zc(e)&&!C(e,L))throw new D(this.Wb,1,"has invalid type");if(!Cc(n))throw new D(this.Wb,2,"has invalid type");if($q(this.Wb,3,r,i),t={layer_ids:t.join(","),radius:n},zc(e))t.route_id=e;else{var s=e.X;for(e=0,n=s.length;e<n;e+=3)a+=s[e]+","+s[e+1],e<n-3&&(a+=",");t.corridor=a}return o&&Wa(t,o),this.Id("search/corridor",t,r,i)},wr.prototype.searchByCorridor=wr.prototype.Wb,wr.prototype.Kc=function(t,e,n,r,i){function o(t,e){e&&a--,n(t,!a)}var a,s=[];if(!yc(t))throw new D(this.Kc,0,"has invalid type");for(C(e,K,this.Kc,1,"has invalid type"),$q(this.Kc,2,n,r),e={bbox:e.la+","+e.ca+";"+e.ma+","+e.ia},i&&Wa(e,i),t=e.layer_id?[e.layer_id]:t,i=0,a=t.length;i<a;i++)e.layer_id=t[i],s.push(this.Id("search/bbox",e,o,r));return new nr(s)},wr.prototype.searchByBoundingBox=wr.prototype.Kc,wr.prototype.Ci=function(t,e,n,r){var i,o=[];if(!zc(t))throw new D(this.Ci,0,"has invalid type");$q(this.Ci,1,e,n);var a={layer_id:t};return r&&Wa(a,r),r=this.request("search/all",yr,a,(function(r){r.geometries.length?(r=vr(r,t),i=new Or(r,e,n),o.push(i)):e(ff,!0)}),n),o.push(r),new nr(o)},wr.prototype.searchAll=wr.prototype.Ci;var Wr={delete:/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};function Xr(t,e,n,r,i,o){function a(){d++,r(this,d===f)}function s(t){d++,i(t,this,d===f)}var l,u="append"!==e,c={},h=mc(),f=0,p=[],d=0;if(!yc(n))throw new D(o,0,n);for($q(o,1,r,i),l=n.length;l--;){var v=n[l];if(C(v,Dr)){var g=v.wd().ae().layerId,m=v.ya("GEOMETRY_ID");if(u){if(m===y||""===String(m))var b='GEOMETRY_ID must not be null or ""';c[m=g+"_"+m]&&(b="same GEOMETRY_ID for multiple rows"),c[m]=v}else m!==y&&""!==String(m)&&(b='GEOMETRY_ID must be null or ""')}else b="Invalid type";if(b)throw new D(o,0,"- Invalid row at index "+l+", "+b);(m=h[g])||(m=h[g]=[],f++),m.push(v)}for(g in h){for(n=[],l=(m=h[g]).length;l--;)n.push(m[l].gi);p.push(t.request(Sr,yr,{layer_id:g,action:e,changes:m[0].wd().Xi(Wr[e]||null,n)},A(a,m),A(s,m)))}return new nr(p)}function Yr(t){xq.l.constructor.call(this,Yr,t)}function Zr(t){Zr.l.constructor.call(this,Zr,t)}function $r(t){if(this.g=!!t.toBypassToken,!this.g&&!t.token)throw new D($r,0,'"token" must be specified');$r.l.constructor.call(this,$r,t),this.j=t.token,this.i={},this.f={}}function ds(t,e,n,r,i,o,a){return i={method:i,headers:Object.assign(t.g?{}:{authorization:"Bearer "+t.j},{"Content-Type":"application/geo+json"},t.ff)},o&&(i.data=JSON.stringify(o)),(o=new rf("application/json",(e=bs(t.C().clone().G(e+"/features").J(a||{}))).toString(),fe,i)).then(n,Dp(t,e,r)),o}function cs(t,e){return t.g?e:bs(e).J({access_token:t.j})}function bs(t){var e=Object.assign({},t.getQuery());return delete e.apikey,t.Oi(e)}wr.prototype.uj=function(t,e,n){return Xr(this,"append",t,e,n,this.uj)},wr.prototype.appendRows=wr.prototype.uj,wr.prototype.Nl=function(t,e,n){return Xr(this,"update",t,e,n,this.Nl)},wr.prototype.updateRows=wr.prototype.Nl,wr.prototype.Ej=function(t,e,n){return Xr(this,"delete",t,e,n,this.Ej)},wr.prototype.deleteRows=wr.prototype.Ej,Y.prototype.Lm=function(t){return this.Ya(wr,t)},Y.prototype.getCustomLocationService=Y.prototype.Lm,u(Yr,Ap),t("H.service.extension.customRoute.Service",Yr),Yr.prototype.a=function(){return{subDomain:"s.fleet.ls",path:"2"}},Yr.CONFIG_KEY="customRoute",Yr.prototype.b=function(t){return Error(t.issues&&t.issues.length?t.issues.map((function(t){return t.message})).join(". "):t)},Yr.prototype.Od=function(t,e,n){return $q(this.Od,1,e,n),t=this.C().clone().G("calculateroute.json").J(t),this.K(t,e,n)},Yr.prototype.calculateRoute=Yr.prototype.Od,Y.prototype.Mm=function(t){return this.Ya(Yr,t)},Y.prototype.getCustomRoutingService=Y.prototype.Mm,u(Zr,Ap),t("H.service.SearchService",Zr),Zr.CONFIG_KEY="search",Zr.prototype.a=function(){return{subDomain:"search",path:"v1"}},Zr.prototype.b=function(t){return t=[t.title,t.action,t.cause].filter((function(t){return t})),Error(t.join(". "))},Zr.prototype.rh=function(t,e,n){return t=this.C().clone().Sa("geocode").G("geocode").J(t),this.K(t,e,n)},Zr.prototype.geocode=Zr.prototype.rh,Zr.prototype.Bi=function(t,e,n){return t=this.C().clone().Sa("revgeocode").G("revgeocode").J(t),this.K(t,e,n)},Zr.prototype.reverseGeocode=Zr.prototype.Bi,Zr.prototype.cm=function(t,e,n){return t=this.C().clone().Sa("autosuggest").G("autosuggest").J(t),this.K(t,e,n)},Zr.prototype.autosuggest=Zr.prototype.cm,Zr.prototype.lm=function(t,e,n){return t=this.C().clone().Sa("discover").G("discover").J(t),this.K(t,e,n)},Zr.prototype.discover=Zr.prototype.lm,Zr.prototype.qo=function(t,e,n){return t=this.C().clone().Sa("lookup").G("lookup").J(t),this.K(t,e,n)},Zr.prototype.lookup=Zr.prototype.qo,Zr.prototype.em=function(t,e,n){return t=this.C().clone().Sa("browse").G("browse").J(t),this.K(t,e,n)},Zr.prototype.browse=Zr.prototype.em,Y.prototype.Gn=function(t){return this.Ya(Zr,t)},Y.prototype.getSearchService=Y.prototype.Gn,u($r,Ap),t("H.service.xyz.Service",$r),$r.prototype.a=function(){return{host:"xyz.api.here.com",path:"hub/spaces"}},$r.prototype.b=function(t){return Error(t.errorMessage||t.message)},$r.prototype.Dh=function(t,e,n){return wc(t,"String",this.Dh,0,'"projectId" must be a string'),as(this.Dh,1,e,n),t=bs(this.C().clone().ve("project-api/projects/"+t)),this.K(t,e,n)},$r.prototype.getProject=$r.prototype.Dh,$r.prototype.$j=function(t,e,n){return as(this.$j,0,t,e),n=cs(this,this.C().clone().J(n||{})),this.K(n,t,e)},$r.prototype.getSpaces=$r.prototype.$j,$r.prototype.bg=function(t,e,n){return wc(t,"String",this.bg,0,'"spaceId" must be a string'),as(this.bg,1,e,n),t=cs(this,this.C().clone().G(t)),this.K(t,e,n)},$r.prototype.getSpace=$r.prototype.bg,$r.prototype.ee=function(t,e,n){return wc(t,"String",this.ee,0,'"spaceId" must be a string'),as(this.ee,1,e,n),t=cs(this,this.C().clone().G(t+"/statistics")),this.K(t,e,n)},$r.prototype.getStatistics=$r.prototype.ee,$r.prototype.Xf=function(t,e,n,r,i,o,a){return t=cs(this,this.C().clone().G(r+"/tile/web/"+n+"_"+t+"_"+e+".mvtf").J(Object.assign({clip:!0},a))),this.K(t,(function(t){return t.arrayBuffer().then(i)}),o,"arraybuffer")},$r.prototype.search=function(t,e,n,r){return wc(t,"String",this.search,0,'"spaceId" must be a string'),as(this.search,1,e,n),t=cs(this,this.C().clone().G(t+"/search").J(r||{})),this.K(t,e,n)},$r.prototype.search=$r.prototype.search,$r.prototype.cd=function(t,e,n,r){if(wc(t,"String",this.cd,0,'"spaceId" must be a string'),!Da(e))throw new D(this.cd,1,'"params" must be an object');return as(this.cd,2,n,r),t=cs(this,this.C().clone().G(t+"/features").J(e)),this.K(t,n,r)},$r.prototype.getFeaturesById=$r.prototype.cd,$r.prototype.Yd=function(t,e,n,r){if(wc(t,"String",this.Yd,0,'"spaceId" must be a string'),!Da(e))throw new D(this.cd,1,'"params" must be an object');return as(this.Yd,2,n,r),t=cs(this,this.C().clone().G(t+"/bbox").J(e)),this.K(t,n,r)},$r.prototype.getFeaturesByBoundingBox=$r.prototype.Yd,$r.prototype.ta=function(t){var e=this.i[t];return e||(this.f[t]||this.Qe(t),null)},$r.prototype.kd=function(t,e,n,r,i){if(wc(t,"String",this.kd,0,'"spaceId" must be a string'),!Da(e))throw new D(this.kd,1,'"geojsonObject" must be an object');if(as(this.kd,2,n,r),i&&!Da(i))throw new D(this.kd,4,'"opt_params" must be an object');return ds(this,t,n,r,"PUT",e,i)},$r.prototype.putFeatures=$r.prototype.kd,$r.prototype.hd=function(t,e,n,r,i){if(wc(t,"String",this.hd,0,'"spaceId" must be a string'),!Da(e))throw new D(this.hd,1,'"featureCollection" must be an object');if(as(this.hd,2,n,r),i&&!Da(i))throw new D(this.hd,4,'"opt_params" must be an object');return ds(this,t,n,r,"POST",e,i)},$r.prototype.postFeatures=$r.prototype.hd,$r.prototype.rd=function(t,e,n,r){if(wc(t,"String",this.rd,0,'"spaceId" must be a string'),!Da(e))throw new D(this.rd,1,'"params" must be an object');return as(this.rd,2,n,r),ds(this,t,n,r,"DELETE",B,e)},$r.prototype.deleteFeatures=$r.prototype.rd,$r.prototype.Qe=function(t){var e=this;this.f[t]=es,this.bg(t,(function(n){e.f[t]=fs,e.i[t]=n.copyright,e.dispatchEvent("copyrightupdate")}),(function(n){throw e.f[t]=gs,n}))},$r.CONFIG_KEY="xyz";var es=1,fs=2,gs=-1,js;function as(t,e,n,r){if(!Ca(n))throw new D(t,e,'"onResult" must be a function');if(!Ca(r))throw new D(t,e+1,'"onError" must be a function')}function hs(t,e,n){var r;if(hs.l.constructor.call(this,n?{min:n.min,max:n.max}:void 0),C(t,$r,hs,0),!zc(e))throw new D(hs,1,'"spaceId" must be a string');if(this.m=t,this.c=e,this.a={},n&&(["limit","simplificationLevel","tags"].forEach((function(t){t in n&&(this.a[t]=n[t])}),this),t=n.parameters))for(r in t)this.a[r]=t[r];this.Pc(new Th({sources:{xyz:{type:"MVT"}},layers:{xyz:{data:{source:"xyz",layer:this.c},points:{filter:{$geometry:"point"},draw:{points:{collide:!1,order:200,color:"#92CF48",size:[[10,"8px"],[14,"12px"],[18,"16px"]]}}},polygons:{filter:{$geometry:"polygon"},draw:{polygons:{order:201,color:"#E39E3C"},lines:{order:202,color:"#755DA5",width:"1px"}}},lines:{filter:{$geometry:"line"},draw:{lines:{order:203,color:"#000000",width:"2px",join:"round",cap:"round"}}}}}}))}function is(t){var e;if(t)for(this.a={},e=t.length;e--;)this.a[t[e]]=!0;this.El={}}Y.prototype.Tn=function(t){return this.Ya($r,t)},Y.prototype.getXYZService=Y.prototype.Tn,u(hs,R),t("H.service.xyz.Provider",hs),hs.prototype.K=function(t,e,n,r,i){return this.m.Xf(t,e,n,this.c,r,i,this.a)},hs.prototype.requestInternal=hs.prototype.K,hs.prototype.ta=function(){return this.m.ta(this.c)},hs.prototype.getCopyrights=hs.prototype.ta,hs.prototype.Dd=df,hs.prototype.providesOMV=hs.prototype.Dd,hs.prototype.ua=function(){return this.tb()},hs.prototype.getStyle=hs.prototype.ua,hs.prototype.pc=function(t){C(t,Th)&&t.b("MVT"),this.Pc(t)},hs.prototype.setStyle=hs.prototype.pc,t("H.service.buildInfo",(function(){return Ef("H-service","1.28.0","14651b1")})),is.prototype.a={},is.prototype.parse=function(t,e,n){var r,i,o,a,s;js=!1;try{n=Kp.JSON.parse(n)}catch(c){js=!0}if(n&&(r=n.metadata)){var l={spatials:[]};for(i in r)if((n=!this.a[i]&&(o=ks[i]))&&((a=r[i])||(js=!0,a=void 0),n=a),n)for(n=a.length;n--;){var u;(u=a[n])||(js=!0,u=void 0),(s=u)&&o(e,t,this,i,s,l)}}else js=!0;return js?void 0:l},is.prototype.parse=is.prototype.parse;var ks={"street labels":function(t,e,n,r,i,o){var a;if((a=i.vertices)||(js=!0,a=void 0),a){var s,l,u=a.length;if((l=0<u)||(js=!0,l=void 0),l)for(s=Array(u/2);u;){var c=a[--u];l=a[--u],s[u/2]=new I(l,c)}s=s?{a:[s]}:B,u=+i["font size"]/t.$a(),(a=n.El[u])||(ls.lineWidth=u,a=n.El[u]=n.Rd.Qj(ls)),ms(t,e,s,!1,a,i,r,o)}delete i.vertices},"city center labels":function(t,e,n,r,i,o){ms(t,e,ns(i,new rh([])),!0,n.Rd,i,r,o)},labels:function(t,e,n,r,i,o){var a;if((a=i["bounding boxes"])||(js=!0,a=void 0),a){for(var s,l=a.length,u=new rh([]);l--;){var c;(c=a[l])||(js=!0,c=void 0),(s=c)&&ns(s,u)}ms(t,e,u,!0,n.Rd,i,r,o)}delete i["bounding boxes"]},buildings:function(t,e,n,r,i,o){var a,s,l,u,c=i.id,h=e.yg[c],f=[],p=[];((a=i)||(js=!0,a=void 0),a&&((s=a.vertices)||(js=!0,s=void 0),s))&&((u=a.polygons)||(js=!0,u=void 0),(l=u)&&f.push.apply(f,os(s,l)),(a=a.outlines)||(js=!0,a=void 0),(l=a)&&p.push.apply(p,os(s,l)));l=f.length,f.push.apply(f,p),p=new rh(f,Td,l),(f=f.length)||(js=!0,f=void 0),f&&(h?(Yq(h,t,[p]),o.spatials.push(h)):(h=ms(t,e,p,!0,n.Rd,i,r,o,c),e.ea(h)))}};ks["transit stops"]=ks.POIs=ks.labels;var ps=["box 2","box 1","annotation box","icon box"];function ns(t,e){for(var n,r,i=ps.length;i--;)if(r=t[n=ps[i]]){var o=r[0],a=r[1],s=r[2];r=r[3],e.a.push([new I(o,a),new I(o+s,a),new I(o+s,a+r),new I(o,a+r)]),delete t[n]}return e}function os(t,e){var n,r,i,o=e.length;if(0<o)for(r=Array(o);o--;)if((n=e[o])||(js=!0,n=void 0),n){var a=n.length;if(0<a)for(r[o]=i=Array(a);a--;){var s=2*n[a];i[a]=new I(t[s],t[s+1])}}return r||[]}var qs={};function ms(t,e,n,r,i,o,a,s,l){return qs.style=i,r=new Uq(e,r,l,qs),n&&Yq(r,t,[n]),rs(o),o.category=a,r.setData(o),s.spatials.push(r),r.ka(e),r}is.prototype.Rd=new Ug({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var ls={};function rs(t){var e,n=!1;switch(typeof t){case"object":if(t instanceof Array)for(e=t.length;e--;)rs(t[e])?n=!0:delete t[e];else if(t)for(e in t)rs(t[e])?n=!0:delete t[e];break;case"number":n=!0;break;default:n=!!t}return n}function ss(t,e,n){e=e||{};var r=(n=n||{}).tileType||"maptile",i=n.scheme||"normal.day";if(R.call(this,{min:0,max:20}),!0===e.pois&&(e.pois="!F"),this.a=e,!(t&&t instanceof ts))throw Error("InvalidArgument: service required");this.F=t,this.u=A(this.u,this),this.F.addEventListener("versionupdate",this.u),this.c=t.C().clone().G(r+"/"+t.Ac()+"/"+i).J(this.N).J(e),this.$b=t.Fh()||null,this.$=n.pixelRatio||n.pixelratio||Se(),this.tileSize=n.tileSize||256,this.tileType=r,this.scheme=i,this.m=new kq(new is(n.categoryFilter)),this.m.ka(this),this.D=A(this.D,this),this.m.addEventListener("update",this.D),R.call(this,{min:0,max:20}),this.v(new Ck(n.tileCacheSize||256,A(this.Da,this)))}function ts(t){ts.l.constructor.call(this,ts,t),t=Bp(this,t),this.$b=t.shards,(this.Qa=t.ignoreTypes?null:t.type)&&this.C().Sa(this.Qa),this.ac=t.version,this.vi={},this.Xc=new Xp,"newest"===this.ac&&this.ph()}function us(t,e){for(var n={},r=t[e+"s"][e],i=r.length;i--;)n[r[i].id]=r[i];t[e+"s"]=n}function vs(t,e,n,r,i){1&i&&ws(t,t,e,n,r,0),2&i&&ws(t,t,e,n,r,1),4&i&&ws(t,t,e,n,r,2),8&i&&ws(t,t,e,n,r,3)}function ws(t,e,n,r,i,o){for(var a,s,l,u,c=(n+1)*(n+1),h=4*r,f=n+1,p=[{r:0,um:0,dm:0,Tg:0,next:null}],d=1,v=["r","g","b","a"][o],g=2*n+1;d<g;d++)p[d]={r:0,um:0,dm:0,Tg:0,next:null},p[d-1].next=p[d];p[2*n].next=p[0];var y=4*(r-1);for(a=0;a<i;a++){var m=a*h,b=t[m+o],_=b*f*(n+2)/2;for(g=b*f,d=0;d<=n;d++)p[d][v]=b;var x=0;for(d=1;d<=n;d++){var w=d<r?m+4*d:m+y;_+=(w=t[w+o])*(f-d),x+=w,p[n+d][v]=w}w=p[0],l=p[f],d=m,u=4*f;var k=m+y;for(b=0;b<r;b++){e[d+o]=_/c,_-=g;var E=b+f<r?d+u:k;if(_+=x+=E=t[E+o],g-=w[v],g+=l[v],x-=l[v],w[v]=E,w=w.next,l=l.next,d+=4,!_)for(;(s=4*(b+f))<h&&0===t[m+o+s];)b++,d+=4}}for(m=(i-1)*h,b=0;b<r;b++){for(_=(a=e[(t=4*b)+o])*f*(n+2)/2,g=a*f,d=0;d<=n;d++)p[d][v]=a;for(x=0,d=1;d<=n;d++)_+=(w=e[(w=d<i?t+d*h:t+m)+o])*(n-d+1),x+=w,p[n+d][v]=w;for(w=p[0],l=p[f],d=t,k=f*h,y=t+m,a=0;a<i;a++)if(e[d+o]=_/c,_-=g,_+=x+=E=e[(E=a+f<i?d+k:y)+o],g-=w[v],g+=l[v],x-=l[v],w[v]=E,w=w.next,l=l.next,d+=h,!_)for(;(s=a+f)<i&&0===e[s*h+o+t];)a++,d+=h}}function xs(t,e,n){this.f=e=t>>e,this.j=Math.log(e)*Math.LOG2E,this.i=t=document.createElement("CANVAS"),this.a=t.getContext("2d"),this.b=t.width=t.height=3*e;var r=document.createElement("canvas");t=n.a;var i,o=n.b;for(a in e=[],r.width=256,r.height=1,r=r.getContext("2d"),o)o.hasOwnProperty(a)&&e.push({stop:parseFloat(a),value:o[a]});o=e.length,e.sort(this.o),0<e[0].stop&&e.unshift({stop:0,value:e[0].value}),1>e[o-1].stop&&e.push({stop:1,value:e[o-1].value}),o=e.length;var a=r.createLinearGradient(0,0,256,0);for(i=0;i<o;i++){if(!t&&l){var s=l.stop+(e[i].stop-l.stop)/2;a.addColorStop(s,l.value),a.addColorStop(s,e[i].value)}a.addColorStop(e[i].stop,e[i].value);var l=e[i]}r.fillStyle=a,r.fillRect(0,0,256,1),this.c=r.getImageData(0,0,256,1).data,this.g=n.a}function ys(t,e){this.canvas=t,this.size=e}function zs(t,e,n){this.a=t=Yd(t,0,30),this.Qa=e,this.i=n,this.o=[],this.b=[];do{this.b[t]=[],this.o[t]=new As}while(t--);e===Bs?(this.m=Cs,this.j=Ds):(this.m=Es,this.j=Fs),this.c=1/0,this.f=-1/0}u(ss,R),t("H.service.metaInfo.TileProvider",ss),ss.prototype.Da=function(t,e){for(var n,r=(t=e.Va()).length;r--;)delete(n=t[r]).rf[e.key],n.release();e.data&&(Mp.push(e.wg(),this.tileSize),e.xg())},ss.prototype.D=function(){this.dispatchEvent("update")},ss.prototype.K=function(t,e,n,r,i){var o,a=this.c.clone(),s=this.$b,l=this.tileSize,u=this.getTileKey(t,e,n);if((u=this.Nb().get(u))&&!u.je()){r(Mp.pop(this.tileSize),null);var c={cancel:function(){}}}else{s&&a.Sa(s[(n+e+t)%s.length]),a.G(n+"/"+t+"/"+e+"/"+l+"/png8");var h=Kp.setTimeout((function(){(o=new rf("text/plain",a.toString())).then((function(t){r(null,t)}),i)}),500)}return c||{cancel:function(){o?o.cancel():Kp.clearTimeout(h)}}},ss.prototype.requestInternal=ss.prototype.K,ss.prototype.qd=function(t,e,n,r,i){var o=this.m,a=r||Mp.pop(this.tileSize);if(r)(t=this.Nb().get(this.getTileKey(t,e,n))).U(r);else if(delete(r=t=new Ok(this.xd(t,e,n),t,e,n,this.tileSize,this.$,n,o)).j,r.o=i,t.U(a))for(a=(i=t.Va()).length;a--;)i[a].Cg();else Mp.push(a,this.tileSize);return t},ss.prototype.createTileInternal=ss.prototype.qd,ss.prototype.B=function(){this.m.B(),this.F.removeEventListener("versionupdate",this.u),R.prototype.B.call(this)},ss.prototype.u=function(){var t=this.F;this.c=t.C().clone().G(this.tileType+"/"+t.Ac()+"/"+this.scheme).J(this.N).J(this.a),this.reload(!1)},ss.prototype.N={metadata:"metaonly",mgen:"2"},u(ts,Ap),t("H.service.metaInfo.Service",ts),ts.prototype.a=function(){return{type:"base",version:"newest",subDomain:"maps.ls",path:"maptile/2.1",shards:["1","2","3","4"]}},ts.CONFIG_KEY="metaInfo",ts.prototype.Fh=function(){return this.$b},ts.prototype.bk=function(){return this.Qa},ts.prototype.Ac=function(){return this.ac},ts.prototype.getVersion=ts.prototype.Ac,ts.prototype.Si=function(t){this.ac=t},ts.prototype.ta=function(){return this.Xc},ts.prototype.getCopyrights=ts.prototype.ta,ts.prototype.$i=function(t){var e;if(us(t=t.response,"map"),us(t,"scheme"),us(t,"tiletype"),us(t,"format"),us(t,"resolution"),us(t,"language"),"newest"===this.ac&&"traffic"!==this.Qa)for(e in t.maps)t.maps[e].hash&&t.maps[e].newest&&(this.Si(t.maps[e].hash),this.dispatchEvent("versionupdate"));this.Lh=t,this.dispatchEvent("infoupdate")},ts.prototype.ph=function(){var t=this,e=this.C().clone().G("info").J({output:"json"});this.$b&&e.Sa(this.$b[0]),this.K(e,(function(e){t.$i(e)}),(function(t){throw t}))},ts.prototype.xh=function(){return this.Lh},ts.prototype.getInfo=ts.prototype.xh,ts.prototype.Le=function(t,e,n,r,i,o){return new ss(this,r,{tileSize:t,pixelRatio:e,categoryFilter:n,tileType:i,scheme:o})},ts.prototype.createTileProvider=ts.prototype.Le,ts.prototype.uc=function(t,e,n,r,i,o){return new kl(this.Le(t,e,n,r,i,o))},ts.prototype.createTileLayer=ts.prototype.uc,Y.prototype.Uj=function(t){return this.Ya(ts,t)},Y.prototype.getMetaInfoService=Y.prototype.Uj,function(){var t=Y.prototype.createDefaultLayers;Y.prototype.createDefaultLayers=function(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a),l={},u=this.Uj();"object"===typeof e&&(e=(a=e).tileSize,n=a.ppi,r=a.lg,i=a.lg2,o=a.style,a=a.pois),e=e||256;var c=320===n?2:1;if(0>[72,250,320,500].indexOf(+n)){if(n!==B)throw new D(this.ih,1,n)}else l.ppi=+n;return r&&(l.lg=r),i&&(l.lg2=i),o&&(l.style=o),a&&(l.pois=a),s.raster.normal.metaInfo=u.uc(e,c,["buildings"],l),s}}(),xs.prototype.o=function(t,e){return t.stop-e.stop};var Gs=Math.log(.5);function Ds(t){return this.g?Math.round((t-this.c)/this.g*255):127}function Fs(t){return void 0===this.aa?127:Math.round(255*Math.pow(t,this.aa))}function Hs(t,e,n,r,i){var o,a,s=1<<e;return r=Xd(r,s),!(s=0<=n&&n<s&&(o=t.b[e])&&(a=o[n])&&(s=a[r])||null)&&i&&0<=e&&(s=Hs(t,e-1,n>>1,r>>1,i)),s}function Is(t,e,n,r,i,o){for(var a,s=[];n<=r;n++)for(a=i;a<=o;a++)s.push(Hs(t,e,n,a,!1));return s}function Js(t,e){var n,r=0,i=0,o=Hs(t,0,0,0,!1);return!0===e.c||(e.z===t.a?e.f=e.a:(Ks(t,e,(function(e){var a=Ls(t,e),s=4-a.length;if(e.z!==t.a){for(n=0;n<a.length;n++)r+=a[n].a,i++;r+=s*o.a,i+=s}})),e.f=r/i),e.c=!0),e.f}function Ks(t,e,n){e=[e];for(var r,i;0<e.length;)r=Ls(t,i=e.shift()),n(i),e.push.apply(e,r)}function Ls(t,e){var n,r,i,o=[];for(r=0;1>=r;r++)for(i=0;1>=i;i++)(n=Hs(t,e.z+1,2*e.x+r,2*e.y+i,!1))&&o.push(n);return o}function Es(){this.a=this.b=this.g=0}function Cs(){this.a=this.b=this.g=0,this.c=!1}function As(){this.f=this.c=1/0,this.a=this.b=-1/0}function Ms(t,e){var n,r=0;if(!Da(t)||Ta(t))throw new D(Ms,0,t);for(n in t){var i=+n;if(r++,!(Cc(i)&&0<=i&&1>=i&&zc(t[n])))throw new D(Ms,0,t)}if(2>r)throw new D(Ms,0,"Specify at least 2 stops");this.b=t,this.a=!!e}zs.prototype.Hb=function(t){var e,n,r=t.value;void 0===r&&(r=1),r>this.f&&(this.f=r,this.g=this.f-this.c),r<this.c&&(this.c=r,this.g=this.f-this.c);var i=Xi.$c(t).scale(1073741823).floor();r=this.a;var o=i.x>>30-r;for(i=i.y>>30-r,n=this.m;-1<r;){this.b[r][i]||(this.b[r][i]=[]),(e=this.b[r][i][o])||(e=this.b[r][i][o]=new n),e.Hb(t,r);var a=this.o[r];a.f>e.b&&(a.f=e.b),a.a<e.b&&(a.a=e.b),a.c>e.a&&(a.c=e.a),a.b<e.a&&(a.b=e.a),r--,o>>=1,i>>=1}},zs.prototype.clear=function(){zs.call(this,this.a,this.Qa,this.i)},Es.prototype.Hb=function(t,e){this.g++,this.b+=t.value||1,this.a=this.b/Math.pow(2,2*(30-e))},Cs.prototype.Hb=function(t){t=t.value,this.b+=void 0!==t?t:1,this.a=this.b/++this.g,this.c=!1},t("H.data.heatmap.Colors",Ms);var Ns=new Ms({0:"#008",.2:"#0b0",.5:"#ff0",.7:"#f00"},!0);function Os(t){var e=t||{},n=+e.sampleDepth;t=+e.coarseness;var r=e.colors,i={min:e.min,max:e.max},o=e.tileSize,a=+e.dataMax;if(e.tileSize&&(i.tileSize=o),R.call(this,i),Wj(this,e.opacity),this.Qa="value"===e.type?Bs:Ps,this.sampleDepth_=Cc(n)?Yd(Math.round(n),1,8):4,this.u=!!e.assumeValues,e=this.max,this.F=Cc(a)?Yd(Math.round(a),this.min,e+this.sampleDepth_):e,t=Cc(t)?Yd(Math.round(t),0,3):1,r&&!C(r,Ms))throw new D(Os,0,"colors");this.a=new zs(e+this.sampleDepth_,this.Qa,this.F),this.N=new xs(this.tileSize,t,r||Ns),this.m=A(this.m,this),this.c=A(this.c,this),this.D=new wk(20,this.m)}function Qs(t,e,n,r){var i=document.createElement("canvas"),o=t.tileSize,a=i.getContext("2d");i.width=i.height=o;var s,l,u=t.N,c=t.a,h=t.u,f=t.Qa,p=u.f,d=u.a,v=f===Ps?2:1,g=v;t=Math.min(t.sampleDepth_+v,u.j),v=u.b;var y=c.a;if(h&&f===Bs){for(l=-1;1>=l;l++)for(h=-1;1>=h;h++){var m=(m=Hs(c,r,n+l,e+h,!0))?c.j(Js(c,m)):128;d.fillStyle="rgba("+m+",128,0,1)",d.fillRect((h+1)*p,(l+1)*p,p,p)}h=p-Math.floor(p/10),l=3,vs((m=d.getImageData(0,0,v,v)).data,h,v,v,l),d.putImageData(m,0,0)}else d.fillStyle=h?"#080":"#000",d.fillRect(0,0,v,v);for(;g<=t&&r+g<=y;g++){l=p-(h=p>>g);var b=f===Ps?127+Math.floor(128/(1<<t-g)):255;m=2+(1<<g);var _=1<<g,x=e<<g,w=n<<g;for(x=(_=Is(c,r+g,w-1,w+_,x-1,x+_)).length;x--;){w=x%m;var k=x/m<<0;(s=_[x])&&(s=c.j(s.a),d.fillStyle="rgba("+s+","+b+",0,1)",d.fillRect(w*h+l,k*h+l,h,h))}m=d,b=h,_=l,x=p+2*h,h=p+2*h,w=w=3,vs((k=d.getImageData(_,l,x,h)).data,b,x,h,w),m.putImageData(k,_,l)}for(e=d.getImageData(0,0,v,v),n=u.c,r=u.g,t=0,v=(c=e.data).length;t<v;t+=4)f=c[t],g=c[t+1],4===n.length&&(f=0),c[t]=n[4*f],c[t+1]=n[4*f+1],c[t+2]=n[4*f+2],c[t+3]=n[4*f+3]*(r?g/255:10>g?0:1);return d.putImageData(e,0,0),p=(u=new ys(u.i,p)).size,a.drawImage(u.canvas,p,p,p,p,0,0,o,o),i}Ms.DEFAULT=Ns,u(Os,R),t("H.data.heatmap.Provider",Os),Os.prototype.oc=function(t){Wj(this,t)},Os.prototype.setOpacity=Os.prototype.oc,Os.prototype.dd=function(){return this.i},Os.prototype.getOpacity=Os.prototype.dd,Os.prototype.mf=df,Os.prototype.providesRasters=Os.prototype.mf,Os.prototype.K=function(t,e,n,r,i){var o,a,s=this.u;if(Hs(this.a,0,0,0,!1)){if(!s){var l=Is(this.a,n,e-1,e+1,t-1,t+1);for(o=l.length;o--&&!s;)if(null!==l[o]){s=!0;break}}s&&(a=this.D.push([t,e,n,r,i],this.c))}return s||r(null),a},Os.prototype.requestInternal=Os.prototype.K,Os.prototype.m=function(t,e){t.done(Qs(this,e[0],e[1],e[2]))},Os.prototype.c=function(t,e,n){var r=t.data;t=r[3],r=r[4],n?r():t(e)},Os.prototype.tj=function(t,e){var n;if(!yc(t))throw new D(this.tj,0,t);if(n=t.length){for(;n--;)this.a.Hb(t[n]);var r;n=(t=this.a).o;var i=t.a,o=0;if(t.Qa===Ps){var a=n[t.a].a;for(r=t.a;0<=r&&n[r].a===a;r--)o=r;for(a=n[0].a,r=0;r<=o&&a===n[r].a;r++)i=r;o>t.i&&(o=t.i),a=Math.round(i+(o-i)/2),t.aa=Gs/Math.log(n[a].b)}this.reload(!!e)}},Os.prototype.addData=Os.prototype.tj,Os.prototype.clear=function(){this.a.clear(),this.reload(!0)},Os.prototype.clear=Os.prototype.clear;var Ps=0,Bs=1;function Rs(){}function Ss(){this.a={4:function(t){return["#",t.charAt(1),t.charAt(1),t.charAt(2),t.charAt(2),t.charAt(3),t.charAt(3),"ff"].join("")},5:function(t){return["#",t.charAt(1),t.charAt(1),t.charAt(2),t.charAt(2),t.charAt(3),t.charAt(3),t.charAt(4),t.charAt(4)].join("")},7:function(t){return t+"ff"},9:function(t){return t}},this.b={4:function(t){return[Ts(t.charAt(1)),Ts(t.charAt(2)),Ts(t.charAt(3)),255]},5:function(t){return[Ts(t.charAt(1)),Ts(t.charAt(2)),Ts(t.charAt(3)),Ts(t.charAt(4))]},7:function(t){return[(t=parseInt(t.substring(1),16))>>16&255,t>>8&255,255&t,255]},9:function(t){return[(t=parseInt(t.substring(1),16))>>24&255,t>>16&255,t>>8&255,255&t]}}}function Ts(t){return((t=parseInt(t,16))<<4)+t}function Us(t){return 16>t?"0"+Math.round(t).toString(16):Math.round(t).toString(16)}function Vs(t,e,n){return/^(#|rgb).*/.test(e)?(n||(n="","#"===e.charAt(0)?n=t.a[e.length]?e:"":"rgb"===e.substr(0,3)&&(n=2<(n=(e=e.match(/\d+(\.\d+)?/g)).length)&&5>n?["#",Us(+e[0]),Us(+e[1]),Us(+e[2]),3<n?Us(255*+e[3]):"ff"].join(""):""),e=n),(t=t.b[e.length](e))[3]=Math.round(t[3]/255*100)/100,t):[0,0,0,255]}function Ws(t){for(var e,n=(t=t.attributes).length;n--;)switch((e=t[n]).name){case"x":this.x=parseFloat(e.value);break;case"y":this.y=parseFloat(e.value);break;case"xunits":this.fd="fraction"===Rs.prototype.Na(e);break;case"yunits":this.Ec="fraction"===Rs.prototype.Na(e)}}function Xs(t){var e=t.childNodes,n=new Rs;for(t=e.length;t--;){var r=e[t];switch(r.nodeName){case"href":this.href=n.Na(r)}}}function Ys(t){var e;if(t){var n=(t=t.childNodes).length;for(e=new Rs;n--;){var r=t[n];switch(r.nodeName){case"scale":this.scale=e.Yf(r);break;case"Icon":this.icon=r=new Xs(r);break;case"hotSpot":this.hk=r=new Ws(r)}}}}function Zs(t){for(var e,n=(t=t.childNodes).length,r=new Rs,i=new Ss;n--;)switch((e=t[n]).nodeName){case"color":this.color=r.Wf(e);break;case"colorMode":this.a=r.Na(e)}"random"===this.a&&(this.color="#"+i.Ll(this.color,!1))}function $s(t){var e=t.childNodes,n=e.length,r=new Rs;for(this.outline=this.fill=!0,this.Kf=new Zs(t);n--;)switch((t=e[n]).nodeName){case"fill":this.fill=r.Vd(t);break;case"outline":this.outline=r.Vd(t)}}function at(t){var e=t.childNodes,n=e.length,r=new Rs;for(this.Kf=new Zs(t);n--;)"width"===(t=e[n]).nodeName&&(this.width=r.Yf(t))}function bt(t){for(var e,n=(t=t.childNodes).length,r=new Rs;n--;)switch((e=t[n]).nodeName){case"bgColor":this.bgColor=r.Wf(e);break;case"textColor":this.textColor=r.Wf(e);break;case"text":this.text=r.Na(e);break;case"displayMode":this.displayMode=r.Na(e)}}function ct(t){var e=t.childNodes,n=e.length;for(this.id=t.getAttribute("id");n--;)switch((t=e[n]).nodeName){case"IconStyle":this.ik=t=new Ys(t);break;case"LineStyle":this.le=t=new at(t);break;case"PolyStyle":this.Yk=t=new $s(t);break;case"BalloonStyle":this.Ff=t=new bt(t)}}function dt(t,e){var n=(t=t.childNodes).length,r=new Rs;for(this.b=e;n--;)switch((e=t[n]).nodeName){case"key":this.key=r.Na(e);break;case"styleUrl":this.a=r.Na(e)}}function et(t,e){var n=t.childNodes,r=n.length;for(this.b=e,this.id=t.getAttribute("id"),this.a=[];r--;)"Pair"===(t=n[r]).nodeName&&(t=new dt(t,this.b),this.a.push(t))}function ft(){this.a={}}function gt(t,e){var n=t&&t.childNodes||[],r=new Rs;if(!t||!e)throw Error("Node or stylesContainer is not defined");for(this.visibility=!0,this.Oo=t,t=n.length;t--;){var i=n[t];switch(i.nodeName){case"name":this.name=r.Na(i);break;case"description":this.description=r.Na(i);break;case"visibility":this.visibility=r.Vd(i);break;case"open":this.open=r.Vd(i);break;case"styleUrl":(this.a=r.Na(i))&&(i=this.a.substr(1),this.sm=e.Gh(i,!1));break;case"Style":this.vk=i=new ct(i)}}}function ht(t){for(var e,n=(t=t.childNodes).length,r=null,i=new Rs;n--;)"coordinates"===(e=t[n]).nodeName&&(r=i.Na(e));this.a=null,r&&(this.a=i.si(r)||null)}function it(t){for(var e,n=(t=t.childNodes).length,r=new Rs;n--;)if("coordinates"===(e=t[n]).nodeName){e=r.Na(e);var i=[],o=new Rs;try{i=o.Vk(e)}catch(a){i=[]}this.a=2>i.length?[]:i}}function jt(t){for(var e=new L,n=t.a?t.a.length:0;n--;)e.Ed(t.a[n]);return e}function kt(){}function lt(t){var e=t.childNodes,n=e.length;for(this.a=new L,this.c=[];n--;){var r=e[n],i=r.nodeName;if("outerBoundaryIs"===i||"innerBoundaryIs"===i){var o=r.childNodes;for(r=o.length;r--;){var a=o[r];if("LinearRing"===a.nodeName){var s=new it(a);if("outerBoundaryIs"===i){this.a=jt(s);var l=void 0,u=t,c=s.a;s=new Rs;var h=u.querySelector("altitudeMode");if(h&&h.parentNode===u&&!/^\s*clampTo/.test(s.Na(h))&&c){h=c.length;for(var f=0;f<h&&0!==l;f++){var p=c[f].alt;p?l?p!==l&&(l=0):l=p:l=0}(c=u.querySelector("*|altitudeOffset"))&&c.parentNode===a&&"http://www.google.com/kml/ext/2.2"===c.namespaceURI&&(a=s.Yf(c))&&(l+=a),l&&(l=vd(yi,l),(a=u.querySelector("extrude"))&&a.parentNode===u&&s.Vd(a)?this.b=l:this.f=l)}}else this.c.push(jt(s))}}}}}function mt(t,e){var n=document.createElement("CANVAS");n.width=1,n.height=1,this.i=t,this.b={},this.f={},this.g=new Ij(n),this.c=e||""}function nt(t,e,n){for(var r,i,o=(e=e.childNodes).length,a={};o--;){var s=e[o];switch(s.nodeName){case"Point":r=new ht(s),i=ot(t,"Marker"),r=new yn(r.a,i),i.ti&&Ce(i.ti,"statechange",A(t.j,t,i.ti,r,i),!1);break;case"LineString":case"LinearRing":r=new it(s),i=ot(t,"Polyline"),r=new nh(jt(r),i);break;case"Polygon":r=new lt(s),(i=ot(t,"Polygon")).elevation=r.f,i.extrusion=r.b,r=new xi(new O(r.a,r.c),i);break;case"MultiGeometry":r=nt(t,s,r=new Q)}r&&(t.a.name&&(a.name=t.a.name),t.a.description&&(a.description=t.a.description),i&&i.Ff&&(a.balloonStyle=i.Ff),a.kmlNode=t.a.Oo,r.setData(a),n&&n.ea(r))}return n&&(r=n),r}function ot(t,e){var n=t.a,r={visibility:n.visibility},i=new Ss,o=1,a={x:0,y:0,fd:!1,Ec:!1},s=pt(t,n.sm);switch(n.vk&&(s=pt(t,n.vk,s)),e){case"Marker":if(s&&s.ik){if((i=s.ik).scale&&(o=i.scale),i.hk){var l=i.hk;a={x:l.x,y:l.y,fd:l.fd,Ec:l.Ec}}i.icon&&i.icon.href?(e=i.icon.href,qt.test(e)||(e=t.c+e),i=o+"_"+a.x+a.y+a.fd+a.Ec+"_"+e,(l=t.b[i]||t.f[i])||(l=new Ij(e),t.f[i]=l),0===l.getState()?(r.icon=t.g,r.ti=l,r.href=e,r.anchor=a,r.scale=o):1===l.getState()&&(r.icon=l)):1!==o&&(l||(a={x:14,y:4,fd:!1,Ec:!1}),o={size:new Ki((t={w:28*o,h:36*o}).w,t.h),anchor:new I(a.fd?t.w*a.x:a.x*o,a.Ec?t.h*(1-a.y):t.h-a.y*o),hitArea:new Li(Mi.POLYGON,[0*o,16*o,0*o,7*o,8*o,0*o,18*o,0*o,26*o,7*o,26*o,16*o,18*o,34*o,8*o,34*o])},r.icon=new Ij('<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',o))}break;case"Polyline":r.style={},s&&s.le&&(o=s.le,r.style.strokeColor="rgba("+Vs(i,o.Kf.color,!0)+")",0<=o.width&&(r.style.lineWidth=o.width));break;case"Polygon":r.style={},s&&(s.le&&(o=s.le,r.style.strokeColor="rgba("+Vs(i,o.Kf.color,!0)+")",0<=o.width&&(r.style.lineWidth=o.width)),s.Yk&&(o=s.Yk,r.style.fillColor=o.fill?"rgba("+Vs(i,o.Kf.color,!0)+")":"rgba(0,0,0,0)",o.outline||(r.style.lineWidth=0)))}return r.Ff=s.Ff,r}function pt(t,e,n){for(var r in n=n||{},e)e.hasOwnProperty(r)&&(n[r]="object"===typeof e[r]?pt(t,e[r],n[r]):e[r]);return n}t("H.data.utils.Dom",Rs),Rs.prototype.Vd=function(t){return!!t&&/^\s*(1|true)\s*$/i.test(this.Na(t))},Rs.prototype.getBoolean=Rs.prototype.Vd,Rs.prototype.Na=function(t){var e;try{if(t.nodeType===Node.ATTRIBUTE_NODE)return t.value;var n="",r=0,i=t.childNodes;for(e=i.length;r<e;r++)i[r].nodeType!==Node.COMMENT_NODE&&(n+=i[r].nodeValue.replace(/^\s+|\s+$/g,""))}catch(o){}return n||""},Rs.prototype.getString=Rs.prototype.Na,Rs.prototype.Yf=function(t){return parseFloat(this.Na(t))||0},Rs.prototype.getFloat=Rs.prototype.Yf,Rs.prototype.Vk=function(t){var e,n=t.split(/\s+/),r=n.length,i=!(n&&1==r),o=i?1:3,a=[];for(i||(r=(n=t.split(",")).length),e=0;e<r;e+=o){if(!(t=this.si(i?n[e]:e+3>n.length?null:n.slice(e,e+3))))return[];a.push(t)}return a},Rs.prototype.parseCoords=Rs.prototype.Vk,Rs.prototype.si=function(t){if(!t)return null;var e=t instanceof Array&&0<t.length&&4>t.length?t:t.split(",");t=parseFloat(e[0]);var n=parseFloat(e[1]);return e=parseFloat(e[2]),isNaN(n)||isNaN(t)?null:new Wf(n,t,isNaN(e)?void 0:e)},Rs.prototype.parseCoord=Rs.prototype.si,Rs.prototype.Wf=function(t){return t=this.Na(t),/^[0-9a-fA-F]{8}$/.test(t)?"#"+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)+t.substr(0,2):"#000000ff"},Rs.prototype.getColor=Rs.prototype.Wf,t("H.data.utils.ColorHelper",Ss),Ss.prototype.Ll=function(t,e){var n="";if(!/^(#|rgb).*/.test(t)){var r;for(n="",r=0;6>r;r++)n+="ABCDEF0123456789".charAt(Math.floor(16*Math.random()));return n+"ff"}for(t=Vs(this,t,e),e=0;4>e;e++)n+=Us(r=3>e?Math.floor(Math.random()*(t[e]+1)):255*t[e]);return n},Ss.prototype.toRandomRGBA=Ss.prototype.Ll,t("H.data.kml.HotSpot",Ws),t("H.data.kml.Icon",Xs),t("H.data.kml.IconStyle",Ys),t("H.data.kml.ColorStyle",Zs),t("H.data.kml.PolyStyle",$s),t("H.data.kml.LineStyle",at),t("H.data.kml.BalloonStyle",bt),t("H.data.kml.Style",ct),t("H.data.kml.Pair",dt),dt.prototype.ua=function(){if(this.a){var t="highlight"===this.key;t=this.b.Gh(this.a.substr(1),t)}return t},dt.prototype.getStyle=dt.prototype.ua,t("H.data.kml.StyleMap",et),et.prototype.ua=function(t){var e=null;t=t?"highlight":"normal";for(var n=this.a.length;n--;)this.a[n].key===t&&(e=this.a[n].ua());return e},et.prototype.getStyle=et.prototype.ua,t("H.data.kml.StyleContainer",ft),ft.prototype.Xg=function(t){t&&t.id&&(this.a["style_"+t.id]=t)},ft.prototype.addStyle=ft.prototype.Xg,ft.prototype.Gh=function(t,e){return(t=this.a["style_"+t])instanceof et&&(t=t.ua(e)),t},ft.prototype.getStyleById=ft.prototype.Gh,t("H.data.kml.Feature",gt),t("H.data.kml.Point",ht),t("H.data.kml.Line",it),kt.prototype.f=0,kt.prototype.b=0,u(lt,kt),t("H.data.kml.Polygon",lt),mt.prototype.create=function(t){return this.a=new gt(t,this.i),nt(this,t,null)},mt.prototype.j=function(t,e,n){var r=n.anchor,i=n.scale;n=i+"_"+r.x+r.y+r.fd+r.Ec+"_"+n.href;var o={};if(1===t.getState()){var a=this.b[n];if(!a){var s=r.x,l=r.y;(a=t.Bb())&&(a={w:a.w*i,h:a.h*i},o.size=a),s=r.fd&&a?a.w*s:s*i,l=r.Ec&&a?a.h*(1-l):!r.Ec&&a?a.h-l*i:l*i,o.anchor={x:s,y:l},a=new Ij(t.ad(),o),this.b[n]=a}e.Nc(a)}delete this.f[n]};var qt=/^[^:\/]+:/;function rt(t){uc(this,rt),this.url=t,this.b=[],this.a=y,this.c=A(this.c,this),F.call(this)}u(rt,F),t("H.data.AbstractReader",rt);var st={ERROR:-1,LOADING:0,VISIT:1,READY:2};function tt(t,e,n,r){tt.l.constructor.call(this,e,t),this.state=n,this.message=r}function ut(t){var e=t?t.lastIndexOf("/"):B;this.g=[],rt.call(this,t),0<=e&&(this.i=t.substr(0,e)+"/")}function wt(t,e,n){n?n.ea(e):(t.a&&t.a.ic().ea(e),t.b.push(e),t.O(st.VISIT,e))}function vt(t,e){for(var n,r=t.length,i=[];r--;)(n=t[r]).nodeName===e&&i.push(n);return i}function xt(t,e){this.b=t,this.a=e}function yt(t){return new Wf(t[1],t[0])}function At(t){for(var e,n=zt(t[0]),r=[],i=1,o=t.length;i<o;i++)e=zt(t[i]),r.push(e);return new O(n,r)}function zt(t){for(var e=0,n=t.length,r=new L;e<n;e++)r.Ed(yt(t[e]));return r}function Bt(t,e){e=e||{},this.i=e.style||this.Rd,(this.g=!!e.disableLegacyMode)||window.console.warn("H.data.geojson.Reader: Legacy parser is enabled in GeoJSON Reader. Features like Multi-Geometries, Polygon interiors and GeoJSON feature properties might not work as expected. To maximise compatibility with the remote services it is recommended to set the `disableLegacyMode` flag to true."),rt.call(this,t)}function Dt(t){var e={};if(t.geometry){var n=t.geometry;e.type=n.type,e.properties=t.properties,n.coordinates&&(e.coordinates=n.coordinates),n.geometries&&(e.geometries=n.geometries),t.id&&(e.id=t.id)}return e}function Ct(t,e){t.a&&t.a.ic().ea(e),t.b.push(e),t.O(st.VISIT,e)}function Et(t,e,n){this.f=this.c=n,this.ui=[],this.a=0,this.P=dg(t,e,!0)}function Gt(t){var e;nd.call(this),this.a=[],t?Wa(e={},Ht,t):e=Ht,this.g=e,nd.call(this)}rt.State=st,rt.prototype.f=st.READY,rt.prototype.j={Yl:"statechange"},rt.prototype.sb=function(){this.a||(this.a=new N,this.a.ic().dc(this.b));return new ll(this.a)},rt.prototype.getLayer=rt.prototype.sb,rt.prototype.rn=function(){return this.b.concat([])},rt.prototype.getParsedObjects=rt.prototype.rn,rt.prototype.C=function(){return this.url},rt.prototype.getUrl=rt.prototype.C,rt.prototype.bp=function(t){if(this.f===st.LOADING||this.f===st.VISIT)throw Error("InvalidState: state "+this.f);return this.b=[],this.a=y,this.url=t,this},rt.prototype.setUrl=rt.prototype.bp,rt.prototype.getState=function(){return this.f},rt.prototype.getState=rt.prototype.getState,rt.prototype.O=function(t,e,n){this.f=t,this.dispatchEvent(new tt(e||this,this.j.Yl,t,n||""))},rt.prototype.parse=function(){var t=this;tc(this.url)?(this.O(st.LOADING),new rf("text/plain",this.url).then((function(e){try{t.c(e)}catch(n){t.O(st.ERROR,y,n.message)}}),(function(){t.O(st.ERROR,y,"Error loading file")}))):t.O(st.ERROR,y,"File url was not set")},rt.prototype.parse=rt.prototype.parse,u(tt,rd),u(ut,rt),t("H.data.kml.Reader",ut),ut.prototype.c=function(t){var e,n=null;if(t&&""!=t.trim()){try{var r=(new DOMParser).parseFromString(t,"text/xml")}catch(s){return void this.O(st.ERROR,void 0,"Error parsing KML document")}if(r.getElementsByTagName("parsererror").length)this.O(st.ERROR,void 0,"Error parsing KML document");else if((t=r.childNodes&&"kml"===r.childNodes[0].nodeName?r.childNodes[0]:void 0)&&(e=vt(t.childNodes,"Document")[0]),e=e||t){r=new ft;for(var i=vt(e.childNodes,"Style"),o=vt(e.childNodes,"StyleMap"),a=i.length;a--;)t=new ct(i[a]),r.Xg(t);for(a=o.length;a--;)t=new et(o[a],r),r.Xg(t);for(this.m=r,this.o=new mt(this.m,this.i),e=(t=e.childNodes).length;e--;)r=n,"Placemark"===(i=t[e]).nodeName?(i=this.o.create(i))&&wt(this,i,r):"Folder"===i.nodeName&&(wt(this,(i={group:new Q,node:i}).group,r),this.g.push(i)),!e&&(r=this.g.shift())&&(t=r.node.childNodes,n=r.group,e=t.length);this.O(st.READY)}else this.O(st.ERROR,void 0,"Invalid KML document")}else this.O(st.ERROR,void 0,"Unable to create objects from the empty data")},xt.prototype.create=function(t,e){var n=t.coordinates;switch(t.type){case"Point":var r=new yn(yt(n));break;case"LineString":r=new nh(zt(n));break;case"Polygon":r=new xi(At(n));break;case"MultiPoint":var i=0,o=n.length;if(r=[],this.a){for(;i<o;i++)r.push(yt(n[i]));n=new yn(new Ji(r))}else{for(;i<o;i++)r.push(new yn(yt(n[i])));(n=new Q).dc(r)}r=n,o="multiPoint";break;case"MultiLineString":if(i=0,o=n.length,r=[],this.a){for(;i<o;i++)r.push(zt(n[i]));n=new nh(new mh(r))}else{for(;i<o;i++)r.push(new nh(zt(n[i])));(n=new Q).dc(r)}r=n,o="multiLineString";break;case"MultiPolygon":if(r=[],i=0,o=n.length,this.a){for(;i<o;i++)r.push(At(n[i]));n=new xi(new ui(r))}else{for(;i<o;i++)r.push(new xi(At(n[i])));(n=new Q).dc(r)}r=n,o="multiPolygon";break;case"GeometryCollection":n=r=new Q,o=0;for(var a=(i=t.geometries).length;o<a;o++)this.create(i[o],n);o="geometryCollection"}return r&&(n=r,i=t.properties,t=t.id,a={},i&&(this.a?a=i:a.properties=i),o&&!this.a&&(a[o]=!0),t&&n.Qi(t),n.setData(a),this.b(r)),e&&r&&e.ea(r),r},xt.prototype.create=xt.prototype.create,u(Bt,rt),t("H.data.geojson.Reader",Bt),Bt.prototype.c=function(t){var e,n;try{var r="string"===typeof t?JSON.parse(t):t;if("object"===typeof r){var i=new xt(this.i,this.g);switch(r.type){case"FeatureCollection":if(e=r.features){var o=new Q;for(Ct(this,o),n=0;n<e.length;n++){var a=Dt(e[n]);(a=i.create(a))&&o.ea(a)}}break;case"Feature":a=Dt(r),(a=i.create(a))&&Ct(this,a);break;default:(a=i.create(r))&&Ct(this,a)}this.O(st.READY)}else this.O(st.ERROR,void 0,"Invalid syntax")}catch(s){this.O(st.ERROR,void 0,"Parse error. "+s.message)}},Bt.prototype.No=function(t){this.O(st.LOADING),this.c(t)},Bt.prototype.parseData=Bt.prototype.No,Bt.prototype.Rd=function(){},t("H.data.buildInfo",(function(){return Ef("H-data","1.28.0","abfe236")})),hg.prototype.Tc=ca(1,(function(t,e){this.a.Tc(t,Cc(e)?e:this.c)})),lg.prototype.Tc=ca(0,(function(t,e){var n,r=0;if(!t(this)&&e--)for(;3>=r;r++)(n=this[r])&&n.Tc(t,e)})),t("H.clustering.grid.Cluster",Et),Et.prototype.Fe=function(t){this.b||(this.b=Zf(t)),this.a+=t.wt||1,this.ui.push(t)},Et.prototype.Ba=function(){return this.b},Et.prototype.getPosition=Et.prototype.Ba,Et.prototype.Cc=function(){return this.a},Et.prototype.getWeight=Et.prototype.Cc,Et.prototype.Ad=df,Et.prototype.isCluster=Et.prototype.Ad,Et.prototype.yc=function(){return this.c},Et.prototype.getMinZoom=Et.prototype.yc,Et.prototype.$f=function(){return this.f},Et.prototype.getMaxZoom=Et.prototype.$f,Et.prototype.I=function(){return this.P},Et.prototype.getBoundingBox=Et.prototype.I,Et.prototype.qh=function(t){this.Re(t)},Et.prototype.forEachEntry=Et.prototype.qh,Et.prototype.Re=function(t){var e=this;if(!Ca(t))throw new D(this.Re,0,t);this.ui.forEach((function(n){t(new Ft(n,e.c+1))}))},Et.prototype.forEachDataPoint=Et.prototype.Re,u(Gt,nd);var It={clusters:[],noisePoints:[]},Ht={projection:Xi,min:0,max:22,eps:32,minWeight:2};function Ft(t,e){this.a=t,this.b=e}function Jt(t){Gt.call(this,t)}function Kt(t){this.a=t;var e=(t=document.createElement("canvas")).getContext("2d"),n=this.a,r=14*n;t.width=r,t.height=r,e.scale(n,n),e.beginPath(),e.strokeStyle="#FFFFFF",e.fillStyle="#1080DD",e.arc(7,7,6,0,2*Math.PI,!1),e.fill(),e.lineWidth=1,e.stroke(),this.f=new Ij(t,{size:{w:14,h:14},anchor:{x:7,y:7}}),this.b={},this.c={}}function Lt(t,e,n){var r,i=document.createElement("canvas"),o=i.getContext("2d"),a=t.a,s=e*a;return i.width=s,i.height=s,o.scale(a,a),a=e+":"+n,(r=t.b[a])?o.putImageData(r,0,0):(e/=2,o.beginPath(),o.strokeStyle="rgba("+n+",0.2)",o.fillStyle="rgba("+n+",1)",o.arc(e,e,e/5*3,0,2*Math.PI,!1),o.fill(),o.lineWidth=e/5*4,o.stroke(),t.b[a]=o.getImageData(0,0,s,s)),i}function Mt(t){if(Gt.call(this,t),(t=this.g).projection!==Xi)throw new D(Mt,0,"Other projection than mercator not supported yet");this.o=t.projection,this.f=t.eps,this.v=t.minWeight,this.m=new Yi(this.o),(new Mf).a("cluster","H.clustering.dynamicgrid.worker"),this.i=A(this.i,this),this.j=A(this.j,this)}n=Gt.prototype,n.Mc=function(t){this.a=t,this.b=!0},n.Hb=function(t){this.a.push(t),this.b=!0},n.Ef=function(t){this.a=this.a.concat(t),this.b=!0},n.nf=function(t){this.a=this.a.filter((function(e){return e!==t})),this.b=!0},n.s=function(){Gt.l.s.call(this),this.a=null},n.pl=hd,t("H.clustering.grid.NoisePoint",Ft),Ft.prototype.Ba=function(){return Zf(this.a)},Ft.prototype.getPosition=Ft.prototype.Ba,Ft.prototype.Cc=function(){return this.a.wt},Ft.prototype.getWeight=Ft.prototype.Cc,Ft.prototype.Ad=ef,Ft.prototype.isCluster=Ft.prototype.Ad,Ft.prototype.yc=function(){return this.b},Ft.prototype.getMinZoom=Ft.prototype.yc,Ft.prototype.getData=function(){return this.a.data},Ft.prototype.getData=Ft.prototype.getData,u(Jt,Gt),Jt.prototype.Ui=function(t){var e,n=this.g,r=n.min,i=n.max,o=[],a=[];if(this.b){for(e=this.a;r<=i;r++){for(var s,l,u,c,h,f,p,d,v=void 0,g=r,y=e,m=o,b=a,_=n.eps,x=n.projection,w=n.minWeight,k=y.length,E=Math.pow(2,g+8),S=[];d=y[--k];)if(!d.cj){for(p=E,f=(u=x.$c(d).scale(E).floor()).x,h=u.y,l=S.length;l--;)c=(s=S[l]).Ba(),s.bj||(s.bj=x.$c(c).scale(E).floor()),(c=(c=s.bj).Za(u))<p&&(p=c,v=s);v&&v.I().Qd(d)||(v=new Et(x.tg({x:(f-_)/E,y:(h-_)/E}),x.tg({x:(f+_)/E,y:(h+_)/E}),g),S.push(v)),v.Fe(d),v=null}for(k=S.length;k--;)if((l=(s=S[k]).Cc())<w)for(l=(s=s.ui).length;d=s[--l];)b.push(new Ft(d,g)),d.cj=!0;else m.push(s)}for(r=0,i=e.length;r<i;r++)delete e[r].cj;this.b=!1,t({clusters:o,noisePoints:a})}},t("H.clustering.theme.Circular",Kt),Kt.prototype.Fm=function(t){var e=t.Cc(),n=this.c[e];if(!n){if(10>e){n=Lt(this,28,"118,209,0");var r={x:11,y:18}}else 25>e?(n=Lt(this,38,"255,105,0"),r={x:13,y:23}):50>e?(n=Lt(this,38,"240,60,0"),r={x:13,y:23}):100>e?(n=Lt(this,38,"181,0,21"),r={x:13,y:23}):1e3>e?(n=Lt(this,48,"181,0,21"),r={x:15,y:28}):(n=Lt(this,66,"181,0,21"),r={x:20,y:38});var i=n.getContext("2d");i.fillStyle="#FFFFFF",i.font="bold 11px Arial",i.fillText(e,r.x,r.y),n=new Ij(n,{size:{w:r=n.width/this.a,h:r},anchor:{x:r/2,y:r/2}}),this.c[e]=n}return(e=new yn(t.Ba(),{icon:n,min:t.yc(),max:t.$f()})).setData(t),e},Kt.prototype.getClusterPresentation=Kt.prototype.Fm,Kt.prototype.on=function(t){var e=new yn(t.Ba(),{icon:this.f,min:t.yc()});return e.setData(t),e},Kt.prototype.getNoisePresentation=Kt.prototype.on,u(Mt,Gt),Mt.prototype.pl=function(t,e){this.aa=t,this.u=yd(e)},Mt.prototype.Ui=function(t,e){var n=this.c,r=this.aa,i=this.u||0,o=!n||!(n.zoom===i&&n.b.na(r));if(r&&(this.b||o)){if(n&&3>n.ne&&n.cancel(),this.b=!1,(n=this.f)>=128*Dd(2,i))var a=Nt;else{(o=this.m).Pa(i);var s=o.jb(r.Qb());a=o.jb(r.Mb()),s.y-=n,a.y+=n,s=o.kf(s);var l=o.kf(a);a=new K(s.lat,s.lng,l.lat,l.lng),n=o.Ra(n,0).lng+180,a=a.Gc(s.lat,s.lng-n,l.lat,s.lng).Gc(s.lat,l.lng,l.lat,l.lng+n)}for(n=a,a=[],o=(s=this.a).length;o--;)n.Qd(s[o])&&a.push(s[o]);0<a.length?(this.c=new Ot(r,i,a,this.f,this.v,this.o!==Xi,t,e),this.c.then(this.i,this.j)):t(It)}},Mt.prototype.i=function(t){Ba(t)||(t=new x.Uint32Array(t)),this.c.g(Pt(this,t))},Mt.prototype.j=function(t){zc(t)&&this.c.c(t)};var Nt=new K(90,-180,-90,180);function Pt(t,e){for(var n=0,r=e[n++],i=Array(r),o=0,a=[],s=e.length,l=t.c.a,u=t.c.zoom;r--;)i[o++]=new Ft(l[e[n++]],u);for(;n<s;){r=e[n++],o=l[e[n]];var c=t.m,h=t.f;c.Pa(t.c.zoom);var f=c.jb(o);for(o=c.Ra(f.x-h,f.y-h),c=c.Ra(f.x+h,f.y+h),o=new Et((o=new K(o.lat,o.lng,c.lat,c.lng)).Qb(),o.Mb(),u);r--;)o.Fe(l[e[n++]]);a.push(o)}return{clusters:a,noisePoints:i}}function Ot(t,e,n,r,i,o,a,s){this.b=t,this.zoom=e,this.a=n,this.g=a,this.c=s,a=3*(t=n.length),s=new(x.Float64Array||Array)(a);for(var l;t--;)l=n[t],s[--a]=l.lat,s[--a]=l.lng,s[--a]=l.wt;ee.call(this,"cluster",{message:[s,r,i,e,o]},void 0)}function Qt(t,e,n){this.c=t,this.a=e,this.f=n}function Rt(t,e,n,r){this.c=t,this.a=e,this.j=n,this.m=r,this.g=Ia(this.g,this),this.f=Ia(this.f,this)}function St(t,e,n,r,i,o){this.g=e,t&&(this.parent=t,1&e?(n=t[8],i=t[5]):(n=t[7],i=t[8]),2&e?(r=t[9],o=t[6]):(r=t[4],o=t[9])),this[7]=n,this[5]=i,this[8]=(n+i)/2,this[4]=r,this[6]=o,this[9]=(r+o)/2}function Tt(t,e){return t[e]||(++t.me,t[e]=new St(t,e))}function Ut(t,e,n,r){var i,o;if(!e(t,r)&&n--)for(++r,i=0;4>i;i++)(o=t[i])&&Ut(o,e,n,r)}function Vt(t){this.b=t||10,this.a=null,Wt(this)}function Wt(t){t.head=t.a=new St(null,NaN,0,0,4294967296,4294967296)}function Xt(t,e){var n,r;for(n=0;4>n;n++)(r=e[n])&&(Xt(t,r),delete e[n]);delete e.parent,delete e.entries}function Yt(t,e){var n,r=t.head;if(e){var i=e;if(i!==r)for(r=i;i=i.parent;)(i.entries||1<i.me)&&(r=i)}else for(;!r.entries&&2>(n=r.me)&&n;)r=i;t.head=r}function Zt(t,e,n,r,i,o,a){var s=e.entries;if(o)if(e.me)s=Zt(t,Tt(e,n>=e[8]|(r>=e[9])<<1),n,r,i,o-1,a);else if(s){var l=Tt(e,(s=s[0])[1]>=e[8]|(s[0]>=e[9])<<1);l.entries=e.entries,l.Ie=e.Ie,l.Je=e.Je,l.Jb=e.Jb,l.a=e.a,l.f=e.f,l.b=e.b,l.c=e.c,delete e.entries,s.node=l,Yt(t,l),s=Zt(t,Tt(e,n>=e[8]|(r>=e[9])<<1),n,r,i,o-1,a)}else o=s=new $t(n,r,i,a),(e.entries||(e.entries=[])).push(o),Yt(t,e);else s||Yt(t,e),t=s=new $t(n,r,i,a),(e.entries||(e.entries=[])).push(t);return e.Ie+=n*i,e.Je+=r*i,e.Jb+=i,e.a===B?(e.a=e.b=n,e.f=e.c=r):(n<e.a?e.a=n:n>e.b&&(e.b=n),r<e.f?e.f=r:r>e.c&&(e.c=r)),s}function $t(t,e,n,r){this[0]=e,this[1]=t,this.a=n,this.data=r}function au(t){Gt.call(this,t),t=this.g,this.j=t.projection,this.m=t.min,this.f=t.max,this.o=t.minWeight,this.c=7-xd(Bd(wd(1,t.eps))/Ld),this.i=new Vt(wd(this.m,this.f+this.c))}function bu(t,e,n,r,i,o,a){var s,l=e.Jb;if(a&&(a.node.Jb!==l?(o.clusters.push(new Rt(t,a.node,a.depth,n-1)),a=null):i++),a||(l>=t.o?(a={node:e,depth:n},i=n):cu(t,e,i+1,o)),e.me&&r--)for(n++,l=0;4>l;l++)(s=e[l])&&(bu(t,s,n,r,i,o,a),a=null);a&&o.clusters.push(new Rt(t,a.node,a.depth,t.f+t.c))}function cu(t,e,n,r){var i;if(e=e.entries){var o=e.length;for(r=r.noisePoints,i=0;i<o;i++)r.push(new Qt(t,e[i],n))}else for(i=0;4>i;i++)(o=t[i])&&cu(t,o,n,r)}function du(t,e,n,r){this.lat=t,this.lng=e,this.wt=n===+n?n:1,this.data=r}function eu(t,e){var n={},r=(e=e||{}).min||0;switch(r={min:r,max:wd(r,e.max||22)},eu.l.constructor.call(this,r),this.Gb=e.pixelRatio||Se(),Wa(n,Ht,r,e.clusteringOptions||{}),n.minWeight=wd(Ht.minWeight,n.minWeight),n.strategy){case fu.DYNAMICGRID:if(n.projection!==Xi)throw new D(eu,1,"Unsupported projection");this.a=new Mt(n);break;case fu.GRID:this.a=new Jt(n);break;default:this.a=new au(n)}this.a.Mc(t),this.F=e.theme||new Kt(this.Gb),this.fa=A(this.fa,this),this.wa=A(this.wa,this),gu(this)}Mt.prototype.s=function(){Mt.l.s.call(this)},u(Ot,Pf),t("H.clustering.fastgrid.NoisePoint",Qt),Qt.prototype.Ba=function(){return this.b||(this.b=this.c.Ra(this.a[1],this.a[0],1)),this.b},Qt.prototype.getPosition=Qt.prototype.Ba,Qt.prototype.Cc=function(){return this.a.a},Qt.prototype.getWeight=Qt.prototype.Cc,Qt.prototype.Ad=ef,Qt.prototype.isCluster=Qt.prototype.Ad,Qt.prototype.yc=function(){return this.f-this.c.c},Qt.prototype.getMinZoom=Qt.prototype.yc,Qt.prototype.getData=function(){return this.a.data},Qt.prototype.getData=Qt.prototype.getData,t("H.clustering.fastgrid.Cluster",Rt),Rt.prototype.Ba=function(){return this.b||(this.b=this.c.Ra(this.a.Ie,this.a.Je,this.a.Jb)),this.b},Rt.prototype.getPosition=Rt.prototype.Ba,Rt.prototype.Cc=function(){return this.a.Jb},Rt.prototype.getWeight=Rt.prototype.Cc,Rt.prototype.Ad=df,Rt.prototype.isCluster=Rt.prototype.Ad,Rt.prototype.yc=function(){return this.j?this.j-this.c.c:-1/0},Rt.prototype.getMinZoom=Rt.prototype.yc,Rt.prototype.$f=function(){return this.m-this.c.c},Rt.prototype.getMaxZoom=Rt.prototype.$f,Rt.prototype.I=function(){return this.P||(this.P=dg(this.c.Ra(this.a.a,this.a.f,1),this.c.Ra(this.a.b,this.a.c,1),!0)),this.P},Rt.prototype.getBoundingBox=Rt.prototype.I,Rt.prototype.qh=function(t){this.i=t,this.a.Tc(this.g,Td)},Rt.prototype.forEachEntry=Rt.prototype.qh,Rt.prototype.g=function(t,e){var n,r,i=!1;if(t.Jb>=this.c.o&&t!==this.a&&t.Jb!==this.a.Jb&&(this.i(new Rt(this.c,t,0,e)),i=!0),!i&&(n=t.entries))for(t=n.length,r=0;r<t;r++)this.i(new Qt(this.c,n[r],e));return i},Rt.prototype.Re=function(t){this.o=t,this.a.Tc(this.f,Td)},Rt.prototype.forEachDataPoint=Rt.prototype.Re,Rt.prototype.f=function(t,e){var n;if(t=t.entries){var r=t.length;for(n=0;n<r;n++)this.o(new Qt(this.c,t[n],e))}return!1},n=St.prototype,n.me=0,n.removeChild=function(t){var e=t.g;this[e]===t&&(delete this[e],delete t.parent,--this.me)},n.Tc=function(t,e){for(var n=0,r=this;r=r.parent;)++n;Ut(this,t,e,n)},n.Ie=0,n.Je=0,n.Jb=0,Vt.prototype.Dc=function(t,e,n,r){var i=this.a;if(!(t>=i[7]&&e>=i[4]&&t<=i[5]&&e<=i[6]))throw Error("Coordinates out of bounds");return Zt(this,this.a,t,e,n,this.b,r)},Vt.prototype.Tc=function(t,e){Ut(this.a,t,e===+e?e:this.b,0)},u(au,Gt),n=au.prototype,n.Mc=function(t){var e,n=0,r=t.length,i=new I(0,0),o=this.j,a=this.i;for(au.l.Mc.call(this,t),Xt(a,a.a),Wt(a);n<r;n++)o.$c(e=t[n],i).scale(4294967296).floor(),a.Dc(i.x,i.y,e.wt,e.data);this.b=!0},n.Hb=function(t){au.l.Hb.call(this,t),this.Mc(this.a)},n.Ef=function(t){for(var e=t.length,n=au.l.Hb;e--;)n.call(this,t[e]);this.Mc(this.a)},n.nf=function(t){au.l.nf.call(this,t),this.Mc(this.a)},n.Ra=function(t,e,n,r){return this.j.Ra(t/n/4294967296,e/n/4294967296,r)},n.Ui=function(t){if(this.b){var e={clusters:[],noisePoints:[]};bu(this,this.i.a,0,this.f+this.c,-1/0,e,null),this.b=!1,t(e)}},n.s=function(){au.l.s.call(this),this.i=null},t("H.clustering.DataPoint",du),du.prototype.sk=NaN,du.prototype.uk=NaN,u(eu,N),t("H.clustering.Provider",eu),eu.prototype.s=function(){eu.l.s.call(this),this.c.pa(),this.a.B(),this.F=this.N=this.a=null,x.clearTimeout(this.$)};var fu={FASTGRID:0,GRID:1,DYNAMICGRID:2};function gu(t,e,n){t.$&&x.clearTimeout(t.$),e&&t.a.pl(e,n),t.$=x.setTimeout(t.fa,150)}function hu(t){var e=t.N.clusters,n=t.N.noisePoints,r=e.length,i=n.length,o=0<r+i;for(t.c.pa();i--;){var a=n[i];t.c.ea(t.F.getNoisePresentation(a))}for(;r--;)n=e[r],t.c.ea(t.F.getClusterPresentation(n));o&&Vj(t)}function iu(t,e){t:{for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}eu.Strategy=fu,eu.prototype.fa=function(){this.dispatchEvent("start"),this.a.Ui(this.wa,hd)},eu.prototype.wa=function(t){this.dispatchEvent("end"),this.N=t,hu(this)},eu.prototype.Mc=function(t){this.a.Mc(t),gu(this)},eu.prototype.setDataPoints=eu.prototype.Mc,eu.prototype.Hb=function(t){this.a.Hb(t),gu(this)},eu.prototype.addDataPoint=eu.prototype.Hb,eu.prototype.Ef=function(t){this.a.Ef(t),gu(this)},eu.prototype.addDataPoints=eu.prototype.Ef,eu.prototype.nf=function(t){this.a.nf(t),gu(this)},eu.prototype.removeDataPoint=eu.prototype.nf,eu.prototype.Jn=function(){return this.F},eu.prototype.getTheme=eu.prototype.Jn,eu.prototype.$o=function(t){this.F=t,this.N&&(this.c.pa(),hu(this))},eu.prototype.setTheme=eu.prototype.$o,eu.prototype.Ub=function(){return!0},eu.prototype.providesDomMarkers=eu.prototype.Ub,eu.prototype.Vb=function(){return!0},eu.prototype.providesMarkers=eu.prototype.Vb,eu.prototype.Hc=function(){return!0},eu.prototype.providesSpatials=eu.prototype.Hc,eu.prototype.ug=function(t,e){gu(this,t,e)},t("H.clustering.buildInfo",(function(){return Ef("H-clustering","1.28.0","74b1698")}));var ju={};function ku(t){var e=t.ownerDocument,n=e.documentElement;e=e.defaultView;var r=t.getBoundingClientRect();return t=r.left,r=r.top,isNaN(e.pageXOffset)?(t+=n.scrollLeft,r+=n.scrollTop):(t+=e.pageXOffset,r+=e.pageYOffset),new I(t,r)}function lu(t,e,n){e=Cc(e)?e+"px":e,n=Cc(n)?n+"px":n,t.style[xf("transform")]="translate("+e+","+n+")"}var mu={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",LEFT_TOP:"left-top",LEFT_MIDDLE:"left-middle",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_MIDDLE:"right-middle",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"};function nu(t,e){var n={},r={};n["top-left"]=ou(e,"div",[pu,qu].join(" ")),n["top-center"]=ou(e,"div",[pu,ru,su,qu].join(" ")),n["top-right"]=ou(e,"div",[pu,qu].join(" ")),n["left-top"]=ou(e,"div",[pu,tu].join(" ")),n["left-middle"]=ou(e,"div",[pu,uu,vu,tu].join(" ")),n["left-bottom"]=ou(e,"div",[pu,tu].join(" ")),n["right-top"]=ou(e,"div",[pu,tu].join(" ")),n["right-middle"]=ou(e,"div",[pu,wu,vu,tu].join(" ")),n["right-bottom"]=ou(e,"div",[pu,tu].join(" ")),n["bottom-left"]=ou(e,"div",[pu,qu].join(" ")),n["bottom-center"]=ou(e,"div",[pu,xu,su,qu].join(" ")),n["bottom-right"]=ou(e,"div",[pu,qu].join(" ")),r["top-left"]=ou(e,"div",[ru,uu].join(" ")),r["top-right"]=ou(e,"div",[ru,wu].join(" ")),r["bottom-left"]=ou(e,"div",[xu,uu].join(" ")),r["bottom-right"]=ou(e,"div",[xu,wu].join(" ")),yu(r["top-left"],n["top-left"],n["left-top"]),yu(r["top-right"],n["top-right"],n["right-top"]),yu(r["bottom-left"],n["left-bottom"],n["bottom-left"]),yu(r["bottom-right"],n["right-bottom"],n["bottom-right"]),yu(t,r["top-left"],r["top-right"],r["bottom-left"],r["bottom-right"],n["top-center"],n["left-middle"],n["right-middle"],n["bottom-center"]),this.a=n}t("H.ui.LayoutAlignment",mu);var ru="H_l_top",xu="H_l_bottom",uu="H_l_left",wu="H_l_right",su="H_l_center",vu="H_l_middle",qu="H_l_horizontal",tu="H_l_vertical",pu="H_l_anchor";function zu(t,e){e?(e=t.offsetWidth,t.style.marginLeft=-Math.round(.5*e)+"px"):(e=t.offsetHeight,t.style.marginTop=-Math.round(.5*e)+"px")}nu.prototype.update=function(){var t=this.a;zu(t["top-center"],!0),zu(t["bottom-center"],!0),zu(t["left-middle"],!1),zu(t["right-middle"],!1)},nu.prototype.put=function(t,e){t=t?t.L():null;var n=e?this.a[e]:null;t&&n&&(t.parentElement&&t.parentElement.removeChild(t),n.insertBefore(t,/(bottom|right)$/.test(e)||/(center|middle)/.test(e)&&n.childNodes.length%2?n.firstChild:null)),this.update()};var Au={IMPERIAL:"imperial",METRIC:"metric"};function Bu(){this.a=this.Fj()}t("H.ui.UnitSystem",Au),Bu.prototype.Fj=function(){var t=Function("return this;")(),e=t.navigator,n=[];return e&&(e.msPointerEnabled?n.push(Cu):e.pointerEnabled&&n.push(Du)),1>n.length&&("TouchEvent"in t&&n.push(Eu),n.push(Fu)),n},Bu.prototype.detectEventSets=Bu.prototype.Fj,Bu.prototype.addEventListener=function(t,e,n,r){for(var i,o=this.a,a=o.length,s=!1;a--;)(i=o[a][e])&&(s=!0,t.addEventListener(i,n,r||!1));s||t.addEventListener(e,n,r||!1)},Bu.prototype.removeEventListener=function(t,e,n,r){for(var i,o=this.a,a=o.length,s=!1;a--;)(i=o[a][e])&&(s=!0,t.removeEventListener(i,n,r||!1));s||t.removeEventListener(e,n,r||!1)};var Du={start:"pointerdown",end:"pointerup",move:"pointermove",cancel:"pointercancel",over:"pointerover",out:"pointerout",hover:"pointerhover"},Cu={start:"MSPointerDown",end:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel",over:"MSPointerOver",out:"MSPointerOut",hover:"MSPointerHover"},Eu={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Fu={start:"mousedown",end:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",hover:"mousehover"};function ou(t,e,n,r){return t=t.createElement(e),n&&(t.className=n),r&&(t.innerHTML=r),t}function yu(t,e){for(var n=1,r=arguments.length;n<r;n++)t.appendChild(arguments[n])}var Gu=new Bu;function Hu(t,e,n){Gu.addEventListener(t,e,n,void 0)}function Iu(t,e,n){Gu.removeEventListener(t,e,n,void 0)}var Ju=[];t("H.ui.i18n.defaultLocales",Ju);var Ku={},Lu=[];function Mu(t,e){Ku[t]=e,-1===Ju.indexOf(t)&&Ju.push(t),Lu.length?Nu(t,e):Lu=Object.keys(e)}function Nu(t,e){for(var n,r=Lu,i=r.length;i--;)if(!e[n=r[i]])throw Error("'"+n+"' key missing in translation map for "+t)}function Ou(t,e){if(!zc(t))throw new TypeError("string locale code required");if(Da(e))Nu(t,e);else{if(-1===Ju.indexOf(t))throw Error("Default locale '"+t+"' does nto exist.");e=Ku[t]}this.a=e||{},this.b=t}function Z(t,e){F.call(this),this.Qa=t||"div",this.g=e?e.split(" "):[],this.N=!1,this.g.push("H_el")}function Pu(t){(t=t.L())&&t.parentNode&&t.parentNode.removeChild(t)}function Qu(t,e,n){Z.call(this,t,e),this.b=n?n.concat():[]}function Ru(t){C(t,Oe,Ru,1),Z.call(this,"div","H_context_menu_item"),this.b=t,this.f=A(this.f,this),this.a=A(this.a,this),this.b.addEventListener("update",this.a)}function Tu(t){C(t,Array,Tu,1),Qu.call(this,"div","H_context_menu"),this.f=t,this.a=null}function Uu(t,e){e=e||{};var n=this;Z.call(this,"div","H_ib H_ib_top"),this.v=A((function(t){n.kc()||(n.close(),t.preventDefault())}),this),this.update=A(this.update,this),this.i=A(this.i,this),this.setPosition(t),this.vf(e.content),e.onStateChange&&this.addEventListener("statechange",e.onStateChange),this.O(Vu.OPEN)}Mu("nl-NL",{"layers.normal":"Kaartweergave","layers.satellite":"Satelliet","layers.terrain":"Terrein","layer.transit":"Openbaar vervoer","layer.traffic":"Verkeerssituatie","layer.incidents":"Toon verkeersincidenten","layers.choose":"Weergave kiezen",minimap:"Minimap","scale.switchToImperial":"Overgaan naar mijlen","scale.switchToMetric":"Wijzigen naar km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Uitzoomen","zoom.in":"Inzoomen","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Openbaar vervoer","traffic.MISCELLANEOUS":"Diversen","traffic.ACCIDENT":"Ongeval","traffic.OTHER_NEWS":"Meer informatie","traffic.PLANNED_EVENT":"Geplande afzetting","traffic.ROAD_HAZARD":"Gevaar op de weg","traffic.WEATHER":"Weer","traffic.CONGESTION":"Verkeersopstopping","traffic.CONSTRUCTION":"Wegwerkzaamheden","traffic.DISABLED_VEHICLE":"Voertuig met pech","traffic.from":"Begintijd:","traffic.until":"Geschatte eindtijd:","distance.measurement":"Measure distance"}),Mu("pt-PT",{"layers.normal":"Vista do mapa","layers.satellite":"Sat\xe9lite","layers.terrain":"Terreno","layer.transit":"Transportes p\xfablicos","layer.traffic":"Condi\xe7\xf5es de tr\xe2nsito","layer.incidents":"Mostrar incidentes de tr\xe2nsito","layers.choose":"Escolher vista",minimap:"Minimap","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Diminuir","zoom.in":"Aumentar","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transportes p\xfablicos","traffic.MISCELLANEOUS":"Diversos","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras not\xedcias","traffic.PLANNED_EVENT":"Evento planeado","traffic.ROAD_HAZARD":"Perigo na estrada","traffic.WEATHER":"Meteorologia","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Constru\xe7\xe3o","traffic.DISABLED_VEHICLE":"Ve\xedculo avariado","traffic.from":"Hora de in\xedcio:","traffic.until":"Hora de fim prevista:","distance.measurement":"Measure distance"}),Mu("ru-RU",{"layers.normal":"\u0420\u0435\u0436\u0438\u043c \u043a\u0430\u0440\u0442\u044b","layers.satellite":"\u0421\u043f\u0443\u0442\u043d\u0438\u043a\u043e\u0432\u0430\u044f","layers.terrain":"\u041c\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u044c","layer.transit":"\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442","layer.traffic":"\u0414\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f","layer.incidents":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f","layers.choose":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434",minimap:"Minimap","scale.switchToImperial":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u043b\u0438","scale.switchToMetric":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440\u044b","scale.km":"\u043a\u043c","scale.m":"\u043c","scale.mi":"\u043c\u0438\u043b\u044c","scale.ft":"\u0444\u0443\u0442","zoom.out":"\u041e\u0442\u0434\u0430\u043b\u0438\u0442\u044c","zoom.in":"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u044c","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442","traffic.MISCELLANEOUS":"\u041f\u0440\u043e\u0447\u0435\u0435 \u0414\u0422\u041f","traffic.ACCIDENT":"\u0414\u0422\u041f","traffic.OTHER_NEWS":"\u0414\u0440\u0443\u0433\u0438\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438","traffic.PLANNED_EVENT":"\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435","traffic.ROAD_HAZARD":"\u0414\u043e\u0440\u043e\u0436\u043d\u0430\u044f \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c","traffic.WEATHER":"\u041f\u043e\u0433\u043e\u0434\u0430","traffic.CONGESTION":"\u041f\u0440\u043e\u0431\u043a\u0430","traffic.CONSTRUCTION":"\u0420\u0435\u043c\u043e\u043d\u0442","traffic.DISABLED_VEHICLE":"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c","traffic.from":"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430:","traffic.until":"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f:","distance.measurement":"\u0418\u0437\u043c\u0435\u0440\u0438\u0442\u044c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}),Mu("fi-FI",{"layers.normal":"Karttan\xe4kym\xe4","layers.satellite":"Satelliitti","layers.terrain":"Maasto","layer.transit":"Julkinen liikenne","layer.traffic":"Liikenneolosuhteet","layer.incidents":"N\xe4yt\xe4 liikennetapahtumat","layers.choose":"Valitse n\xe4kym\xe4",minimap:"Minimap","scale.switchToImperial":"Vaihda maileihin","scale.switchToMetric":"Vaihda kilometreihin","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Loitonna","zoom.in":"L\xe4henn\xe4","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Julkinen liikenne","traffic.MISCELLANEOUS":"Erittelem\xe4t\xf6n syy","traffic.ACCIDENT":"Onnettomuus","traffic.OTHER_NEWS":"Muu tapahtuma","traffic.PLANNED_EVENT":"Suunniteltu tapahtuma","traffic.ROAD_HAZARD":"Vaara tiell\xe4","traffic.WEATHER":"S\xe4\xe4","traffic.CONGESTION":"Ruuhka","traffic.CONSTRUCTION":"Rakennusty\xf6","traffic.DISABLED_VEHICLE":"Pys\xe4htynyt ajoneuvo","traffic.from":"Alkamisaika:","traffic.until":"Arvioitu p\xe4\xe4ttymisaika:","distance.measurement":"Measure distance"}),Mu("pt-BR",{"layers.normal":"Exibi\xe7\xe3o do mapa","layers.satellite":"Sat\xe9lite","layers.terrain":"Terreno","layer.transit":"Transporte p\xfablico","layer.traffic":"Condi\xe7\xf5es do tr\xe2nsito","layer.incidents":"Mostrar incidentes no tr\xe2nsito","layers.choose":"Escolher exibi\xe7\xe3o",minimap:"Minimap","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"milhas","scale.ft":"p\xe9s","zoom.out":"Menos zoom","zoom.in":"Mais zoom","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transporte p\xfablico","traffic.MISCELLANEOUS":"Miscel\xe2nea","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras not\xedcias","traffic.PLANNED_EVENT":"Evento planejado","traffic.ROAD_HAZARD":"Risco na estrada","traffic.WEATHER":"Clima","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Constru\xe7\xe3o","traffic.DISABLED_VEHICLE":"Ve\xedculo incapacitado","traffic.from":"Hora de in\xedcio:","traffic.until":"Tempo final estimado:","distance.measurement":"Measure distance"}),Mu("zh-CN",{"layers.normal":"\u5730\u56fe\u89c6\u56fe","layers.satellite":"\u536b\u661f","layers.terrain":"\u5730\u5f62","layer.transit":"\u516c\u5171\u4ea4\u901a","layer.traffic":"\u4ea4\u901a\u60c5\u51b5","layer.incidents":"\u663e\u793a\u4ea4\u901a\u4e8b\u4ef6","layers.choose":"\u9009\u62e9\u89c6\u56fe",minimap:"Minimap","scale.switchToImperial":"\u5207\u6362\u4e3a\u300c\u82f1\u91cc\u300d","scale.switchToMetric":"\u5207\u6362\u4e3a\u300c\u516c\u91cc\u300d","scale.km":"\u516c\u91cc","scale.m":"\u7c73","scale.mi":"\u82f1\u91cc","scale.ft":"\u82f1\u5c3a","zoom.out":"\u7f29\u5c0f","zoom.in":"\u653e\u5927","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"\u516c\u5171\u4ea4\u901a","traffic.MISCELLANEOUS":"\u7efc\u5408\u4e8b\u4ef6","traffic.ACCIDENT":"\u4ea4\u901a\u610f\u5916","traffic.OTHER_NEWS":"\u5176\u4ed6\u65b0\u95fb","traffic.PLANNED_EVENT":"\u9884\u5b9a\u4e8b\u4ef6","traffic.ROAD_HAZARD":"\u9053\u8def\u5371\u9669","traffic.WEATHER":"\u5929\u6c14","traffic.CONGESTION":"\u5835\u585e","traffic.CONSTRUCTION":"\u65bd\u5de5","traffic.DISABLED_VEHICLE":"\u8f66\u8f86\u629b\u951a","traffic.from":"\u5f00\u59cb\u65f6\u95f4\uff1a","traffic.until":"\u9884\u8ba1\u7ed3\u675f\u65f6\u95f4\uff1a","distance.measurement":"Measure distance"}),Mu("es-ES",{"layers.normal":"Mapa","layers.satellite":"Sat\xe9lite","layers.terrain":"Terreno","layer.transit":"Transporte p\xfablico","layer.traffic":"Estado del tr\xe1fico","layer.incidents":"Mostrar incidentes de tr\xe1fico","layers.choose":"Elija una vista",minimap:"Minimap","scale.switchToImperial":"Cambiar a millas","scale.switchToMetric":"Cambiar a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Alejar","zoom.in":"Acercar","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transporte p\xfablico","traffic.MISCELLANEOUS":"Varios","traffic.ACCIDENT":"Accidente","traffic.OTHER_NEWS":"M\xe1s noticias","traffic.PLANNED_EVENT":"Acto programado","traffic.ROAD_HAZARD":"Riesgo en carretera","traffic.WEATHER":"Tiempo","traffic.CONGESTION":"Atasco","traffic.CONSTRUCTION":"Construcci\xf3n","traffic.DISABLED_VEHICLE":"Veh\xedculo averiado","traffic.from":"Inicio:","traffic.until":"Finalizaci\xf3n estimada:","distance.measurement":"Measure distance"}),Mu("fr-FR",{"layers.normal":"Carte","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Transports publics","layer.traffic":"Conditions de circulation","layer.incidents":"Afficher les incidents de circulation","layers.choose":"Choisir la vue",minimap:"Minimap","scale.switchToImperial":"Passer en miles","scale.switchToMetric":"Passer en km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom arri\xe8re","zoom.in":"Zoom avant","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transports publics","traffic.MISCELLANEOUS":"Divers","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Autre","traffic.PLANNED_EVENT":"\xc9v\xe9nement pr\xe9vu","traffic.ROAD_HAZARD":"Danger routier","traffic.WEATHER":"M\xe9t\xe9o","traffic.CONGESTION":"Embouteillage","traffic.CONSTRUCTION":"Travaux","traffic.DISABLED_VEHICLE":"V\xe9hicule en panne","traffic.from":"Date ou heure de d\xe9but:","traffic.until":"Date et heure de fin estim\xe9es:","distance.measurement":"Measure distance"}),Mu("pl-PL",{"layers.normal":"Widok mapy","layers.satellite":"Satelita","layers.terrain":"Teren","layer.transit":"Transport publiczny","layer.traffic":"Warunki drogowe","layer.incidents":"Poka\u017c zdarzenia drogowe","layers.choose":"Wybierz widok",minimap:"Minimap","scale.switchToImperial":"Zmie\u0144 na mile","scale.switchToMetric":"Zmie\u0144 na km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Oddal","zoom.in":"Przybli\u017c","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transport publiczny","traffic.MISCELLANEOUS":"Inne zdarzenie","traffic.ACCIDENT":"Wypadek","traffic.OTHER_NEWS":"Inne wiadomo\u015bci","traffic.PLANNED_EVENT":"Zdarzenie planowane","traffic.ROAD_HAZARD":"Niebezpiecze\u0144stwo na drodze","traffic.WEATHER":"Pogoda","traffic.CONGESTION":"Korek","traffic.CONSTRUCTION":"Budowa","traffic.DISABLED_VEHICLE":"Uszkodzony pojazd","traffic.from":"Data rozpocz\u0119cia:","traffic.until":"Przybli\u017cona data zako\u0144czenia:","distance.measurement":"Measure distance"}),Mu("de-DE",{"layers.normal":"Kartenansicht","layers.satellite":"Satellit","layers.terrain":"Gel\xe4nde","layer.transit":"\xd6ffentliche Verkehrsmittel","layer.traffic":"Verkehrslage","layer.incidents":"Verkehrsst\xf6rungen anzeigen","layers.choose":"Ansicht ausw\xe4hlen",minimap:"Minimap","scale.switchToImperial":"Umrechnung in Meilen","scale.switchToMetric":"Umrechnung in Kilometer","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Verkleinern","zoom.in":"Vergr\xf6\xdfern","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"\xd6ffentliche Verkehrsmittel","traffic.MISCELLANEOUS":"Diverse","traffic.ACCIDENT":"Unfall","traffic.OTHER_NEWS":"Anderes Ereignis","traffic.PLANNED_EVENT":"Geplantes Ereignis","traffic.ROAD_HAZARD":"Verkehrshindernis","traffic.WEATHER":"Wetter","traffic.CONGESTION":"Verkehrsstau","traffic.CONSTRUCTION":"Baustelle","traffic.DISABLED_VEHICLE":"Liegengebliebenes Fahrzeug","traffic.from":"Beginn:","traffic.until":"Voraussichtliches Ende:","distance.measurement":"Measure distance"}),Mu("tr-TR",{"layers.normal":"Harita g\xf6r\xfcn\xfcm\xfc","layers.satellite":"Uydu","layers.terrain":"Arazi","layer.transit":"Toplu ula\u015f\u0131m","layer.traffic":"Trafik durumlar\u0131","layer.incidents":"Trafik olaylar\u0131n\u0131 g\xf6ster","layers.choose":"G\xf6r\xfcn\xfcm se\xe7",minimap:"Minimap","scale.switchToImperial":"Mile d\xf6n\xfc\u015ft\xfcr","scale.switchToMetric":"Kilometreye d\xf6n\xfc\u015ft\xfcr","scale.km":"km","scale.m":"m","scale.mi":"mil","scale.ft":"ft","zoom.out":"Uzakla\u015ft\u0131r","zoom.in":"Yak\u0131nla\u015ft\u0131r","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Toplu ula\u015f\u0131m","traffic.MISCELLANEOUS":"\xc7e\u015fitli","traffic.ACCIDENT":"Kaza","traffic.OTHER_NEWS":"Di\u011fer haberler","traffic.PLANNED_EVENT":"Planl\u0131 etkinlik","traffic.ROAD_HAZARD":"Yol tehlikesi","traffic.WEATHER":"Hava durumu","traffic.CONGESTION":"Yo\u011funluk","traffic.CONSTRUCTION":"Yol \xe7al\u0131\u015fmas\u0131","traffic.DISABLED_VEHICLE":"Ara\xe7 ar\u0131zas\u0131","traffic.from":"Ba\u015flang\u0131\xe7 zaman\u0131:","traffic.until":"Tahmini biti\u015f zaman\u0131:","distance.measurement":"Measure distance"}),Mu("it-IT",{"layers.normal":"Vista mappa","layers.satellite":"Satellite","layers.terrain":"Terreno","layer.transit":"Mezzi pubblici","layer.traffic":"Condizioni del traffico","layer.incidents":"Mostra incidenti stradali","layers.choose":"Scegli vista",minimap:"Minimap","scale.switchToImperial":"Passa a miglia","scale.switchToMetric":"Passa a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom indietro","zoom.in":"Zoom avanti","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Mezzi pubblici","traffic.MISCELLANEOUS":"Varie","traffic.ACCIDENT":"Incidente","traffic.OTHER_NEWS":"Altre notizie","traffic.PLANNED_EVENT":"Evento pianificato","traffic.ROAD_HAZARD":"Strada dissestata","traffic.WEATHER":"Maltempo","traffic.CONGESTION":"Ingorgo","traffic.CONSTRUCTION":"Lavori in corso","traffic.DISABLED_VEHICLE":"Veicolo in panne","traffic.from":"Ora di inizio:","traffic.until":"Ora di fine stimata:","distance.measurement":"Measure distance"}),Mu("en-US",{"layers.normal":"Map view","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Public transport","layer.traffic":"Traffic conditions","layer.incidents":"Show traffic incidents","layers.choose":"Choose view",minimap:"Minimap","scale.switchToImperial":"Change to miles","scale.switchToMetric":"Change to km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom out","zoom.in":"Zoom in","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Public transport","traffic.MISCELLANEOUS":"Miscellaneous","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Other news","traffic.PLANNED_EVENT":"Planned event","traffic.ROAD_HAZARD":"Road hazard","traffic.WEATHER":"Weather","traffic.CONGESTION":"Congestion","traffic.CONSTRUCTION":"Construction","traffic.DISABLED_VEHICLE":"Disabled vehicle","traffic.from":"Start time:","traffic.until":"Estimated end time:","distance.measurement":"Measure distance"}),t("H.ui.i18n.Localization",Ou),Ou.prototype.hn=function(){return this.b},Ou.prototype.getLocale=Ou.prototype.hn,Ou.prototype.bn=function(){return Object.keys(this.a)},Ou.prototype.getKeys=Ou.prototype.bn,Ou.prototype.Kh=function(t){return!(!this.a||!this.a[t])},Ou.prototype.hasKey=Ou.prototype.Kh,Ou.prototype.translate=function(t){var e=this.a[t];if(!zc(e))throw Error("Translation missing for key '"+t+"'.");return e},Ou.prototype.translate=Ou.prototype.translate,u(Z,F),t("H.ui.base.Element",Z),Z.prototype.U=function(t){if(!t)throw Error("Wrong document object");return this.R=ou(t,this.Qa,this.g.join(" ")),this.renderInternal(this.R,t),this.Ca(this.kc(),!0),this.qc(this.$),this.vb(this.c),this.R},Z.prototype.fa=function(){},Z.prototype.S=function(){},Z.prototype.Y=function(){},Z.prototype.renderInternal=Z.prototype.Y,Z.prototype.kc=function(){return this.N},Z.prototype.isDisabled=Z.prototype.kc,Z.prototype.Ca=function(t,e){return((t=!!t)!==this.N||e)&&((this.N=t)?this.La("H_disabled"):this.pb("H_disabled")),this},Z.prototype.setDisabled=Z.prototype.Ca,Z.prototype.F=null,Z.prototype.getData=function(){return this.F},Z.prototype.getData=Z.prototype.getData,Z.prototype.setData=function(t){this.F=t},Z.prototype.setData=Z.prototype.setData,Z.prototype.qc=function(t){var e=this.L();this.$=t,e&&(t?e.setAttribute("title",t):e.removeAttribute("title"))},Z.prototype.setTooltip=Z.prototype.qc,Z.prototype.R=null,Z.prototype.L=function(){return this.R},Z.prototype.getElement=Z.prototype.L,Z.prototype.c=!0,Z.prototype.vb=function(t){var e=this.L();this.c=t,e&&(e.style.display=t?"":"none")},Z.prototype.setVisibility=Z.prototype.vb,Z.prototype.Bc=function(){return this.c},Z.prototype.getVisibility=Z.prototype.Bc,Z.prototype.La=function(t){var e=this.L();return 0>this.g.indexOf(t)&&this.g.push(t),e&&(e.className=this.g.join(" ")),this},Z.prototype.addClass=Z.prototype.La,Z.prototype.pb=function(t){t=this.g.indexOf(t);var e=this.L();return-1<t&&this.g.splice(t,1),e&&(e.className=this.g.join(" ")),this},Z.prototype.removeClass=Z.prototype.pb,Z.prototype.s=function(){Z.l.s.call(this),Pu(this),this.$=this.F=this.R=null},u(Qu,Z),t("H.ui.base.Container",Qu),Qu.prototype.Ca=function(t,e){var n=this.b?this.b.length:0;for(Z.prototype.Ca.call(this,t,e);n--;)this.b[n].Ca(t,e);return this},Qu.prototype.setDisabled=Qu.prototype.Ca,Qu.prototype.Ka=function(t){var e=this.L();return this.b.push(t),e&&(t.U(e.ownerDocument),e.appendChild(t.L())),this},Qu.prototype.addChild=Qu.prototype.Ka,Qu.prototype.vh=function(){return this.b.concat()},Qu.prototype.getChildren=Qu.prototype.vh,Qu.prototype.removeChild=function(t){var e=this.b.indexOf(t),n=this.L();0<=e&&(this.b.splice(e,1),n&&n.removeChild(t.L()))},Qu.prototype.removeChild=Qu.prototype.removeChild,Qu.prototype.pa=function(){var t=this.L();t&&this.b.forEach((function(e){t.removeChild(e.L())})),this.b=[]},Qu.prototype.Y=function(t,e){for(var n=0,r=this.b.length;n<r;n++)t.appendChild(this.b[n].U(e))},Qu.prototype.renderInternal=Qu.prototype.Y,Qu.prototype.s=function(){this.pa(),this.b.forEach(this.sa,this),Z.prototype.s.call(this)},Qu.prototype.sa=function(t){t.B()},u(Ru,Z),t("H.ui.context.Item",Ru),Ru.prototype.f=function(t){var e=this.b,n=e.callback;n&&!e.isDisabled()&&(this.dispatchEvent("click"),n(t))},Ru.prototype.Y=function(){var t=this,e=this.L();Be(e,"click",this.f),e.addEventListener("keyup",(function(e){13==e.keyCode&&t.f(e)})),this.a()},Ru.prototype.renderInternal=Ru.prototype.Y,Ru.prototype.a=function(){var t=this.L(),e=this.b;e.callback?(this.La("clickable"),t.setAttribute("tabindex","0")):(this.pb("clickable"),t.removeAttribute("tabindex")),e.isDisabled()?this.La("disabled"):this.pb("disabled"),e=e.getLabel(),Su.textContent=e,t.innerHTML=Su.innerHTML.split("\n").join("<br/>")},Ru.prototype.s=function(){Z.prototype.s.call(this),this.b.removeEventListener("update",this.a)},u(Tu,Qu),t("H.ui.context.Menu",Tu),Tu.prototype.Y=function(){Qu.prototype.Y.apply(this,arguments),this.f.forEach((function(t){t===Qe?t=new Z("div","H_context_menu_item_separator"):(t=new Ru(t)).addEventListener("click",this.i.bind(this)),this.Ka(t)}),this),Be(this.L(),["mousedown","touchstart","pointerdown","wheel"],(function(t){t.stopPropagation()}))},Tu.prototype.renderInternal=Tu.prototype.Y,Tu.prototype.setPosition=function(t,e){if(this.a){var n=this.L(),r=n.offsetWidth,i=n.offsetHeight,o=this.a,a=o.za.width;t+r>a&&t>a/2&&(t-=r),e+i>(o=o.za.height)&&e>o/2&&(e-=i),lu(n,t,e)}},Tu.prototype.setPosition=Tu.prototype.setPosition,Tu.prototype.i=function(){this.a&&this.a.dispatchEvent(new rd("contextmenuclose",this.a))},Tu.prototype.Ia=function(t){this.a=t},Tu.prototype.setMap=Tu.prototype.Ia,u(Uu,Z),t("H.ui.InfoBubble",Uu),Uu.prototype.a=null,Uu.prototype.Ba=function(){return this.b},Uu.prototype.setPosition=function(t){this.b=Zf(t),this.update()},Uu.prototype.setPosition=Uu.prototype.setPosition,Uu.prototype.Ia=function(t){this.a=t},Uu.prototype.Y=function(t,e){this.m=ou(e,"div","H_ib_body"),this.tailEl_=ou(e,"div","H_ib_tail"),this.j=ou(e,"div","H_ib_close H_btn",Wu),this.f=ou(e,"div","H_ib_content","&nbsp;"),this.m.appendChild(this.j),this.m.appendChild(this.f),Hu(this.j,"start",this.v),this.a.b.addEventListener("sync",this.update),this.a.za.addEventListener("sync",this.update),this.a.addEventListener("enginechange",this.i),t.appendChild(this.m),t.appendChild(this.tailEl_),this.vf(this.o)},Uu.prototype.renderInternal=Uu.prototype.Y,Uu.prototype.i=function(){this.u||(this.u=setTimeout(this.update,0))},Uu.prototype.update=function(){var t,e=this.L(),n=this.a,r="none";if(this.u=0,n&&e&&this.getState()===Vu.OPEN){if(t=n.Fa(this.b)){var i=t.x;t=t.y,(i>=-(n=n.za.width)||i<=2*n||t>=-n||t<=2*n)&&(r="",Xu?(e.style.left=i-n+"px",e.style.top=t+"px"):lu(e,i,t))}e.style.display=r,""===r&&(e.style.visibility="visible")}};var Vu={OPEN:"open",CLOSED:"closed"};Uu.State=Vu,Uu.prototype.A=Vu.OPEN,Uu.prototype.getState=function(){return this.A},Uu.prototype.getState=Uu.prototype.getState,Uu.prototype.O=function(t){t!==this.A&&(this.A=t,this.dispatchEvent("statechange")),(t=this.L())&&(this.A===Vu.OPEN?(t.style.display="block",t.style.visibility="hidden",this.i()):t.style.display="none")},Uu.prototype.setState=Uu.prototype.O,Uu.prototype.close=function(){this.O(Vu.CLOSED)},Uu.prototype.close=Uu.prototype.close,Uu.prototype.open=function(){this.O(Vu.OPEN)},Uu.prototype.open=Uu.prototype.open,Uu.prototype.Hm=function(){return this.f||null},Uu.prototype.getContentElement=Uu.prototype.Hm,Uu.prototype.vf=function(t){if(t){if("string"!==typeof t&&("number"!==typeof t.nodeType||"string"!==typeof t.nodeName))throw Error("InfoBubble content must be a string or HTML node.");this.o=t}else this.o=void 0;this.L()&&(this.o?(this.f.innerHTML="","string"===typeof this.o?this.f.innerHTML=t:"number"===typeof t.nodeType&&"string"===typeof t.nodeName&&this.f.appendChild(t)):this.f.innerHTML="&nbsp;",this.i())},Uu.prototype.setContent=Uu.prototype.vf,Uu.prototype.s=function(){this.close(),this.vf(null),this.j&&Iu(this.j,"end",this.v),this.a&&(this.a.b.removeEventListener("sync",this.update),this.a.za.removeEventListener("sync",this.update)),Z.prototype.s.call(this)};var Wu='<svg version="1.1" class="H_icon" viewBox="0 0 12 12"><path d="m8.12 6 3.66-3.66c.29-.29.29-.76 0-1.05l-1.06-1.06c-.29-.29-.76-.29-1.05 0l-3.66 3.66-3.66-3.66c-.29-.29-.76-.29-1.05 0l-1.06 1.06c-.29.29-.3.76 0 1.05l3.66 3.66-3.66 3.66c-.29.29-.29.76 0 1.05l1.06 1.06c.29.29.76.29 1.05 0l3.66-3.66 3.66 3.66c.29.29.76.29 1.05 0l1.06-1.06c.29-.29.3-.76 0-1.05z"></path></svg>';function Yu(t){this.c=t,this.a=this.b=null,this.i=0,this.g=22,this.f=A(this.f,this),(t=this.c.hc()).addEventListener("mapviewchange",this.m,!1,this),(t=t.a).addEventListener("add",this.j,!1,this),t.addEventListener("remove",this.o,!1,this)}function Zu(t,e){t.b&&e&&t.b===e.ga()||(t.b&&t.b.removeEventListener("tap",t.f),e?(t.b=e.ga(),t.b.addEventListener("tap",t.f),t.i=t.b.min,t.g=t.b.max):(t.b=null,t.i=0,t.g=22))}function $u(t){return window.H.service&&t.ga()instanceof window.H.service.traffic.incidents.Provider}function av(t,e){var n=t.L(),r=this;F.call(this),this.a=t,this.i=n.ownerDocument,this.f={},this.c=[],new Yu(this),this.R=ou(this.i,"div","H_ui"),this.setDirection(),this.D=A((function(t){this.m.put(t.target,t.target.Vc)}),this),this.addEventListener("alignmentchange",this.D),this.N=A((function(){this.Ml()}),this),this.addEventListener("toggleunitsystem",this.N),this.R.addEventListener("contextmenu",this.v,!1),this.R.addEventListener("MSHoldVisual",this.v,!1),this.a.addEventListener("contextmenu",this.F,!1,this),this.a.addEventListener("contextmenuclose",this.u,!1,this),this.a.xb(this.B.bind(this)),this.b=null,this.o=-1,this.m=new nu(this.R,this.i),this.g=Au.METRIC,bv(this,"en-US"),e&&cv(this,e),n.appendChild(this.R),x.setTimeout((function(){r.m.update()}),1)}function bv(t,e){if(zc(e))var n=e;else{if(!(e instanceof Ou))throw Error("The locale parameter must be a string or a H.ui.i18n.Localization object.");n=e.b;var r=e}if(!n)throw Error("No locale was defined.");if(r)t.j=r;else{if(!(0<=Ju.indexOf(n)))throw Error("Locale ["+n+"] is not supported.");t.j=new Ou(n)}}function cv(t,e){var n,r;e.unitSystem&&t.Ig(e.unitSystem),(r=e.locale)&&bv(t,r),(n=e.zoom)&&t.Md("zoom",new ev(Da(n)?n:null)),(n=e.zoomrectangle)&&t.Md("zoomrectangle",new fv(Da(n)?n:null)),(n=e.mapsettings)&&t.Md("mapsettings",new gv(Da(n)?n:null)),(n=e.scalebar)&&t.Md("scalebar",new hv(Da(n)?n:null)),(n=e.distancemeasurement)&&t.Md("distancemeasurement",new iv(Da(n)?n:null))}function jv(t,e,n){var r,i=e.raster;if(e=e.vector.normal,t===zl.P2D){if(t=[{label:"layers.normal",layer:i.normal.map},{label:"layers.satellite",layer:i.satellite.map},{label:"layers.terrain",layer:i.terrain.map}],n)for(r in i)if(i[r].map===n){var o=r;break}n=[{label:"layer.incidents",layer:i.normal.trafficincidents},{label:"layer.transit",layer:o&&i[o].transit}]}else t=[{label:"layers.normal",layer:e.map},{label:"layers.satellite",layer:i.satellite.map}],n=[{label:"layer.traffic",layer:e.traffic},{label:"layer.incidents",layer:e.trafficincidents}];return{alignment:"bottom-right",baseLayers:t,layers:n}}function lv(t){t=t||{},Z.call(this,"div","H_btn"),this.Oc(t.label||" "),this.qc(t.tooltip||""),this.setData(t.data),this.Ca(!!t.disabled),this.O(mv.UP,!0),t.onStateChange&&this.addEventListener("statechange",t.onStateChange),this.f=A(this.f,this),this.b=A(this.b,this)}Yu.prototype.m=function(t){var e=t.newValue.zoom;this.a&&t.modifiers&t.ZOOM&&(e<this.i||e>this.g)&&this.a.close()},Yu.prototype.j=function(t){$u(t=t.added)&&Zu(this,t)},Yu.prototype.o=function(t){$u(t.removed)&&(this.a&&this.a.close(),Zu(this,null))},Yu.prototype.f=function(t){var e;if(t.target&&(e=t.target.getData())&&0===t.currentPointer.button){this.a||(this.a=new Uu(t.target.ba()),this.a.La("H_tib"),this.c.sj(this.a)),this.a.setPosition(t.target.ba());var n=e.TRAFFIC_ITEM_TYPE_DESC.replace(" ","_");n=this.c.Aa().Kh("traffic."+n)?this.c.Aa().translate("traffic."+n):e.TRAFFIC_ITEM_DESCRIPTION[e.TRAFFIC_ITEM_DESCRIPTION.length-1].value,this.a.vf('<div class="H_tib_content"><div class="H_rdo_title" dir="auto">{{title}}</div><div class="H_tib_desc" dir="auto"><span>{{desc}}</span><div class="H_tib_time"><span class="H_tib_left">{{traffic.from}}</span><span class="H_tib_right">{{from}}</span><br/><span class="H_tib_left">{{traffic.until}}</span><span class="H_tib_right">{{until}}</span></div></div>'.replace("{{title}}",n).replace("{{desc}}",e.TRAFFIC_ITEM_DESCRIPTION[0].value).replace("{{traffic.from}}",this.c.Aa().translate("traffic.from")).replace("{{traffic.until}}",this.c.Aa().translate("traffic.until")).replace("{{from}}",e.START_TIME).replace("{{until}}",e.END_TIME)),this.a.open()}t.stopPropagation()},u(av,F),t("H.ui.UI",av),av.prototype.v=function(t){for(var e=t.target;e&&!/\bH_ib_content\b/.test(e.className);)e=e.parentNode;e||t.preventDefault()},av.prototype.L=function(){return this.R},av.prototype.getElement=av.prototype.L,av.prototype.hc=function(){return this.a},av.prototype.getMap=av.prototype.hc,av.prototype.On=function(){return this.g},av.prototype.getUnitSystem=av.prototype.On,av.prototype.Ig=function(t){var e,n=this.f;if(t!==this.g)for(e in this.g=t,n)n[e]instanceof dv&&n[e].onUnitSystemChange(this.g)},av.prototype.setUnitSystem=av.prototype.Ig,av.prototype.setDirection=function(t){this.R.setAttribute("dir",t||getComputedStyle(this.hc().L()).direction)},av.prototype.setDirection=av.prototype.setDirection,av.prototype.Aa=function(){return this.j},av.prototype.Ml=function(){this.g===Au.METRIC?this.Ig(Au.IMPERIAL):this.Ig(Au.METRIC)},av.prototype.toggleUnitSystem=av.prototype.Ml,av.prototype.sj=function(t){var e=this.c.length,n=this.R;if(0>this.c.indexOf(t)){t.ka(this),t.Ia(this.a);var r=t.U(this.i);e=0<e?this.c[e-1].L().nextSibling:this.R.firstChild,n.insertBefore(r,e),this.c.push(t)}},av.prototype.addBubble=av.prototype.sj,av.prototype.F=function(t){var e=t.items;this.b&&this.u(),clearTimeout(this.o),this.o=x.setTimeout(function(){e.length&&(this.b=new Tu(e),this.R.insertBefore(this.b.U(this.i),this.R.firstChild),this.b.ka(this),this.b.Ia(this.a),this.b.setPosition(t.viewportX,t.viewportY))}.bind(this),0)},av.prototype.u=function(){this.b&&(this.b.B(),this.b=null)},av.prototype.Po=function(t){var e=this.c.indexOf(t);-1<e&&(t.ka(null),t.Ia(null),this.c.splice(e,1),this.R.removeChild(t.L()))},av.prototype.removeBubble=av.prototype.Po,av.prototype.Dm=function(){return this.c},av.prototype.getBubbles=av.prototype.Dm,av.prototype.Md=function(t,e){if(this.Ue(t))throw Error("A control with name ["+t+"] is already registered.");e.ka(this),e.Ia(this.a),e.Da=this.j,e.U(this.i),e.onUnitSystemChange(this.g),this.f[t]=e},av.prototype.addControl=av.prototype.Md,av.prototype.Ro=function(t){var e=this.Ue(t);if(!e)throw Error("Control ["+t+"] not found in this UI's controls.");return e.S(),e.ka(null),e.Ia(null),Pu(e),delete this.f[t],e},av.prototype.removeControl=av.prototype.Ro,av.prototype.Ue=function(t){return this.f[t]},av.prototype.getControl=av.prototype.Ue,av.prototype.s=function(){for(var t in this.f)ju.hasOwnProperty.call(this.f,t)&&this.f[t].B();this.c.forEach((function(t){t.B()})),(t=this.R.parentNode)&&t.removeChild(this.R),F.prototype.s.call(this),this.R=null},av.prototype.capture=function(t,e,n,r){var i=this.Ue("scalebar"),o=t.getContext("2d"),a=t.width,s=t.height,l=this.a.o,u=5+(l?l.L().childNodes[1].offsetHeight:0);i&&i.Bc()?i.capture(e,(function(r){o.drawImage(r,a-r.width-5*e,s-r.height-u*e),n(t)}),r):n(t)},av.prototype.capture=av.prototype.capture,av.createDefault=function(t,e,n){var r=t.gc().type;if(n=new av(t,{unitSystem:Au.METRIC,zoom:{alignment:"right-bottom"},mapsettings:jv(r,e,t.c),scalebar:{alignment:"bottom-right"},locale:n||"en-US"}),r===zl.P2D){var i=n.Ue("mapsettings"),o=function(){if(i.hc()){var n=jv(r,e,t.c);kv(i,n.baseLayers,n.layers)}};t.addEventListener(t.m.Df,o),n.xb((function(){t.removeEventListener(t.m.Df,o)})),i.xb((function(){t.removeEventListener(t.m.Df,o)}))}return n},u(lv,Z),t("H.ui.base.Button",lv),lv.prototype.Ca=function(t,e){return t&&this.pb("H_active"),lv.l.Ca.call(this,t,e)},lv.prototype.Y=function(t){Hu(t,"start",this.f),Hu(t,"end",this.b),Hu(t,"out",this.b),this.Oc(this.Xe(),!0)},lv.prototype.renderInternal=lv.prototype.Y,lv.prototype.getState=function(){return this.A},lv.prototype.getState=lv.prototype.getState,lv.prototype.O=function(t,e){return t!==this.A&&(this.A=t,t===mv.DOWN?this.La("H_active"):this.pb("H_active"),e||this.dispatchEvent("statechange")),this},lv.prototype.setState=lv.prototype.O,lv.prototype.Xe=function(){return this.a},lv.prototype.getLabel=lv.prototype.Xe,lv.prototype.Oc=function(t,e){return(e||t!==this.a)&&(this.a=t,(e=this.L())&&(e.innerHTML=t)),this},lv.prototype.setLabel=lv.prototype.Oc,lv.prototype.f=function(t){this.kc()||this.O(mv.DOWN),t.preventDefault()},lv.prototype.b=function(t){this.kc()||this.O(mv.UP),t.preventDefault()},lv.prototype.s=function(){var t=this.L();t&&(Iu(t,"start",this.f),Iu(t,"end",this.b),Iu(t,"out",this.b)),Z.prototype.s.call(this)};var mv={UP:"up",DOWN:"down"};function nv(t){var e;t=t||{},this.f=!!t.vertical,this.sa=t.length||"16em",this.a=Cc(e=t.min)?e:0,this.o=wd(this.a,Cc(e=t.max)?e:100),this.wa=E(e=t.step)?1:e,this.m=ov(this,Cc(e=t.value)?e:(this.a+this.o)/2),this.qg=A(this.qg,this),this.mg=A(this.mg,this),this.sg=A(this.sg,this),this.rg=A(this.rg,this),this.b=t.pointerArea,Z.call(this,"div","H_slider"+(this.f?"":" H_l_horizontal"))}function pv(t){t.u||(Hu(t.L(),"start",t.qg),Hu(t.b,"move",t.mg),Hu(t.b,"end",t.sg),Hu(t.b,"out",t.rg),t.u=!0)}function qv(t){t.u&&(Iu(t.L(),"start",t.qg),Iu(t.b,"move",t.mg),Iu(t.b,"end",t.sg),Iu(t.b,"out",t.rg),t.u=!1)}function ov(t,e){var n=t.wa;return e=Yd(e,t.a,t.o),n?t.a+xd((e-t.a)/n)*n:e}function rv(t,e){var n=t.D,r=t.f;t.v||(t.v=n["offset"+(r?"Height":"Width")]),0>(e-=ku(n)[r?"y":"x"])&&(e=0),e=(t.o-t.a)*e/t.v,e=ov(t,r?t.o-e:t.a+e),t.m!==e&&(t.Jg(e,!0),t.dispatchEvent(new Ng(t.Hk.nd,e,t.m)))}function sv(t,e){return(e.touches?e.targetTouches[0]:e)["page"+(t.f?"Y":"X")]}function tv(t){var e=!1,n=t.type;return-1!==n.indexOf("pointer")||-1!==n.indexOf("touch")?e=!0:C(t,MouseEvent)&&(e=1===t.which||1===t.buttons),e}function uv(t){var e=t.touches;return e&&1===e.length||C(t,MouseEvent)}lv.State=mv,u(nv,Z),t("H.ui.base.Slider",nv),nv.prototype.Jg=function(t,e){var n=this.f,r=n?"top":"left";return this.i&&!e||(t=Yd(t,this.a,this.o),this.j&&(n=(n?-1:1)*(e=100*(t-this.a)/(this.o-this.a)),this.j.style[r]=n+"%",this.Da.style[r]=100+n+"%"),this.m=ov(this,t)),this.m},nv.prototype.setValue=nv.prototype.Jg,nv.prototype.Pn=function(){return this.m},nv.prototype.getValue=nv.prototype.Pn,n=nv.prototype,n.qg=function(t){var e=this.f;if(tv(t)&&uv(t)){var n=sv(this,t),r=t.target;r===this.j||r.parentElement===this.j?(this.V=n-ku(this.j)[e?"y":"x"]-this.j.offsetWidth/2,this.L().className="H_slider H_slider_active"+(this.f?"":" H_l_horizontal"),this.i=!0):rv(this,n),t.preventDefault()}},n.sg=function(){this.i&&(this.L().className="H_slider "+(this.f?"":" H_l_horizontal"),this.i=!1)},n.rg=function(t){this.i&&t.target===this.b&&(this.i=!1)},n.mg=function(t){this.i&&uv(t)&&(tv(t)?(rv(this,sv(this,t)-this.V),t.preventDefault()):this.i=!1)},n.Hk={nd:"change"},n.Y=function(t,e){var n=ou(e,"div","H_slider_cont"),r=ou(e,"div","H_slider_knob_cont"),i=ou(e,"div","H_slider_knob"),o=ou(e,"div","H_slider_knob_halo"),a=ou(e,"div","H_slider_track");e=ou(e,"div","H_slider_track H_slider_track_active"),t.appendChild(n),n.appendChild(a),a.appendChild(e),n.appendChild(r),r.appendChild(i),r.appendChild(o),this.D=a,this.Da=e,this.j=r,this.b||(this.b=t.ownerDocument.body),n.style[this.f?"height":"width"]=this.sa,this.Jg(this.m),pv(this)},nv.prototype.renderInternal=nv.prototype.Y,nv.prototype.s=function(){qv(this)},nv.prototype.Ca=function(t,e){return t?qv(this):this.D&&pv(this),Z.prototype.Ca.call(this,t,e)},nv.prototype.setDisabled=nv.prototype.Ca;var vv={in:'<svg version="1.1" class="H_icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><path d="m5 10.6h5.6v-5.6h2.8v5.6h5.6v2.8h-5.6v5.6h-2.8v-5.6h-5.6v-2.8z"></path></g></svg>',out:'<svg version="1.1" class="H_icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path d="m5 10.6h14v2.8h-14z"/></svg>'};function dv(){Qu.call(this,"div","H_ctl"),this.map=null,this.Vc="top-left"}function ev(t){var e=(t=t||{}).slider;dv.call(this),this.m=A(this.m,this),this.i=A(this.i,this),this.a=A(this.a,this),e&&(this.v=A(this.v,this),this.D=e,this.Ja=t.sliderSnaps,this.La("H_zoom_slider")),this.j=new lv({label:vv.in,onStateChange:this.m}),this.u=new lv({label:vv.out,onStateChange:this.m}),this.La("H_zoom"),this.La("H_grp"),this.wa=!1!==t.fractionalZoom,this.setZoomSpeed(t.zoomSpeed||4),this.Yb(t.alignment||"right-middle")}function wv(t){t.removeChild(t.f),t.f=null,t.o&&(t.o.removeEventListener("minchange",t.a),t.o.removeEventListener("maxchange",t.a),t.o=null)}u(dv,Qu),t("H.ui.Control",dv),dv.prototype.Ia=function(t){this.map=t},dv.prototype.U=function(t){return Qu.prototype.U.call(this,t)},dv.prototype.Y=function(t,e){Qu.prototype.renderInternal.call(this,t,e),this.Yb(this.Vc)},dv.prototype.renderInternal=dv.prototype.Y,dv.prototype.jf=function(){},dv.prototype.onUnitSystemChange=dv.prototype.jf,dv.prototype.hc=function(){return this.map},dv.prototype.getMap=dv.prototype.hc,dv.prototype.Aa=function(){return this.Da},dv.prototype.getLocalization=dv.prototype.Aa,dv.prototype.ym=function(){return this.Vc},dv.prototype.getAlignment=dv.prototype.ym,dv.prototype.Yb=function(t){return"string"===typeof t&&mu[t.replace("-","_").toUpperCase()]===t&&(this.Vc=t,this.dispatchEvent("alignmentchange")),this},dv.prototype.setAlignment=dv.prototype.Yb,u(ev,dv),t("H.ui.ZoomControl",ev),ev.prototype.Un=function(){return this.V},ev.prototype.getZoomSpeed=ev.prototype.Un,ev.prototype.cp=function(t){this.V=t},ev.prototype.setZoomSpeed=ev.prototype.cp,ev.prototype.Ia=function(t){this.map!==t&&(this.map&&this.map.removeEventListener("mapviewchange",this.i),wv(this)),dv.prototype.Ia.apply(this,arguments),this.map&&(this.a(),t.addEventListener("mapviewchange",this.i),t.addEventListener("baselayerchange",this.a))},ev.prototype.setMap=ev.prototype.Ia,ev.prototype.s=function(){dv.prototype.s.apply(this,arguments),this.map.removeEventListener("baselayerchange",this.a),wv(this)},ev.prototype.Y=function(t,e){dv.prototype.renderInternal.call(this,t,e),this.j.qc(this.Aa().translate("zoom.in")),this.u.qc(this.Aa().translate("zoom.out"))},ev.prototype.renderInternal=ev.prototype.Y,ev.prototype.Yb=function(t){var e=this.Vc;return dv.prototype.Yb.call(this,t),e!==t&&this.a(),this},ev.prototype.setAlignment=ev.prototype.Yb,ev.prototype.i=function(){var t=this.map,e=t.ub(),n=t.$a()-1;t=t.c||t.gc().getCapabilities().lookAt.zoom,this.D&&this.f.Jg(e),this.kc()||(this.j.Ca(e+n>=t.max),this.u.Ca(e<=t.min))},ev.prototype.Ca=function(t,e){return ev.l.Ca.call(this,t,e),this.i(),this},ev.prototype.setDisabled=ev.prototype.Ca,ev.prototype.m=function(t){var e,n=(t=t.target)===this.j?1:-1,r=0<n?Math.ceil:Math.floor,i=this.map,o=this;i&&("down"===t.getState()?(i.b.startControl(),i.b.control(0,0,n*this.V,0,0,0)):i.b.endControl(!0,(function(t){e=o.wa?t.zoom:r(t.zoom),t.zoom=e})))},ev.prototype.v=function(t){this.map&&this.map.xf(t.newValue)},ev.prototype.a=function(){var t=this.Vc,e=this.hc();if(/^top/g.test(t)||/^bottom/g.test(t)){var n=this.u;t=this.j;var r=!1}else n=this.j,t=this.u,r=!0;if(this.removeChild(n),this.removeChild(t),this.Ka(n),this.D&&e){wv(this),e=r;var i=(r=(n=this.map)&&n.c)||n.gc().getCapabilities().lookAt.zoom;(this.o=r)&&(r.addEventListener("minchange",this.a),r.addEventListener("maxchange",this.a)),this.f=new nv({step:this.Ja?1:0,vertical:e,min:i.min,max:i.max,value:n.ub(),pointerArea:n.L()}),this.f.addEventListener(this.f.Hk.nd,this.v),this.Ka(this.f)}this.Ka(t)};var xv={btn:'<svg class="H_icon" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><g transform="translate(3 2)"><path d="m18 13v7h-18v-7h2v5h2v-2h2v2h2v-3h2v3h2v-2h2v2h2v-5z"></path><path d="m2.3.3c.7 0 1.3.1 1.8.4s.9.6 1.1 1 .4.9.4 1.4c0 .5-.1 1-.3 1.4s-.57 1-1 1.6-1.3 1.3-2.3 2.2h3.9l-.2 1.7h-6.16v-1.6c1.1-1.1 2-2 2.5-2.6s.9-1 1-1.4.3-.8.3-1.2c0-.4-.1-.7-.3-.9s-.5-.3-.9-.3c-.3 0-.6 0-.9.2s-.5.4-.8.7l-1.3-1c.4-.5.9-.9 1.4-1.2s1.2-.4 1.8-.4zm14.4 9.7h-2.3l-.2-3.8c 0-.9-.1-1.7-.1-2.4 0-.5 0-1 0-1.5l-1.5 6.7h-2.2l-1.6-6.7c.1.8.1 1.6.1 2.3 0 .5 0 1.1 0 1.7l-.2 3.8h-2.2l.7-9.7h2.9l1.5 6.6 1.4-6.6h2.9z"></path></g></g></svg>',point:'<svg height="22" viewBox="0 0 12 12" width="22" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="m6 12c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z" fill="#fff"></path><path d="m6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4z" fill="#2ed5c9" stroke="#272c36" stroke-width="2"></path></g></svg>'};function yv(t){lv.call(this,t),this.j=function(t){t.preventDefault()},this.i=A((function(t){this.kc()||this.toggleState(),t.preventDefault()}),this)}u(yv,lv),t("H.ui.base.PushButton",yv),yv.prototype.Y=function(t){Hu(t,"start",this.i),Hu(t,"end",this.j),this.Oc(this.Xe(),!0)},yv.prototype.renderInternal=yv.prototype.Y,yv.prototype.kp=function(){var t=mv.DOWN;return this.O(this.getState()===t?mv.UP:t),this},yv.prototype.toggleState=yv.prototype.kp,yv.prototype.s=function(){var t=this.L();t&&Iu(t,"start",this.i),lv.prototype.s.call(this)};var Xu,zv=navigator.userAgent,Av=-1<zv.indexOf("Android")&&-1<zv.indexOf("Mozilla/5.0")&&-1<zv.indexOf("AppleWebKit"),Bv=/AppleWebKit\/([\d.]+)/,Cv=null===Bv.exec(zv)?null:parseFloat(Bv.exec(zv)[1]);Xu=Av&&null!==Cv&&537>Cv;var Dv=Function("return this")(),Su=document.createElement("T");function Ev(t,e,n){Qi.call(this,t,{icon:Fv,visibility:n}),Gv(this,e)}function Gv(t,e){t.mo=e,t.R&&(t.R.textContent=e)}u(Ev,Qi);var Fv=new Hi(ou(Dv.document,"span","H_dm_label"),{onAttach:function(t,e,n){n.R=t,Gv(n,n.mo)},onDetach:function(t,e,n){delete n.R}});function Hv(t,e){F.call(this),this.f=t,this.a=new Ev(this.S,""),e.push(this.a),this.b=new Q({objects:e,data:this}),this.j=this.j.bind(this)}function Iv(t,e){e&&(t.nextSibling=e,e.previousSibling=t)}function Jv(t,e,n,r){var i=new L,o=[];Iv(t,this),Iv(this,e),i.Ed(t.Ba()),i.Ed(e.Ba()),this.i=new nh(i,{style:n.le}),this.u=new nh(i,{style:{strokeColor:"transparent",lineWidth:Math.min(100,this.i.ua().lineWidth+2*(r||5))}}),n.c&&(this.m=new nh(i,{style:n.c}),o.push(this.m)),o.push(this.i,this.u),Hv.call(this,n,o),this.F=this.v=-1,(t=this.b).addEventListener("pointermove",this.N,!0,this),t.addEventListener("pointerleave",this.D,!0,this)}function Kv(t,e,n){var r=t.i.ba();r.zf(3*n,3,[e.lat,e.lng,0]),t.m&&t.m.da(r),t.u.da(r),t.i.da(r)}function Lv(t,e,n){n=e.b(n||0),this.i=new yn(t,{icon:n,zIndex:0}),this.i.draggable=!0,Hv.call(this,e,[this.i]),(t=this.b).addEventListener("dragstart",this.zo,!0,this),t.addEventListener("drag",this.Ao,!0,this),t.addEventListener("dragend",this.yo,!0,this)}function Mv(t){var e=0;t.nextSibling&&t.previousSibling&&(t.nextSibling.g||t.previousSibling.g?t.nextSibling.g&&!t.previousSibling.g&&(e=2):e=1),e=t.f.b(e),t.i.Nc(e)}function Nv(t,e){this.c=e,this.b=t,this.a={previousSibling:null,nextSibling:null,g:!0},Ov(this,this.a),this.pg=A(this.pg,this)}function Pv(t,e){for(var n=(t=t.a).nextSibling;n!==t;){var r=n,i=n.previousSibling!==t&&e;(r.c=i)?r.j():(r.o&&x.clearTimeout(r.o),r.o=x.setTimeout(r.j,100)),n=n.nextSibling}}function Qv(t,e){var n=e||t.a.nextSibling,r=0,i=0;if(e&&!Rv(t,e))throw new D(t.qf,0,e);for(n instanceof Lv?r=n.We():n instanceof Jv&&(r=n.previousSibling.We()),e=n;e&&e!==t.a;e=e.nextSibling,i++)e.Ei(r),1===i%2&&(r+=e.We())}function Rv(t,e){for(var n=t.a.nextSibling,r=!1;n!==t.a;){if(n===e){r=!0;break}n=n.nextSibling}return r}function Sv(t,e,n){e=new Jv(e,n,t.c),t.b.ea(e.b)}function Ov(t,e){t.a.nextSibling=e,e.previousSibling=t.a}function iv(t){var e,n=(t=t||{}).lineStyle;dv.call(this),this.u=new yv({label:xv.btn,onStateChange:A(this.wo,this)}),this.Ka(this.u),(e=t.distanceFormatter)&&(this.Ij=e),n&&(this.tk=n,this.Sk=B),this.Yb(t.alignment||"right-bottom"),this.o={},this.o[0]=t.startIcon,this.o[2]=t.endIcon,this.o[1]=t.stopoverIcon,this.o[3]=t.splitIcon}function Tv(t){var e,n=t.map,r={};t.i||(t.j=new N,t.f=new ll(t.j,{pixelRatio:t.map.$a()}),t.v=e=t.j.ic(),t.v.Bl(!0),e.addEventListener("dragstart",t.uo,!0,t),e.addEventListener("dragend",t.yf,!0,t),e.addEventListener("pointerenter",t.yf,!0,t),e.addEventListener("pointerleave",t.vo,!0,t),e.addEventListener("tap",t.Jo,!0,t),t.m=Uv(t),r.a=A(t.Ij,t),r.b=A(t.Dk,t),r.g=A(t.Wj,t),r.map=t.map,r.f=t.m,r.le=t.tk,r.c=t.Sk,t.a=new Nv(t.v,r),t.i=!0),t.m&&t.v.ea(t.m),n.addEventListener("tap",t.Pk,!0,t),n.a.add(t.f)}function Vv(t){var e=t.map;t.i&&(e.removeEventListener("tap",t.Pk,!0,t),e.pf(t.f),t.a.pa())}function Uv(t){function e(){var t=r.Bb();return t={anchor:r.td().clone().scale(o).floor(),size:new Ki(yd(t.w*o),yd(t.h*o)),hitArea:i},new Ij(r.ad(),t)}var n,r=t.Dk(3),i=new Li(Mi.NONE,[]),o=r===t.D?.5:1;if(1===r.getState())var a=e();else a=new Ij("<svg/>",{hitArea:i}),r.addEventListener("statechange",(function(){1===r.getState()&&n.Nc(e())}));return n=new yn(t.map.kb(),{visibility:!1,icon:a})}function Wv(){this.A=Xv.CLOSED,Qu.call(this,"div","H_overlay")}u(Hv,F),Hv.prototype.g=!1,Hv.prototype.S={lat:0,lng:0},Hv.prototype.Oc=function(t,e){Gv(this.a,t),this.a.da(e)},Hv.prototype.j=function(){this.a.vb(this.c)},u(Jv,Hv),Jv.prototype.We=function(){var t=this.i.ba();return t.Pe(0).Za(t.Pe(1))},Jv.prototype.N=function(t){var e=t.currentPointer;t=this.previousSibling.Ba();var n=this.nextSibling.Ba(),r=this.f.f,i=e.viewportX;e=e.viewportY,this.v===i&&this.F===e||(this.v=i,this.F=e,r.da(this.f.g(t,n,{x:i,y:e})),r.vb(!0))},Jv.prototype.D=function(){this.f.f.vb()},Jv.prototype.Ei=function(){this.Oc(this.f.a(this.We()),this.i.I().kb())},u(Lv,Hv),n=Lv.prototype,n.Ik=0,n.ii={nd:"change"},n.We=function(){return this.Ik},n.Ba=function(){return this.i.ba()},n.Ao=function(t){var e=t.currentPointer;t=e.viewportX,e=e.viewportY,this.u===t&&this.v===e||(this.u=t,this.v=e,this.i.da(this.f.map.Xa(t-this.m.x,e-this.m.y)),this.dispatchEvent(new rd(this.ii.nd,this)))},n.zo=function(t){var e=t.currentPointer,n=e.viewportX;e=e.viewportY;var r=this.f.map.Fa(this.Ba());this.i.xe(1),this.m={x:n-r.x,y:e-r.y},t.stopPropagation()},n.yo=function(){this.i.xe(0)},n.Ei=function(t){this.Ik=t,this.Oc(this.f.a(t),this.Ba())},t("H.ui.distanceMeasurement.Model",Nv),n=Nv.prototype,n.hg=function(){return this.a.nextSibling===this.a},n.Fe=function(t){var e=this.a.previousSibling,n=this.hg();return t=new Lv(t,this.c,n?0:2),this.b.ea(t.b),Iv(t,this.a),t.addEventListener(t.ii.nd,this.pg),n?Ov(this,t):(Sv(this,e,t),Mv(e),Qv(this,e)),t},n.insertBefore=function(t,e){var n,r=1;if(e){if(!Rv(this,e))throw new D(this.insertBefore,1,e);(n=e.previousSibling.g)&&(r=0),(t=new Lv(t,this.c,r)).addEventListener(t.ii.nd,this.pg),this.b.ea(t.b),n?(Sv(this,t,n=this.a.nextSibling),Ov(this,t),e=t,Mv(n)):(e=(n=e.previousSibling).previousSibling,r=n.nextSibling,this.b.Ha(n.b),Sv(this,e,t),Sv(this,t,r)),Qv(this,e)}else t=this.Fe(t);return t},n.pa=function(){Ov(this,this.a),this.b.pa()},n.qf=function(t){var e=this.a,n=t.previousSibling,r=t.nextSibling;if(!Rv(this,t))throw new D(this.qf,0,t);if(this.b.Ha(t.b),n===e){var i=r;i!==e?(Ov(this,t=i.nextSibling),t.Ei(0),Mv(t),Qv(this,t)):Ov(this,this.a)}else r===e?(Iv(t=(i=n).previousSibling,e),Mv(t)):n&&r&&(Sv(this,n.previousSibling,r.nextSibling),this.b.Fd([r.b,n.b]),Qv(this,n.previousSibling));i&&i!==e&&this.b.Ha(i.b)},n.pg=function(t){var e=(t=t.target).previousSibling,n=t.nextSibling,r=t.Ba();if(!n.g){Kv(n,r,!1);var i=t}e.g||(Kv(e,r,!0),i=e.previousSibling),Qv(this,i)},u(iv,dv),t("H.ui.DistanceMeasurement",iv),n=iv.prototype,n.tk={strokeColor:"rgb(39,44,54)",lineWidth:5},n.Sk={strokeColor:"white",lineWidth:7},n.Ij=function(t){var e="m",n=0;return"metric"===this.V?1e3<=t&&(t/=1e3,e="km",n=1):(e="ft",5280<=(t/=.3048)&&(t/=5280,e="mi",n=1)),t.toFixed(n)+" "+this.Aa().translate("scale."+e)},n.Wj=function(t,e,n){return t=this.map.Fa(t),e=this.map.Fa(e),n=new I(n.x,n.y).Vj(t,e),this.map.Xa(n.x,n.y)},n.Y=function(t,e){var n=22*(this.map.gc().type===un.P2D?this.map.$a():1),r=n/2;dv.prototype.renderInternal.call(this,t,e),this.V=Au.METRIC,this.D=new Ij(xv.point,{anchor:{x:r,y:r},size:{w:n,h:n},hitArea:new Li(Mi.CIRCLE,[r,r,r])}),this.u.qc(this.Aa().translate("distance.measurement"))},iv.prototype.renderInternal=iv.prototype.Y,n=iv.prototype,n.Dk=function(t){return this.o[t]||this.D},n.yf=function(){Pv(this.a,!0)},n.uo=function(){Pv(this.a)},n.vo=function(t){"touch"!==t.currentPointer.type&&Pv(this.a)},n.Jo=function(t){var e,n=t.currentPointer,r=t.target.Wa;r&&(r=r.getData())instanceof Hv&&(e=r),r=e,t=(t=t.originalEvent).metaKey||t.altKey,r&&(t&&r instanceof Lv?this.a.qf(r):r instanceof Jv&&(t=r.previousSibling.Ba(),e=r.nextSibling.Ba(),n={x:n.viewportX,y:n.viewportY},this.a.insertBefore(this.Wj(t,e,n),r.nextSibling),this.m.vb()),this.yf())},n.Pk=function(t){var e=t.currentPointer;(t=t.target)!==this.map&&t.getProvider&&t.getProvider()===this.j||(this.a.Fe(this.map.Xa(e.viewportX,e.viewportY)),this.m.vb(),this.yf())},n.wo=function(t){"down"===t.target.getState()?Tv(this):Vv(this)},n.jf=function(t){this.V=t,this.i&&(Qv(this.a),this.yf())},iv.prototype.onUnitSystemChange=iv.prototype.jf,iv.prototype.s=function(){Vv(this),this.i&&(this.j.B(),this.f.B()),iv.l.s.call(this)},iv.prototype.Ia=function(t){t?this.u.getState()===mv.DOWN&&(this.map=t,Tv(this)):(Vv(this),this.i=!1),dv.prototype.Ia.apply(this,arguments)},iv.prototype.setMap=iv.prototype.Ia,u(Wv,Qu),t("H.ui.base.OverlayPanel",Wv),Wv.prototype.O=function(t,e){return(t!==this.A||e)&&(this.A=t,t===Xv.OPEN?this.La("H_open"):this.pb("H_open")),this},Wv.prototype.setState=Wv.prototype.O,Wv.prototype.getState=function(){return this.A},Wv.prototype.getState=Wv.prototype.getState,Wv.prototype.Xk=function(t){var e=t.Vc;t=t.L();var n=this.L(),r=n.style;if(this.pb("H_top"),this.pb("H_middle"),this.pb("H_bottom"),this.pb("H_left"),this.pb("H_center"),this.pb("H_right"),r.bottom=r.top=r.left=r.right=r.margin="",/top/g.test(e)){this.La("H_top"),r.top="0",r.margin="0 12px";var i=-1}else/bottom/g.test(e)?(this.La("H_bottom"),r.bottom="0",r.margin="0 12px",i=1):(this.La("H_middle"),r.top="50%",r.margin="0 12px",r.marginTop=-Math.round(.5*n.offsetHeight)+"px",i=0);/left/g.test(e)?(this.La("H_left"),r.left=t.offsetWidth+"px",r.marginLeft="12px"):/right/g.test(e)?(this.La("H_right"),r.right=t.offsetWidth+"px",r.marginRight="12px"):(this.La("H_center"),r.left="50%",0>i?(r.top=t.offsetHeight+"px",r.marginTop="12px"):0<i&&(r.bottom=t.offsetHeight+"px",r.marginBottom="12px"),r.marginLeft=-Math.round(.5*n.offsetWidth)+"px",t.appendChild(n))},Wv.prototype.pointToControl=Wv.prototype.Xk;var Xv={OPEN:"open",CLOSED:"closed"};function Yv(t){t=t||{},Qu.call(this,"div","H_rdo"),this.i=new Z("div","H_rdo_title"),this.a=new Qu("div","H_rdo_buttons"),this.Ka(this.i),this.Ka(this.a),this.j=A((function(t){t.target.getState()===mv.DOWN?(this.nl(t.target,!0),this.dispatchEvent(Zv)):t.target.O(mv.DOWN,!0)}),this),this.addEventListener("statechange",this.j),this.Ri(t.title||""),t.onActiveButtonChange&&this.addEventListener(Zv,t.onActiveButtonChange),t.buttonsOptions&&t.buttonsOptions.forEach((function(t){this.Ug(new yv(t))}),this)}Wv.State=Xv,u(Yv,Qu),t("H.ui.base.RadioGroup",Yv);var Zv="activebuttonchange";function gv(t){t=t||{},dv.call(this),this.i=new Wv,new Yv,this.a=this.a.bind(this),this.m=this.m.bind(this),this.u=this.u.bind(this),this.Yb(t.alignment||"bottom-right"),kv(this,t.baseLayers,t.layers)}function kv(t,e,n){var r=t.hc();t.f&&t.f.forEach((function(t){var e=t.layer;t=e&&iu(n,(function(t){return t.layer===e})),e&&!t&&r.pf(e)})),t.o=yc(e)?e:[],t.f=yc(n)?n:[],t.j&&(t.j.pa(),t.v.pa(),$v(t))}function $v(t){var e=t.Aa();t.o.forEach((function(t,n){this.j.Ug(new yv({label:aw(e,t.label),data:n,disabled:!t.layer}))}),t),t.f.forEach((function(t,n){this.v.Ka(new yv({label:aw(e,t.label),onStateChange:this.wa.bind(this,t.layer),data:n,disabled:!t.layer}))}),t),t.V.vb(!(!t.f.length||!t.o.length)),x.setTimeout(function(){this.map&&(this.a(),this.D.Ca(!(this.o&&this.o.length||this.f&&this.f.length)))}.bind(t))}function dw(t,e){var n,r,i={},o=e.ga(),a=window.H.service&&window.H.service.omv.Provider;if(a&&e.ga()instanceof a&&o.ua().Oe){var s=o.ua(),l=function(){var t=ew.ground.filter((function(t){return!!s.Eh("layers."+t)})),a=ew.water.filter((function(t){return!!s.Eh("layers."+t)}));t.concat(a).length&&(vh(i,s.Oe(t)),vh(i,s.Oe(a,!1,!0)),delete i.global,n=new Th(i,s.fc()),(r=o.o.pd(n)).Pg=e,this.map.Wg(r)),s.removeEventListener(Sh.CHANGE,l)}.bind(t);s.getState()!==Qh.READY?s.addEventListener(Sh.CHANGE,l):l()}}function bw(t){return iu(t.map.a.Ma(),(function(t){return!!t.Pg}))}function cw(t){t=t.map.a.Ma();var e=window.H.service&&window.H.service.traffic.flow.Provider;return!!e&&t.some((function(t){return t.ga()instanceof e}))}Yv.prototype.Y=function(t,e){Qu.prototype.renderInternal.call(this,t,e),this.Ri(this.f,!0)},Yv.prototype.renderInternal=Yv.prototype.Y,Yv.prototype.pa=function(){this.a.pa()},Yv.prototype.Ri=function(t,e){return(t!==this.f||e)&&(this.f=t,this.i.L()&&(this.i.L().innerHTML=this.f)),this},Yv.prototype.setTitle=Yv.prototype.Ri,Yv.prototype.Ln=function(){return this.f},Yv.prototype.getTitle=Yv.prototype.Ln,Yv.prototype.Ug=function(t){if(!(t instanceof yv))throw Error("PushButton expected");return t.ka(this),this.a.Ka(t),this},Yv.prototype.addButton=Yv.prototype.Ug,Yv.prototype.Qo=function(t){return this.a.removeChild(t),t.ka(null),this},Yv.prototype.removeButton=Yv.prototype.Qo,Yv.prototype.Vf=function(){return this.a.vh()},Yv.prototype.getButtons=Yv.prototype.Vf,Yv.prototype.nl=function(t,e){for(var n=this.Vf(),r=n.length;r--;)n[r].O(n[r]===t?mv.DOWN:mv.UP,e)},Yv.prototype.setActiveButton=Yv.prototype.nl,Yv.prototype.s=function(){this.removeEventListener("statechange",this.j),this.pa(),Qu.prototype.s.call(this)},u(gv,dv),t("H.ui.MapSettingsControl",gv),gv.prototype.fa=function(){var t=this.hc();t&&(t.addEventListener("tap",this.m),(t=t.a).addEventListener("add",this.a),t.addEventListener("remove",this.a),t.addEventListener("set",this.a))},gv.prototype.S=function(){var t=this.hc();t&&(t.removeEventListener("tap",this.m),(t=t.a).removeEventListener("add",this.a),t.removeEventListener("remove",this.a),t.removeEventListener("set",this.a))},gv.prototype.Y=function(t,e){var n=this.Aa().translate("layers.choose");dv.prototype.renderInternal.call(this,t,e),this.fa(),this.D=new yv({tooltip:n,label:'<svg xmlns="http://www.w3.org/2000/svg" class="H_icon" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M6.7,14.6 L4.5,16 L12,20.6 L19.5,16 L17.3,14.6 L19.1,13.5 L23,16 L12,23 L1,16 L4.9,13.5 L6.7,14.6 Z M12,2 L23,9 L12,16 L1,9 L12,2 Z"></path></svg>',onStateChange:A((function(t){t.target.getState()===mv.DOWN?(this.i.O(Xv.OPEN),this.i.Xk(this)):this.i.O(Xv.CLOSED)}),this)}),this.j=new Yv({title:n,onActiveButtonChange:function(){t:{for(var t=this.j.Vf(),e=t.length;e--;)if(t[e].getState()===mv.DOWN){t=t[e];break t}t=null}t=t.getData(),this.map.Jd(this.o[t].layer),this.u()}.bind(this)}),this.v=new Qu("div","H_grp"),this.V=new Z("div","H_separator"),this.Ka(this.D),this.Ka(this.i),this.i.Ka(this.j),this.i.Ka(this.V),this.i.Ka(this.v),$v(this)},gv.prototype.renderInternal=gv.prototype.Y,gv.prototype.a=function(){var t=this.map.c,e=this.map.a;this.o.forEach((function(e,n){this.j.Vf()[n].O(mv[e.layer===t?"DOWN":"UP"],!0)}),this),this.f.forEach((function(t,n){n=this.v.vh()[n],t.layer?n.O(mv[-1!==e.indexOf(t.layer)?"DOWN":"UP"],!0):n.Ca(!0)}),this)},gv.prototype.wa=function(t,e){e.target.getState()===mv.DOWN?this.map.Wg(t):this.map.pf(t),this.u()},gv.prototype.u=function(){var t;(t=bw(this))&&(t.Pg.ga().ua().gf(t.ga().ua().ud()),this.map.pf(t),t.B(),delete t.Pg);cw(this)&&dw(this,this.map.c)};var ew={water:["water.water-labels"],ground:"road_labels continent_label island_label roads.shields roads.directions truck-restriction.signs places landuse.label".split(" ")};function aw(t,e){return/^layers?/.test(e)&&t.Kh(e)?t.translate(e):e}function fv(t){t=t||{},dv.call(this),this.f=new yv({label:'<svg xmlns="http://www.w3.org/2000/svg" class="H_icon" viewBox="0 0 24 24"><g transform="translate(1 3)"><path fill-rule="nonzero" d="M5,0 L5,2 L2,2 L2,16 L5,16 L5,18 L2,18 C0.9,18 0,17 0,15.75 L0,2.25 C0,1 0.9,0 2,0 L5,0 Z M17,0 L20,0 C21.1,0 22,1 22,2.25 L22,15.75 C22,17 21.1,18 20,18 L17,18 L17,16 L20,16 L20,2 L17,2 L17,0 Z"></path><rect width="10" height="2" x="6" y="8"></rect><rect width="2" height="10" x="10" y="4"></rect></g></svg>',onStateChange:A(this.xo,this)}),this.Ka(this.f),this.Yb(t.alignment||"right-bottom")}function fw(t,e){if(e=e||{},!(t&&t instanceof kl))throw Error("Base layer is mandatory for overview UI element");dv.call(this),this.f=new yv({label:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="H_icon"><g fill-rule="evenodd" transform="translate(2 2)"><rect width="9" height="9" x="10" y="10"/><rect class="H_icon_stroke" width="18" height="18" x="1" y="1" fill="none" stroke="#000" stroke-width="2" rx="2"/></g></svg>',onStateChange:A(this.i,this)}),this.Ka(this.f),this.a=new gw(t,e.zoomDelta,e.scaleX,e.scaleY),this.Yb(e.alignment||"right-bottom"),this.Ka(this.a)}function gw(t,e,n,r){this.o=t,"number"===typeof e&&(this.Pl=e),"number"===typeof n&&(this.Tk=n),"number"===typeof r&&(this.Uk=r),Qu.call(this,"div","H_overview")}function iw(t){!t.Ld&&hw(t),t.pb("H_overview_active"),t.a.removeEventListener("mapviewchange",t.Vi,!1,t)}function hw(t,e){var n=t.a.za.element,r=t.L().style,i=n.offsetWidth/t.Tk/10;n=n.offsetHeight/t.Uk/10;var o=t.i.style;e?(r.width=i+"em",r.height=n+"em",o.width=i+"em",o.height=n+"em"):r.width=r.height="0em",t.f.za.resize()}function hv(t){t=t||{},dv.call(this),this.La("H_scalebar"),this.Yb(t.alignment||"right-bottom"),this.v=150,this.update=A(this.update,this),this.o=this.f=this.a=this.j=null}gv.prototype.m=function(){this.D.O(mv.UP)},gv.prototype.s=function(){gv.l.s.call(this),this.S()},u(fv,dv),t("H.ui.ZoomRectangle",fv),n=fv.prototype,n.xo=function(t){var e=this.map,n=e.za.element;t.target.getState()===mv.DOWN?(e.addEventListener("dragstart",this.Fk,!0,this),e.addEventListener("drag",this.Gk,!0,this),e.addEventListener("dragend",this.Ek,!0,this),(t=n.ownerDocument.createElement("div")).className="H_zoom_lasso",n.appendChild(t),this.a=t):(e.removeEventListener("dragstart",this.Fk,!0,this),e.removeEventListener("drag",this.Gk,!0,this),e.removeEventListener("dragend",this.Ek,!0,this),n.removeChild(this.a))},n.Fk=function(t){var e=this.a.style,n=t.currentPointer,r=n.viewportX;n=n.viewportY,t.target===this.map&&(t.stopPropagation(),e.width="0px",e.height="0px",e.top=n+"px",e.left=r+"px",e.display="block",this.j=n,this.i=r)},n.Gk=function(t){var e=t.currentPointer,n=e.viewportX,r=e.viewportY;e=this.i;var i=this.j,o=this.a.style;t.target===this.map&&(t.stopPropagation(),t=n-e,n=r-i,o.left=e+(0>t?t:0)+"px",o.top=i+(0>n?n:0)+"px",o.width=Math.abs(t)+"px",o.height=Math.abs(n)+"px")},n.Ek=function(t){var e=this.map,n=t.currentPointer;t.target===this.map&&(t.stopPropagation(),this.a.style.display="none",e.b.Zb({bounds:eg([e.Xa(this.i,this.j),e.Xa(n.viewportX,n.viewportY)])},!0))},n.Y=function(t,e){dv.prototype.renderInternal.call(this,t,e),this.f.qc(this.Aa().translate("zoom.rectangle"))},fv.prototype.renderInternal=fv.prototype.Y,u(fw,dv),t("H.ui.Overview",fw),fw.prototype.Jd=function(t){return this.a.Jd(t),this},fw.prototype.setBaseLayer=fw.prototype.Jd,fw.prototype.i=function(t){t.target.getState()===mv.DOWN?(hw(t=this.a,!0),t.Vi(),t.La("H_overview_active"),t.a.addEventListener("mapviewchange",t.Vi,!1,t)):iw(this.a)},fw.prototype.Y=function(t,e){dv.prototype.renderInternal.call(this,t,e),this.f.L().style.float=this.Vc.match("right")?"right":"left",this.a.Ia(this.map),this.f.qc(this.Aa().translate("minimap"))},fw.prototype.renderInternal=fw.prototype.Y,fw.prototype.s=function(){this.a.B(),Z.prototype.s.call(this)},u(gw,dv),gw.prototype.Jd=function(t){this.f.Jd(t)},gw.prototype.Y=function(t,e){yu(t,e=ou(e,"div","H_overview_map")),this.i=e},gw.prototype.renderInternal=gw.prototype.Y,n=gw.prototype,n.Pl=3,n.Tk=5,n.Uk=5,n.Ia=function(t){this.a=t,this.f=new T(this.i,this.o,{pixelRatio:this.a.$a(),engineType:this.a.gc().type}),this.f.o.L().style.display="none",this.m=this.f.b,this.j=this.a.b},n.Vi=function(t){t&&t.modifiers&t.SIZE&&hw(this,!0),(t=this.j.lb()).zoom=t.zoom-this.Pl,this.m.Zb(t)},n.s=function(){gw.l.s.call(this),iw(this),this.f.B(),this.f=this.m=this.j=this.a=this.o=this.i=null},u(hv,dv),t("H.ui.ScaleBar",hv),hv.prototype.Y=function(t,e){dv.prototype.renderInternal.call(this,t,e),t.innerHTML='<svg height="12" version="1.1" xmlns="http://www.w3.org/2000/svg"><polyline style="fill:none; stroke:white; stroke-width:4" points="2,2 2,10 98,10 98,2"/><polyline style="fill:none; stroke:black; stroke-width:2" points="2,2 2,10 98,10 98,2"/></svg><div style="padding: 0 0 0 10px"></div>',t.style.direction="ltr",this.j=t.firstChild,e=this.j.childNodes,this.a=e[0],this.f=e[1],this.o=t.lastChild,this.m=Au.METRIC,this.u=A((function(t){this.kc()||(this.dispatchEvent("toggleunitsystem"),t.preventDefault())}),this),this.i=A((function(t){t.preventDefault()}),this),Hu(t,"start",this.i),Hu(t,"end",this.u),this.qc(this.Aa().translate("scale.switchToImperial")),this.update()},hv.prototype.renderInternal=hv.prototype.Y,hv.prototype.Ia=function(t){this.map&&this.map.removeEventListener("mapviewchange",this.update),t&&t.addEventListener("mapviewchange",this.update),dv.prototype.Ia.apply(this,arguments)},hv.prototype.setMap=hv.prototype.Ia,hv.prototype.capture=function(t,e,n){var r=this.L(),i=r.ownerDocument,o=i.createElement("canvas"),a=o.getContext("2d"),s=i.createElementNS("http://www.w3.org/2000/svg","svg"),l=i.createElementNS("http://www.w3.org/2000/svg","foreignObject"),u=jf(r,i,!1);i=parseFloat(r.offsetWidth)+1;var c=parseFloat(r.offsetHeight),h=i*t;t*=c,o.width=h,o.height=t,s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("width",h),s.setAttribute("height",t),s.setAttribute("viewBox","0 0 "+i+" "+c),l.setAttribute("width","100%"),l.setAttribute("height","100%"),s.appendChild(l),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var f=window.getComputedStyle(r);"box-shadow display align-items font font-family font-size height text-shadow direction".split(" ").forEach((function(t){u.style.setProperty(t,f.getPropertyValue(t))})),l.appendChild(u),new rf("image",r=$e(s.outerHTML)).then((function(t){a.drawImage(t,0,0),e(o)}),n)},hv.prototype.capture=hv.prototype.capture,hv.prototype.jf=function(t){this.m=t,this.qc("imperial"===t?this.Aa().translate("scale.switchToMetric"):this.Aa().translate("scale.switchToImperial")),this.update()},hv.prototype.onUnitSystemChange=hv.prototype.jf,hv.prototype.update=function(){if(this.L()){var t,e=this.v,n=0,r=this.map;if(r){var i=Math.round(.5*r.za.width),o=Math.round(.5*r.za.height);(t=r.Xa(i,o))&&(n=Zf(t),r=Zf(r.Xa(i+1,o)),n=100*n.Za(r))}(r=n)&&(this.m===Au.IMPERIAL?r<jw?(o=r/kw,i=this.Aa().translate("scale.ft")):(o=r/jw,i=this.Aa().translate("scale.mi")):1e3>r?(o=r,i=this.Aa().translate("scale.m")):(o=r/1e3,i=this.Aa().translate("scale.km")),(o=(r=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)))/o*100)<e/5?(r*=5,o*=5):o<e/2?(r*=2,o*=2):o>e&&(r/=2,o/=2),o=Math.round(o),this.j.setAttribute("width",o),this.o.textContent=r+" "+i,this.a.points.getItem(2).x=this.f.points.getItem(2).x=this.a.points.getItem(3).x=this.f.points.getItem(3).x=o-2)}};var jw=1609.344,kw=.3048006;t("H.ui.buildInfo",(function(){return Ef("H-ui","1.28.0","149de7f")})),H.__bootstrap__='var l,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function da(a,b){if(b){var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}var fa;\nif("function"==typeof Object.setPrototypeOf)fa=Object.setPrototypeOf;else{var ha;a:{var ia={hb:!0},ka={};try{ka.__proto__=ia;ha=ka.hb;break a}catch(a){}ha=!1}fa=ha?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=fa;da("Object.setPrototypeOf",function(a){return a||la});var p=this||self;\nfunction ma(a,b,c){a=a.split(".");c=c||p;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}function na(){}\nfunction oa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";\nelse if("function"==b&&"undefined"==typeof a.call)return"object";return b}function r(a){return"function"==oa(a)}function qa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ra="closure_uid_"+(1E9*Math.random()>>>0),sa=0;function ta(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction ua(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function va(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va=ta:va=ua;return va.apply(null,arguments)}\nfunction wa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function t(a,b){ma(a,b,void 0)}function xa(a,b){function c(){}c.prototype=b.prototype;a.W=b.prototype;a.prototype=new c;a.prototype.constructor=a};function x(){}t("H.util.ICache",x);x.prototype.add=function(){};x.prototype.add=x.prototype.add;x.prototype.get=function(){};x.prototype.get=x.prototype.get;x.prototype.sa=function(){};x.prototype.drop=x.prototype.sa;x.prototype.forEach=function(){};x.prototype.forEach=x.prototype.forEach;x.prototype.U=function(){};x.prototype.removeAll=x.prototype.U;x.prototype.ca=function(){};x.prototype.registerOnDrop=x.prototype.ca;x.prototype.qa=function(){};x.prototype.deRegisterOnDrop=x.prototype.qa;function ya(){var a=za,b;for(b in a)return!1;return!0}function Aa(a){var b={},c;for(c in a)b[c]=a[c];return b}var Ba="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ca(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ba.length;f++)c=Ba[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var y=this;function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}xa(Da,Error);Da.prototype.name="CustomError";var Ea=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Fa=va,Ga=String,Ha=y.Object.freeze||function(a){return a},z=self.eval("undefined"),Ia=self.eval("null");function La(a){return Ga(a).split(","!==z?",":" ")}var Ma="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(a,b,c,d){if(!(b=a instanceof b)&&c)throw new A(c,d,void 0!==z?void 0:a);return b}function Oa(a,b,c,d){var e;if(!(e="Array"===Pa(a))&&b)throw new A(b,c,d!==z?d:a);return e}\nt("H.lang.isArray",function(a,b,c,d){return Oa(a,b,c,d)});function Qa(a){return"string"===typeof a}t("H.lang.isString",Qa);var Ra=isNaN;function Sa(a){return a===+a}t("H.lang.isNumber",Sa);t("H.lang.isInteger",Number.isInteger?Number.isInteger:function(a){return"number"===typeof a&&0===a%1});function Pa(a){var b=Object[Ma[0]][Ma[6]].call(a).match(/^\\[object (\\w+)\\]$/);return b?b[1]:typeof a}var Ta=[];0>Ta.indexOf(Ta)&&Ta.push(Ta);\nfunction Ua(a,b,c,d){var e="",f=2>arguments.length,g;f&&(b={H:y.H},c="",d=Ta.slice());Va(b,!0,function(h,k){try{if(g=h[k],k=Wa(h,g),!(qa(g)&&g.window===g&&g.self===g||qa(g)&&0<g.nodeType&&r(g.cloneNode))&&qa(g)){if(g===a)return e=c+"."+k,!0;if(0>d.indexOf(g)&&(d.push(g),e=Ua(a,g,c+"."+k,d)))return!0}}catch(m){}});f&&(e=e?e.substr(1).replace("."+Ma[0]+".","#"):"~"+(r(a)?Xa(a)+"()":Pa(a)));return e}\nfunction Wa(a,b){var c=[];Va(a,!1,function(d,e){d[e]===b&&c.push(e)});return c.sort(Ya)[0]}function Ya(a,b){return b.length-a.length}var Za=Object[Ma[0]][Ma[2]];function Va(a,b,c){var d;if(a){for(e in a)if((!b||Za.call(a,e))&&c(a,e,!0))return;for(d=Ma.length;d--;){var e=Ma[d];if((!b||Za.call(a,e))&&c(a,e,!1))break}}}function Xa(a){return(a=/^\\s*function ([^\\( ]+)/.exec(a))?a[1]:"anonymous"}function $a(a,b,c){c[b]="#"+b};function B(a,b,c){this.g=[];b&&this.ca(b);if(c&&!r(c))throw new A(B,2,c);this.b=0;this.filter=c;this.a={};this.f=this.c=null;this.Ia(a)}t("H.util.Cache",B);B.prototype.add=function(a,b,c){var d,e;c=+c;if(!Sa(c)||0>c)throw new A(this.add,2,c);a=String(a);if(e=this.filter?this.filter(a,b,c):!0)(d=this.a[a])?(d.data!==b&&db(this,d),this.b+=c-d.size,d.size=c,d.data=b,eb(this,d)):this.a[a]=fb(this,{id:a,data:b,size:c,A:null,F:null},this.c),gb(this);return e};B.prototype.add=B.prototype.add;\nB.prototype.ca=function(a){if(!r(a))throw new A(this.ca,0,a);this.g.push(a)};B.prototype.registerOnDrop=B.prototype.ca;B.prototype.qa=function(a){this.g=this.g.filter(function(b){return b!==a})};B.prototype.deRegisterOnDrop=B.prototype.qa;B.prototype.get=function(a,b){return(a=b?this.a[a]:eb(this,this.a[a]))&&a.data};B.prototype.get=B.prototype.get;B.prototype.sa=function(a){var b;(b=this.a[a])&&hb(this,b,!0)};B.prototype.drop=B.prototype.sa;\nB.prototype.forEach=function(a,b,c){var d;for(d in this.a){var e=this.a[d];(c?c(d,e.data,e.size):1)&&a.call(b,d,e.data,e.size)}};B.prototype.forEach=B.prototype.forEach;B.prototype.U=function(a){var b;for(b in this.a){var c=this.a[b];(a?a(b,c.data,c.size):1)&&hb(this,this.a[b],!0)}};B.prototype.removeAll=B.prototype.U;B.prototype.Ia=function(a){if(!(0<+a))throw new A(B.prototype.Ia,0,a);this.o=+a;gb(this);return this};B.prototype.setMaxSize=B.prototype.Ia;B.prototype.Bb=function(){return this.o};\nB.prototype.getMaxSize=B.prototype.Bb;B.prototype.xb=function(){return this.b};B.prototype.getCurrentSize=B.prototype.xb;function eb(a,b){b&&(a.c=fb(a,b,a.c));return b}function gb(a){for(;a.b>a.o&&a.f;)hb(a,a.f,!0)}function fb(a,b,c){if(c!==b){(b.A||b.F)&&hb(a,b,!1);if(b.A=c)b.F=c.F,c.F=b;b.F||(a.c=b);b.A||(a.f=b);a.b+=b.size}return b}function hb(a,b,c){var d=b.F,e=b.A;if(d||e||b==a.c&&b==a.f)d?d.A=e:a.c=e,e?e.F=d:a.f=d,a.b-=b.size,c&&(delete a.a[b.id],db(a,b));b.A=b.F=null}\nfunction db(a,b){for(var c=a.g.length;c--;)a.g[c].call(a,b.id,b.data,b.size)};function C(){}t("H.service.extension.dataView.ITable",C);C.prototype.ya=function(){};C.prototype.getMeta=C.prototype.ya;C.prototype.za=function(){};C.prototype.getRowCount=C.prototype.za;C.prototype.ja=function(){};C.prototype.getRow=C.prototype.ja;C.prototype.D=function(){};C.prototype.getColumnNames=C.prototype.D;C.prototype.xa=function(){};C.prototype.getColumn=C.prototype.xa;C.prototype.s=function(){};C.prototype.getCell=C.prototype.s;C.prototype.concat=function(){};C.prototype.concat=C.prototype.concat;function ib(){}t("H.service.extension.dataView.IRow",ib);ib.prototype.D=function(){};ib.prototype.getColumnNames=ib.prototype.D;ib.prototype.s=function(){};ib.prototype.getCell=ib.prototype.s;ib.prototype.Aa=function(){};ib.prototype.getTable=ib.prototype.Aa;function jb(a,b){this.a=a;this.b=b}t("H.service.extension.dataView.ObjRow",jb);jb.prototype.D=function(){return this.a.D()};jb.prototype.getColumnNames=jb.prototype.D;jb.prototype.s=function(a){return this.a.s(this.b,a)};jb.prototype.getCell=jb.prototype.s;jb.prototype.Aa=function(){return this.a};jb.prototype.getTable=jb.prototype.Aa;function kb(){}t("H.service.extension.dataView.IColumn",kb);kb.prototype.s=function(){};kb.prototype.getCell=kb.prototype.s;function lb(a,b){this.b=a;this.a=b}t("H.service.extension.dataView.ObjColumn",lb);lb.prototype.s=function(a){return this.b.s(a,this.a)};lb.prototype.getCell=lb.prototype.s;function A(a,b,c){var d=arguments.length;b=b!==z?+b:b;if(b!==z){var e=(e=/^.*?\\(([^\\)]+)/.exec((""+a).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm,"")))?La(e[1].replace(/\\s+/g,"")):[];e.forEach($a);e=e[b]||"#"+b}var f=a?Ua(a):"";d=2<d?Ga(c):"";if(e||d)f+=" (Argument "+(e||"")+(d?" "+d:"")+")";d=Error(f);Object.setPrototypeOf(d,A.prototype);return d}xa(A,Error);t("H.lang.InvalidArgumentError",A);A.prototype.name="InvalidArgumentError";function D(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):z);this.G=a;if(b)for(this.O=b,this.pa=a=Object.create(Ia,void 0),d=b.length;d--;)a[b[d]]=!0;c!==z&&(this.Ca=c)}t("H.service.extension.dataView.ObjTable",D);l=D.prototype;l.Ca=z;l.G=z;l.O=z;l.pa=z;l.ya=function(){return this.Ca};D.prototype.getMeta=D.prototype.ya;D.prototype.za=function(){return this.G?this.G.length:0};D.prototype.getRowCount=D.prototype.za;D.prototype.ja=function(a){var b=this.G;return b&&b[a]?new jb(this,a):z};\nD.prototype.getRow=D.prototype.ja;D.prototype.D=function(){return this.O||mb};D.prototype.getColumnNames=D.prototype.D;D.prototype.xa=function(a){return this.pa[a]?new lb(this,a):z};D.prototype.getColumn=D.prototype.xa;D.prototype.s=function(a,b){var c=this.G;return(a=c&&this.pa[b]&&c[a])&&a[b]};D.prototype.getCell=D.prototype.s;\nD.prototype.concat=function(){var a=arguments.length,b,c=this.O,d=""+this.O,e=(this.G||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof D))throw new A(this.concat,b);if(f.G){if(c&&""+f.O!==d)throw new A(this.concat,b,"Incompatible columns!");e=e.concat(f.G)}}return new D(e,this.O,this.Ca)};D.prototype.concat=D.prototype.concat;function E(a,b){this.x=+a;this.y=+b}t("H.math.Point",E);E.prototype.set=E;E.prototype.set=E.prototype.set;E.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new E(this.x,this.y);return a};E.prototype.clone=E.prototype.clone;E.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};E.prototype.add=E.prototype.add;E.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};E.prototype.sub=E.prototype.sub;E.prototype.scale=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};\nE.prototype.scale=E.prototype.scale;E.prototype.round=function(){this.x=nb(this.x);this.y=nb(this.y);return this};E.prototype.round=E.prototype.round;E.prototype.floor=function(){this.x=ob(this.x);this.y=ob(this.y);return this};E.prototype.floor=E.prototype.floor;E.prototype.ceil=function(){this.x=pb(this.x);this.y=pb(this.y);return this};E.prototype.ceil=E.prototype.ceil;E.prototype.I=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};E.prototype.equals=E.prototype.I;\nE.prototype.Cb=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=a;if(c||d){var f=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d);0>=f?e=a:1<=f?e=b:e=new E(a.x+f*c,a.y+f*d)}return e};E.prototype.getNearest=E.prototype.Cb;E.prototype.ra=function(a){return qb(rb(this.x-a.x,2)+rb(this.y-a.y,2))};E.prototype.distance=E.prototype.ra;E.fromIPoint=function(a){if(!a)throw Error("invalid argument");return a instanceof E?a:new E(a.x,a.y)};var F=Math,sb=F.min,tb=F.max,nb=F.round,ob=F.floor,pb=F.ceil,ub=F.abs,vb=F.log,qb=F.sqrt,rb=F.pow,wb=F.exp,xb=F.sin,yb=F.asin,zb=F.cos,Ab=F.tan,Bb=F.atan,Cb=F.atan2,Db=F.LN2,I=F.PI,Eb=I/2,Gb=I/4,Hb=2*I,Ib=3*I,Jb=I/180,Kb=180/I,Lb=1/0;rb(-2,53);function Mb(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}t("H.math.normalize",function(a,b,c){b-=c=c||0;a-=c;return a-ob(a/b)*b+c});function Nb(a,b,c){return a>c?c:a<b?b:a}t("H.math.clamp",Nb);function Ob(a,b,c){return b<c?a>=b&&a<=c:a>=c&&a<=b}\nfunction Pb(a,b,c,d,e,f){return qb(rb((a-e)*(d-f)-(b-f)*(c-e),2)/(rb(c-e,2)+rb(d-f,2)))}var Qb={NONE:0,VERTEX:1,EDGE:2,SURFACE:3};t("H.math.CoverType",Qb);\nfunction Rb(a,b,c){for(var d=c.length,e=d,f,g,h,k,m=c[0],n=0,q=0,u=0;1!=n&&1<e;){g=c[--e];f=c[--e];k=c[e?e-1:(d+(e-1))%d];h=c[e?e-2:(d+(e-2))%d];if(f>=a&&f<=a&&g>=b&&g<=b||h>=a&&h<=a&&k>=b&&k<=b)n=1;else if(!n&&f===a)h===a&&(g<b&&k>b||g>b&&k<b)||(m<=a&&h>a||m>=a&&h<a)&&(g>=b?++q:++u),n=Ob(b,g,k)&&0>=Pb(a,b,f,g,h,k)?2:0;else if(!n&&Ob(a,f,h)){if(f<a&&h>a||f>a&&h<a)m=g+(a-f)/(h-f)*(k-g),q+=m>b,u+=m<b;n=Ob(b,g,k)&&0>=Pb(a,b,f,g,h,k)?2:0}m=f}!n&&0!==u&&0!==q%2&&(n=3);return n}\nfunction Sb(a,b){return Rb(a.x,a.y,b)!==Qb.NONE}t("H.math.isPointInsidePolygon",Sb);function Tb(a){for(var b=a.length,c=new Float64Array(2*b),d=b&&a[0].x!==z;b--;){var e=a[b],f=b<<1;c[f]=d?e.x:e[0];c[f+1]=d?e.y:e[1]}return c}t("H.math.flatten",Tb);function Ub(a,b,c,d,e,f){var g,h,k=a.length,m,n;if(k)for(g=[];k--;){var q=a[k];var u=q.length;var J=0;for(m=1;m<u;m++)if(n=Vb(q[m-1],q[m],c,b,d,e)){var M=n[0];var v=n[1];J&&J.I(M)?h.push(v):g.push(h=n);J=v;f&&(m=u,k=0)}}else g=a;return g}t("H.math.clipping.clipStrips",Ub);\nfunction Vb(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;c=-c;f=-f;if(g>h){if(h>e||g<d)return;var k=g;var m=a;g=h;a=b;h=k;b=m;k=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;var n=1;a=-a;b=-b;m=f;f=-c;c=-m}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);n&&(a=-a,b=-b);return k?[new E(h,-b),new E(g,-a)]:[new E(g,-a),new E(h,-b)]}\nfunction Wb(a,b,c){a=Xb(a,!0);b=Xb(b,!1);var d,e;var f={};var g=d=1;switch(~~(c||0)){case 1:g=d=0;break;case 2:d=0;g=1;break;case 3:d=1,g=0}c=d;var h=g;if(b&&a){b.ia=Yb(b.x,b.y,null,Zb(b));a.ia=Yb(a.x,a.y,null,Zb(a));for(g=b;g.next;g=g.next)if(!g.C)for(d=a;d.next;d=d.next)if(!d.C){var k=$b(g.next);var m=$b(d.next);if(e=ac(g,k,d,m,f)){e=f.kb;var n=f.lb;var q=f.kc;var u=f.lc;e=Yb(q,u,null,null,null,null,!0,0,0,e);bc(e,g,k);k=Yb(q,u,null,null,null,null,!0,0,0,n);bc(k,d,m);e.Da=k;k.Da=e}}f=Sb(b,cc(a));\nc&&(f=!f);for(g=b;g;g=g.next)g.C&&(g.ta=f,f=!f);f=Sb(a,cc(b));h&&(f=!f);for(d=a;d.next;d=d.next)d.C&&(d.ta=f,f=!f);dc(b);for(dc(a);(a=ec(b))!=b;){for(c=null;!a.na;a=a.Da){for(f=a.ta;;){c=Yb(a.x,a.y,c);c.artificial=a.C||a.Ob;a.na=1;a=f?a.next:a.u;if(!a)break;if(a.C){a.na=1;break}}if(!a)break}c.Xa=J;var J=c}return J}}t("H.math.clipping.clipPolygon",Wb);\nfunction Yb(a,b,c,d,e,f,g,h,k,m){a={x:a,y:b,next:c||null,u:d||null,Xa:e||null,Da:f||null,C:!!g,ta:h||0,na:k||0,alpha:m||0};d&&(a.u.next=a);c&&(a.next.u=a);return a}function $b(a){for(;a&&a.C;)a=a.next;return a}function Zb(a){if(a)for(;a.next;)a=a.next;return a}function ec(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.C||b.C&&b.na))}return b}function dc(a){var b=Zb(a);b.u.next=a;a.u=b.u}\nfunction ac(a,b,c,d,e){var f,g=b.x-a.x,h=b.y-a.y;var k=d.x-c.x;var m=d.y-c.y;var n=g*m-h*k;if(!n)return 0;k=((c.x-a.x)*m-(c.y-a.y)*k)/n;n=(h*(c.x-a.x)-g*(c.y-a.y))/n;if(0>k||1<k||0>n||1<n)return 0;0===k?f=a:1===k?f=b:0===n?f=c:1===n&&(f=d);if(f)return f.x+=2.480549651603763E-5,f.y+=7.321997314118067E-5,f.ia&&(f.ia.x=f.x,f.ia.y=f.y),ac(a,b,c,d,e);e.kc=a.x+k*g;e.lc=a.y+k*h;e.kb=k;e.lb=n;return 1}function cc(a){for(var b=[];a;)b.push(a.x,a.y),a=a.next;return b}\nfunction bc(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.u=b.u;a.next.u=a;a.u.next=a}function Xb(a,b){for(var c,d=null,e=0,f=a.length;e<f;e++){c=Yb(a[e].x,a[e].y,d);c.Ob=b;if(c.next=d)d.u=c;d=c}return d};function fc(a,b){var c=[];a&&c.push(Ua(a));1<arguments.length&&c.push(""+b);c=Error(c.join(" "));Object.setPrototypeOf(c,fc.prototype);return c}xa(fc,Error);t("H.lang.IllegalOperationError",fc);fc.prototype.name="IllegalOperationError";function gc(){if(!Qa("STATIC_DB"))throw new A(this.constructor,0);this.o=y.indexedDB||y.jc||y.Rb||y.Sb;if(!this.o)throw new fc(this.constructor,"This browser does not support IndexedDB");this.a=[];this.c=[];this.g=Fa(this.g,this)}var hc,ic;gc.prototype.get=function(a,b,c){var d;if(!Qa(a)&&!Sa(a))throw new A(this.get,0);if(!r(b))throw new A(this.get,1);jc(this,function(e){d=e.get(a);kc(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=lc)}}};\ngc.prototype.g=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")};\nfunction mc(a,b,c){if(a.b)a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result);else{a.b=a.o.open(nc+"STATIC_DB",1);a.b.onupgradeneeded=a.g;var d=a.b.onerror=function(){clearTimeout(a.v);a.f=this.error;a.c.forEach(function(e){e(a.f)});a.a=a.c=null};a.v=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500);a.b.onsuccess=function(){clearTimeout(a.v);a.a?(a.a.forEach(function(e){e(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])};a.a.push(b);c&&a.c.push(c)}}\nfunction jc(a,b,c){mc(a,function(d){d=d.transaction(["data"],"readwrite");b(d.objectStore("data"))},c)}function kc(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}t("H.util.IndexedDBStorage.getInstance",function(){hc||(hc=new gc);return hc});var nc="H_";\nt("H.util.IndexedDBStorage.isSupported",function(){if(ic===z)if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)ic=!1;else{var a=y.indexedDB||y.jc||y.Rb||y.Sb;var b=nc+"TEST_DB";try{var c=a&&a.open(b,1)}catch(d){}ic=!!c&&null===c.onupgradeneeded;c&&a.deleteDatabase&&a.deleteDatabase(b)}return ic});function K(){0!=oc&&(pc[this[ra]||(this[ra]=++sa)]=this);this.c=this.c;this.a=this.a}var oc=0,pc={};K.prototype.c=!1;K.prototype.B=function(){if(!this.c&&(this.c=!0,this.P(),0!=oc)){var a=this[ra]||(this[ra]=++sa);if(0!=oc&&this.a&&0<this.a.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass\' method.");delete pc[a]}};\nK.prototype.N=function(a,b){this.c?void 0!==b?a.call(b):a():(this.a||(this.a=[]),this.a.push(void 0!==b?va(a,b):a))};K.prototype.P=function(){if(this.a)for(;this.a.length;)this.a.shift()()};function L(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Za=!0}L.prototype.stopPropagation=function(){this.a=!0};L.prototype.c=function(){this.Za=!1};t("H.util.Event",L);L.prototype.stopPropagation=L.prototype.stopPropagation;L.prototype.stopPropagation=L.prototype.stopPropagation;L.prototype.CAPTURING_PHASE=1;L.prototype.CAPTURING_PHASE=L.prototype.CAPTURING_PHASE;L.prototype.AT_TARGET=2;L.prototype.AT_TARGET=L.prototype.AT_TARGET;L.prototype.BUBBLING_PHASE=3;L.prototype.BUBBLING_PHASE=L.prototype.BUBBLING_PHASE;L.prototype.eventPhase=0;L.prototype.eventPhase=L.prototype.eventPhase;function qc(a,b,c){qc.W.constructor.call(this,a,c);this.data=b}xa(qc,L);t("H.util.DataEvent",qc);function rc(a,b,c){rc.W.constructor.call(this,a,c);this.message=b}xa(rc,L);t("H.util.ErrorEvent",rc);function sc(a,b){this.c=a;this.f=b;this.b=0;this.a=null}sc.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};function tc(a,b){a.f(b);100>a.b&&(a.b++,b.next=a.a,a.a=b)};function uc(){this.b=this.a=null}var wc=new sc(function(){return new vc},function(a){a.reset()});uc.prototype.add=function(a,b){var c=wc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};function xc(){var a=yc,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function vc(){this.next=this.b=this.a=null}vc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};vc.prototype.reset=function(){this.next=this.b=this.a=null};var Bc=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(a)[1]};function Cc(a,b){return a<b?-1:a>b?1:0};var Dc;a:{var Ec=p.navigator;if(Ec){var Fc=Ec.userAgent;if(Fc){Dc=Fc;break a}}Dc=""}function Gc(a){return-1!=Dc.indexOf(a)};function Hc(a,b){this.b=a===Ic&&b||"";this.a=Jc}var Jc={},Ic={},Kc=new Hc(Ic,"");function Lc(a,b){this.b=a===Mc&&b||"";this.a=Nc}var Nc={},Mc={};function Oc(){this.a="";this.b=Pc}function Qc(){var a=Rc;if(a instanceof Oc&&a.constructor===Oc&&a.b===Pc)return a.a;oa(a);return"type_error:SafeHtml"}var Pc={};function Sc(a){var b=new Oc;b.a=a;return b}Sc("<!DOCTYPE html>");var Rc=Sc("");Sc("<br>");function Tc(a){var b=new Lc(Mc,Kc instanceof Hc&&Kc.constructor===Hc&&Kc.a===Jc?Kc.b:"type_error:Const");b instanceof Lc&&b.constructor===Lc&&b.a===Nc?b=b.b:(oa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Uc(a){Uc[" "](a);return a}Uc[" "]=na;var Vc=Gc("Opera"),Wc=Gc("Trident")||Gc("MSIE"),Xc=Gc("Edge"),Yc=Gc("Gecko")&&!(-1!=Dc.toLowerCase().indexOf("webkit")&&!Gc("Edge"))&&!(Gc("Trident")||Gc("MSIE"))&&!Gc("Edge"),Zc=-1!=Dc.toLowerCase().indexOf("webkit")&&!Gc("Edge");function $c(){var a=p.document;return a?a.documentMode:void 0}var ad;\na:{var bd="",cd=function(){var a=Dc;if(Yc)return/rv:([^\\);]+)(\\)|;)/.exec(a);if(Xc)return/Edge\\/([\\d\\.]+)/.exec(a);if(Wc)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(Zc)return/WebKit\\/(\\S+)/.exec(a);if(Vc)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();cd&&(bd=cd?cd[1]:"");if(Wc){var dd=$c();if(null!=dd&&dd>parseFloat(bd)){ad=String(dd);break a}}ad=bd}var ed={},fd;fd=p.document&&Wc?$c():void 0;function gd(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function hd(a){p.setTimeout(function(){throw a;},0)}var id;\nfunction jd(){var a=p.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Gc("Presto")&&(a=function(){var e=gd("IFRAME");e.style.display="none";Tc(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Qc());e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=va(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},\nthis);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!Gc("Trident")&&!Gc("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Oa;c.Oa=null;e()}};return function(e){d.next={Oa:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in gd("SCRIPT")?function(e){var f=gd("SCRIPT");f.onreadystatechange=function(){f.onreadystatechange=null;\nf.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){p.setTimeout(e,0)}};function kd(a,b){ld||md();nd||(ld(),nd=!0);yc.add(a,b)}var ld;function md(){if(p.Promise&&p.Promise.resolve){var a=p.Promise.resolve(void 0);ld=function(){a.then(od)}}else ld=function(){var b=od;!r(p.setImmediate)||p.Window&&p.Window.prototype&&!Gc("Edge")&&p.Window.prototype.setImmediate==p.setImmediate?(id||(id=jd()),id(b)):p.setImmediate(b)}}var nd=!1,yc=new uc;function od(){for(var a;a=xc();){try{a.a.call(a.b)}catch(b){hd(b)}tc(wc,a)}nd=!1};function pd(a){this.a=qd;this.v=void 0;this.f=this.b=this.c=null;this.g=this.o=!1;if(a!=na)try{var b=this;a.call(void 0,function(c){rd(b,sd,c)},function(c){rd(b,td,c)})}catch(c){rd(this,td,c)}}var qd=0,sd=2,td=3;function ud(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}ud.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var vd=new sc(function(){return new ud},function(a){a.reset()});function wd(a,b,c){var d=vd.get();d.f=a;d.b=b;d.c=c;return d}\nfunction xd(a,b,c){yd(a,b,c,null)||kd(wa(b,a))}function zd(a){return new pd(function(b,c){var d=a.length,e=[];if(d)for(var f=function(m,n){d--;e[m]=n;0==d&&b(e)},g=function(m){c(m)},h=0,k;h<a.length;h++)k=a[h],xd(k,wa(f,h),g);else b(e)})}function Ad(){var a,b,c=new pd(function(d,e){a=d;b=e});return new Bd(c,a,b)}pd.prototype.then=function(a,b,c){return Cd(this,r(a)?a:null,r(b)?b:null,c)};pd.prototype.$goog_Thenable=!0;\npd.prototype.cancel=function(a){if(this.a==qd){var b=new Dd(a);kd(function(){Ed(this,b)},this)}};function Ed(a,b){if(a.a==qd)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==qd&&1==d?Ed(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Fd(c),Gd(c,e,td,b)))}a.c=null}else rd(a,td,b)}function Hd(a,b){a.b||a.a!=sd&&a.a!=td||Id(a);a.f?a.f.next=b:a.b=b;a.f=b}\nfunction Cd(a,b,c,d){var e=wd(null,null,null);e.a=new pd(function(f,g){e.f=b?function(h){try{var k=b.call(d,h);f(k)}catch(m){g(m)}}:f;e.b=c?function(h){try{var k=c.call(d,h);void 0===k&&h instanceof Dd?g(h):f(k)}catch(m){g(m)}}:g});e.a.c=a;Hd(a,e);return e.a}pd.prototype.Ea=function(a){this.a=qd;rd(this,sd,a)};pd.prototype.Ga=function(a){this.a=qd;rd(this,td,a)};\nfunction rd(a,b,c){a.a==qd&&(a===c&&(b=td,c=new TypeError("Promise cannot resolve to itself")),a.a=1,yd(c,a.Ea,a.Ga,a)||(a.v=c,a.a=b,a.c=null,Id(a),b!=td||c instanceof Dd||Jd(a,c)))}function yd(a,b,c,d){if(a instanceof pd)return Hd(a,wd(b||na,c||null,d)),!0;if(a)try{var e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;if(qa(a))try{var f=a.then;if(r(f))return Kd(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1}\nfunction Kd(a,b,c,d,e){function f(k){h||(h=!0,d.call(e,k))}function g(k){h||(h=!0,c.call(e,k))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function Id(a){a.o||(a.o=!0,kd(a.T,a))}function Fd(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}pd.prototype.T=function(){for(var a;a=Fd(this);)Gd(this,a,this.a,this.v);this.o=!1};\nfunction Gd(a,b,c,d){if(c==td&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Ld(b,c,d);else try{b.g?b.f.call(b.c):Ld(b,c,d)}catch(e){Md.call(null,e)}tc(vd,b)}function Ld(a,b,c){b==sd?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function Jd(a,b){a.g=!0;kd(function(){a.g&&Md.call(null,b)})}var Md=hd;function Dd(a){Da.call(this,a)}xa(Dd,Da);Dd.prototype.name="cancel";function Bd(a,b,c){this.a=a;this.b=b;this.reject=c};function Nd(a,b,c){this.type=a;this.data=b;this.a=Ad();this.Va=Fa(this.Va,this);this.reject=Fa(this.reject,this);this.priority=Od;c!==z&&(this.priority=c);this.b().add(this)}var Od=1,Pd={nc:0,oc:Od,mc:2};l=Nd.prototype;l.then=function(a,b,c){return this.a.a.then(a,b,c)};l.Va=function(a){this.$=3;this.a.b(a)};l.reject=function(a){this.$=5;this.a.reject(a)};l.$=0;\nl.cancel=function(){if(3>this.$){this.c();var a=this.b(),b=this.priority,c=a.a[b].indexOf(this);-1<c?a.a[b].splice(c,1):this.Na&&a.ea.ob(this.Na);this.$=4}};function Qd(a){var b;this.a={};for(b in Pd)this.a[Pd[b]]=[];this.ea=a;this.ea.addEventListener("allocatable",Fa(this.b,this))}t("H.util.JobManager",Qd);var Rd=Object.keys(Pd).map(function(a){return Pd[a]}).sort().reverse();Qd.prototype.add=function(a){Na(a,Nd,this.add,0);this.a[a.priority].push(a);this.b()};Qd.prototype.contains=function(a){return-1<this.a[a.priority].indexOf(a)};\nQd.prototype.b=function(){Rd.forEach(function(a){this.a[a]=this.a[a].filter(function(b){var c;if((c=this.ea.pc(b))!==Ia){var d=Fa(this.ea.ob,this.ea,c,b);b.Na=c;b.then(d,d);b.$=b.qc(c)?1:5}else return!0},this)},this)};function Sd(a,b,c){var d=[],e=arguments.length;a&&d.push(Ua(a));1<e&&(e=2<e&&Oa(c,void 0,void 0,void 0)?" out of ["+c[0]+"..."+c[1]+"]":"",d.push("("+b+e+")"));d=Error(d.join(" "));Object.setPrototypeOf(d,Sd.prototype);return d}xa(Sd,Error);t("H.lang.OutOfRangeError",Sd);Sd.prototype.name="OutOfRangeError";var Td="closure_listenable_"+(1E6*Math.random()|0),Ud=0;function Vd(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ka=e;this.key=++Ud;this.V=this.fa=!1}function Wd(a){a.V=!0;a.listener=null;a.proxy=null;a.src=null;a.ka=null};function Xd(a){this.src=a;this.a={};this.b=0}Xd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=Yd(a,b,d,e);-1<g?(b=a[g],c||(b.fa=!1)):(b=new Vd(b,this.src,f,!!d,e),b.fa=c,a.push(b));return b};function Zd(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Ea(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(Wd(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}\nXd.prototype.U=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,Wd(d[e]);delete this.a[c];this.b--}return b};function Yd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.V&&f.listener==b&&f.capture==!!c&&f.ka==d)return e}return-1};var $d;($d=!Wc)||($d=9<=Number(fd));var ae=$d,be;\nif(be=Wc){var ce;if(Object.prototype.hasOwnProperty.call(ed,"9"))ce=ed["9"];else{for(var de=0,ee=Bc(String(ad)).split("."),fe=Bc("9").split("."),ge=Math.max(ee.length,fe.length),he=0;0==de&&he<ge;he++){var ie=ee[he]||"",je=fe[he]||"";do{var ke=/(\\d*)(\\D*)(.*)/.exec(ie)||["","","",""],le=/(\\d*)(\\D*)(.*)/.exec(je)||["","","",""];if(0==ke[0].length&&0==le[0].length)break;de=Cc(0==ke[1].length?0:parseInt(ke[1],10),0==le[1].length?0:parseInt(le[1],10))||Cc(0==ke[2].length,0==le[2].length)||Cc(ke[2],le[2]);\nie=ke[3];je=le[3]}while(0==de)}ce=ed["9"]=0<=de}be=!ce}var me=be,ne=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",na,b),p.removeEventListener("test",na,b)}catch(c){}return a}();function oe(a,b){L.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.b=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Yc){a:{try{Uc(b.nodeName);var e=!0;break a}catch(f){}e=\n!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=\na.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:pe[a.pointerType]||"";this.b=a;a.defaultPrevented&&this.c()}}xa(oe,L);var pe={2:"touch",3:"pen",4:"mouse"};oe.prototype.stopPropagation=function(){oe.W.stopPropagation.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};\noe.prototype.c=function(){oe.W.c.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,me)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var qe="closure_lm_"+(1E6*Math.random()|0),re={},se=0;function te(a,b,c,d,e){if(d&&d.once)ue(a,b,c,d,e);else if("array"==oa(b))for(var f=0;f<b.length;f++)te(a,b[f],c,d,e);else c=ve(c),a&&a[Td]?a.b.add(String(b),c,!1,qa(d)?!!d.capture:!!d,e):we(a,b,c,!1,d,e)}\nfunction we(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=qa(e)?!!e.capture:!!e,h=xe(a);h||(a[qe]=h=new Xd(a));c=h.add(b,c,d,g,f);if(!c.proxy){d=ye();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)ne||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(ze(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");se++}}\nfunction ye(){var a=Ae,b=ae?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function ue(a,b,c,d,e){if("array"==oa(b))for(var f=0;f<b.length;f++)ue(a,b[f],c,d,e);else c=ve(c),a&&a[Td]?a.b.add(String(b),c,!0,qa(d)?!!d.capture:!!d,e):we(a,b,c,!0,d,e)}\nfunction Ce(a,b,c,d,e){if("array"==oa(b))for(var f=0;f<b.length;f++)Ce(a,b[f],c,d,e);else(d=qa(d)?!!d.capture:!!d,c=ve(c),a&&a[Td])?(a=a.b,b=String(b).toString(),b in a.a&&(f=a.a[b],c=Yd(f,c,d,e),-1<c&&(Wd(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=xe(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Yd(b,c,d,e)),(c=-1<a?b[a]:null)&&De(c))}\nfunction De(a){if("number"!==typeof a&&a&&!a.V){var b=a.src;if(b&&b[Td])Zd(b.b,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(ze(c),d):b.addListener&&b.removeListener&&b.removeListener(d);se--;(c=xe(b))?(Zd(c,a),0==c.b&&(c.src=null,b[qe]=null)):Wd(a)}}}function ze(a){return a in re?re[a]:re[a]="on"+a}\nfunction Ee(a,b,c,d){var e=!0;if(a=xe(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.V&&(f=Fe(f,d),e=e&&!1!==f)}return e}function Fe(a,b){var c=a.listener,d=a.ka||a.src;a.fa&&De(a);return c.call(d,b)}\nfunction Ae(a,b){if(a.V)return!0;if(!ae){if(!b)a:{b=["window","event"];for(var c=p,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new oe(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.a&&0<=e;e--){b.currentTarget=d[e];var f=Ee(d[e],a,!0,b);c=c&&f}for(e=0;!b.a&&e<d.length;e++)b.currentTarget=\nd[e],f=Ee(d[e],a,!1,b),c=c&&f}return c}return Fe(a,new oe(b,this))}function xe(a){a=a[qe];return a instanceof Xd?a:null}var Ge="__closure_events_fn_"+(1E9*Math.random()>>>0);function ve(a){if(r(a))return a;a[Ge]||(a[Ge]=function(b){return a.handleEvent(b)});return a[Ge]};function N(){K.call(this);this.b=new Xd(this);this.v=this;this.o=null}xa(N,K);N.prototype[Td]=!0;l=N.prototype;l.K=function(){return this.o};l.Ja=function(a){this.o=a};l.addEventListener=function(a,b,c,d){te(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Ce(this,a,b,c,d)};\nl.dispatchEvent=function(a){var b,c=this.K();if(c)for(b=[];c;c=c.K())b.push(c);c=this.v;var d=a.type||a;if("string"===typeof a)a=new L(a,c);else if(a instanceof L)a.target=a.target||c;else{var e=a;a=new L(d,c);Ca(a,e)}e=!0;if(b)for(var f=b.length-1;!a.a&&0<=f;f--){var g=a.currentTarget=b[f];e=g.R(d,!0,a)&&e}a.a||(g=a.currentTarget=c,e=g.R(d,!0,a)&&e,a.a||(e=g.R(d,!1,a)&&e));if(b)for(f=0;!a.a&&f<b.length;f++)g=a.currentTarget=b[f],e=g.R(d,!1,a)&&e;return e};\nl.P=function(){N.W.P.call(this);this.b&&this.b.U(void 0);this.o=null};l.R=function(a,b,c){a=this.b.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.V&&f.capture==b){var g=f.listener,h=f.ka||f.src;f.fa&&Zd(this.b,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Za};t("H.util.EventTarget",N);N.prototype.Ja=N.prototype.Ja;N.prototype.setParentEventTarget=N.prototype.Ja;N.prototype.K=N.prototype.K;N.prototype.getParentEventTarget=N.prototype.K;N.prototype.addEventListener=N.prototype.addEventListener;N.prototype.addEventListener=N.prototype.addEventListener;N.prototype.removeEventListener=N.prototype.removeEventListener;N.prototype.removeEventListener=N.prototype.removeEventListener;N.prototype.dispatchEvent=N.prototype.dispatchEvent;\nN.prototype.dispatchEvent=N.prototype.dispatchEvent;N.prototype.B=N.prototype.B;N.prototype.dispose=N.prototype.B;N.prototype.N=N.prototype.N;N.prototype.addOnDisposeCallback=N.prototype.N;N.prototype.T=N.prototype.R;\nN.prototype.R=function(a,b,c){var d,e,f=!0;var g=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")];if(!d||"pointerenter"!==(e=c.type)&&"pointerleave"!==e)c.eventPhase=g,f=N.prototype.T.apply(this,arguments),d&&this.K&&null===this.K()&&delete c.eventPhase;return f};function O(a){a=a||{};var b=a.callback;this.g=a.label;r(b)&&(this.callback=b);this.f=!!a.disabled;O.W.constructor.call(this)}xa(O,N);t("H.util.ContextItem",O);O.prototype.zb=function(){return this.g};O.prototype.getLabel=O.prototype.zb;O.prototype.cc=function(a){this.g!==a&&(this.g=a,this.dispatchEvent("update"));return this};O.prototype.setLabel=O.prototype.cc;O.prototype.Pb=function(){return this.f};O.prototype.isDisabled=O.prototype.Pb;\nO.prototype.bc=function(a){a^this.f&&(this.f=a,this.dispatchEvent("update"));return this};O.prototype.setDisabled=O.prototype.bc;var He=new O;O.SEPARATOR=He;function Ie(){if(y.document){var a=document.createElement("canvas");a.width=a.height=1;a.getContext("2d")}}t("H.util.getPixelRatio",function(){return window.devicePixelRatio||1});Object.create(Ia,void 0);t("H.util.eval",function(a){return eval(a)});t("H.util.provide",function(a){var b=p.$jscomp;if(b&&("function"!=typeof b.wb?0:b.wb()))throw Error("goog.provide cannot be used within a module.");ma(a,void 0)});function Je(){this.A=0}\nJe.prototype.next=function(a){if(9007199254740992===this.A)throw new Sd(a,this.A,[0,9007199254740991]);return this.A++};var Ke=new Je;Fa(Ke.next,Ke);function lc(){}var mb=Ha([]);Ha({});Ie();Ie();function Le(a,b,c){var d=Nb(+a,-90,90);if(b&&Ra(d))throw new A(b,c,a);return d}function Me(a,b,c){var d=+a;if(-180>d||180<d)d=Mb(d+180,360)-180;if(b&&Ra(d))throw new A(b,c,a);return d}function Ne(a,b,c){var d;if(a!==z&&Ra(d=+a)&&b)throw new A(b,c,a);return d}t("H.geo.isDBC",function(a,b){return 0!==(0>a^0>b)&&180<ub(b-a)});function Q(){var a=Q;if(!0===(Na(this,a)&&this.constructor===a))throw new TypeError("Illegal constructor "+Ua(a));}t("H.geo.AbstractGeometry",Q);Q.prototype.getBoundingBox=Q.prototype.Y;Q.prototype.equals=Q.prototype.I;Q.prototype.oa="";Q.prototype.wa="";Q.prototype.toString=function(){return this.eb([this.oa.toUpperCase()," "]).join("")};Q.prototype.toString=Q.prototype.toString;Q.prototype.ec=function(){return{type:this.wa,coordinates:this.cb()}};Q.prototype.toGeoJSON=Q.prototype.ec;\nQ.prototype.ua=function(){return{type:this.oa,coordinates:this.va(),boundingBox:this.Y().ua()}};Q.prototype.forWorkerMessage=Q.prototype.ua;function R(a,b,c){this.lat=Le(a,R,0);this.lng=Me(b,R,1);c!==z&&(this.alt=Ne(c,R,2))}xa(R,Q);t("H.geo.Point",R);R.prototype.I=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&(this.alt||0)===(a.alt||0)};R.prototype.equals=R.prototype.I;R.prototype.ra=function(a){if(this===a||this.lat===a.lat&&this.lng===a.lng)a=0;else{var b=this.lat*Jb;var c=a.lat*Jb;a=1.274200158E7*yb(sb(1,qb(rb(xb((b-c)/2),2)+zb(b)*zb(c)*rb(xb((this.lng*Jb-a.lng*Jb)/2),2))))}return a};\nR.prototype.distance=R.prototype.ra;\nR.prototype.ic=function(a,b,c){if(c){if(b/=6371000.79){a*=Jb;var d=Jb*this.lat;var e=xb(d);var f=xb(b);var g=zb(b);var h=Jb*this.lng;var k=zb(d);d=yb(k*zb(a)*f+e*g);a=Cb(xb(a)*k*f,g-e*xb(d));a=(h+a+I)%(2*I)-I;k=a*Kb}return b?new R(d*Kb,(k+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*Hb*zb(this.lat*Jb))*(270===a?-360:360),new R(this.lat,(d+540)%360-180);if(b/=6371000.79){a*=Jb;h=this.lat*Jb;e=this.lng*Jb;f=h+b*zb(a);g=f-h;d=vb(Ab(f/2+Gb)/Ab(h/2+Gb));d=Ra(g/\nd)?zb(h):g/d;var m=b*xb(a)/d;ub(f)>Eb&&(f=0<f?I-f:-(I+f))}return b?new R(f*Kb,((e+m+Ib+(ub(h+g)>Eb?I:0))%Hb-I)*Kb):this};R.prototype.walk=R.prototype.ic;R.prototype.Y=function(){return new T(this.lat,this.lng,this.lat,this.lng)};R.prototype.getBoundingBox=R.prototype.Y;function Oe(a,b,c){var d=qa(a)&&!(Ra(a.lat=Le(a.lat))||Ra(a.lng=Me(a.lng))||a.alt!==z&&Ra(a.alt=Ne(a.alt)));if(!d&&b)throw new A(b,c,a);return d}R.validate=Oe;\nfunction Pe(a){if(!a)throw new A(Pe,0,a);return new R(a.lat,a.lng,a.alt)}R.fromIPoint=Pe;l=R.prototype;l.oa="Point";l.eb=function(a){a.push("(",this.lng," ",this.lat,")");return a};l.wa="Point";l.cb=function(){return[this.lng,this.lat,this.alt||0]};l.va=function(){return[this.lat,this.lng,this.alt||0]};var W={};t("H.geo.mercator",W);W.a=function(a){return sb(1,tb(0,.5-vb(Ab(Gb+Eb*a/180))/I/2))};W.b=function(a){return a/360+.5};W.la=function(a,b,c){c?(c.x=W.b(b),c.y=W.a(a)):c=new E(W.b(b),W.a(a));return c};W.latLngToPoint=W.la;W.tb=function(a,b){return W.la(a.lat,a.lng,b)};W.geoToPoint=W.tb;W.f=function(a){return 0>=a?90:1<=a?-90:Kb*(2*Bb(wb(I*(1-2*a)))-Eb)};W.c=function(a){return 360*(1===a?1:Mb(a,1))-180};W.X=function(a,b,c){c?(c.lat=W.f(b),c.lng=W.c(a)):c=new R(W.f(b),W.c(a));return c};\nW.xyToGeo=W.X;W.Wb=function(a,b){return W.X(a.x,a.y,b)};W.pointToGeo=W.Wb;t("H.util.constants.DEFAULT_MIN_ZOOM_LEVEL",0);t("H.util.constants.DEFAULT_MAX_ZOOM_LEVEL",22);function X(a,b){this.projection=a||W;this.b=0;this.a=this.exp=vb(b||256)/Db;Qe(this);this.y=this.x=0}t("H.geo.PixelProjection",X);var Re=ub(24)+ub(-8);X.prototype.Zb=W;X.prototype.projection=X.prototype.Zb;X.prototype.x=0;X.prototype.x=X.prototype.x;X.prototype.y=0;X.prototype.y=X.prototype.y;X.prototype.hc=rb(2,Re);X.prototype.w=X.prototype.hc;X.prototype.Jb=rb(2,Re);X.prototype.h=X.prototype.Jb;\nX.prototype.da=function(a){if(Ra(a))throw new A(this.da,0,a);var b=this.x/this.w;var c=this.y/this.h;this.b=a;this.a=this.exp+a;Qe(this);this.x=b*this.w;this.y=c*this.h};X.prototype.rescale=X.prototype.da;function Qe(a){a.a>Re&&(a.a=Re);a.w=rb(2,a.a);a.h=rb(2,a.a)}X.prototype.Sa=function(){return this.b||0};X.prototype.getZoomScale=X.prototype.Sa;X.prototype.sb=function(a,b){a=this.projection.la(a.lat,a.lng,b);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};X.prototype.geoToPixel=X.prototype.sb;\nX.prototype.Fa=function(a,b){return this.projection.X((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};X.prototype.pixelToGeo=X.prototype.Fa;X.prototype.X=function(a,b,c){return this.projection.X((a+this.x)/this.w,(b+this.y)/this.h,c)};X.prototype.xyToGeo=X.prototype.X;X.prototype.Ba=function(a,b,c){a=this.projection.la(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};X.prototype.latLngToPixel=X.prototype.Ba;X.prototype.Xb=function(a){return new E(a.x*this.w-this.x,a.y*this.h-this.y)};\nX.prototype.pointToPixel=X.prototype.Xb;t("H.util.Disposable",K);K.prototype.N=K.prototype.N;K.prototype.addOnDisposeCallback=K.prototype.N;t("H.util.dispose",function(a){a&&"function"==typeof a.B&&a.B()});K.prototype.B=K.prototype.B;K.prototype.dispose=K.prototype.B;K.prototype.P=K.prototype.P;function Se(){}t("H.util.ICancelable",Se);Se.prototype.cancel=function(){};Se.prototype.cancel=Se.prototype.cancel;function Te(a,b,c,d){this.key="";this.x=a;this.y=b;this.b=c;this.Z=d;this.a=Ad()}Te.prototype.then=function(a,b,c){return this.a.a.then(a,b,c)};Te.prototype.reject=function(a){this.a.reject(a)};Te.prototype.cancel=function(){this.a.a.cancel()};function Ue(a,b,c,d){if(!a||!b||!c)throw new A(Ue,null,"Must specify name, version and revision parameter");this.name=a;this.version=b;this.revision=c;d&&Ca(this,d)}t("H.util.BuildInfo",Ue);Ue.prototype.toString=function(){var a,b=[];for(a in this)Qa(this[a])&&b.push(this[a]);return b.join(";")};var Ve={};function We(a,b,c,d){if(!a)throw new A(We,1,"Must specify a name parameter");return Ve[a]||(Ve[a]=new Ue(a,b,c,d))}Ue.get=We;function Z(a,b,c,d,e,f){if(a&&b)this.bb(a),this.Ha(b),this.Ka(c),this.ab(e),this.$a(f),this.La(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}t("H.service.Url",Z);\nfunction Xe(a,b){var c=y.document,d,e=c&&c.createElement("a"),f="";if(c){if(b){var g=(d=c.getElementsByTagName("base")[0])&&d.href;var h=c.head;var k=d||h.appendChild(c.createElement("base"));k.href=b}e.href=a;f=e.href;b&&(d?d.href=g:h.removeChild(k))}else/[\\w]+:\\/\\//.test(a)&&(f=a);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(f);a=g[1];k=g[4];b=g[5];h=g[6];c=g[7];d=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):\n"";k={};if(c)for(e=/([?&]?([^=&+]+))(=([^&]+))?/g;f=e.exec(c);)k[decodeURIComponent(f[2])]=f[4]?decodeURIComponent(f[4]):void 0;return new Z(a,g,h,k,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):"")}Z.parse=Xe;var Ye=0;Z.prototype.clone=function(){Ye++;var a={},b;for(b in this.a)a[b]=this.a[b];return new Z(this.o,this.f,this.b,a,this.g,this.c)};Z.prototype.clone=Z.prototype.clone;\nZ.prototype.bb=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.o=a;return this};Z.prototype.setScheme=Z.prototype.bb;Z.prototype.Gb=function(){return this.o};Z.prototype.getScheme=Z.prototype.Gb;Z.prototype.Ha=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.f=a;return this};Z.prototype.setHost=Z.prototype.Ha;\nZ.prototype.yb=function(){return this.f};Z.prototype.getHost=Z.prototype.yb;Z.prototype.Ka=function(a){this.b=a||void 0;return this};Z.prototype.setPath=Z.prototype.Ka;Z.prototype.Db=function(){return this.b};Z.prototype.getPath=Z.prototype.Db;Z.prototype.La=function(a){if(a)if("object"==typeof a)this.a=a;else throw Error(\'Parameter "params" must be an object.\');else this.a={};return this};Z.prototype.setQuery=Z.prototype.La;Z.prototype.Kb=function(){return!Ze(this)};Z.prototype.hasQuery=Z.prototype.Kb;\nZ.prototype.getQuery=function(){return this.a};Z.prototype.getQuery=Z.prototype.getQuery;Z.prototype.ab=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.g=+a||void 0;return this};Z.prototype.setPort=Z.prototype.ab;Z.prototype.Eb=function(){return this.g};Z.prototype.getPort=Z.prototype.Eb;Z.prototype.$a=function(a){this.c=a||void 0;return this};Z.prototype.setAnchor=Z.prototype.$a;Z.prototype.ub=function(){return this.c};\nZ.prototype.getAnchor=Z.prototype.ub;Z.prototype.aa=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};Z.prototype.mergeQuery=Z.prototype.aa;Z.prototype.ib=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Ha(a+"."+this.f)};\nZ.prototype.addSubDomain=Z.prototype.ib;Z.prototype.jb=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.Ka((this.b?this.b+"/":"")+a)};Z.prototype.addSubPath=Z.prototype.jb;Z.prototype.toString=function(){return[this.o+"://",this.f,this.g?":"+this.g:"",this.b||!Ze(this)||this.c?"/":"",this.b?encodeURI(this.b):"",$e(this),this.c?"#"+encodeURIComponent(this.c):""].join("")};Z.prototype.toString=Z.prototype.toString;\nfunction $e(a){function b(g,h){return encodeURIComponent(g)+(void 0===h?"":"="+encodeURIComponent(h).replace(/[!\'()*]/g,function(k){return"%"+k.charCodeAt(0).toString(16)}))}var c=[],d,e=a.a;for(d in e)if(e.hasOwnProperty(d)&&"function"!==typeof e[d]){var f=a.a[d];Na(f,af)?f.fb.forEach(function(g){c.push(b(d,g))}):c.push(b(d,f))}return 0<c.length?"?"+c.join("&"):""}function Ze(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&"function"!==typeof a.a[b]&&(c++,0<c))break;return!c}\nfunction af(a){var b;if(!Oa(a,void 0,void 0,void 0))throw new A(af,0,a);for(b=0;b<a.length;b++){var c=a[b];if(!Qa(c)&&!Sa(c))throw new A(af,0,"The array can only contain strings and numbers");}this.fb=a}Z.MultiValueQueryParameter=af;af.prototype.Ib=function(){return this.fb};af.prototype.getValues=af.prototype.Ib;var bf={};function cf(a){try{importScripts.apply(self,arguments)}catch(b){this.postError("invalid_script")}}function df(a){bf[a]=null;this.postMessage(a)}function ef(a,b,c){if(r(b))var d=b;else try{d=self.eval("("+b+")"),r(d)||(d=null)}catch(e){}d?(bf[a]=d,c||this.postMessage(a)):this.postError("invalid_processor")}function ff(a){this.b=a&&a[0];this.a=a&&a[1];this.c=a&&a[2]||[]}ff.prototype.postError=function(a){this.postMessage(a,z,0)};\nff.prototype.postMessage=function(a,b,c){self.postMessage({processor:this.b,taskId:this.a,type:c===z?1:c,data:a},b||z)};function gf(a,b,c){if(!Qa(a))throw new A(gf,0,"InvalidArgument");if(!r(b))throw new A(gf,1,"InvalidArgument");var d=hf++;jf[d]={mimeType:c||kf,mb:b};(new ff(["3",d,[]])).postMessage(a,[],2)}var jf={},hf=0;\nfunction lf(a,b){var c=a;if(jf[this.a]){var d=jf[this.a];var e=d.mb;delete jf[this.a];if(b)e(null,b);else{if(d.mimeType===mf){a=new Uint8Array(a);b=a.byteLength;d="";c=0;for(var f,g,h,k;c<b;)f=a[c++],192>f||(g=a[c++],224>f?f=(f&31)<<6|g&63:(h=a[c++],240>f?f=(f&15)<<12|(g&63)<<6|h&63:(k=a[c++],f=(f&7)<<18|(g&63)<<12|(h&63)<<6|k&63))),65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode((f>>10)+55296,(f&1023)+56320));c=d}e(c)}}}var kf=0,mf=1;function T(a,b,c,d){nf(this,Le(a,T,0),Me(b,T,1),Le(c,T,2),Me(d,T,3))}xa(T,Q);t("H.geo.Rect",T);T.prototype.oa="Polygon";T.prototype.eb=function(a){var b=this.m,c=this.i,d=this.l,e=this.j;a.push("(","(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")",")");return a};T.prototype.I=function(a){return this===a||!!a&&this.m===a.m&&this.i===a.i&&this.l===a.l&&this.j===a.j};T.prototype.equals=T.prototype.I;T.prototype.clone=function(){return new T(this.m,this.i,this.l,this.j)};\nT.prototype.clone=T.prototype.clone;function nf(a,b,c,d,e){a.i=c;a.j=e;b<d&&(c=b,b=d,d=c);a.m=b;a.l=d;a.c=a.a=a.b=null;return a}T.prototype.Ra=function(){this.c||(this.c=new R(this.m,this.i));return this.c};T.prototype.getTopLeft=T.prototype.Ra;T.prototype.Qa=function(){this.a||(this.a=new R(this.l,this.j));return this.a};T.prototype.getBottomRight=T.prototype.Qa;T.prototype.Hb=function(){return this.m};T.prototype.getTop=T.prototype.Hb;T.prototype.vb=function(){return this.l};\nT.prototype.getBottom=T.prototype.vb;T.prototype.Ab=function(){return this.i};T.prototype.getLeft=T.prototype.Ab;T.prototype.Fb=function(){return this.j};T.prototype.getRight=T.prototype.Fb;T.prototype.J=function(){this.b||(this.b=new R(this.l+(this.m-this.l)/2,of(this.i,this.L())));return this.b};T.prototype.getCenter=T.prototype.J;T.prototype.L=function(){return pf(this.i,this.j)};T.prototype.getWidth=T.prototype.L;T.prototype.S=function(){return this.m-this.l};T.prototype.getHeight=T.prototype.S;\nT.prototype.Nb=function(){return this.i>this.j};T.prototype.isCDB=T.prototype.Nb;T.prototype.Qb=function(){return!this.L()&&!this.S()};T.prototype.isEmpty=T.prototype.Qb;T.prototype.Y=function(){return new T(this.m,this.i,this.l,this.j)};T.prototype.getBoundingBox=T.prototype.Y;T.prototype.ga=function(a,b,c){var d=this.J();c||(a=Le(a,this.ga,0),b=Me(b,this.ga,1));b=this.M(a,b,c);a=b.J();return a.lat===d.lat&&a.lng===d.lng&&this.S()===b.S()&&this.L()===b.L()};T.prototype.containsLatLng=T.prototype.ga;\nT.prototype.ha=function(a,b){b||Oe(a,this.ha,0);return this.ga(a.lat,a.lng,b)};T.prototype.containsPoint=T.prototype.ha;T.prototype.Pa=function(a,b){var c=this.J();if(!b&&!Na(a,T))throw new A(this.Pa,0,a);b=this.ma(a,b);a=b.J();return a.lat===c.lat&&a.lng===c.lng&&this.S()===b.S()&&this.L()===b.L()};T.prototype.containsRect=T.prototype.Pa;\nT.prototype.M=function(a,b,c,d){if(!c){if(Ra(a=Le(a)))throw new A(this.M,0,a);if(Ra(b=Me(b)))throw new A(this.M,1,b);}return qf(this.m,this.i,this.l,this.j,a,b,a,b,d)};T.prototype.mergeLatLng=T.prototype.M;T.prototype.Wa=function(a,b,c){b||Oe(a,this.Wa,0);return this.M(a.lat,a.lng,b,c)};T.prototype.mergePoint=T.prototype.Wa;T.prototype.ma=function(a,b,c){if(!b&&!Na(a,T))throw new A(this.ma,0,a);return qf(this.m,this.i,this.l,this.j,a.m,a.i,a.l,a.j,c)};T.prototype.mergeRect=T.prototype.ma;\nT.prototype.ba=function(a,b,c,d,e,f){e||(a=Le(a,this.ba,0),b=Me(b,this.ba,1),c=Le(c,this.ba,2),d=Me(d,this.ba,3));return qf(this.m,this.i,this.l,this.j,a,b,c,d,f)};T.prototype.mergeTopLeftBottomRight=T.prototype.ba;T.prototype.Ua=function(a,b){var c=this.i<=this.j,d=a.i<=a.j,e=this.i<a.j,f=a.i<this.j;if(!b&&!Na(a,T))throw new A(this.Ua,0,a);return this.l<=a.m&&a.l<=this.m&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};T.prototype.intersects=T.prototype.Ua;function pf(a,b){a=b-a;return a+(0>a?360:0)}\nfunction of(a,b){a+=b/2;return a-(180<a?360:0)}function qf(a,b,c,d,e,f,g,h,k){c=sb(c,g);a=tb(a,e);e=pf(b,d);var m=of(b,e);g=pf(f,h);var n=of(f,g)-m;n+=0>n-1E-6?360:0;if(180>n-1E-6){m=b;var q=h}else n=360-n,m=f,q=d;n=n+e/2+g/2;360<=n+5E-7?(m=-180,q=180):n-5E-7<e?(m=b,q=d):n-5E-7<g&&(m=f,q=h);return k?nf(k,a,m,c,q):new T(a,m,c,q)}T.merge=qf;function rf(a,b,c){c||(Oe(a,rf,0),Oe(b,rf,1));return new T(a.lat,a.lng,b.lat,b.lng)}T.fromPoints=rf;\nfunction sf(a,b){var c=1,d=a.length,e=null;var f=oa(a);if("array"!=f&&("object"!=f||"number"!=typeof a.length))throw new A(sf,0,a);if(0<d)for(f=a[0],e=rf(f,f,b);c<d;c++)f=a[c],e.M(f.lat,f.lng,b,e);return e}T.coverPoints=sf;function tf(a,b){var c=3,d=a.length,e;if(!(b||a&&null!=a.length))throw new A(tf,0,a);if(0<d)for(e=new T(a[0],a[1],a[0],a[1]);c<d;c+=3)e.M(a[c],a[c+1],b,e);return e}T.coverLatLngAlts=tf;\nfunction uf(a,b){var c=1,d=a.length,e;if(b&&(!a||null==a.length))throw new A(uf,0,a);if(0<d)for(e=new T(a[0].m,a[0].i,a[0].l,a[0].j);c<d;c++)e.ma(a[c],b,e);return e}T.coverRects=uf;\nT.prototype.Ya=function(a,b){var c=this.i,d=this.m,e=this.j,f=this.l,g=this.J().lng;Oe(a,this.Ya,0);var h=a.lat-f-(d-f)/2;var k=a.lng-g;k=180<k||-180>k?-(g+a.lng):k;a=c+(0>k?2*k:0);a=-180>a?360+a:a;e+=0<k?2*k:0;e=180<e?e-360:e;d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?nf(b,d,a,f,e):new T(d,a,f,e)};T.prototype.resizeToCenter=T.prototype.Ya;T.prototype.wa="Polygon";\nT.prototype.cb=function(){return[[this.i,this.m,0],[this.j,this.m,0],[this.j,this.l,0],[this.i,this.l,0],[this.i,this.m,0]]};T.prototype.ua=function(){return this.va()};T.prototype.va=function(){return[this.m,this.i,this.l,this.j]};function vf(a,b,c,d){var e=!!c,f,g=0,h=0,k=0,m=0,n=0,q,u=-1;var J=y.Float32Array;var M,v=[];if(b){b=La(b);a=La(a);e&&(f=La(c));c=b.length;d=d?1E-7:1E-5;for(M=new J(3*c);g<c;){J=b[g];var G=+J;var Y=+a[g];e&&(q=+f[g]);wf.test(J)?0<=u&&(0<g-u&&v.push(u,g+1),u=-1):0>u&&(u=g);g++;m=M[h++]=m+Y*d;k=M[h++]=k+G*d;e&&(n=M[h]=n+q);h++}0<=u&&1<c-u&&v.push(u,c)}else M=new J(0);return{path:M,outlineIndices:v}}var wf=/^-?0\\d/;\nfunction xf(a,b){for(var c=0,d=a.length/3,e=new y.Array(d),f=0;c<d;)e[c++]=b.Ba(a[f],a[++f]),f+=2;return e};function yf(a,b){b=180/(1<<b);var c=a.lat+90;a=(a.lng+180)%360;var d=0;180==c&&d--;d+=Math.floor(c/b);return[d,Math.floor(a/b)]}var zf=1/Math.pow(10,10);function Af(a,b){var c=[],d=a.Ra();a=a.Qa();var e;180==a.lng&&(a.lng-=zf);d=yf(d,b);a=yf(a,b);for(e=d[0];e>=a[0];e--)for(b=d[1];b<=a[1];b++)c.push(e,b);return c};function Bf(a,b){var c=a.tileSize||256;this.b={};this.v=Xe(a.serverUrl);this.g=b;this.fc=a.layerConfigs||[];this.o=a.projected;this.T=c;this.Ea=!1!==a.batchTiles;this.Ga=a.horizontalMargin||0;this.gc=a.onlyOutline;this.gb=new X(Ia,c);this.f=new X(Ia,c);this.f.da(22-Math.log(c)/Math.LN2+8)}xa(Bf,K);l=Bf.prototype;\nl.ac=function(a,b,c){var d=this.T,e=this.Ga,f={x:a*d-e,y:b*d};d={x:(a+1)*d-1+e,y:(b+1)*d-1};e=this.gb;e.da(c);f=e.Fa(f);d=e.Fa(d);return Cf(this,new T(f.lat,f.lng,d.lat,d.lng),this.fc,{x:a,y:b,z:c})};l.$b=function(a,b,c,d,e){return Cf(this,new T(a,b,c,d),e)};\nfunction Cf(a,b,c,d){var e=Df(c),f=e.length,g={},h,k=a.b,m=[],n=[];for(c=0;c<f;c++){var q=e[c];var u=q.layerId;var J=q.level;g[u]=q.columns;q=Af(b,J);var M=q.length-1;for(h=0;h<M;h+=2){var v=[u,q[h+1],q[h],J].join("_");var G=k[v]||a.g.get(v);G||(G=new Te(q[h+1],q[h],J,u),G.key=v,k[v]=G,n.push(G));m.push(G)}}n.length&&(a.Ea?Ef(a,n):Ff(a,n));return zd(m.map(function(Y){return Y.then(Fa(this.qb,this,Y.Z,Gf(e))).then(Fa(this.Yb,this,Y,d||{})).then(Fa(this.rb,this,g[Y.Z]))},a))}\nl.qb=function(a,b,c){var d=c.Rows,e=d.length,f,g;if(e&&(f=b[a])){b=new D(c.Rows);var h=[];for(g=0;g<e;g++){var k=d[g];f(b.ja(g),a)&&h.push(k)}a={Rows:h};if(c=c.Meta)a.Meta=c}else a=c;return a};function Ff(a,b){function c(k,m,n){n?(delete a.b[k.key],k.reject(n)):Hf(a,k,m)}var d,e=b.length,f=a.v;for(d=0;d<e;d++){var g=b[d];var h=f.clone().aa({tilex:g.x}).aa({tiley:g.y}).aa({level:g.b}).aa({layer:g.Z});new gf(h.toString(),Fa(c,null,g),mf)}}\nfunction Ef(a,b){var c=b.length,d;for(d=0;d<c;d+=15){var e=b.slice(d,d+15);If(a,e)}}function If(a,b){var c=a.v.clone(),d=[],e=[],f=[],g=c.getQuery();b.length&&(b.forEach(function(h){d.push(h.x,h.y);e.push(h.b);f.push(h.Z)}),g.tilexy=d.join(","),g.layers=f.join(","),g.levels=e.join(","),c.La(g),new gf(c.toString(),function(h,k){k?b.forEach(function(m){delete a.b[m.key];m.reject("error")}):Hf(a,b,h)},mf))}\nfunction Hf(a,b,c){var d=b.length,e;if(Oa(b,void 0,void 0,void 0)){var f=c.indexOf("[")+1;for(e=0;e<d;e++){var g=c.indexOf("]},{",f+3)+2;g<f&&(g=c.lastIndexOf("]}"));var h=c.substr(f,g-f);f=g+1;Jf(a,b[e],h)}}else Jf(a,b,c)}function Jf(a,b,c){try{var d=c.length;var e=b.key;delete a.b[e];a.g.add(e,b,2*d);var f=JSON.parse(c);b.a.b(f)}catch(g){b.reject(g.message)}}\nfunction Gf(a){var b={},c,d=a.length;for(c=0;c<d;c++){var e=a[c];if(e.rowFilter){var f=e.layerId;f=f!==z?f:e.layer;b[f]=Fa(e.rowFilter,e.rowFilterContext)}}return b}function Kf(a,b,c,d,e){return e?[new E(a,b),new E(c,b),new E(c,d),new E(a,d),new E(a,b)]:[a,b,c,b,c,d,a,d]}\nl.Yb=function(a,b,c){var d=this.f.Sa()-b.z,e=this.T<<d,f=50<<d,g=b.x*e;b=b.y*e;var h=g+e;e=b+e;var k=g-f,m=b-f,n=h+f;f=e+f;var q,u,J=c.Rows,M=J.length,v,G=/^ADAS/.test(a.Z),Y=this.f,pa=this.gc,S,ab=[],Ja=[],Ka=[],bb=[];for(a=0;a<M;a++){var w=v=J[a];var P=(S=G)?"HPY":"LAT";var U=S?"HPX":"LON";var ea=S?"HPZ":"ZLEVEL";if(w[P]){var V=vf(w[P],w[U],w[ea],S);w.geometry=V;delete w[P];delete w[U];delete w[ea];if(w.INNER_LAT)for(P=w.INNER_LAT.split(";"),V=w.INNER_LON.split(";"),delete w.INNER_LAT,delete w.INNER_LON,\nw.interiors=ea=[],U=P.length,w=0;w<U;w++)ea.push(vf(P[w],V[w],"",S))}if(this.o){S=void 0;U=v;V=Y;P=U.$$projected$$;if(!P){var ba=U.geometry;w=xf(ba.path,V);v=[w];U.$$projected$$=P={Vb:v};U=(ea=U.interiors)?ea.length:0;v.length+=U;S|=Lf(v,w,ba.outlineIndices);if(U)for(P.Lb=1,q=0;q<U;q++)ba=ea[q],w=xf(ba.path,V),v[1+q]=w,S|=Lf(v,w,ba.outlineIndices);S&&(P.Tb=1+U)}w=P;S=w.Vb;v=w.Lb;var zc=w.Tb;V=[];P=U=Lb;var cb=ea=z;w=S[0];if(1===w.length){var Ac=Ac||(Ac=Kf(g,b,h,e,!1));v=w[0];Rb(v.x,v.y,Ac)&&V.push(Mf(w,\ng,b,d))}else{var Be=S.length;for(ba=pa?zc:0;ba<Be&&(pa||!ba||V.length);ba++)if(w=S[ba],ba>=zc){ba===zc&&(P=V.length);var ja=Ub([w],k,m,n,f,!1);Nf(ja,g,b,d,V)}else{var Fb=Fb||(Fb=Kf(k,m,n,f,!0));if(ba>=v)if(ba===v&&(U=V.length),cb)for(q=cb.length;q--;){if(ja=Of(cb[q],w),u=ja.length){for(ea=ea||[];u--;)ea.push(q);Nf(ja,g,b,d,V)}}else ja=Of(Fb,w),Nf(ja,g,b,d,V);else if(ja=Of(Fb,w),Nf(ja,g,b,d,V),1<ja.length&&v<Be)for(cb=[],q=ja.length;q--;)cb[q]=ja[q]}}V.length&&(ab[a]=V,Ja[a]=U,Ka[a]=ea,bb[a]=P)}}return{dc:c,\nnb:ab,Mb:Ja,pb:Ka,Ub:bb}};function Lf(a,b,c){for(var d=c.length,e=0,f,g,h=b.length;e<d;)f=c[e++],g=c[e++],a.push(g-f===h?b:b.slice(f,g));return 0<c.length}function Of(a,b){var c,d=[];if(c=Wb(a,b)){do{a=[];b=c;do a.push(b);while(b=b.next);d.push(a)}while(c=c.Xa)}else Sb(b[0],Tb(a))?d.push(b):Sb(a[0],Tb(b))&&d.push(a);return d}function Nf(a,b,c,d,e){for(var f=0,g=a.length;f<g;f++)e.push(Mf(a[f],b,c,d))}\nfunction Mf(a,b,c,d){var e,f=a.length,g=new Int32Array(2*f),h=0;for(e=0;e<f;e++){var k=a[e];g[h++]=k.x-b>>d;g[h++]=k.y-c>>d}return g}\nl.rb=function(a,b){var c=b.dc,d=b.nb,e=b.Mb,f=b.Ub;b=b.pb;for(var g=[],h,k={Rows:g},m,n=a?a.length:0,q=0,u,J=c.Rows,M=J.length,v;q<M;q+=1)if(d[q]||!this.o){h={};u=J[q];if(n)for(m=0;m<n;m++)u.hasOwnProperty(a[m])&&(h[a[m]]=u[a[m]]);else for(v in u)"$$projected$$"!==v&&(h[v]=u[v]);u.geometry&&(h.geometry=u.geometry);m=void 0;var G,Y=h,pa=d[q],S=e[q],ab=b[q],Ja=f[q],Ka=g;if(pa){var bb=pa.length;if(ab)for(G=S;G--;){if(G){var w={};for(m in Y)w[m]=Y[m]}else w=Y;u=[pa[G]];var P=sb(bb,Ja)-S;for(h=0;h<P;h++)ab[h]===\nG&&u.push(pa[S+h]);P=u.length;if(!G)for(h=Ja;h<bb;h++)u.push(pa[h]);w.$HProjGeometry={paths:u,interiorsIndex:1,outlinesIndex:P};Ka.push(w)}else Y.$HProjGeometry={paths:pa,interiorsIndex:S,outlinesIndex:Ja},Ka.push(Y)}else Ka.push(Y)}c.Meta&&(k.Meta=c.Meta);return k};l.P=function(){var a,b=this.b;for(a in b)b.hasOwnProperty(a)&&(b[a].reject("disposed"),delete b[a])};\nfunction Df(a){for(var b=[],c,d=a.length,e=0;e<d;e++){c=Aa(a[e]);if(c.rowFilter&&(c.rowFilter=eval("("+c.rowFilter+")"),!r(c.rowFilter)))throw Error("Invalid row filter for layer "+c.layerId);b.push(c)}return b};t("H.service.extension.worker.processor",function(a,b,c){function d(h){e.postMessage(h)}var e=this,f=za[a];var g=function(h){e.postError(h.toString())};if(0===b)f||(za[a]=new Bf(c,Pf)),this.postMessage();else if(f)switch(b){case 1:try{f.ac.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 2:try{f.$b.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 3:f.B();delete za[a];ya()&&Pf.U();break;default:e.postError("Unsupported command")}});\nvar Pf=new B(26214400),za=Object.create(Ia,void 0);function Qf(a,b,c){var d=a[b];a=a[b+1];this.Ta=[];this.Ma=0;this.b=b;this.a=[a-c,d-c,a+c,d+c]}Qf.prototype.ha=function(a,b){var c=a[b];a=a[b+1];b=this.a;return b[1]<=c&&c<=b[3]&&b[0]<=a&&a<=b[2]};Qf.prototype.J=function(){return this.b};var Rf=new E(0,0);function Sf(a,b,c,d,e){d[e]=b;d[e+1]=a}var Tf=new X;function Uf(a,b,c,d,e){Tf.Ba(a,b,Rf);d[e]=Rf.x;d[e+1]=Rf.y}\nt("H.clustering.dynamicgrid.worker",function(a,b,c,d,e){var f=e?Sf:Uf,g=0;e=!!self.ArrayBuffer;var h=a.byteLength?new Float64Array(a):a,k=h.length/3;a=[];var m=[],n=[],q=e?new Float64Array(2*k):[];k=0;var u=0;for(Tf.da(d);g<h.length;){var J=h[g++];var M=h[g++];var v=h[g++];f(v,M,d,q,u);for(v=a.length;v--;)if(M=a[v],M.ha(q,u)){var G=M;break}G||(G=new Qf(q,u,b),a.push(G));v=u/2;G.Ma+=J||1;G.Ta.push(v);G=null;u+=2}for(v=a.length;v--;)M=a[v],b=M.Ma>=c,f=M.Ta,d=f.length,b?(m.push(d),m=m.concat(f)):\n(k+=d,n=n.concat(f));c=[k].concat(n,m);c=e?(new Uint32Array(c)).buffer:c;this.postMessage(c,[c])});self.addEventListener("message",function(a){a=new ff(a.data);var b=bf[a.b];if(b)try{b.apply(a,a.c)}catch(c){a.postError(c.message)}else a.postError("processor_not_found")});(function(){var a=new ff;var b=function(c,d){ef.apply(a,[c,d,!0])};b("0",cf);b("1",ef);b("2",df);b("3",lf)})();\n',function t(){var e,n,r;"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||!(module.exports||"undefined"!=typeof window)||(e=t.toString(),n="",r="undefined"!=typeof document&&document.currentScript instanceof HTMLScriptElement?document.currentScript.src:""),function(){function t(t){return i.call(t).slice(8,-1)}var i={}.toString,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(t,e){return t(e={exports:{}},e.exports),e.exports}function s(t){return t&&t.Math==Math&&t}function l(t){try{return!!t()}catch(t){return!0}}function u(t){return"object"==typeof t?null!==t:"function"==typeof t}function c(t){return w?x.createElement(t):{}}function h(t){if(!u(t))throw TypeError(String(t)+" is not an object");return t}function f(t,e){if(!u(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!u(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function p(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function d(t,e){try{T(b,t,e)}catch(o){b[t]=e}return e}function v(t){return"Symbol(".concat(void 0===t?"":t,")_",(++O+M).toString(36))}function g(t){return j[t]||(j[t]=C&&I[t]||(C?I:v)("Symbol."+t))}function y(e){var n,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(n=Object(e),P))?r:R?t(n):"Object"==(i=t(n))&&"function"==typeof n.callee?"Arguments":i}var m="object",b=s(typeof globalThis==m&&globalThis)||s(typeof window==m&&window)||s(typeof self==m&&self)||s(typeof o==m&&o)||Function("return this")(),_=!l((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),x=b.document,w=u(x)&&u(x.createElement),k=!_&&!l((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})),E=Object.defineProperty,S={f:_?E:function(t,e,n){if(h(t),e=f(e,!0),h(n),k)try{return E(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},T=_?function(t,e,n){return S.f(t,e,p(1,n))}:function(t,e,n){return t[e]=n,t},A=a((function(t){var e="__core-js_shared__",n=b[e]||d(e,{});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.0",mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),O=0,M=Math.random(),C=!l((function(){return!String(Symbol())})),j=A("wks"),I=b.Symbol,P=g("toStringTag"),R="Arguments"==t(function(){return arguments}()),L={};function N(t,e){return Z.call(t,e)}function D(t){return J[t]||(J[t]=v(t))}L[g("toStringTag")]="z";var z,F,B,U,V,G,q,Y,W="[object z]"!==String(L)?function(){return"[object "+y(this)+"]"}:L.toString,Z={}.hasOwnProperty,X=A("native-function-to-string",Function.toString),K=b.WeakMap,$="function"==typeof K&&/native code/.test(X.call(K)),J=A("keys"),Q={},tt=b.WeakMap;q=$?(z=new tt,F=z.get,B=z.has,U=z.set,V=function(t,e){return U.call(z,t,e),e},G=function(t){return F.call(z,t)||{}},function(t){return B.call(z,t)}):(Y=D("state"),Q[Y]=!0,V=function(t,e){return T(t,Y,e),e},G=function(t){return N(t,Y)?t[Y]:{}},function(t){return N(t,Y)});var et={set:V,get:G,has:q,enforce:function(t){return q(t)?G(t):V(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=G(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=a((function(t){var e=et.get,n=et.enforce,r=String(X).split("toString");A("inspectSource",(function(t){return X.call(t)})),(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||N(i,"name")||T(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==b?(a?!l&&t[e]&&(s=!0):delete t[e],s?t[e]=i:T(t,e,i)):s?t[e]=i:d(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||X.call(this)}))})),rt=Object.prototype;function it(t){return isNaN(t=+t)?0:(0<t?vt:dt)(t)}function ot(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function at(t){return _t(ot(t))}function st(t){return 0<t?kt(it(t),9007199254740991):0}function lt(t,e){var n,r=at(t),i=0,o=[];for(n in r)!N(Q,n)&&N(r,n)&&o.push(n);for(;e.length>i;)N(r,n=e[i++])&&(~Tt(o,n)||o.push(n));return o}function ut(t,e){var n=Lt[Rt(t)];return n==Dt||n!=Nt&&("function"==typeof e?l(e):!!e)}function ct(t,e){var n,r,i,o,a=t.target,s=t.global,l=t.stat,u=s?b:l?b[a]||d(a,{}):(b[a]||{}).prototype;if(u)for(n in e){if(i=e[n],r=t.noTargetGet?(o=Ft(u,n))&&o.value:u[n],!zt(s?n:a+(l?".":"#")+n,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;!function(t,e){for(var n=It(e),r=S.f,i=wt.f,o=0;o<n.length;o++){var a=n[o];N(t,a)||r(t,a,i(e,a))}}(i,r)}(t.sham||r&&r.sham)&&T(i,"sham",!0),nt(u,n,i,t)}}W!==rt.toString&&nt(rt,"toString",W,{unsafe:!0});var ht,ft,pt,dt=Math.ceil,vt=Math.floor,gt={}.propertyIsEnumerable,yt=Object.getOwnPropertyDescriptor,mt={f:yt&&!gt.call({1:2},1)?function(t){var e=yt(this,t);return!!e&&e.enumerable}:gt},bt="".split,_t=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==t(e)?bt.call(e,""):Object(e)}:Object,xt=Object.getOwnPropertyDescriptor,wt={f:_?xt:function(t,e){if(t=at(t),e=f(e,!0),k)try{return xt(t,e)}catch(t){}if(N(t,e))return p(!mt.f.call(t,e),t[e])}},kt=Math.min,Et=Math.max,St=Math.min,Tt=(!1,function(t,e,n){for(var r,i,o=at(t),a=st(o.length),s=(r=a,(i=it(n))<0?Et(i+r,0):St(i,r));s<a;s++)if(s in o&&o[s]===e)return s||0;return-1}),At=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ot=At.concat("length","prototype"),Mt={f:Object.getOwnPropertyNames||function(t){return lt(t,Ot)}},Ct={f:Object.getOwnPropertySymbols},jt=b.Reflect,It=jt&&jt.ownKeys||function(t){var e=Mt.f(h(t)),n=Ct.f;return n?e.concat(n(t)):e},Pt=/#|\.prototype\./,Rt=ut.normalize=function(t){return String(t).replace(Pt,".").toLowerCase()},Lt=ut.data={},Nt=ut.NATIVE="N",Dt=ut.POLYFILL="P",zt=ut,Ft=wt.f,Bt=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ht=D("IE_PROTO"),Ut=Object.prototype,Vt=Bt?Object.getPrototypeOf:function(t){return N(t=Object(ot(t)),Ht)?t[Ht]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ut:null},Gt=g("iterator"),qt=!1;function Yt(){}[].keys&&("next"in(pt=[].keys())?(ft=Vt(Vt(pt)))!==Object.prototype&&(ht=ft):qt=!0),null==ht&&(ht={}),N(ht,Gt)||T(ht,Gt,(function(){return this}));var Wt={IteratorPrototype:ht,BUGGY_SAFARI_ITERATORS:qt},Zt=Object.keys||function(t){return lt(t,At)},Xt=_?Object.defineProperties:function(t,e){h(t);for(var n,r=Zt(e),i=r.length,o=0;o<i;)S.f(t,n=r[o++],e[n]);return t},Kt=b.document,$t=Kt&&Kt.documentElement,Jt=D("IE_PROTO"),Qt="prototype",te=function(){var t,e=c("iframe"),n=At.length;for(e.style.display="none",$t.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),te=t.F;n--;)delete te[Qt][At[n]];return te()},ee=Object.create||function(t,e){var n;return null!==t?(Yt[Qt]=h(t),n=new Yt,Yt[Qt]=null,n[Jt]=t):n=te(),void 0===e?n:Xt(n,e)};function ne(t,e,n){t&&!N(t=n?t:t.prototype,se)&&ae(t,se,{configurable:!0,value:e})}function re(){return this}function ie(){return this}function oe(t,e,n,r,i,o,a){var s,l,u;function c(t){if(t===i&&b)return b;if(!pe&&t in y)return y[t];switch(t){case"keys":case de:case ve:return function(){return new n(this,t)}}return function(){return new n(this)}}l=r,u=e+" Iterator",(s=n).prototype=ee(ue,{next:p(1,l)}),ne(s,u,!1),le[u]=re;var h,f,d,v=e+" Iterator",g=!1,y=t.prototype,m=y[he]||y["@@iterator"]||i&&y[i],b=!pe&&m||c(i),_="Array"==e&&y.entries||m;if(_&&(h=Vt(_.call(new t)),fe!==Object.prototype&&h.next&&(Vt(h)!==fe&&(ce?ce(h,fe):"function"!=typeof h[he]&&T(h,he,ie)),ne(h,v,!0))),i==de&&m&&m.name!==de&&(g=!0,b=function(){return m.call(this)}),y[he]!==b&&T(y,he,b),le[e]=b,i)if(f={values:c(de),keys:o?b:c("keys"),entries:c(ve)},a)for(d in f)!pe&&!g&&d in y||nt(y,d,f[d]);else ct({target:e,proto:!0,forced:pe||g},f);return f}Q[Jt]=!0;var ae=S.f,se=g("toStringTag"),le={},ue=Wt.IteratorPrototype,ce=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return function(t,e){if(h(t),!u(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n,r),e?t.call(n,r):n.__proto__=r,n}}():void 0),he=g("iterator"),fe=Wt.IteratorPrototype,pe=Wt.BUGGY_SAFARI_ITERATORS,de="values",ve="entries",ge="String Iterator",ye=et.set,me=et.getterFor(ge);oe(String,"String",(function(t){ye(this,{type:ge,string:String(t),index:0})}),(function(){var t,e,n,r,i,o,a,s=me(this),l=s.string,u=s.index;return u>=l.length?{value:void 0,done:!0}:(e=u,i=String(ot(l)),o=it(e),a=i.length,t=o<0||a<=o?"":(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?i.charAt(o):i.slice(o,o+2),s.index+=t.length,{value:t,done:!1})}));var be={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_e=g("unscopables"),xe=Array.prototype;function we(t){xe[_e][t]=!0}null==xe[_e]&&T(xe,_e,ee(null));var ke="Array Iterator",Ee=et.set,Se=et.getterFor(ke),Te=oe(Array,"Array",(function(t,e){Ee(this,{type:ke,target:at(t),index:0,kind:e})}),(function(){var t=Se(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");le.Arguments=le.Array,we("keys"),we("values"),we("entries");var Ae=g("iterator"),Oe=g("toStringTag"),Me=Te.values;for(var Ce in be){var je=b[Ce],Ie=je&&je.prototype;if(Ie){if(Ie[Ae]!==Me)try{T(Ie,Ae,Me)}catch(o){Ie[Ae]=Me}if(Ie[Oe]||T(Ie,Oe,Ce),be[Ce])for(var Pe in Te)if(Ie[Pe]!==Te[Pe])try{T(Ie,Pe,Te[Pe])}catch(o){Ie[Pe]=Te[Pe]}}}function Re(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Le(t,e,n){if(Re(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}var Ne=g("iterator"),De=Array.prototype,ze=g("iterator"),Fe=a((function(t){var e={};(t.exports=function(t,n,r,i,o){var a,s,l,u,c,f,p=Le(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(s=function(t){if(null!=t)return t[ze]||t["@@iterator"]||le[y(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(f=s)&&(le.Array===f||De[Ne]===f)){for(l=0,u=st(t.length);l<u;l++)if((i?p(h(c=t[l])[0],c[1]):p(t[l]))===e)return e;return}a=s.call(t)}for(;!(c=a.next()).done;)if(function(t,e,n,r){try{return r?e(h(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&h(i.call(t)),e}}(a,p,c.value,i)===e)return e}).BREAK=e})),Be=g("iterator"),He=!1;try{var Ue=0;({next:function(){return{done:!!Ue++}},return:function(){He=!0}})[Be]=function(){return this}}catch(o){}function Ve(t,e){var n,r=h(t).constructor;return void 0===r||null==(n=h(r)[$e])?e:Re(n)}function Ge(t){var e;an.hasOwnProperty(t)&&(e=an[t],delete an[t],e())}function qe(t){return function(){Ge(t)}}function Ye(t){Ge(t.data)}function We(t){b.postMessage(t+"",Je.protocol+"//"+Je.host)}var Ze,Xe,Ke,$e=g("species"),Je=b.location,Qe=b.setImmediate,tn=b.clearImmediate,en=b.process,nn=b.MessageChannel,rn=b.Dispatch,on=0,an={},sn="onreadystatechange";Qe&&tn||(Qe=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return an[++on]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Ze(on),on},tn=function(t){delete an[t]},"process"==t(en)?Ze=function(t){en.nextTick(qe(t))}:rn&&rn.now?Ze=function(t){rn.now(qe(t))}:nn?(Ke=(Xe=new nn).port2,Xe.port1.onmessage=Ye,Ze=Le(Ke.postMessage,Ke,1)):!b.addEventListener||"function"!=typeof postMessage||b.importScripts||l(We)?Ze=sn in c("script")?function(t){$t.appendChild(c("script"))[sn]=function(){$t.removeChild(this),Ge(t)}}:function(t){setTimeout(qe(t),0)}:(Ze=We,b.addEventListener("message",Ye,!1)));var ln,un,cn,hn,fn,pn,dn,vn={set:Qe,clear:tn},gn=b.navigator,yn=gn&&gn.userAgent||"",mn=wt.f,bn=vn.set,_n=b.MutationObserver||b.WebKitMutationObserver,xn=b.process,wn=b.Promise,kn="process"==t(xn),En=mn(b,"queueMicrotask"),Sn=En&&En.value;function Tn(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Re(e),this.reject=Re(n)}function An(t,e){if(h(t),u(e)&&e.constructor===t)return e;var n=Gn.f(t);return(0,n.resolve)(e),n.promise}function On(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function Mn(t){return"function"==typeof t?t:void 0}function Cn(t,e){return arguments.length<2?Mn(qn[t])||Mn(b[t]):qn[t]&&qn[t][e]||b[t]&&b[t][e]}function jn(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e}function In(t,e,n){var r;e.notified||(e.notified=!0,r=e.reactions,Vn((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;)!function(n){var r,a,s,l=o?n.ok:n.fail,u=n.resolve,c=n.reject,h=n.domain;try{l?(o||(2===e.rejection&&vr(t,e),e.rejection=1),!0===l?r=i:(h&&h.enter(),r=l(i),h&&(h.exit(),s=!0)),r===n.promise?c(tr("Promise-chain cycle")):(a=jn(r))?a.call(r,u,c):u(r)):c(i)}catch(n){h&&!s&&h.exit(),c(n)}}(r[a++]);e.reactions=[],e.notified=!1,n&&!e.rejection&&pr(t,e)})))}function Pn(t,e,n){var r,i;ur?((r=er.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),b.dispatchEvent(r)):r={promise:e,reason:n},(i=b["on"+t])?i(r):t===cr&&function(t,e){var n=b.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Rn(t,e,n,r){return function(i){t(e,n,i,r)}}function Ln(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,In(t,e,!0))}Sn||(ln=function(){var t,e;for(kn&&(t=xn.domain)&&t.exit();un;){e=un.fn,un=un.next;try{e()}catch(t){throw un?hn():cn=void 0,t}}cn=void 0,t&&t.enter()},hn=kn?function(){xn.nextTick(ln)}:_n&&!/(iphone|ipod|ipad).*applewebkit/i.test(yn)?(fn=!0,pn=document.createTextNode(""),new _n(ln).observe(pn,{characterData:!0}),function(){pn.data=fn=!fn}):wn&&wn.resolve?(dn=wn.resolve(void 0),function(){dn.then(ln)}):function(){bn.call(b,ln)});var Nn,Dn,zn,Fn,Bn,Hn,Un,Vn=Sn||function(t){var e={fn:t,next:void 0};cn&&(cn.next=e),un||(un=e,hn()),cn=e},Gn={f:function(t){return new Tn(t)}},qn=b,Yn=g("species"),Wn="Promise",Zn=vn.set,Xn=g("species"),Kn=et.get,$n=et.set,Jn=et.getterFor(Wn),Qn=b[Wn],tr=b.TypeError,er=b.document,nr=b.process,rr=b.fetch,ir=nr&&nr.versions,or=ir&&ir.v8||"",ar=Gn.f,sr=ar,lr="process"==t(nr),ur=!!(er&&er.createEvent&&b.dispatchEvent),cr="unhandledrejection",hr=zt(Wn,(function(){function t(){}var e=Qn.resolve(1),n=(e.constructor={})[Xn]=function(e){e(t,t)};return!((lr||"function"==typeof PromiseRejectionEvent)&&e.then(t)instanceof n&&0!==or.indexOf("6.6")&&-1===yn.indexOf("Chrome/66"))})),fr=hr||!function(t,e){if(!He)return!1;var n=!1;try{var r={};r[Be]=function(){return{next:function(){return{done:n=!0}}}},function(t){Qn.all(t).catch((function(){}))}(r)}catch(t){}return n}(),pr=function(t,e){Zn.call(b,(function(){var n,r=e.value;if(dr(e)&&(n=On((function(){lr?nr.emit("unhandledRejection",r,t):Pn(cr,t,r)})),e.rejection=lr||dr(e)?2:1,n.error))throw n.value}))},dr=function(t){return 1!==t.rejection&&!t.parent},vr=function(t,e){Zn.call(b,(function(){lr?nr.emit("rejectionHandled",t):Pn("rejectionhandled",t,e.value)}))},gr=function t(e,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===r)throw tr("Promise can't be resolved itself");var o=jn(r);o?Vn((function(){var i={done:!1};try{o.call(r,Rn(t,e,i,n),Rn(Ln,e,i,n))}catch(r){Ln(e,i,r,n)}})):(n.value=r,n.state=1,In(e,n,!1))}catch(r){Ln(e,{done:!1},r,n)}}};function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e,n){return e&&br(t.prototype,e),n&&br(t,n),t}function xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function kr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(n),!0).forEach((function(e){xr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Er(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tr(t,e){return(Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ar(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(o){return!1}}function Or(t,e,n){return(Or=Ar()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Tr(i,n.prototype),i}).apply(null,arguments)}function Mr(t){var e="function"==typeof Map?new Map:void 0;return(Mr=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Or(t,arguments,Sr(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Tr(r,t)})(t)}function Cr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jr(t){var e=Ar();return function(){var n,r,i,o=Sr(t);return r=this,!(i=e?(n=Sr(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments))||"object"!=typeof i&&"function"!=typeof i?Cr(r):i}}function Ir(t,e,n){return(Ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Pr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Lr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(t){return function(t){if(Array.isArray(t))return Nr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Lr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(t,e){if(t){if("string"==typeof t)return Nr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nr(t,e):void 0}}function Nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Lr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}hr&&(Qn=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+n+" invocation")}(this,Qn,Wn),Re(t),Nn.call(this);var e=Kn(this);try{t(Rn(gr,this,e),Rn(Ln,this,e))}catch(t){Ln(this,e,t)}},(Nn=function(){$n(this,{type:Wn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)nt(t,r,e[r],void 0);return t}(Qn.prototype,{then:function(t,e){var n=Jn(this),r=ar(Ve(this,Qn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=lr?nr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&In(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Dn=function(){var t=new Nn,e=Kn(t);this.promise=t,this.resolve=Rn(gr,t,e),this.reject=Rn(Ln,t,e)},Gn.f=ar=function(t){return t===Qn||t===zn?new Dn:sr(t)},"function"==typeof rr&&ct({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return An(Qn,rr.apply(b,arguments))}})),ct({global:!0,wrap:!0,forced:hr},{Promise:Qn}),ne(Qn,Wn,!1),Fn=Cn(Wn),Bn=S.f,_&&Fn&&!Fn[Yn]&&Bn(Fn,Yn,{configurable:!0,get:function(){return this}}),zn=qn[Wn],ct({target:Wn,stat:!0,forced:hr},{reject:function(t){var e=ar(this);return e.reject.call(void 0,t),e.promise}}),ct({target:Wn,stat:!0,forced:hr},{resolve:function(t){return An(this,t)}}),ct({target:Wn,stat:!0,forced:fr},{all:function(t){var e=this,n=ar(e),r=n.resolve,i=n.reject,o=On((function(){var n=Re(e.resolve),o=[],a=0,s=1;Fe(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=ar(e),r=n.reject,i=On((function(){var i=Re(e.resolve);Fe(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),ct({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=Ve(this,Cn("Promise")),n="function"==typeof t;return this.then(n?function(n){return An(e,t()).then((function(){return n}))}:t,n?function(n){return An(e,t()).then((function(){throw n}))}:t)}}),qn.Promise,"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}),"function"!=typeof Object.values&&(Object.values=function(t){return Object.keys(t).map((function(e){return t[e]}))}),Math.hypot=Math.hypot||function(){for(var t=0,e=arguments.length,n=0;n<e;n++){if(arguments[n]===1/0||arguments[n]===-1/0)return 1/0;t+=arguments[n]*arguments[n]}return Math.sqrt(t)},Math.log2=Math.log2||function(t){return Math.log(t)*Math.LOG2E},"undefined"!=typeof window?("performance"in window==0&&(window.performance={}),Hn=window.performance):"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&("performance"in self==0&&(self.performance={}),Hn=self.performance),Hn&&"function"!=typeof Hn.now&&(Un=+new Date,Hn.now=function(){return new Date-Un});var zr=Fr;function Fr(t,e){this.x=t,this.y=e}Fr.prototype={clone:function(){return new Fr(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Fr.convert=function(t){return t instanceof Fr||!Array.isArray(t)?t:new Fr(t[0],t[1])};var Br=Hr;function Hr(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(Ur,this,e)}function Ur(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}Hr.types=["Unknown","Point","LineString","Polygon"],Hr.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n,r=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,l=[];t.pos<r;)if(o||(i=7&(n=t.readVarint()),o=n>>3),o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&l.push(e),e=[]),e.push(new zr(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}return e&&l.push(e),l},Hr.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=1/0,l=-1/0,u=1/0,c=-1/0;t.pos<n;)if(i||(r=7&(e=t.readVarint()),i=e>>3),i--,1===r||2===r)(o+=t.readSVarint())<s&&(s=o),l<o&&(l=o),(a+=t.readSVarint())<u&&(u=a),c<a&&(c=a);else if(7!==r)throw new Error("unknown command "+r);return[s,u,l,c]},Hr.prototype.toGeoJSON=function(t,e,n){var r,i=this.extent*Math.pow(2,n),o=this.extent*t,a=this.extent*e,s=this.loadGeometry(),l=Hr.types[this.type];function u(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+a)/i;t[e]=[360*(n.x+o)/i-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:for(var c=[],h=0;h<s.length;h++)c[h]=s[h][0];u(s=c);break;case 2:for(h=0;h<s.length;h++)u(s[h]);break;case 3:for(s=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=function(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(s),h=0;h<s.length;h++)for(r=0;r<s[h].length;r++)u(s[h][r])}1===s.length?s=s[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:s},properties:this.properties};return"id"in this&&(f.id=this.id),f};var Vr=Gr;function Gr(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(qr,this,e),this.length=this._features.length}function qr(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1==r?t.readString():2==r?t.readFloat():3==r?t.readDouble():4==r?t.readVarint64():5==r?t.readVarint():6==r?t.readSVarint():7==r?t.readBoolean():null}return e}(n))}function Yr(t,e,n){var r;3!==t||(r=new Vr(n,n.readVarint()+n.pos)).length&&(e[r.name]=r)}Gr.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Br(this._pbf,e,this.extent,this._keys,this._values)};var Wr,Zr=function(t,e){this.layers=t.readFields(Yr,{},e)},Xr=Br,Kr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},$r={};(function(){var t,e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r="undefined"!=typeof window&&window===this||void 0===Kr||null==Kr?this:Kr;if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{t:{var i={};try{i.__proto__={ea:!0},e=i.ea;break t}catch(t){}e=!1}t=e?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var o=t;!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Object.setPrototypeOf",(function(t){return t||o}));var a=this||self;function s(t){var e=yr(t);if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){return"function"==s(t)}function u(t){var e=yr(t);return"object"==e&&null!=t||"function"==e}function c(t,e){t=t.split(".");var n,r=a;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)t.length||void 0===e?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e}function h(t,e){function n(){}n.prototype=e.prototype,t.ua=e.prototype,t.prototype=new n,t.prototype.constructor=t}var f=Math,p=f.min,d=f.max,v=f.round,g=f.floor,y=f.ceil,m=f.abs,b=f.log,_=f.sqrt,x=f.pow,w=f.sin,k=f.asin,E=f.cos,S=f.tan,T=f.atan2,A=f.PI,O=A/2,M=A/4,C=2*A,j=3*A,I=A/180,P=180/A;function R(t,e,n){return n<t?n:t<e?e:t}function L(t,e,n){return e<n?e<=t&&t<=n:n<=t&&t<=e}function N(t,e,n,r,i,o){return _(x((t-i)*(r-o)-(e-o)*(n-i),2)/(x(n-i,2)+x(r-o,2)))}c("H.math.normalize",(function(t,e,n){return e-=n=n||0,(t-=n)-g(t/e)*e+n})),c("H.math.clamp",R);var D={NONE:0,VERTEX:1,EDGE:2,SURFACE:3};function z(t,e){var n=t.x;t=t.y;for(var r,i,o,a,s=e.length,l=s,u=e[0],c=0,h=0,f=0;1!=c&&1<l;)i=e[--l],r=e[--l],a=e[l?l-1:(s+(l-1))%s],o=e[l?l-2:(s+(l-2))%s],n<=r&&r<=n&&t<=i&&i<=t||n<=o&&o<=n&&t<=a&&a<=t?c=1:c||r!==n?!c&&L(n,r,o)&&((r<n&&n<o||n<r&&o<n)&&(h+=t<(u=i+(n-r)/(o-r)*(a-i)),f+=u<t),c=L(t,i,a)&&N(n,t,r,i,o,a)<=0?2:0):(o===n&&(i<t&&t<a||t<i&&a<t)||(u<=n&&n<o||n<=u&&o<n)&&(t<=i?++h:++f),c=L(t,i,a)&&N(n,t,r,i,o,a)<=0?2:0),u=r;return c||0===f||0==h%2||(c=3),c!==D.NONE}function F(t,e){this.x=+t,this.y=+e}function B(t,e,n,r,i,o,a,s,l,u){return t={x:t,y:e,next:n||null,s:r||null,ta:i||null,X:o||null,o:!!a,T:s||0,O:l||0,alpha:u||0},r&&(t.s.next=t),n&&(t.next.s=t),t}function H(t){for(;t&&t.o;)t=t.next;return t}function U(t){if(t)for(;t.next;)t=t.next;return t}function V(t){var e=U(t);(e.s.next=t).s=e.s}function G(t){for(var e=[];t;)e.push(t.x,t.y),t=t.next;return e}function q(t,e,n){for(e=e.next;e!==n&&e.alpha<=t.alpha;)e=e.next;t.next=e,t.s=e.s,(t.next.s=t).s.next=t}function Y(t,e){for(var n,r=null,i=0,o=t.length;i<o;i++)(n=B(t[i].x,t[i].y,r)).qa=e,(n.next=r)&&(r.s=n),r=n;return r}function W(t,e,n,r){return(t-=n)*t+(e-=r)*e}c("H.math.CoverType",D),c("H.math.isPointInsidePolygon",z),c("H.math.flatten",(function(t){for(var e=t.length,n=new Float64Array(2*e),r=e&&t[0].x!==K;e--;){var i=t[e],o=e<<1;n[o]=r?i.x:i[0],n[1+o]=r?i.y:i[1]}return n})),c("H.math.Point",F),(F.prototype.set=F).prototype.clone=function(t){return t?(t.x=this.x,t.y=this.y):t=new F(this.x,this.y),t},F.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},F.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},F.prototype.scale=function(t,e){return this.x*=t,this.y*=void 0===e?t:e,this},F.prototype.round=function(){return this.x=v(this.x),this.y=v(this.y),this},F.prototype.floor=function(){return this.x=g(this.x),this.y=g(this.y),this},F.prototype.ceil=function(){return this.x=y(this.x),this.y=y(this.y),this},F.prototype.equals=F.prototype.w=function(t){return!(!t||this.x!==t.x||this.y!==t.y)},F.prototype.getNearest=F.prototype.la=function(t,e){var n,r=e.x-t.x,i=e.y-t.y,o=t;return(r||i)&&(o=(n=((this.x-t.x)*r+(this.y-t.y)*i)/(r*r+i*i))<=0?t:1<=n?e:new F(t.x+n*r,t.y+n*i)),o},F.prototype.distance=F.prototype.R=function(t){return _(x(this.x-t.x,2)+x(this.y-t.y,2))},F.fromIPoint=function(t){if(!t)throw Error("invalid argument");return t instanceof F?t:new F(t.x,t.y)},c("H.math.clipping.clipStrips",(function(t,e,n,r,i,o){var a,s,l,u=t.length;if(u)for(a=[];u--;)for(var c,h,f=t[u],p=f.length,d=0,v=1;v<p;v++)(l=function(t,e,n,r,i,o){var a=t.x;t=-t.y;var s=e.x;if(e=-e.y,n=-n,o=-o,s<a){if(i<s||a<r)return;var l=a,u=t;a=s,t=e,s=l,e=u,l=1}else if(i<a||s<r)return;if(e<t){if(n<e||t<o)return;var c=1;t=-t,e=-e,u=o,o=-n,n=-u}else if(n<t||e<o)return;if(a<r){if((t+=(r-a)*(e-t)/(s-a))>n)return;a=r}if(t<o){if((a+=(o-t)*(s-a)/(e-t))>i)return;t=o}return i<s&&(e=t+(i-a)*(e-t)/(s-a),s=i),n<e&&(s=a+(n-t)*(s-a)/(e-t),e=n),c&&(t=-t,e=-e),l?[new F(s,-e),new F(a,-t)]:[new F(a,-t),new F(s,-e)]}(f[v-1],f[v],n,e,r,i))&&(c=l[0],h=l[1],d&&d.w(c)?s.push(h):a.push(s=l),d=h,o&&(v=p,u=0));else a=t;return a})),c("H.math.clipping.clipPolygon",(function(t,e,n){var r;t=Y(t,!0),e=Y(e,!1);var i={},o=r=1;switch(~~(n||0)){case 1:o=r=0;break;case 2:r=0,o=1;break;case 3:r=1,o=0}n=r;var a,s,l,u,c,h,f=o;if(e&&t){for(e.M=B(e.x,e.y,null,U(e)),t.M=B(t.x,t.y,null,U(t)),o=e;o.next;o=o.next)if(!o.o)for(r=t;r.next;r=r.next)r.o||(h=function t(e,n,r,i,o){var a,s=n.x-e.x,l=n.y-e.y,u=i.x-r.x,c=i.y-r.y,h=s*c-l*u;return h?(u=((r.x-e.x)*c-(r.y-e.y)*u)/h,h=(l*(r.x-e.x)-s*(r.y-e.y))/h,u<0||1<u||h<0||1<h?0:(0===u?a=e:1===u?a=n:0===h?a=r:1===h&&(a=i),a?(a.x+=2480549651603763e-20,a.y+=7321997314118067e-20,a.M&&(a.M.x=a.x,a.M.y=a.y),t(e,n,r,i,o)):(o.xa=e.x+u*s,o.ya=e.y+u*l,o.fa=u,o.ga=h,1))):0}(o,a=H(o.next),r,s=H(r.next),i))&&(h=i.fa,l=i.ga,q(h=B(u=i.xa,c=i.ya,null,null,null,null,!0,0,0,h),o,a),q(a=B(u,c,null,null,null,null,!0,0,0,l),r,s),(h.X=a).X=h);for(i=z(e,G(t)),n&&(i=!i),o=e;o;o=o.next)o.o&&(i=!(o.T=i));for(i=z(t,G(e)),f&&(i=!i),r=t;r.next;r=r.next)r.o&&(i=!(r.T=i));for(V(e),V(t);(t=function(t){var e=t;if(e)for(;(e=e.next)!=t&&(!e.o||e.o&&e.O););return e}(e))!=e;){for(n=null;!t.O;t=t.X){for(i=t.T;(n=B(t.x,t.y,n)).artificial=t.o||t.qa,t.O=1,t=i?t.next:t.s;)if(t.o){t.O=1;break}if(!t)break}n.ta=p;var p=n}return p}})),c("H.math.simplifyDP",(function(t,e,n){return function t(e,n,r,i,o){var a=0,s=i,l=e[i].x,u=e[i].y,c=e[o].x,h=e[o].y,f=i+1,p=W(l,u,c,h);if(p)for(;f<o;){var d=e[f++],v=d.x,g=((v-l)*(c-l)+((d=d.y)-u)*(h-u))/p;a<(v=g<0?W(v,d,l,u):1<g?W(v,d,c,h):W(v,d,l+g*(c-l),u+g*(h-u)))&&(a=v,s=f-1)}else for(;f<o;)a<(v=W(v=(d=e[f++]).x,d=d.y,l,u))&&(a=v,s=f-1);return i=n<=a||0<r&&s-i?(--r,1<s-i?(i=t(e,n,r,i,s)).splice(i.length-1,1):i=[e[i]],1<o-s?i.concat(t(e,n,r,s,o)):i.concat(e.slice(s,o+1))):[e[i],e[o]]}(t,e*e,n||0,0,t.length-1)}));var Z=this,X=String,K=self.eval("undefined"),$=self.eval("null"),J="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(t,e){if(1==(t instanceof e&&t.constructor===e))throw new TypeError("Illegal constructor "+it(e))}c("H.lang.isArray",(function(t,e,n,r){var i;if(!(i="Array"===nt(t))&&e)throw new ut(e,n,r!==K?r:t);return i})),c("H.lang.isString",(function(t){return"string"==typeof t}));var tt=isNaN;function et(t){return t===+t}function nt(t){var e=Object[J[0]][J[6]].call(t).match(/^\[object (\w+)\]$/);return e?e[1]:yr(t)}c("H.lang.isNumber",et),c("H.lang.isInteger",Number.isInteger?Number.isInteger:function(t){return"number"==typeof t&&0==t%1});var rt=[];function it(t,e,n,r){var i,o,a="",s=arguments.length<2;return s&&(e={H:Z.H},n="",r=rt.slice()),st(e,!0,(function(e,o){try{if(i=e[o],s=i,st(e,!(c=[]),(function(t,e){t[e]===s&&c.push(e)})),o=c.sort(ot)[0],!(u(i)&&i.window===i&&i.self===i||u(i)&&0<i.nodeType&&l(i.cloneNode))&&u(i)){if(i===t)return a=n+"."+o,1;if(r.indexOf(i)<0&&(r.push(i),a=it(t,i,n+"."+o,r)))return 1}}catch(e){}var s,c})),s&&(a=a?a.substr(1).replace("."+J[0]+".","#"):"~"+(l(t)?((o=/^\s*function ([^\( ]+)/.exec(o=t))?o[1]:"anonymous")+"()":nt(t))),a}function ot(t,e){return e.length-t.length}rt.indexOf(rt)<0&&rt.push(rt);var at=Object[J[0]][J[2]];function st(t,e,n){var r;if(t){for(i in t)if((!e||at.call(t,i))&&n(t,i,!0))return;for(r=J.length;r--;){var i=J[r];if((!e||at.call(t,i))&&n(t,i,!1))break}}}function lt(t,e,n){n[e]="#"+e}function ut(t,e,n){var r,i,o=arguments.length;return(e=e!==K?+e:e)!==K&&((i=r=(i=/^.*?\(([^\)]+)/.exec((""+t).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?X(i[1].replace(/\s+/g,"")).split(","!==K?",":" "):[]).forEach(lt),i=i[e]||"#"+e),r=t?it(t):"",o=2<o?X(n):"",(i||o)&&(r+=" (Argument "+(i||"")+(o?" "+o:"")+")"),o=Error(r),Object.setPrototypeOf(o,ut.prototype),o}function ct(t,e,n){var r=R(+t,-90,90);if(e&&tt(r))throw new ut(e,n,t);return r}function ht(t,e,n){var r,i=+t;if((i<-180||180<i)&&(i=(0==(r=(i+180)%360)<0?r:360+r)-180),e&&tt(i))throw new ut(e,n,t);return i}function ft(t,e,n){var r;if(t!==K&&tt(r=+t)&&e)throw new ut(e,n,t);return r}function pt(){Q(this,pt)}function dt(t,e,n){this.lat=ct(t,dt,0),this.lng=ht(e,dt,1),n!==K&&(this.alt=ft(n,dt,2))}function vt(t,e,n){var r=u(t)&&!(tt(t.lat=ct(t.lat))||tt(t.lng=ht(t.lng))||t.alt!==K&&tt(t.alt=ft(t.alt)));if(!r&&e)throw new ut(e,n,t);return r}function gt(t,e,n,r){yt(this,ct(t,gt,0),ht(e,gt,1),ct(n,gt,2),ht(r,gt,3))}function yt(t,e,n,r,i){return t.f=n,t.g=i,e<r&&(n=e,e=r,r=n),t.i=e,t.h=r,t.m=t.b=t.c=null,t}function mt(t,e){return(t=e-t)+(t<0?360:0)}function bt(t,e){return(t+=e/2)-(180<t?360:0)}function _t(t,e,n,r,i,o,a,s,l){n=p(n,a),t=d(t,i);var u=bt(e,i=mt(e,r)),c=bt(o,a=mt(o,s))-u,h=(c+=c-1e-6<0?360:0)-1e-6<180?(u=e,s):(c=360-c,u=o,r);return 360<=(c=c+i/2+a/2)+5e-7?(u=-180,h=180):c-5e-7<i?(u=e,h=r):c-5e-7<a&&(u=o,h=s),l?yt(l,t,u,n,h):new gt(t,u,n,h)}function xt(t,e,n){return n||(vt(t,xt,0),vt(e,xt,1)),new gt(t.lat,t.lng,e.lat,e.lng)}function wt(t,e,n,r,i,o){Q(this,wt),this.sa=t||10,this.c=this.b=null,this.j=r||0,this.l=i||0,this.m=e||1,this.u=n||1,this.I=!!o,this.flush()}function kt(t,e,n){var r,i;if(t.I&&(r=t.c))for(i=3;0<=i;i--){var o=e[i];if(i%3?o>=r[i]:o<=r[i]){if(!n){t.c=null;break}r[i]=o}}}function Et(t,e){var n,r=t.a;if(e){var i=e;if(i!==r)for(r=i;i=i.c;)(i.entries||1<i.a)&&(r=i)}else for(;!r.entries&&(n=r.a)<2&&n;)r=i;t.a=r}h(ut,Error),c("H.lang.InvalidArgumentError",ut),ut.prototype.name="InvalidArgumentError",c("H.geo.isDBC",(function(t,e){return 0!=(t<0^e<0)&&180<m(e-t)})),c("H.geo.AbstractGeometry",pt),pt.prototype.getBoundingBox=pt.prototype.D,pt.prototype.equals=pt.prototype.w,pt.prototype.a="",pt.prototype.l="",pt.prototype.toString=function(){return this.I([this.a.toUpperCase()," "]).join("")},pt.prototype.toGeoJSON=pt.prototype.va=function(){return{type:this.l,coordinates:this.u()}},pt.prototype.forWorkerMessage=pt.prototype.U=function(){return{type:this.a,coordinates:this.j(),boundingBox:this.D().U()}},h(dt,pt),c("H.geo.Point",dt),dt.prototype.equals=dt.prototype.w=function(t){return this===t||!!t&&this.lat===t.lat&&this.lng===t.lng&&(this.alt||0)===(t.alt||0)},dt.prototype.distance=dt.prototype.R=function(t){var e,n;return this===t||this.lat===t.lat&&this.lng===t.lng?0:(e=this.lat*I,n=t.lat*I,12742001.58*k(p(1,_(x(w((e-n)/2),2)+E(e)*E(n)*x(w((this.lng*I-t.lng*I)/2),2)))))},dt.prototype.walk=dt.prototype.wa=function(t,e,n){var r,i,o,a,s,l,u;return n?((e/=6371000.79)&&(t*=I,s=I*this.lat,r=w(s),i=w(e),o=E(e),a=I*this.lng,l=E(s),s=k(l*E(t)*i+r*o),l=(t=(a+(t=T(w(t)*l*i,o-r*w(s)))+A)%(2*A)-A)*P),e?new dt(s*P,(l+540)%360-180):this):0==(90+(t=(t%360+360)%360))%180?(s=this.lng+e/(6371000.79*C*E(this.lat*I))*(270===t?-360:360),new dt(this.lat,(s+540)%360-180)):((e/=6371000.79)&&(t*=I,a=this.lat*I,r=this.lng*I,o=(i=a+e*E(t))-a,s=b(S(i/2+M)/S(a/2+M)),s=tt(o/s)?E(a):o/s,u=e*w(t)/s,m(i)>O&&(i=0<i?A-i:-(A+i))),e?new dt(i*P,((r+u+j+(m(a+o)>O?A:0))%C-A)*P):this)},dt.prototype.getBoundingBox=dt.prototype.D=function(){return new gt(this.lat,this.lng,this.lat,this.lng)},dt.validate=vt,dt.fromIPoint=function t(e){if(!e)throw new ut(t,0,e);return new dt(e.lat,e.lng,e.alt)},dt.prototype.a="Point",dt.prototype.I=function(t){return t.push("(",this.lng," ",this.lat,")"),t},dt.prototype.l="Point",dt.prototype.u=function(){return[this.lng,this.lat,this.alt||0]},dt.prototype.j=function(){return[this.lat,this.lng,this.alt||0]},h(gt,pt),c("H.geo.Rect",gt),gt.prototype.a="Polygon",gt.prototype.I=function(t){var e=this.i,n=this.f,r=this.h,i=this.g;return t.push("(","(",n," ",e,",",i," ",e,",",i," ",r,",",n," ",r,",",n," ",e,")",")"),t},gt.prototype.equals=gt.prototype.w=function(t){return this===t||!!t&&this.i===t.i&&this.f===t.f&&this.h===t.h&&this.g===t.g},gt.prototype.clone=function(){return new gt(this.i,this.f,this.h,this.g)},gt.prototype.getTopLeft=gt.prototype.W=function(){return this.m||(this.m=new dt(this.i,this.f)),this.m},gt.prototype.getBottomRight=gt.prototype.V=function(){return this.b||(this.b=new dt(this.h,this.g)),this.b},gt.prototype.getTop=gt.prototype.na=function(){return this.i},gt.prototype.getBottom=gt.prototype.ha=function(){return this.h},gt.prototype.getLeft=gt.prototype.ja=function(){return this.f},gt.prototype.getRight=gt.prototype.ma=function(){return this.g},gt.prototype.getCenter=gt.prototype.F=function(){return this.c||(this.c=new dt(this.h+(this.i-this.h)/2,bt(this.f,this.A()))),this.c},gt.prototype.getWidth=gt.prototype.A=function(){return mt(this.f,this.g)},gt.prototype.getHeight=gt.prototype.G=function(){return this.i-this.h},gt.prototype.isCDB=gt.prototype.N=function(){return this.f>this.g},gt.prototype.isEmpty=gt.prototype.ra=function(){return!this.A()&&!this.G()},gt.prototype.getBoundingBox=gt.prototype.D=function(){return new gt(this.i,this.f,this.h,this.g)},gt.prototype.containsLatLng=gt.prototype.L=function(t,e,n){var r=this.F();return n||(t=ct(t,this.L,0),e=ht(e,this.L,1)),(t=(e=this.B(t,e,n)).F()).lat===r.lat&&t.lng===r.lng&&this.G()===e.G()&&this.A()===e.A()},gt.prototype.containsPoint=gt.prototype.$=function(t,e){return e||vt(t,this.$,0),this.L(t.lat,t.lng,e)},gt.prototype.containsRect=gt.prototype.aa=function(t,e){var n=this.F();if(!(e||t instanceof gt))throw new ut(this.aa,0,t);return(t=(e=this.J(t,e)).F()).lat===n.lat&&t.lng===n.lng&&this.G()===e.G()&&this.A()===e.A()},gt.prototype.mergeLatLng=gt.prototype.B=function(t,e,n,r){if(!n){if(tt(t=ct(t)))throw new ut(this.B,0,t);if(tt(e=ht(e)))throw new ut(this.B,1,e)}return _t(this.i,this.f,this.h,this.g,t,e,t,e,r)},gt.prototype.mergePoint=gt.prototype.ca=function(t,e,n){return e||vt(t,this.ca,0),this.B(t.lat,t.lng,e,n)},gt.prototype.mergeRect=gt.prototype.J=function(t,e,n){if(!(e||t instanceof gt))throw new ut(this.J,0,t);return _t(this.i,this.f,this.h,this.g,t.i,t.f,t.h,t.g,n)},gt.prototype.mergeTopLeftBottomRight=gt.prototype.C=function(t,e,n,r,i,o){return i||(t=ct(t,this.C,0),e=ht(e,this.C,1),n=ct(n,this.C,2),r=ht(r,this.C,3)),_t(this.i,this.f,this.h,this.g,t,e,n,r,o)},gt.prototype.intersects=gt.prototype.ba=function(t,e){var n=this.f<=this.g,r=t.f<=t.g,i=this.f<t.g,o=t.f<this.g;if(!(e||t instanceof gt))throw new ut(this.ba,0,t);return this.h<=t.i&&t.h<=this.i&&(!n&&(!r||i||o)||!r&&(i||o)||i&&o)},gt.merge=_t,gt.fromPoints=xt,gt.coverPoints=function t(e,n){var r=1,i=e.length,o=null,a=s(e);if("array"!=a&&("object"!=a||"number"!=typeof e.length))throw new ut(t,0,e);if(0<i)for(o=xt(a=e[0],a,n);r<i;r++)a=e[r],o.B(a.lat,a.lng,n,o);return o},gt.coverLatLngAlts=function t(e,n){var r,i=3,o=e.length;if(!(n||e&&null!=e.length))throw new ut(t,0,e);if(0<o)for(r=new gt(e[0],e[1],e[0],e[1]);i<o;i+=3)r.B(e[i],e[i+1],n,r);return r},gt.coverRects=function t(e,n){var r,i=1,o=e.length;if(n&&(!e||null==e.length))throw new ut(t,0,e);if(0<o)for(r=new gt(e[0].i,e[0].f,e[0].h,e[0].g);i<o;i++)r.J(e[i],n,r);return r},gt.prototype.resizeToCenter=gt.prototype.da=function(t,e){var n=this.f,r=this.i,i=this.g,o=this.h,a=this.F().lng;vt(t,this.da,0);var s=t.lat-o-(r-o)/2,l=t.lng-a;return t=(t=n+((l=180<l||l<-180?-(a+t.lng):l)<0?2*l:0))<-180?360+t:t,i=180<(i+=0<l?2*l:0)?i-360:i,90<=(r=0<s?r+2*s:r)&&(r=90),(o=s<0?o+2*s:o)<=-90&&(o=-90),e?yt(e,r,t,o,i):new gt(r,t,o,i)},gt.prototype.l="Polygon",gt.prototype.u=function(){return[[this.f,this.i,0],[this.g,this.i,0],[this.g,this.h,0],[this.f,this.h,0],[this.f,this.i,0]]},gt.prototype.U=function(){return this.j()},gt.prototype.j=function(){return[this.i,this.f,this.h,this.g]},wt.prototype.remove=function(t){var e,n,r,i,o,a,s=!1;if(t&&(e=t.a)&&e.b===this&&(n=e.entries)&&0<=(r=n.indexOf(t))){for(n.splice(r,1),n=this.a;e;)(i=e.entries)&&i.length||(i&&delete e.entries,e.a||!(o=e.c))?e=$:((r=o)[a=(s=e).j]===s&&(delete r[a],delete s.c,--r.a),n===e&&(n=o),e=o);this.a!==n&&(this.a=n,Et(this)),kt(this,t,!1),s=!0}return s},wt.prototype.flush=function(){var t=new Tt(null,NaN,this.j-this.m,this.l-this.u,this.j+this.m,this.l+this.u);(t.b=this).a=this.b=t,this.c=null},wt.prototype.o=function(t,e,n,r,i,o){var a=[],s=this.a,l=this.b;return t<=s[5]&&e<=s[6]&&(i?n>=s[7]:n>s[7])&&(o?r>=s[4]:r>s[4])&&function t(e,n,r,i,o,a,s,l,u){var c,h=n.entries,f=n[7],p=n[4],d=n[5],v=n[6],g=n[8],y=n[9];if(h){var m=h.length;if(p<o||f<i||s<v||a<d)for(;m--;)p=(f=h[m])[3],d=f[0],v=f[1],o<=f[2]&&i<=v&&(d<s||l&&d==s)&&(p<a||u&&p==a)&&r.push(f);else for(;m--;)r.push(h[m])}(g<a||u&&a==g)&&(o<y&&(c=n[1])&&t(e,c,r,i,o,a,s,l,u),(y<s||l&&s==y)&&(c=n[3])&&t(e,c,r,i,o,a,s,l,u)),i<g&&(o<y&&(c=n[0])&&t(e,c,r,i,o,a,s,l,u),(y<s||l&&s==y)&&(c=n[2])&&t(e,c,r,i,o,a,s,l,u))}(this,s,a,t,e,n,r,o||r>=l[6],i||n>=l[5]),a};var St=0;function Tt(t,e,n,r,i,o){this.j=e,t&&(this.c=t,this.b=t.b,i=1&e?(n=t[8],t[5]):(n=t[7],t[8]),o=2&e?(r=t[9],t[6]):(r=t[4],t[9])),this[7]=n,this[5]=i,this[8]=(n+i)/2,this[4]=r,this[6]=o,this[9]=(r+o)/2}function At(t,e,n,r,i,o){At.ua.constructor.apply(this,arguments)}function Ot(t,e,n,r,i,o,a){var s,l,u=e[8],c=e[9];return a&&(i<u||(s=u<=n))&&(o<c||(l=c<=r))?n=(u=Ot)(t,e=e[s|=l<<1]||(++e.a,e[s]=new Tt(e,s)),n,r,i,o,a-1):(r=n=new Mt(n,r,i,o),(e.entries||(e.entries=[])).push(r),r.a=e,kt(t,n,!0),Et(t,e)),n}function Mt(t,e,n,r){this.id=St++,this[0]=e,this[1]=n,this[2]=r,this[3]=t}function Ct(t){this.l=new At(+t||10,180,90,0,0,!0),this.j=[],this.m=!1,this.a=this.b=this.c=null}function jt(t,e,n,r,i,o){if(o)o=new Mt(i,-e,n+360,-r),t.j.push(o),t.m=!0,t.a&&t.a.C(e,n,r,i,!0,t.a);else{var a=-e,s=-r,l=(o=t.l).b,u=l[5],c=l[6];if(!(l[7]<=n&&l[4]<=a&&(i<u||u===i&&u===l.b.b[5])&&(s<c||c===s&&c===l.b.b[6])))throw Error("Coordinates out of bounds");o=Ot(o,o.b,n,a,i,s,o.sa),t.b&&t.b.C(e,n,r,i,!0,t.b)}return t.c=null,o}function It(t,e,n,r,i,o,a){var s=(t=t.j).length,l=[];if(s)for(var u=n+360,c=i+360;s--;){var h=t[s];(Pt(h,e,n,r,i,o,a)||Pt(h,e,u,r,c,o,a))&&l.push(h)}return l}function Pt(t,e,n,r,i,o,a){var s=t[3],l=t[0],u=t[1];return t=t[2],(o?l<=r:l<r)&&(a?s<=i:s<i)&&e<=t&&n<=u}function Rt(t,e){var n,r;if(n=e.length){for(var i=t.length,o={};i--;)o[t[i].id]=1;for(;n--;)(r=e[n]).id in o||t.push(r)}}function Lt(){}function Nt(t,e,n){if(this.l=[],e&&this.K(e),n&&!l(n))throw new ut(Nt,2,n);this.b=0,this.m=n,this.a={},this.j=this.c=null,this.Z(t)}function Dt(t,e){return e&&(t.c=Ft(t,e,t.c)),e}function zt(t){for(;t.b>t.u&&t.j;)Bt(t,t.j,!0)}function Ft(t,e,n){return n!==e&&((e.H||e.v)&&Bt(t,e),(e.H=n)&&(e.v=n.v,n.v=e),e.v||(t.c=e),e.H||(t.j=e),t.b+=e.size),e}function Bt(t,e,n){var r=e.v,i=e.H;if((r||i||e==t.c&&e==t.j)&&(r?r.H=i:t.c=i,i?i.v=r:t.j=r,t.b-=e.size,n)){for(n=t.l.length;n--;)t.l[n].call(t,e.id,e.data,e.size);delete t.a[e.id]}e.H=e.v=null}Tt.prototype.a=0,h(At,wt),c("H.geo.QuadTree",Ct),Ct.prototype.N=function(){return this.m},Ct.prototype.D=function(){var t;if(!this.c){var e,n,r=[];if((a=!this.b)&&(s=(o=this.l).c,o.I&&!s&&((a=o.a).entries||a[0]||a[1]||a[2]||a[3])&&(s=function t(e,n){for(var r,i,o=0,a=3;0<=a;a--){for(var s=a+4,l=0<a%3,u=[],c=n[a],h=e[a],f=h.length;f--;){var p=h[f];if(r=p.entries)for(i=r.length;i--;){var d=r[i][a];(l?c<d:d<c)&&(c=d)}for(i=4;i--;)(r=p[i])&&(l?r[s]>c:r[s]<c)&&u.push(r)}o+=u.length,n[a]=c,e[a]=u}return o&&(n=t(e,n)),n}([s=[a],s,s,s],[a[6],a[7],a[4],a[5]]),o.c=s),a=o=s),a&&(this.b=new gt(-o[0],o[3],-o[2],o[1])),(t=this.b)&&r.push(t),!this.a&&(n=(e=this.j).length)){for(a=360,s=-(o=90),l=0;n--;)var i=e[n],o=p(o,i[0]),a=p(a,i[3]),s=d(s,i[2]),l=d(l,i[1]);this.a=new gt(-o,a,-s,l-360)}(t=this.a)&&r.push(t),(t=r[0])&&(r[1]&&(t=t.J(r[1],!0)),this.c=t)}return this.c},Ct.prototype.insertBoundingBox=Ct.prototype.oa=function(t){var e=t.W(),n=t.V();return(t=t.N())?jt(this,e.lat,n.lng,n.lat,e.lng,t):jt(this,e.lat,e.lng,n.lat,n.lng,t)},Ct.prototype.remove=function(t){var e,n;return t.a?(n=this.l.remove(t),this.b=null):(n=0<=(t=(e=this.j).indexOf(t)))&&(e.splice(t,1),this.m=0<e.length,this.a=null),n&&(this.c=null),n},Ct.prototype.intersectBoundingBox=Ct.prototype.pa=function(t,e,n){var r=this.l,i=t.W(),o=t.V(),a=-i.lat,s=(i=i.lng,-o.lat);return o=o.lng,!e&&a==s||!n&&i===o?t=[]:t.N()?(Rt(t=r.o(-180,a,o,s,n,e),r.o(i,a,180,s,!1,e)),Rt(t,It(this,a,o,s,i+360,e,n))):Rt(t=r.o(i,a,o,s,n,e),It(this,a,i,s,o,e,n)),t},c("H.util.ICache",Lt),Lt.prototype.add=function(){},Lt.prototype.get=function(){},Lt.prototype.drop=Lt.prototype.S=function(){},Lt.prototype.forEach=function(){},Lt.prototype.removeAll=Lt.prototype.Y=function(){},Lt.prototype.registerOnDrop=Lt.prototype.K=function(){},Lt.prototype.deRegisterOnDrop=Lt.prototype.P=function(){},c("H.util.Cache",Nt),Nt.prototype.add=function(t,e,n){if(!et(n=+n)||n<0)throw new ut(this.add,2,n);t=String(t);var r=this.a[t],i=!0;return this.m&&(i=this.m(t,e,n)),r?i?(this.b+=n-r.size,r.size=n,r.data=e,Dt(this,r)):Bt(this,r,!0):i&&(this.a[t]=Ft(this,{id:t,data:e,size:n,H:null,v:null},this.c)),zt(this),i},Nt.prototype.registerOnDrop=Nt.prototype.K=function(t){if(!l(t))throw new ut(this.K,0,t);this.l.push(t)},Nt.prototype.deRegisterOnDrop=Nt.prototype.P=function(t){this.l=this.l.filter((function(e){return e!==t}))},Nt.prototype.get=function(t,e){return(t=e?this.a[t]:Dt(this,this.a[t]))&&t.data},Nt.prototype.drop=Nt.prototype.S=function(t){var e;(e=this.a[t])&&Bt(this,e,!0)},Nt.prototype.forEach=function(t,e,n){var r;for(r in this.a){var i=this.a[r];n&&!n(r,i.data,i.size)||t.call(e,r,i.data,i.size)}},Nt.prototype.removeAll=Nt.prototype.Y=function(t){var e;for(e in this.a){var n=this.a[e];t&&!t(e,n.data,n.size)||Bt(this,this.a[e],!0)}},Nt.prototype.setMaxSize=Nt.prototype.Z=function(t){if(!(0<+t))throw new ut(Nt.prototype.Z,0,t);return this.u=+t,zt(this),this},Nt.prototype.getMaxSize=Nt.prototype.ka=function(){return this.u},Nt.prototype.getCurrentSize=Nt.prototype.ia=function(){return this.b}}).call($r);var Jr,Qr=Wr={};function ti(t){return Or($r.H.math.Point,Rr(t))}Wr.clipPolygon=function(t,e){var n,r,i,o=[],a=$r.H.math.clipping.clipPolygon(t.map(ti),e.map(ti));if(a)do{for(n=[],r=a;n.push([(i=r).x,i.y]),r=r.next;);o.push(n)}while(a=a.nextPoly);else Wr.isPointInsidePolygon(e[0],t)?o.push(e):Wr.isPointInsidePolygon(t[0],e)&&o.push(t);return o},Wr.isPointInsidePolygon=function(t,e){return $r.H.math.isPointInsidePolygon({x:t[0],y:t[1]},$r.H.math.flatten(e))},Wr.clamp=function(t,e,n){return(t-=0)>n?n:t<e?e:t},Wr.splitLegs=function(t,e){var n=[];t.push(t[0]);for(var r=0;r<t.length-1;r++){var i,o=t[r],a=t[r+1];n.push(o),Math.abs(a[0]-o[0])>=e&&(i=[(o[0]+a[0])/2,(o[1]+a[1])/2],n.push(i))}return n.length!==t.length-1?Wr.splitLegs(n,e):n},Wr.getBBox=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;return t.forEach((function(t){t[0]<e&&(e=t[0]),t[1]<n&&(n=t[1]),t[0]>r&&(r=t[0]),t[1]>i&&(i=t[1])})),[e,n,r,i]},Wr.getBBoxCenter=function(t){var e=Pr(t,4),n=e[0],r=e[1];return[n+(e[2]-n)/2,r+(e[3]-r)/2]},Wr.getLineLength=function(t,e,n,r){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))};var ei=Jr={};Jr.default_source_max_zoom=18,Jr.default_view_max_zoom=20,Jr.tile_size=256,Jr.half_circumference_meters=20037508.342789244,Jr.circumference_meters=2*Jr.half_circumference_meters,Jr.min_zoom_meters_per_pixel=Jr.circumference_meters/Jr.tile_size;var ni=[];Jr.metersPerPixel=function(t){return ni[t]=ni[t]||Jr.min_zoom_meters_per_pixel/Math.pow(2,t),ni[t]};var ri=[];Jr.metersPerTile=function(t){return ri[t]=ri[t]||Jr.circumference_meters/Math.pow(2,t),ri[t]},Jr.tile_scale=4096,Jr.units_per_pixel=Jr.tile_scale/Jr.tile_size,Jr.height_scale=16;var ii=[];Jr.unitsPerMeter=function(t){return ii[t]=ii[t]||Jr.tile_scale/(Jr.tile_size*Jr.metersPerPixel(t)),ii[t]},Jr.metersForTile=function(t){return{x:t.x*Jr.circumference_meters/Math.pow(2,t.z)-Jr.half_circumference_meters,y:-(t.y*Jr.circumference_meters/Math.pow(2,t.z)-Jr.half_circumference_meters)}},Jr.tileForMeters=function(t,e){var n=Pr(t,2),r=n[0],i=n[1];return{x:Math.floor((r+Jr.half_circumference_meters)/(Jr.circumference_meters/Math.pow(2,e))),y:Math.floor((-i+Jr.half_circumference_meters)/(Jr.circumference_meters/Math.pow(2,e))),z:e}},Jr.metersToExactTileCoords=function(t,e){var n=Pr(t,2),r=n[0],i=n[1];return{x:Math.pow(2,e-1)*(1+r/Jr.half_circumference_meters),y:Math.pow(2,e-1)*(1-i/Jr.half_circumference_meters),z:e}},Jr.wrapTile=function(t){var e=t.x,n=t.y,r=t.z,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{x:!0,y:!1},o=(1<<r)-1;return i.x&&(e&=o),i.y&&(n&=o),{x:e,y:n,z:r}},Jr.metersToLatLng=function(t){var e=Pr(t,2),n=e[0],r=e[1];return n/=Jr.half_circumference_meters,r/=Jr.half_circumference_meters,r=(2*Math.atan(Math.exp(r*Math.PI))-Math.PI/2)/Math.PI,[n*=180,r*=180]},Jr.latLngToMeters=function(t){var e=Pr(t,2),n=e[0],r=e[1];return r=Math.log(Math.tan(r*Math.PI/360+Math.PI/4))/Math.PI,r*=Jr.half_circumference_meters,r=Math.min(Math.max(r,-Jr.half_circumference_meters),Jr.half_circumference_meters),[n*=Jr.half_circumference_meters/180,r]},Jr.tileSpaceToMeters=function(t,e,n){var r=Pr(t,2),i=r[0],o=r[1],a=Jr.unitsPerMeter(e);return[i/a+n.x,o/a+n.y]},Jr.tileSpaceToLatlng=function(t,e,n){var r=Jr.unitsPerMeter(e);return Jr.transformGeometry(t,(function(t){t[0]=t[0]/r+n.x,t[1]=t[1]/r+n.y;var e=Pr(Jr.metersToLatLng(t),2),i=e[0],o=e[1];t[0]=i,t[1]=o})),t},Jr.copyGeometry=function(t){if(null!=t){var e={type:t.type};return"Point"===t.type?e.coordinates=[t.coordinates[0],t.coordinates[1]]:"LineString"===t.type||"MultiPoint"===t.type?e.coordinates=t.coordinates.map((function(t){return[t[0],t[1]]})):"Polygon"===t.type||"MultiLineString"===t.type?e.coordinates=t.coordinates.map((function(t){return t.map((function(t){return[t[0],t[1]]}))})):"MultiPolygon"===t.type&&(e.coordinates=t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){return[t[0],t[1]]}))}))}))),e}},Jr.transformGeometry=function(t,e){null!=t&&("Point"===t.type?e(t.coordinates):"LineString"===t.type||"MultiPoint"===t.type?t.coordinates.forEach(e):"Polygon"===t.type||"MultiLineString"===t.type?t.coordinates.forEach((function(t){return t.forEach(e)})):"MultiPolygon"===t.type&&t.coordinates.forEach((function(t){t.forEach((function(t){return t.forEach(e)}))})))},Jr.boxIntersect=function(t,e){return!(e.sw.x>t.ne.x||e.ne.x<t.sw.x||e.sw.y>t.ne.y||e.ne.y<t.sw.y)},Jr.findBoundingBox=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=t[0].length,a=0;a<o;a++){var s=t[0][a];s[0]<e&&(e=s[0]),s[1]<r&&(r=s[1]),s[0]>n&&(n=s[0]),s[1]>i&&(i=s[1])}return[e,r,n,i]},Jr.geometryType=function(t){return"Polygon"===t||"MultiPolygon"===t?"polygon":"LineString"===t||"MultiLineString"===t?"line":"Point"===t||"MultiPoint"===t?"point":void 0},Jr.centroid=function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(t&&0!==t.length){var n,r=0,i=0,o=0,a=t[0],s=a.length;e&&(n=a[0],a=a.map((function(t){return[t[0]-n[0],t[1]-n[1]]})));for(var l=0,u=s-1;l<s;u=l,l++){var c=a[l],h=a[u],f=c[1]*h[0]-h[1]*c[0];r+=(c[0]+h[0])*f,i+=(c[1]+h[1])*f,o+=3*f}var p=[r/o,i/o];return e&&(p[0]+=n[0],p[1]+=n[1]),p}},Jr.multiCentroid=function(t){for(var e=t.length,n=[0,0],r=0;r<t.length;r++){var i=Jr.centroid(t[r]);n[0]+=i[0],n[1]+=i[1]}return n[0]/=e,n[1]/=e,n},Jr.signedPolygonRingAreaSum=function(t){for(var e=0,n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e+=i[0]*o[1]-o[0]*i[1]}return e+(t[n-1][0]*t[0][1]-t[0][0]*t[n-1][1])},Jr.polygonRingArea=function(t){return Math.abs(Jr.signedPolygonRingAreaSum(t))/2},Jr.polygonArea=function(t){if(t)return Jr.polygonRingArea(t[0])},Jr.multiPolygonArea=function(t){for(var e=0,n=0;n<t.length;n++)e+=Jr.polygonArea(t[n]);return e},Jr.ringWinding=function(t){var e=Jr.signedPolygonRingAreaSum(t);return 0<e?"CW":e<0?"CCW":void 0},Jr.getTileBoundingBox=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=Jr.wrapTile(t,{x:!0}),i=Jr.metersForTile(r),o=Jr.metersPerPixel(r.z),a=Jr.metersToLatLng([i.x-n*o,i.y+n*o]),s=Jr.metersToLatLng([i.x+(e+n)*o,i.y-(e+n)*o]),l=Jr.isLastTile(r);return new $r.H.geo.Rect(0===t.y?90:Qr.clamp(a[1],-90,90),Qr.clamp(a[0],-180,180),l.row?-90:Qr.clamp(s[1],-90,90),l.column?180:Qr.clamp(s[0],-180,180))},Jr.isLastTile=function(t){var e=t.x,n=t.y,r=t.z;return{row:n===Math.pow(2,r)-1,column:e===Math.pow(2,r)-1}};var oi,ai,si=function(){Er(e,Mr(Error));var t=jr(e);function e(n){var r;return mr(this,e),(r=t.call(this)).name="MethodNotImplemented",r.message="Method "+n+" must be implemented in subclass",r}return e}(),li=!1,ui=!1;try{window.document!==HTMLDocument&&(ui=!0)}catch(o){void 0!==self&&(li=!0,self.window={document:{}},self.document=self.window.document)}var ci={get is_fake_worker(){return self.is_fake_worker},get is_worker(){return void 0!==ai?ai:li||self.is_fake_worker},set is_worker(t){ai=t},get is_main(){return void 0!==oi?oi:ui&&!self.is_fake_worker},set is_main(t){oi=t},is_native_worker:li},hi={},fi=0,pi={},di={},vi={};function gi(t,e,n){var r=2<arguments.length&&void 0!==n?n:di,i=[];if("string"==typeof t&&(t=(i=t.split(".")).pop()),ci.is_main&&e&&1===i.length&&"self"===i[0])r=e;else for(var o=0;o<i.length;o++){if(!r[i[o]])return[];r=r[i[o]]}return[t,r]}hi.addTarget=function(t,e){ci.is_fake_worker?vi[t]=e:di[t]=e},hi.removeTarget=function(t){delete di[t],delete vi[t]};var yi=" No object with that name is registered on main thread.",mi=" Object has no method with that name.",bi="_worker_broker_error_not_set_";function _i(t){Array.isArray(t)&&t.filter((function(t){return t.parent&&t.property})).forEach((function(t){return delete t.parent[t.property]}))}hi.withTransferables=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!(this instanceof hi.withTransferables))return Or(hi.withTransferables,e);this.value=e,this.transferables=function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];if(!e)return i;if(Array.isArray(e))e.forEach((function(n,r){return t(n,e,r,i)}));else if("object"===yr(e))if(e instanceof ArrayBuffer)i.push({object:e,parent:n,property:r});else if(e.buffer instanceof ArrayBuffer)i.push({object:e.buffer,parent:n,property:r});else for(var o in e)t(e[o],e,o,i);return i}(this.value)},ci.is_main&&(hi.postMessage=function(t,e){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(Array.isArray(t))return Promise.all(t.map((function(t){return hi.postMessage.apply(hi,[t,e].concat(Rr(r)))})));var o,a={};"object"===yr(e)&&(e=(a=e).method);var s="main_send";"string"==typeof t?(e=t,r=Array.prototype.slice.call(arguments,1),o=!0,s="worker_send"):t.init&&(o=!0);var l,u=[];if(r&&1===r.length&&r[0]instanceof hi.withTransferables&&(u=r[0].transferables,r=r[0].value),l={type:s,message_id:++fi,method:e,message:r},o)return function(t,e){var n=t.type,r=Pr(gi(t.method,e,"main_send"===n?vi:di),2),i=r[0],o=r[1],a="Worker broker could not dispatch message type ".concat(t.method," on target ").concat(t.target,".");if(!o)throw Error(a+yi);var s="function"==typeof o[i]&&o[i];if(!s)throw Error(a+mi);return new Promise((function(e,n){var r;try{r=s.apply(o,t.message)}catch(r){return void n(r)}r instanceof Promise?r.then((function(t){t instanceof hi.withTransferables&&(t=t.value[0]),e(t)}),(function(t){n(t instanceof Error?"".concat(t.message,": ").concat(t.stack):t)})):(r instanceof hi.withTransferables&&(r=r.value[0]),e(r))}))}(l,t&&t.init?t:void 0);var c=new Promise((function(t,n){pi[fi]={method:e,message:r,resolve:t,reject:n}}));return a.stringify&&(l=JSON.stringify(l)),t.postMessage(l,u.map((function(t){return t.object}))),_i(u),c},hi.addWorker=function(t){if(!(t instanceof Worker))throw Error("Worker broker could not add non-Worker object",t);t.addEventListener("message",(function(e){var n="string"==typeof e.data?JSON.parse(e.data):e.data,r=n.message_id;if("worker_reply"===n.type)pi[r]&&(n.error?pi[r].reject(n.error):pi[r].resolve(n.message),delete pi[r]);else if("worker_send"===n.type&&null!=r){var i=Pr(gi(n.method),2),o=i[0],a=i[1],s="Worker broker could not dispatch message type ".concat(n.method," on target ").concat(n.target,".");if(!a)throw Error(s+yi);var l="function"==typeof a[o]&&a[o];if(!l)throw Error(s+mi);var u,c=bi;try{u=l.apply(a,n.message)}catch(e){c=e}var h,f=[];u&&"function"==typeof u.then?u.then((function(e){e instanceof hi.withTransferables&&(f=e.transferables,e=e.value[0]),h={type:"main_reply",message_id:r,message:e},t.postMessage(h,f.map((function(t){return t.object}))),_i(f)}),(function(e){t.postMessage({type:"main_reply",message_id:r,error:e instanceof Error?"".concat(e.message,": ").concat(e.stack):e})})):(u instanceof hi.withTransferables&&(f=u.transferables,u=u.value[0]),h={type:"main_reply",message_id:r,message:u,error:c instanceof Error?"".concat(c.message,": ").concat(c.stack):c},t.postMessage(h,f.map((function(t){return t.object}))),_i(f))}}))},hi.getMessages=function(){return pi},hi.getMessageId=function(){return fi}),ci.is_worker&&(hi.postMessage=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i={};"object"===yr(t)&&(t=(i=t).method);var o,a=new Promise((function(e,r){pi[fi]={method:t,message:n,resolve:e,reject:r}})),s=[];return n&&1===n.length&&n[0]instanceof hi.withTransferables&&(s=n[0].transferables,n=n[0].value),o={type:"worker_send",message_id:fi,method:t,message:n},i.stringify&&(o=JSON.stringify(o)),self.postMessage(o,s.map((function(t){return t.object}))),_i(s),fi++,a},self.addEventListener("message",(function(t){var e="string"==typeof t.data?JSON.parse(t.data):t.data,n=e.message_id;if("main_reply"===e.type)pi[n]&&(e.hasOwnProperty("error")&&e.error!==bi?pi[n].reject(e.error):pi[n].resolve(e.message),delete pi[n]);else if("main_send"===e.type&&null!=n){var r=Pr(gi(e.method),2),i=r[0],o=r[1],a="Worker broker could not dispatch message type ".concat(e.method," on target ").concat(e.target,".");if(!o)throw Error(a+yi);var s,l,u="function"==typeof o[i]&&o[i];if(!u)throw Error(a+mi);try{s=u.apply(o,e.message)}catch(t){l=t}var c,h=[];s instanceof Promise?s.then((function(t){t instanceof hi.withTransferables&&(h=t.transferables,t=t.value[0]),c={type:"worker_reply",message_id:n,message:t},self.postMessage(c,h.map((function(t){return t.object}))),_i(h)}),(function(t){self.postMessage({type:"worker_reply",message_id:n,error:t instanceof Error?"".concat(t.message,": ").concat(t.stack):t})})):(s instanceof hi.withTransferables&&(h=s.transferables,s=s.value[0]),c={type:"worker_reply",message_id:n,message:s,error:l instanceof Error?"".concat(l.message,": ").concat(l.stack):l},self.postMessage(c,h.map((function(t){return t.object}))),_i(h))}})));var xi,wi={silent:-1,error:0,warn:1,info:2,debug:3,trace:4},ki={},Ei={};function Si(t){var e,n="object"===yr(t)?t.level:t;if(wi[n]<=wi[Si.level]){for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(ci.is_native_worker)hi.postMessage.apply(hi,[{method:"_logProxy",stringify:!0},t].concat(i));else{if("object"===yr(t)&&!0===t.once){if(Ei[JSON.stringify(i)])return;Ei[JSON.stringify(i)]=!0}var a=(ki[e=n]=ki[e]||(console[e]?console[e]:console.log).bind(console),ki[e]);1<i.length?a.apply(void 0,["Tangram [".concat(n,"]: ").concat(i[0])].concat(Rr(i.slice(1)))):a("Tangram [".concat(n,"]: ").concat(i[0]))}}}function Ti(t,e,n){var r,i;return n=n||0,function(){var o=this,a=arguments;function s(){i=0,t.apply(o,a)}clearTimeout(r),i&&n&&Date.now()-i>=n?s():(i=i||Date.now(),r=setTimeout((function(){s()}),e))}}Si.level="info",Si.workers=null,Si.setLevel=function(t){Si.level=t,ci.is_main&&Array.isArray(Si.workers)&&hi.postMessage(Si.workers,"_logSetLevelProxy",t)},ci.is_main&&(Si.setWorkers=function(t){Si.workers=t},Si.reset=function(){Ei={}}),hi.addTarget("_logProxy",Si),hi.addTarget("_logSetLevelProxy",Si.setLevel);var Ai=xi={};hi.addTarget("Utils",xi),xi.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},xi.isMicrosoft=function(){return/(Trident\/7.0|Edge[ /](\d+[\.\d]+))/i.test(navigator.userAgent)},xi._requests={},xi._proxy_requests={},xi.io=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6e4,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"text",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"GET",i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6];if(ci.is_worker&&xi.isMicrosoft())return Si("debug","Proxying request for URL to worker",t),o&&(xi._proxy_requests[o]=!0),hi.postMessage("Utils.io",t,e,n,r,i,o,!0);var s=new XMLHttpRequest,l=(l=new Promise((function(i,o){s.open(r,t,!0),s.timeout=e,s.responseType=n,s.onload=function(){200===s.status?-1<["text","json"].indexOf(s.responseType)?i(s.responseText):i(s.response):o(Error("Request error with a status of "+s.statusText))},s.onerror=function(t){o(Error("There was a network error"+t.toString()))},s.ontimeout=function(t){o(Error("timeout "+t.toString()))},s.send()}))).then((function(t){return o&&delete xi._requests[o],a?hi.withTransferables(t):t}));return o&&(xi._requests[o]=s),l},xi.cancelRequest=function(t){if(ci.is_worker&&xi._proxy_requests[t])return hi.postMessage("Utils.cancelRequest",t);xi._requests[t]?(Si("trace","Cancelling network request key '".concat(t,"'")),xi._requests[t].abort(),delete xi._requests[t]):Si("trace","Could not find network request key '".concat(t,"'"))},xi.requestAnimationFramePolyfill=function(){"function"!=typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)})},xi.serializeWithFunctions=function(t){return"function"==typeof t?t.toString():JSON.stringify(t,(function(t,e){return"function"==typeof e?e.toString():e}))},xi.stringsToFunctions=function(t,e){if("string"==typeof t)t=xi.stringToFunction(t,e);else if(null!=t&&"object"===yr(t))for(var n in t)t[n]=xi.stringsToFunctions(t[n],e);return t},xi._use_count=0,xi._function_cache={};var Oi,Mi,Ci=Ti((function(){Si("trace","Cleared cached ".concat(Object.keys(xi._function_cache).length," functions (reused ").concat(xi._use_count," times)")),xi._use_count=0,xi._function_cache={}}),1e4),ji=/^\s*function[^(]*\(([^)]*)\)\s*?\{([\s\S]*)\}$/m;function Ii(t){if("string"!=typeof t||-1!==t.search(/^(data|blob):/))return"";var e=t.indexOf("?");-1<e&&(t=t.substr(0,e));var n=t.indexOf("#");return-1<n&&(t=t.substr(0,n)),t.substr(0,t.lastIndexOf("/")+1)||""}function Pi(t){return"string"==typeof t&&!(-1<t.search(/^(http|https|data|blob):/)||"//"===t.substr(0,2))}function Ri(t){return void 0===Oi&&"function"!=typeof(Oi=window.URL&&window.URL.createObjectURL||window.webkitURL&&window.webkitURL.createObjectURL)&&(Oi=null,Si("warn","window.URL.createObjectURL (or vendor prefix) not found, unable to create local blob URLs")),Oi?Oi(t):t}xi.stringToFunction=function(t,e){var n=t;e&&(n+=e.toString());var r=xi._function_cache[n];if(Ci(),r)return xi._use_count++,r;var i="string"==typeof t&&t.match(ji);if(i&&2<i.length)try{var o=i[2],a=0<(a=0<i[1].length&&i[1].split(",").map((function(t){return t.trim()})).filter((function(t){return t}))).length?a:["context"],s=new Function(a.toString(),"function"==typeof e?e(o):o);return xi._function_cache[n]=s}catch(e){return t}return t},xi.device_pixel_ratio=1,xi.isPowerOf2=function(t){return 0==(t&t-1)},xi.interpolate=function(t,e,n){if(!Array.isArray(e)||!Array.isArray(e[0]))return e;if(e.length<1)return e;var r,i,o,a,s;if(t<=e[0][0])a=e[0][1],"function"==typeof n&&(a=n(a));else if(t>=e[e.length-1][0])a=e[e.length-1][1],"function"==typeof n&&(a=n(a));else for(var l=0;l<e.length-1;l++)if(t>=e[l][0]&&t<e[l+1][0]){if(r=e[l][0],i=e[l+1][0],Array.isArray(e[l][1])){a=[];for(var u=0;u<e[l][1].length;u++)"function"==typeof n?(s=n(e[l][1][u]),o=n(e[l+1][1][u])-s,a[u]=o*(t-r)/(i-r)+s):(o=e[l+1][1][u]-e[l][1][u],a[u]=o*(t-r)/(i-r)+e[l][1][u])}else a="function"==typeof n?(s=n(e[l][1]),(o=n(e[l+1][1])-s)*(t-r)/(i-r)+s):(o=e[l+1][1]-e[l][1])*(t-r)/(i-r)+e[l][1];break}return a},xi.toCSSColor=function(t){return 1===t[3]?"rgb(".concat(t.slice(0,3).map((function(t){return Math.round(255*t)})).join(", "),")"):"rgba(".concat(t.map((function(t,e){return e<3&&Math.round(255*t)||t})).join(", "),")")},xi.pointInTile=function(t){return 0<=t[0]&&t[1]>-ei.tile_scale&&t[0]<ei.tile_scale&&t[1]<=0},xi.zoomToTileLevel=function(t){return Math.floor(t)};var Li=function(){function t(e,n){var r=this;if(mr(this,t),this.config=e,this.sources=n,this.id=e.id,this.name=e.name,this.pad_scale=e.pad_scale||1e-4,this.default_winding=null,this.rasters=[],Array.isArray(e.rasters)&&e.rasters.forEach((function(t){-1===r.rasters.indexOf(t)&&r.rasters.push(t)})),this.preprocess=e.preprocess,"function"==typeof this.preprocess&&this.preprocess.bind(this),this.transform=e.transform,"function"==typeof this.transform)this.transform=this.transform.bind(this);else if("object"===yr(this.transform))for(var i in this.transform)"function"==typeof this.transform[i]&&(this.transform[i]=this.transform[i].bind(this));this.extra_data=e.extra_data,this.scripts=e.scripts,this.max_zoom=null!=e.max_zoom?e.max_zoom:ei.default_source_max_zoom,this.setTileSize(e.tile_size),this.max_coord_zoom=this.max_zoom+this.zoom_bias,this.min_display_zoom=null!=e.min_display_zoom?e.min_display_zoom:0,this.max_display_zoom=null!=e.max_display_zoom?e.max_display_zoom:null,this._has_volatile_data=!!e.has_volatile_data}return _r(t,[{key:"hasLabeledData",value:function(){return!0}},{key:"_transformTile",value:function(t){if(t.source_data.layers){var e={coords:t.coords},n=[];if("function"==typeof this.transform)n.push(this.transform);else if("object"===yr(this.transform))for(var r=Object.keys(this.transform).sort(),i=0;i<r.length;i++)n.push(this.transform[r[i]]);for(var o=1===Object.keys(t.source_data.layers).length&&t.source_data.layers._default,a=0;a<n.length;a++)o?t.source_data.layers._default=n[a](t.source_data.layers._default,this.extra_data,e):t.source_data.layers=n[a](t.source_data.layers,this.extra_data,e)}}},{key:"_postProcessTile",value:function(t){var e=this;for(var n in this._transformTile(t),t.source_data.layers){var r=t.source_data.layers[n];r&&r.features&&r.features.forEach((function(t){ei.transformGeometry(t.geometry,(function(t){t[1]=-t[1],e.pad_scale&&(t[0]=Math.round(t[0]*(1+e.pad_scale)-ei.tile_scale*e.pad_scale/2),t[1]=Math.round(t[1]*(1+e.pad_scale)-ei.tile_scale*e.pad_scale/2))})),e.updateDefaultWinding(t.geometry)}))}t.default_winding=this.default_winding||"CCW"}},{key:"load",value:function(t){return t.source_data={},t.source_data.layers={},t.pad_scale=this.pad_scale,t.rasters=Rr(this.rasters),this._load(t)}},{key:"_load",value:function(){throw new si("_load")}},{key:"setTileSize",value:function(t){this.tile_size=t||256,("number"!=typeof this.tile_size||this.tile_size<256||!Ai.isPowerOf2(this.tile_size))&&(Si({level:"warn",once:!0},"Data source '".concat(this.name,"': 'tile_size' parameter must be a number that is a power of 2 greater than or equal to 256, but was '").concat(t,"'")),this.tile_size=256),this.zoom_bias=Math.log2(this.tile_size)-8}},{key:"updateDefaultWinding",value:function(t){return null==this.default_winding&&("Polygon"===t.type?this.default_winding=ei.ringWinding(t.coordinates[0]):"MultiPolygon"===t.type&&(this.default_winding=ei.ringWinding(t.coordinates[0][0]))),this.default_winding}},{key:"includesTile",value:function(t,e){if(t.z<this.min_display_zoom||null!=this.max_display_zoom&&e>this.max_display_zoom)return!1;for(var n=0;n<this.rasters.length;n++){var r=this.rasters[n];if(this.sources[r]&&this.sources[r]!==this&&!this.sources[r].includesTile(t,t.z))return!1}return!0}},{key:"has_volatile_data",get:function(){return this._has_volatile_data},set:function(t){var e=0<arguments.length&&void 0!==t&&t;this._has_volatile_data=e}}],[{key:"create",value:function(e,n){for(var r in n)if(n[r].config.name===e.name&&t.sameConfig(n[r],{config:e}))return n[r];if(t.types[e.type])return new t.types[e.type](e,n)}},{key:"sameConfig",value:function(t,e){if(!t||!e)return!1;var n=Object.assign({},t.config,{id:null,tiled:null,url:null}),r=Object.assign({},e.config,{id:null,tiled:null,url:null});return JSON.stringify(n)===JSON.stringify(r)}},{key:"coordsToMeters",value:function(t){var e=Pr(ei.latLngToMeters(t),2),n=e[0],r=e[1];t[0]=n,t[1]=r}},{key:"projectData",value:function(e){for(var n in e.layers)for(var r=e.layers[n].features.length,i=0;i<r;i++){var o=e.layers[n].features[i];ei.transformGeometry(o.geometry,t.coordsToMeters)}}},{key:"metersToTileUnits",value:function(t,e,n){n[0]=Math.round((n[0]-e.x)*t),n[1]=-1*Math.round((n[1]-e.y)*t)}},{key:"scaleData",value:function(e,n){var r=n.coords.z,i=n.min,o=(n.max,t.metersToTileUnits.bind(this,ei.unitsPerMeter(r),i));for(var a in e.layers)for(var s=e.layers[a].features.length,l=0;l<s;l++){var u=e.layers[a].features[l];ei.transformGeometry(u.geometry,o)}}},{key:"register",value:function(e,n){e&&n&&(t.types[n]=e)}}]),t}();Li.types={};var Ni=0,Di=function(){Er(e,Li);var t=jr(e);function e(n,r){var i;mr(this,e),(i=t.call(this,n,r)).response_type="";var o=Pr(function(t,e){if(!e||0===Object.keys(e).length)return[t,[]];var n=t.indexOf("?"),r=t.indexOf("#"),i="";-1<r&&(i=t.slice(r),t=t.slice(0,r)),-1===n&&(n=t.length,t+="?"),n++;var o="",a=[];for(var s in e)""===function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}(s,t)?o+="".concat(s,"=").concat(e[s],"&"):a.push([s,e[s]]);return[t=t.slice(0,n)+o+t.slice(n)+i,a]}(n.url,n.url_params),2),a=o[0],s=o[1];if(i.url=a,s.forEach((function(t){var e=Pr(t,2),r=e[0],o=e[1];Si({level:"warn",once:!0},"Data source '".concat(i.name,"': parameter '").concat(r,"' already present in URL '").concat(n.url,"', ")+"skipping value '".concat(r,"=").concat(o,"' specified in 'url_params'"))})),"string"!=typeof i.url)throw Error("Network data source must provide a string `url` property");return i}return _r(e,[{key:"_load",value:function(t){var e=this,n=this.formatUrl(this.url,t),r=t.source_data;return r.url=n,new Promise((function(i,o){r.error=null;var a=Ni+++"-"+n,s=Ai.io(n,6e4,e.response_type,"GET",{},a);r.request_id=a,s.then((function(n){"function"==typeof e.preprocess&&(n=e.preprocess(n)),(n=n instanceof Promise?n:Promise.resolve(n)).then((function(n){e.parseSourceData(t,r,n),e._postProcessTile(t),i(t)}))}),(function(n){r.error=n.stack,e._postProcessTile(t),i(t)}))}))}},{key:"formatUrl",value:function(){throw new si("formatUrl")}},{key:"parseSourceData",value:function(){throw new si("parseSourceData")}}]),e}(),zi=function(){Er(e,Di);var t=jr(e);function e(n,r){var i;return mr(this,e),(i=t.call(this,n,r)).tiled=!0,i.parseBounds(n),i.builds_geometry_tiles=!1,i.tms=!0===n.tms,-1<i.url.search("{s}")&&(Array.isArray(n.url_subdomains)&&0<n.url_subdomains.length?(i.url_subdomains=n.url_subdomains,i.next_url_subdomain=0):Si({level:"warn",once:!0},"Data source '".concat(i.name,"': source URL includes '{s}' subdomain marker ('").concat(i.url,"'), but no subdomains ")+"were specified in 'url_subdomains' parameter")),i}return _r(e,[{key:"parseBounds",value:function(t){var e,n,r,i,o;Array.isArray(t.bounds)&&4===t.bounds.length&&(this.bounds=t.bounds,n=(e=Pr(this.bounds,4))[0],r=e[1],i=e[2],o=e[3],this.bounds_meters={min:ei.latLngToMeters([n,o]),max:ei.latLngToMeters([i,r])},this.bounds_tiles={min:{},max:{}})}},{key:"checkBounds",value:function(t){if(this.bounds){t=ei.wrapTile(t,{x:!0});var e=(e=this.bounds_tiles.min[t.z])||(this.bounds_tiles.min[t.z]=ei.tileForMeters(this.bounds_meters.min,t.z)),n=(n=this.bounds_tiles.max[t.z])||(this.bounds_tiles.max[t.z]=ei.tileForMeters(this.bounds_meters.max,t.z));if(t.x<e.x||t.x>n.x||t.y<e.y||t.y>n.y)return!1}return!0}},{key:"includesTile",value:function(t,n){return!!Ir(Sr(e.prototype),"includesTile",this).call(this,t,n)&&!!this.checkBounds(t)}},{key:"formatUrl",value:function(t,e){var n=ei.wrapTile(e.coords,{x:!0});this.tms&&(n.y=Math.pow(2,n.z)-1-n.y);var r=t.replace("{x}",n.x).replace("{y}",n.y).replace("{z}",n.z);return null!=this.url_subdomains&&(r=r.replace("{s}",this.url_subdomains[this.next_url_subdomain]),this.next_url_subdomain=(this.next_url_subdomain+1)%this.url_subdomains.length),r}},{key:"urlHasTilePattern",value:function(t){return t&&-1<t.search("{x}")&&-1<t.search("{y}")&&-1<t.search("{z}")}}]),e}(),Fi=function(){Er(e,Li);var t=jr(e);function e(n,r){var i;return mr(this,e),(i=t.call(this,n,r)).target_name="MapsJsSource"+n.uid,i.tiled=!!n.tiled,hi.addTarget(i.target_name,Cr(i)),ci.is_worker&&hi.postMessage(i.target_name+".onWorkerInitialized"),ci.is_main&&(i._workers_left=0),i}return _r(e,[{key:"initialize",value:function(t,e,n,r){this._main_initialized||(this.provider=t,this.worker=r,this._workers_left+=n,this._on_update=e,this._main_initialized=!0,this._onProviderUpdate=this._onProviderUpdate.bind(this),t.addEventListener("update",this._onProviderUpdate),this._isReady()&&this.onReady())}},{key:"onWorkerInitialized",value:function(){--this._workers_left,this._isReady()&&this.onReady()}},{key:"onReady",value:function(){}},{key:"_isReady",value:function(){return this._main_initialized&&!this._workers_left}},{key:"_onProviderUpdate",value:function(t){this._isReady()&&this.onProviderUpdate(t)}},{key:"onProviderUpdate",value:function(t){this.dispatchUpdate(void 0,t.data)}},{key:"dispatchUpdate",value:function(t,e){this._on_update(this.name,t,e)}},{key:"dispose",value:function(){hi.removeTarget(this.target_name),this.provider.removeEventListener("update",this._onProviderUpdate)}}]),e}(),Bi=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;0<c;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},Hi=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(e+=1<=a+h?f/l:f*Math.pow(2,1-h))*l&&(a++,l/=2),c<=a+h?(s=0,a=c):1<=a+h?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));8<=i;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;t[n+p]=255&a,p+=d,a/=256,u-=8);t[n+p-d]|=128*v},Ui=Vi;function Vi(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Vi.Varint=0,Vi.Fixed64=1,Vi.Bytes=2,Vi.Fixed32=5;var Gi=4294967296,qi=1/Gi;function Yi(t){return t.type===Vi.Bytes?t.readVarint()+t.pos:t.pos+1}function Wi(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Zi(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;t<=i;i--)n.buf[i+r]=n.buf[i]}function Xi(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Ki(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function $i(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Ji(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Qi(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function to(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function eo(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function no(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function ro(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function io(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function oo(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function ao(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Vi.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=io(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=ao(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=io(this.buf,this.pos)+io(this.buf,this.pos+4)*Gi;return this.pos+=8,t},readSFixed64:function(){var t=io(this.buf,this.pos)+ao(this.buf,this.pos+4)*Gi;return this.pos+=8,t},readFloat:function(){var t=Bi(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Bi(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e=this.buf,n=e[this.pos++],r=127&n;return n<128?r:(r|=(127&(n=e[this.pos++]))<<7,n<128?r:(r|=(127&(n=e[this.pos++]))<<14,n<128?r:(r|=(127&(n=e[this.pos++]))<<21,n<128?r:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return Wi(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return Wi(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return Wi(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return Wi(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return Wi(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return Wi(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(n=e[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r,i,o,a="",s=e;s<n;){var l=t[s],u=null,c=239<l?4:223<l?3:191<l?2:1;if(n<s+c)break;1===c?l<128&&(u=l):2===c?128==(192&(r=t[s+1]))&&(u=(31&l)<<6|63&r)<=127&&(u=null):3===c?(r=t[s+1],i=t[s+2],128==(192&r)&&128==(192&i)&&((u=(15&l)<<12|(63&r)<<6|63&i)<=2047||55296<=u&&u<=57343)&&(u=null)):4===c&&(r=t[s+1],i=t[s+2],o=t[s+3],128==(192&r)&&128==(192&i)&&128==(192&o)&&((u=(15&l)<<18|(63&r)<<12|(63&i)<<6|63&o)<=65535||1114112<=u)&&(u=null)),null===u?(u=65533,c=1):65535<u&&(u-=65536,a+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),a+=String.fromCharCode(u),s+=c}return a}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=Yi(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=Yi(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Vi.Varint)for(;127<this.buf[this.pos++];);else if(e===Vi.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Vi.Fixed32)this.pos+=4;else{if(e!==Vi.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e,n=this.length||16;n<this.pos+t;)n*=2;n!==this.length&&((e=new Uint8Array(n)).set(this.buf),this.buf=e,this.length=n)},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),oo(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),oo(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),oo(this.buf,-1&t,this.pos),oo(this.buf,Math.floor(t*qi),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),oo(this.buf,-1&t,this.pos),oo(this.buf,Math.floor(t*qi),this.pos+4),this.pos+=8},writeVarint:function(t){268435455<(t=+t||0)||t<0?function(t,e){var n,r;if(0<=t?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:r=r+1|(n=0)),0x10000000000000000<=t||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e){e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos]=127&t}(n,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(127<t?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){56319<r||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;128<=n&&Zi(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Hi(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Hi(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;128<=r&&Zi(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Vi.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,Xi,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Ki,e)},writePackedBoolean:function(t,e){this.writeMessage(t,Qi,e)},writePackedFloat:function(t,e){this.writeMessage(t,$i,e)},writePackedDouble:function(t,e){this.writeMessage(t,Ji,e)},writePackedFixed32:function(t,e){this.writeMessage(t,to,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,eo,e)},writePackedFixed64:function(t,e){this.writeMessage(t,no,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,ro,e)},writeBytesField:function(t,e){this.writeTag(t,Vi.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Vi.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Vi.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Vi.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Vi.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Vi.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Vi.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Vi.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Vi.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Vi.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}},Xr.prototype.loadGeometry=function(t){var e=this._pbf;e.pos=this._geometry;for(var n,r,i=e.readVarint()+e.pos,o=1,a=0,s=0,l=0,u=[];e.pos<i;)if(a<=0&&(o=7&(r=e.readVarint()),a=r>>3),a--,1===o||2===o)s+=e.readSVarint(),l+=e.readSVarint(),1===o&&(n&&u.push(n),n=[]),n.push([s*t,l*t]);else{if(7!==o)throw new Error("unknown command "+o);n&&n.push(n[0].slice())}return n&&u.push(n),u};var so=1,lo=2,uo=3;function co(t){var e=[],n=t&&t.features;if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r],a=o.type,s=void 0;switch(a){case so:s={type:"MultiPoint",coordinates:o.geometry.map((function(t){return t.slice()}))};break;case lo:case uo:if(s={type:"MultiLineString",coordinates:o.geometry.map((function(t){return t.map((function(t){return t.slice()}))}))},a===uo&&null==(s=ho(s)))continue;break;default:continue}e.push({id:o.id,type:"Feature",geometry:s,properties:o.tags})}return{type:"FeatureCollection",features:e}}function ho(t){for(var e,n=[],r=[],i=0,o=t.coordinates.length;i<o;i++){var a=t.coordinates[i],s=ei.ringWinding(a);null!=s&&(s===(e=e||s)&&r.length&&(n.push(r),r=[]),r.push(a))}return 0<r.length&&n.push(r),1===n.length?(t.type="Polygon",t.coordinates=n[0]):1<n.length?(t.type="MultiPolygon",t.coordinates=n):t=null,t}var fo={type:"FeatureCollection",features:[]},po=function(){Er(e,Fi);var t=jr(e);function e(n,r){return mr(this,e),n.tiled=!0,t.call(this,n,r)}return _r(e,[{key:"fetchTile",value:function(t,e,n){return this.provider?this.provider.requestTileAsPromise(t,e,n).then((function(t){return t.data})):Promise.resolve()}},{key:"_load",value:function(t){var e=this,n=ei.wrapTile(t.coords,{x:!0,y:!0}),r=n.x,i=n.y,o=n.z;return hi.postMessage(this.target_name+".fetchTile",r,i,o).then((function(n){var r;return n instanceof ArrayBuffer?(r=new Ui(new Uint8Array(n)),t.source_data.layers=function(t){var e={};for(var n in t.layers){for(var r=t.layers[n],i=[],o=ei.tile_scale/r.extent,a=0,s=r.length;a<s;a++){var l=r.feature(a),u=Xr.types[l.type],c=l.loadGeometry(o),h=null;switch(u){case"Point":h=function(t){var e=t.coordinates.length;if(1<e){t.type="MultiPoint";for(var n=[],r=0;r<e;r++)n.push(t.coordinates[r][0]);t.coordinates=n}else t.type="Point",t.coordinates=t.coordinates[0][0];return t}({coordinates:c});break;case"LineString":h=1===c.length?{type:u,coordinates:c[0]}:{type:"MultiLineString",coordinates:c};break;case"Polygon":h=ho({coordinates:c})}h&&h.coordinates&&i.push({type:"Feature",geometry:h,properties:l.properties})}e[n]={type:"FeatureCollection",features:i}}return e}(new Zr(r))):n?t.source_data.error=n:t.source_data.layers={_default:fo},e._postProcessTile(t),t}))}},{key:"onReady",value:function(){this.dispatchUpdate()}}]),e}();function vo(t){return Math.max(t,0)}function go(t){return isNaN(t)?0:t}function yo(t){return Array.isArray(t)?t.map(parseFloat).map(go):go(parseFloat(t))}function mo(t){return Array.isArray(t)?t.map(yo).map(vo):vo(yo(t))}Li.register(po,"MVT"),Li.register(po,"OMV");var bo=a((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:255<t?255:t}function i(t){return t<0?0:1<t?1:t}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100*255):r(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in n)return n[i].slice();if("#"===i[0])return 4===i.length?0<=(e=parseInt(i.substr(1),16))&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&0<=(e=parseInt(i.substr(1),16))&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=i.indexOf("("),u=i.indexOf(")");if(-1!==l&&u+1===i.length){var c=i.substr(0,l),h=i.substr(l+1,u-(l+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=a(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=a(h[1]),v=a(h[2]),g=v<=.5?v*(d+1):v+d-v*d,y=2*v-g;return[r(255*s(y,g,p+1/3)),r(255*s(y,g,p)),r(255*s(y,g,p-1/3)),f];default:return null}}return null}}catch(t){}})),_o=(bo.parseCSSColor,{});Object.assign(_o,{clampPositive:vo,noNaN:go,parseNumber:yo,parsePositiveNumber:mo}),_o.wrapFunction=function(t){return"\n        var feature = context.feature.properties;\n        var global = context.global;\n        var $zoom = context.zoom;\n        var $layer = context.layer;\n        var $source = context.source;\n        var sources = context.sources;\n        var $geometry = context.geometry;\n        var $meters_per_pixel = context.meters_per_pixel;\n\n        var val = (function(){ ".concat(t," }());\n\n        if (typeof val === 'number' && isNaN(val)) {\n            val = null; // convert NaNs to nulls\n        }\n\n        return val;\n    ")},_o.zeroPair=Object.freeze([0,0]),_o.defaults={color:[1,1,1,1],width:1,size:1,extrude:!1,height:20,min_height:0,order:0,z:0,outline:{color:[0,0,0,0],width:0},material:{ambient:1,diffuse:1}},_o.macros={"Style.color.pseudoRandomColor":function(){return[parseInt(feature.id,16)/100%1*.7,parseInt(feature.id,16)/1e4%1*.7,parseInt(feature.id,16)/1e6%1*.7,1]},"Style.color.randomColor":function(){return[.7*Math.random(),.7*Math.random(),.7*Math.random(),1]}},_o.getFeatureParseContext=function(t,e,n,r){return{feature:t,tile:e,global:n,sources:r,zoom:e.style_zoom,geometry:ei.geometryType(t.geometry.type),meters_per_pixel:e.meters_per_pixel,meters_per_pixel_sq:e.meters_per_pixel_sq,units_per_meter_overzoom:e.units_per_meter_overzoom}};var xo={STATIC:0,DYNAMIC:1,ZOOM:2};function wo(t){return"string"==typeof t&&"%"===t[t.length-1]}function ko(t){return"auto"===t}function Eo(t){return wo(t)||ko(t)}_o.CACHE_TYPE=xo,_o.createPropertyCache=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null!=t){if(t.value)return{value:t.value,zoom:t.zoom?{}:null,type:t.type};var n={value:t,type:xo.STATIC};return Array.isArray(n.value)&&Array.isArray(n.value[0])?(n.zoom={},n.type=xo.ZOOM):"function"==typeof n.value&&(n.type=xo.DYNAMIC),"function"==typeof e&&(n.zoom?n.value=n.value.map((function(t,n){return[t[0],e(t[1],n)]})):"function"!=typeof n.value&&(n.value=e(n.value,0))),n}},_o.createColorPropertyCache=function(t){return _o.createPropertyCache(t,(function(t){return"Style.color.pseudoRandomColor"===t?Ai.stringToFunction(_o.wrapFunction(_o.macros["Style.color.pseudoRandomColor"])):"Style.color.randomColor"===t?_o.macros["Style.color.randomColor"]:t}))};var So="'size' can specify either width or height as derived from aspect ratio, but not both";_o.createPointSizePropertyCache=function(t){var e=null,n=null;if(wo(t))e=[!0];else if(Array.isArray(t))if(Array.isArray(t[0])){if(t.some((function(t){return Array.isArray(t[1])?t[1].some(Eo):wo(t[1])}))&&(e=t.map((function(t){return Array.isArray(t[1])?t[1].map(wo):wo(t[1])})),(n=t.map((function(t){return Array.isArray(t[1])&&t[1].map(ko)}))).some((function(t){return Array.isArray(t)&&t.every((function(t){return t}))}))))throw So}else if(t.some(Eo)&&(e=[t.map(wo)],(n=[t.map(ko)])[0].every((function(t){return t}))))throw So;return e?((t={value:t}).has_pct=e,t.has_ratio=n,t.sprites={}):t=_o.createPropertyCache(t,mo),t},_o.evalCachedPointSizeProperty=function(t,e,n){return t.has_pct||t.has_ratio?e?(t.sprites[e.sprite]||(t.sprites[e.sprite]=_o.createPropertyCache(t.value,(function(n,r){return Array.isArray(n)?(n=n.map((function(e,n){return t.has_ratio[r][n]?e:mo(e)})).map((function(n,i){return t.has_pct[r][i]?e.css_size[i]*n/100:n})),t.has_ratio[r][0]?n[0]=n[1]*e.aspect:t.has_ratio[r][1]&&(n[1]=n[0]/e.aspect)):(n=mo(n),n=t.has_pct[r]?e.css_size.map((function(t){return t*n/100})):[n,n]),n}))),_o.evalCachedProperty(t.sprites[e.sprite],n)):void 0:_o.evalCachedProperty(t,n)},_o.evalCachedProperty=function(t,e){if(null!=t)return t.dynamic?t.dynamic(e):t.static?t.static:t.zoom&&t.zoom[e.zoom]?t.zoom[e.zoom]:"function"!=typeof t.value?Array.isArray(t.value)&&Array.isArray(t.value[0])?(t.zoom=t.zoom||{},t.zoom[e.zoom]=Ai.interpolate(e.zoom,t.value),t.zoom[e.zoom]):(t.static=t.value,t.static):(t.dynamic=t.value,t.dynamic(e))},_o.convertUnits=function(t,e){if(null!=t.val)return"px"===t.units?t.val*ei.metersPerPixel(e.zoom):t.val;if("string"==typeof t)"px"===t.trim().slice(-2)?(t=yo(t),t*=ei.metersPerPixel(e.zoom)):t=yo(t);else if(Array.isArray(t))return Array.isArray(t[0])?t.map((function(t){return[t[0],_o.convertUnits(t[1],e)]})):t.map((function(t){return _o.convertUnits(t,e)}));return t},_o.parseUnits=function(t){var e={val:yo(t)};return 0!==e.val&&"string"==typeof t&&"px"===t.trim().slice(-2)&&(e.units="px"),e},_o.evalCachedDistanceProperty=function(t,e){return t.dynamic?t.dynamic(e):t.zoom&&t.zoom[e.zoom]?t.zoom[e.zoom]:"function"!=typeof t.value?t.zoom?(t.zoom[e.zoom]=Ai.interpolate(e.zoom,t.value,(function(t){return _o.convertUnits(t,e)})),t.zoom[e.zoom]):_o.convertUnits(t.value,e):(t.dynamic=t.value,t.dynamic(e))},_o.string_colors={},_o.colorForString=function(t){if(_o.string_colors[t])return _o.string_colors[t];var e=null;return"none"!==t&&((e=bo.parseCSSColor(t))&&4===e.length?(e[0]/=255,e[1]/=255,e[2]/=255):e=_o.defaults.color),_o.string_colors[t]=e},_o.evalCachedColorProperty=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.dynamic){var n=t.dynamic(e);return"string"==typeof n&&(n=_o.colorForString(n)),n&&null==n[3]&&(n[3]=1),n}if(t.static)return t.static;if(t.zoom&&t.zoom[e.zoom])return t.zoom[e.zoom];if("function"==typeof t.value){t.dynamic=t.value;var r=t.dynamic(e);return"string"==typeof r&&(r=_o.colorForString(r)),r&&null==r[3]&&(r[3]=1),r}if("string"==typeof t.value)return t.static=_o.colorForString(t.value),t.static;if(t.zoom){if(!t.zoom_preprocessed){for(var i=0;i<t.value.length;i++){var o=t.value[i];o&&"string"==typeof o[1]&&(o[1]=_o.colorForString(o[1]))}t.zoom_preprocessed=!0}return t.zoom[e.zoom]=Ai.interpolate(e.zoom,t.value),t.zoom[e.zoom][3]=t.zoom[e.zoom][3]||1,t.zoom[e.zoom]}return t.static=t.value.map((function(t){return t})),t.static&&null==t.static[3]&&(t.static[3]=1),t.static},_o.parseColor=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof t&&(t=t(e)),"string"==typeof t)t=_o.colorForString(t);else if(Array.isArray(t)&&Array.isArray(t[0])){for(var n=0;n<t.length;n++){var r=t[n];"string"==typeof r[1]&&(r[1]=_o.colorForString(r[1]))}e.zoom&&(t=Ai.interpolate(e.zoom,t))}return Array.isArray(t)?null==(t=t.map((function(t){return t})))[3]&&(t[3]=1):t=[0,0,0,1],t},_o.calculateOrder=function(t,e){return"function"==typeof t?t=t(e):"string"==typeof t&&(t=e.feature.properties[t]?e.feature.properties[t]:mo(t)),t},_o.evalProperty=function(t,e){return"function"==typeof t?t(e):t};var To=function(){function t(e,n){mr(this,t),this.key=e,this.repeat_dist=n,this.repeat_dist_sq=this.repeat_dist*this.repeat_dist,this.positions=[]}return _r(t,[{key:"check",value:function(t){for(var e=t.position,n=0;n<this.positions.length;n++){var r=this.positions[n],i=e[0]-r[0],o=e[1]-r[1],a=i*i+o*o;if(a<this.repeat_dist_sq)return{dist_sq:a,repeat_dist_sq:this.repeat_dist_sq}}}},{key:"add",value:function(t){t&&t.position&&this.positions.push(t.position)}}],[{key:"clear",value:function(t){this.groups[t]={}}},{key:"check",value:function(t,e,n){if(e.repeat_distance&&e.repeat_group&&this.groups[n][e.repeat_group])return this.groups[n][e.repeat_group].check(t)}},{key:"add",value:function(e,n,r){n.repeat_distance&&n.repeat_group&&(null==this.groups[r][n.repeat_group]&&(this.groups[r][n.repeat_group]=new t(n.repeat_group,n.repeat_distance*n.repeat_scale)),this.groups[r][n.repeat_group].add(e))}}]),t}();To.groups={};var Ao=function(){function t(e,n,r){mr(this,t);var i=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(n/r);for(var a=0;a<this.xCellCount*this.yCellCount;a++)i.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=n,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return _r(t,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"insertCircle",value:function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)}},{key:"insertCircleList",value:function(t,e){for(var n=0;n<e.length-2;n+=3)this.insertCircle("".concat(t,"/").concat(n),e[n],e[n+1],e[n+2])}},{key:"_insertBoxCell",value:function(t,e,n,r,i,o){this.boxCells[i].push(o)}},{key:"_insertCircleCell",value:function(t,e,n,r,i,o){this.circleCells[i].push(o)}},{key:"_query",value:function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],h=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-h,y1:c-h,x2:u+h,y2:c+h})}return o?a.filter(o):a}var f={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,n,r,this._queryCell,a,f,o),i?0<a.length:a}},{key:"_queryCircle",value:function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[],c={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,l,this._queryCellCircle,u,c,i),r?0<u.length:u}},{key:"query",value:function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)}},{key:"hitTest",value:function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)}},{key:"hitTestCircle",value:function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)}},{key:"hitTestCircleList",value:function(t,e){for(var n=0;n<t.length-2;n+=3)if(this.hitTestCircle(t[n],t[n+1],t[n+2],e))return!0;return!1}},{key:"_queryCell",value:function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u){var c,h=this.bboxes,f=Dr(u);try{for(f.s();!(c=f.n()).done;){var p=c.value;if(!l.box[p]){l.box[p]=!0;var d=4*p;if(t<=h[2+d]&&e<=h[3+d]&&n>=h[0+d]&&r>=h[1+d]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[p],x1:h[d],y1:h[1+d],x2:h[2+d],y2:h[3+d]})}}}}catch(t){f.e(t)}finally{f.f()}}var v=this.circleCells[i];if(null!==v){var g,y=this.circles,m=Dr(v);try{for(m.s();!(g=m.n()).done;){var b=g.value;if(!l.circle[b]){l.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(y[_],y[1+_],y[2+_],t,e,n,r)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return o.push(!0),!0;var x=y[_],w=y[1+_],k=y[2+_];o.push({key:this.circleKeys[b],x1:x-k,y1:w-k,x2:x+k,y2:w+k})}}}}catch(t){m.e(t)}finally{m.f()}}}},{key:"_queryCellCircle",value:function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c){var h,f=this.bboxes,p=Dr(c);try{for(p.s();!(h=p.n()).done;){var d=h.value;if(!u.box[d]){u.box[d]=!0;var v=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,f[0+v],f[1+v],f[2+v],f[3+v])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}}catch(t){p.e(t)}finally{p.f()}}var g=this.circleCells[i];if(null!==g){var y,m=this.circles,b=Dr(g);try{for(b.s();!(y=b.n()).done;){var _=y.value;if(!u.circle[_]){u.circle[_]=!0;var x=3*_;if(this._circlesCollide(m[x],m[1+x],m[2+x],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[_])))return o.push(!0),!0}}}catch(t){b.e(t)}finally{b.f()}}}},{key:"_forEachCell",value:function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r),f=l;f<=c;f++)for(var p=u;p<=h;p++){var d=this.xCellCount*p+f;if(i.call(this,t,e,n,r,d,o,a,s))return}}},{key:"_convertToXCellCoord",value:function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}},{key:"_convertToYCellCoord",value:function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}},{key:"_circlesCollide",value:function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return a*a+s*s<l*l}},{key:"_circleAndRectCollide",value:function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(s+n<l)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(u+n<c)return!1;if(l<=s||c<=u)return!0;var h=l-s,f=c-u;return h*h+f*f<=n*n}}]),t}(),Oo=function(t,e,n,r){var i;if(r&&(i=function(t){return t!==r.id}),!e){if("point"===t.type&&!t.angle){var o=t.getAABB(),a=o.left,s=o.top,l=o.right,u=o.bottom;if(n.hitTest(a,-s,l,-u,i)){if(Array.isArray(t.layout.anchor))for(var c=1;c<t.layout.anchor.length;c++){t.setAnchor(t.layout.anchor[c]);var h=t.getAABB(),f=h.left,p=h.top,d=h.right,v=h.bottom;if(!n.hitTest(f,-p,d,-v,i))return!1}return!0}return!1}var g=t.getBoundingCircles();return n.hitTestCircleList(g,i)}if(e){if("point"===t.type&&!t.isFlat()){var y=t.getScreenSpaceBoundingBox(),m=y.left,b=y.top,_=y.right,x=y.bottom;return n.hitTest(m,b,_,x,i)}var w=t.getBoundingCircles();return n.hitTestCircleList(w,i)}return!1},Mo={tiles:{},startTile:function(t,e){var n=1<arguments.length&&void 0!==e?e:{},r=n.apply_repeat_groups,i=void 0===r||r,o=n.return_hidden,a=void 0!==o&&o,s=n.grid_index,l=void 0===s?null:s,u=this.tiles[t]={grid_index:l||new Ao(ei.tile_scale,ei.tile_scale,240),objects:{},labels:{},styles:{},repeat:i,return_hidden:a};null==u.complete&&(u.complete=new Promise((function(t,e){u.resolve=t,u.reject=e})))},resetTile:function(t){delete this.tiles[t]},abortTile:function(t){this.tiles[t]&&this.tiles[t].resolve&&this.tiles[t].resolve([]),this.resetTile(t)},addStyle:function(t,e){this.tiles[e].styles[t]=!0},collide:function(t,e,n){var r=this.tiles[n];if(!r)return Promise.resolve([]);for(var i=r.objects,o=0;o<t.length;o++){var a=t[o],s=a.label.layout.priority;i[s]=i[s]||{},i[s][e]=i[s][e]||[],i[s][e].push(a)}return delete r.styles[e],0===Object.keys(r.styles).length&&this.endTile(n),r.complete.then((function(){return r.resolve=null,r.labels[e]||[]}))},endTile:function(t){var e=this.tiles[t],n=e.labels;e.repeat&&To.clear(t);for(var r=Object.keys(e.objects).sort((function(t,e){return t-e})),i=0;i<r.length;i++){var o=e.objects[r[i]];if(o)for(var a in o){var s=o[a];n[a]=n[a]||[];for(var l=0;l<s.length;l++){var u=s[l];this.canBePlaced(u,t,u.linked,e)?u.linked?this.canBePlaced(u.linked,t,u,e)?(u.show=!0,(u.label.breach||u.linked.label.breach)&&(u.label.breach=!0,u.linked.label.breach=!0),n[a].push(u),this.place(u,t,e),this.place(u.linked,t,e)):e.return_hidden&&(u.show=!1,n[a].push(u)):(u.show=!0,n[a].push(u),this.place(u,t,e)):e.return_hidden&&(u.show=!1,n[a].push(u))}}}delete this.tiles[t],e.resolve()},canBePlaced:function(t,e,n,r){var i=2<arguments.length&&void 0!==n?n:null,o=(3<arguments.length&&void 0!==r?r:{}).repeat,a=void 0===o||o,s=t.label,l=t.label.layout;if(null!==s.placed)return s.placed;var u=this.tiles[e].grid_index;if(l.collide&&Oo(s,"main"===e,u,i&&i.label))l.collide&&(s.placed=!1);else{if(!a||!To.check(s,l,e))return!0;s.placed=!1}return s.placed},place:function(t,e,n){var r=t.label,i=n.repeat,o=void 0===i||i;null===r.placed&&(o&&To.add(r,r.layout,e),function(t,e,n){var r,i,o,a,s,l,u,c,h,f,p,d,v=t.id;t.placed=!0,e||("point"!==t.type||t.angle?(r=t.getBoundingCircles(),n.insertCircleList(v,r)):(o=(i=t.getAABB()).left,a=i.top,s=i.right,l=i.bottom,n.insert(v,o,-a,s,-l))),e&&("point"!==t.type||t.isFlat()?(u=t.getBoundingCircles(),n.insertCircleList(v,u)):(h=(c=t.getScreenSpaceBoundingBox()).left,f=c.top,p=c.right,d=c.bottom,n.insert(v,h,f,p,d)))}(r,"main"===e,this.tiles[e].grid_index))}},Co={id:0,queue:[],max_time:20,start_time:null,state:{},ignore_user_moving_view:!1,_ignoreViewMoveWithDebounce:Ti((function(){Co.ignore_user_moving_view=!0}),0,500),add:function(t){t.id=Co.id++,t.max_time=t.max_time||Co.max_time,t.pause_factor=t.pause_factor||1;var e=new Promise((function(e,n){t.resolve=e,t.reject=n}));return t.promise=e,t.total_elapsed=0,t.stats={calls:0},this.queue.push(t),this.start_time=this.start_time||performance.now(),this.elapsed=performance.now()-this.start_time,this.elapsed<Co.max_time&&this.process(t),t.promise},remove:function(t){var e=this.queue.indexOf(t);-1<e&&this.queue.splice(e,1)},process:function(t){if(!this.state.user_moving_view||!1!==t.user_moving_view||this.ignore_user_moving_view)return t.pause?(t.pause--,!0):(t.stats.calls++,t.start_time=performance.now(),t.run(t));Co._ignoreViewMoveWithDebounce()},processAll:function(){this.start_time=this.start_time||performance.now(),this.ignore_user_moving_view&&!this.hasPendingTasks()&&(this.ignore_user_moving_view=!1);for(var t=0;t<this.queue.length;t++){var e=this.queue[t];if(!0!==this.process(e)&&(e.pause||(e.pause=e.elapsed>e.max_time?e.pause_factor:0),e.total_elapsed+=e.elapsed),this.elapsed=performance.now()-this.start_time,this.elapsed>=Co.max_time){this.start_time=null;break}}},finish:function(t,e){return t.elapsed=performance.now()-t.start_time,t.total_elapsed+=t.elapsed,this.remove(t),t.resolve(e),t.promise},cancel:function(t){var e;t.cancel instanceof Function&&(e=t.cancel(t)),t.resolve(e||{})},shouldContinue:function(t){return t.elapsed=performance.now()-t.start_time,this.elapsed=performance.now()-this.start_time,t.elapsed<t.max_time&&this.elapsed<Co.max_time},removeForTile:function(t){for(var e=this.queue.length-1;0<=e;e--)this.queue[e].tile_id===t&&(this.cancel(this.queue[e]),this.queue.splice(e,1))},setState:function(t){this.state=t},hasPendingTasks:function(){return!!this.queue.length}};function jo(t){return{coords:t.coords,uid:t.uid,filtering:t.filtering,sprites:t.sprites,url:t.url,element:t.element,data:t.data,width:t.width,height:t.height,density:t.density,repeat:t.repeat,TEXTURE_WRAP_S:t.TEXTURE_WRAP_S,TEXTURE_WRAP_T:t.TEXTURE_WRAP_T,UNPACK_FLIP_Y_WEBGL:t.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:t.UNPACK_PREMULTIPLY_ALPHA_WEBGL}}var Io=function(){function t(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};mr(this,t),i=jo(i),this.gl=e,this.texture=e.createTexture(),this.texture&&(this.valid=!0),this.manager=r,this.bind(),this.name=n,this.retain_count=0,this.config_type=null,this.loading=null,this.loaded=!1,this.filtering=i.filtering,this.density=i.density||1,this.sprites=i.sprites,this.texcoords={},this.sizes={},this.css_sizes={},this.aspects={},this._byte_length=0,this.setData(1,1,new Uint8Array([0,0,0,0]),{filtering:"nearest"}),this.loaded=!1,this.manager.textures[this.name]&&(this.retain_count=this.manager.textures[this.name].retain_count,this.manager.textures[this.name].retain_count=0,this.manager.textures[this.name].destroy()),(this.manager.textures[this.name]=this).manager.texture_configs[this.name]=JSON.stringify(Object.assign({name:n},i)),this.load(i),Si("trace","creating Texture ".concat(this.name))}return _r(t,[{key:"destroy",value:function(t){var e=(0<arguments.length&&void 0!==t?t:{}).force;0<this.retain_count&&!e?Si("error","Texture '".concat(this.name,"': destroying texture with retain count of '").concat(this.retain_count,"'")):this.valid&&(this.gl.deleteTexture(this.texture),this.texture=null,delete this.data,this.data=null,delete this.manager.textures[this.name],delete this.manager.texture_configs[this.name],this.valid=!1,this._byte_length=0,Si("trace","destroying Texture ".concat(this.name)))}},{key:"retain",value:function(){this.retain_count++}},{key:"release",value:function(){this.retain_count<=0&&Si("error","Texture '".concat(this.name,"': releasing texture with retain count of '").concat(this.retain_count,"'")),this.retain_count--,this.retain_count<=0&&this.destroy()}},{key:"bind",value:function(t){var e=0<arguments.length&&void 0!==t?t:0;this.valid&&(this.manager.activeUnit!==e&&(this.gl.activeTexture(this.gl.TEXTURE0+e),this.manager.activeUnit=e,this.manager.boundTexture=null),this.manager.boundTexture!==this.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.manager.boundTexture=this.texture))}},{key:"load",value:function(t){var e=this;return t?(this.loading=null,"string"==typeof t.url?(this.config_type="url",this.setUrl(t.url,t)):t.element?(this.config_type="element",this.setElement(t.element,t)):t.data&&t.width&&t.height&&(this.config_type="data",this.setData(t.width,t.height,t.data,t)),this.loading=this.loading&&this.loading.then((function(){return e.calculateSprites(),e}))||Promise.resolve(this),this.loading):this.loading||Promise.resolve(this)}},{key:"setUrl",value:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:{};if(this.valid)return this.url=t,this.loading=new Promise((function(t,e){var i=new Image;i.onload=function(){try{n.setElement(i,r)}catch(e){n.loaded=!1,Si("warn","Texture '".concat(n.name,"': failed to load url: '").concat(n.url,"'"),e,r),n.manager.trigger("warning",{message:"Failed to load texture from ".concat(n.url),error:e,texture:r})}n.loaded=!0,t(n)},i.onerror=function(e){n.loaded=!1,Si("warn","Texture '".concat(n.name,"': failed to load url: '").concat(n.url,"'"),e,r),n.manager.trigger("warning",{message:"Failed to load texture from ".concat(n.url),error:e,texture:r}),t(n)},Ai.isSafari()&&"data:"===n.url.slice(0,5)||(i.crossOrigin="anonymous"),i.src=n.url})),this.loading}},{key:"setData",value:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:{};return this.width=t,this.height=e,Array.isArray(n)&&(n=new Uint8Array(n)),this.update(n,i),this.setFiltering(i),this.loaded=!0,this.loading=Promise.resolve(this),this.loading}},{key:"setElement",value:function(t,e){var n,r=t;return"string"==typeof t&&(t=document.querySelector(t)),t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof HTMLVideoElement?(this.update(t,e),this.setFiltering(e)):(this.loaded=!1,n="the 'element' parameter (`element: ".concat(JSON.stringify(r),"`) must be a CSS "),n+="selector string, or a <canvas>, <image> or <video> object",Si("warn","Texture '".concat(this.name,"': ").concat(n),e),this.manager.trigger("warning",{message:"Failed to load texture because ".concat(n),texture:e})),this.loaded=!0,this.loading=Promise.resolve(this),this.loading}},{key:"update",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};this.valid&&(this.bind(),t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof HTMLImageElement&&t.complete?(this.width=t.width,this.height=t.height,this._byte_length=this.width*this.height*4,this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1!==n.UNPACK_FLIP_Y_WEBGL),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.UNPACK_PREMULTIPLY_ALPHA_WEBGL||!1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t)):(this._byte_length=t?t.byteLength:0,this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t)),this.manager.trigger("update",this))}},{key:"getByteLength",value:function(){return this._byte_length}},{key:"setFiltering",value:function(t){var e,n=0<arguments.length&&void 0!==t?t:{};this.valid&&(n.filtering=n.filtering||"linear",e=this.gl,this.bind(),Ai.isPowerOf2(this.width)&&Ai.isPowerOf2(this.height)?(this.power_of_2=!0,e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n.TEXTURE_WRAP_S||n.repeat&&e.REPEAT||e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n.TEXTURE_WRAP_T||n.repeat&&e.REPEAT||e.CLAMP_TO_EDGE),"mipmap"===n.filtering?(this.filtering="mipmap",e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D)):"linear"===n.filtering?(this.filtering="linear",e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)):"nearest"===n.filtering&&(this.filtering="nearest",e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST))):(this.power_of_2=!1,e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),"nearest"===n.filtering?(this.filtering="nearest",e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)):(this.filtering="linear",e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR))),this.manager.trigger("update",this))}},{key:"calculateSprites",value:function(){if(this.sprites)for(var t in this.sprites){var e=this.sprites[t];this.texcoords[t]=this.manager.getTexcoordsForSprite([e[0],e[1]],[e[2],e[3]],[this.width,this.height]),this.sizes[t]=[e[2],e[3]],this.css_sizes[t]=[e[2]/this.density,e[3]/this.density],this.aspects[t]=e[2]/e[3]}}}]),t}();function Po(t){var e=[];return Object.assign(t,{subscribe:function(t){-1===e.indexOf(t)&&e.push(t)},unsubscribe:function(t){var n=e.indexOf(t);-1<n&&e.splice(n,1)},unsubscribeAll:function(){e=[]},trigger:function(t){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.forEach((function(e){if("function"==typeof e[t])try{e[t].apply(e,r)}catch(e){Si("warn","Caught exception in listener for event '".concat(t,"':"),e)}}))},hasSubscribersFor:function(t){var n=!1;return e.forEach((function(e){"function"==typeof e[t]&&(n=!0)})),n}})}var Ro=function(){function t(e){mr(this,t),this.default=t.DEFAULT_TEXTURE_NAME,this.textures={},this.texture_configs={},this.boundTexture=null,this.activeUnit=null,this.scene_id=e,hi.addTarget("Texture"+this.scene_id,this),Po(this)}return _r(t,[{key:"create",value:function(e,n,r){for(var i=t.matchers_,o=0;o<i.length;o++){var a=i[o][0],s=i[o][1];if(s&&s(r))return new a(e,n,this,r)}return new Io(e,n,this,r)}},{key:"retain",value:function(t){this.textures[t]&&this.textures[t].retain()}},{key:"release",value:function(t){this.textures[t]&&this.textures[t].release()}},{key:"getRetainCount",value:function(t){if(this.textures[t])return this.textures[t].retain_count}},{key:"getByteLength",value:function(t){if(this.textures[t])return this.textures[t].getByteLength()}},{key:"destroy",value:function(t){var e=this;Object.keys(this.textures).forEach((function(n){var r=e.textures[n];n!==e.default&&r.gl===t&&r.destroy({force:!0})}))}},{key:"getSpriteInfo",value:function(t,e){var n=this.textures[t];return n&&{size:n.sizes[e],css_size:n.css_sizes[e],aspect:n.aspects[e],texcoords:n.texcoords[e]}}},{key:"getTexcoordsForSprite",value:function(t,e,n){var r=n[1]-t[1]-e[1];return[t[0]/n[0],r/n[1],(e[0]+t[0])/n[0],(e[1]+r)/n[1]]}},{key:"createFromObject",value:function(t,e){var n=[];if(e)for(var r in e){var i,o=e[r];this.changed(r,o)&&(i=this.create(t,r,o),n.push(i.loading))}return Promise.all(n)}},{key:"createDefault",value:function(t){return this.create(t,this.default)}},{key:"changed",value:function(t,e){var n=this.textures[t];if(n){if("element"===n.config_type||null!=e.element)return!0;if(e=jo(e),this.texture_configs[t]===JSON.stringify(Object.assign({name:t},e)))return!1}return!0}},{key:"getInfo",value:function(t){var e=this;if(t=t||Object.keys(this.textures),Array.isArray(t))return Promise.all(t.map((function(t){return e.getInfo(t)})));var n=this.textures[t];return n?(n.loading||Promise.resolve(n)).then((function(){return{name:n.name,width:n.width,height:n.height,density:n.density,sprites:n.sprites,texcoords:n.texcoords,sizes:n.sizes,css_sizes:n.css_sizes,aspects:n.aspects,filtering:n.filtering,power_of_2:n.power_of_2,valid:n.valid}})):Promise.resolve(null)}},{key:"syncTexturesToWorker",value:function(t){var e=this;return ci.is_main?Promise.all(t.map((function(t){var n=e.textures[t];return n&&n.loading||Promise.resolve()}))).then((function(){return e.textures})):hi.postMessage("Texture"+this.scene_id+".getInfo",t).then((function(t){return t.forEach((function(t){e.textures[t.name]=t})),e.textures}))}},{key:"getMaxTextureSize",value:function(t){return t.getParameter(t.MAX_TEXTURE_SIZE)}}],[{key:"register",value:function(e,n){var r=t.matchers_;if(!(e instanceof Function&&n instanceof Function))throw"Invalid texture constructor or matcher";this.deRegister(e),r.push([e,n])}},{key:"deRegister",value:function(e){for(var n=t.matchers_,r=0;r<n.length;r++)n[r][0]===e&&n.splice(r,1)}}]),t}();Ro.DEFAULT_TEXTURE_NAME="__default",Ro.matchers_=[];var Lo={};function No(t){return Lo[t]||(Lo[t]=new Ro(t)),Lo[t]}var Do=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},zo=function(t,e,n){var r=new Float64Array(3);return r[0]=t,r[1]=e,r[2]=n,r},Fo=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},Bo=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],g=e[14],y=e[15],m=n*s-r*a,b=n*l-i*a,_=n*u-o*a,x=r*l-i*s,w=r*u-o*s,k=i*u-o*l,E=c*v-h*d,S=c*g-f*d,T=c*y-p*d,A=h*g-f*v,O=h*y-p*v,M=f*y-p*g,C=m*M-b*O+_*A+x*T-w*S+k*E;return C?(C=1/C,t[0]=(s*M-l*O+u*A)*C,t[1]=(l*T-a*M-u*S)*C,t[2]=(a*O-s*T+u*E)*C,t[3]=(i*O-r*M-o*A)*C,t[4]=(n*M-i*T+o*S)*C,t[5]=(r*T-n*O-o*E)*C,t[6]=(v*k-g*w+y*x)*C,t[7]=(g*_-d*k-y*b)*C,t[8]=(d*w-v*_+y*m)*C,t):null},Ho=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,f=-c*o+s*l,p=u*o-a*l,d=n*h+r*f+i*p;return d?(d=1/d,t[0]=h*d,t[1]=(-c*r+i*u)*d,t[2]=(s*r-i*a)*d,t[3]=f*d,t[4]=(c*n-i*l)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-u*n+r*l)*d,t[8]=(a*n-r*o)*d,t):null},Uo=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],v=e[12],g=e[13],y=e[14],m=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*h+w*v,t[1]=b*i+_*l+x*f+w*g,t[2]=b*o+_*u+x*p+w*y,t[3]=b*a+_*c+x*d+w*m,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*h+w*v,t[5]=b*i+_*l+x*f+w*g,t[6]=b*o+_*u+x*p+w*y,t[7]=b*a+_*c+x*d+w*m,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*h+w*v,t[9]=b*i+_*l+x*f+w*g,t[10]=b*o+_*u+x*p+w*y,t[11]=b*a+_*c+x*d+w*m,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*h+w*v,t[13]=b*i+_*l+x*f+w*g,t[14]=b*o+_*u+x*p+w*y,t[15]=b*a+_*c+x*d+w*m,t},Vo=function(t,e,n){var r,i,o,a,s,l,u,c,h,f,p,d,v=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*y+e[12],t[13]=e[1]*v+e[5]*g+e[9]*y+e[13],t[14]=e[2]*v+e[6]*g+e[10]*y+e[14],t[15]=e[3]*v+e[7]*g+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=r*v+s*g+h*y+e[12],t[13]=i*v+l*g+f*y+e[13],t[14]=o*v+u*g+p*y+e[14],t[15]=a*v+c*g+d*y+e[15]),t},Go=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},qo=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},Yo=function(t,e,n,r){var i,o,a,s,l,u,c,h,f,p,d=e[0],v=e[1],g=e[2],y=r[0],m=r[1],b=r[2],_=n[0],x=n[1],w=n[2];return Math.abs(d-_)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(g-w)<1e-6?Do(t):(c=d-_,h=v-x,f=g-w,i=m*(f*=p=1/Math.sqrt(c*c+h*h+f*f))-b*(h*=p),o=b*(c*=p)-y*f,a=y*h-m*c,(p=Math.sqrt(i*i+o*o+a*a))?(i*=p=1/p,o*=p,a*=p):a=o=i=0,s=h*a-f*o,l=f*i-c*a,u=c*o-h*i,(p=Math.sqrt(s*s+l*l+u*u))?(s*=p=1/p,l*=p,u*=p):u=l=s=0,t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=l,t[6]=h,t[7]=0,t[8]=a,t[9]=u,t[10]=f,t[11]=0,t[12]=-(i*d+o*v+a*g),t[13]=-(s*d+l*v+u*g),t[14]=-(c*d+h*v+f*g),t[15]=1,t)},Wo=Do,Zo=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Xo=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],g=e[14],y=e[15],m=n*s-r*a,b=n*l-i*a,_=n*u-o*a,x=r*l-i*s,w=r*u-o*s,k=i*u-o*l,E=c*v-h*d,S=c*g-f*d,T=c*y-p*d,A=h*g-f*v,O=h*y-p*v,M=f*y-p*g,C=m*M-b*O+_*A+x*T-w*S+k*E;return C?(C=1/C,t[0]=(s*M-l*O+u*A)*C,t[1]=(i*O-r*M-o*A)*C,t[2]=(v*k-g*w+y*x)*C,t[3]=(f*w-h*k-p*x)*C,t[4]=(l*T-a*M-u*S)*C,t[5]=(n*M-i*T+o*S)*C,t[6]=(g*_-d*k-y*b)*C,t[7]=(c*k-f*_+p*b)*C,t[8]=(a*O-s*T+u*E)*C,t[9]=(r*T-n*O-o*E)*C,t[10]=(d*w-v*_+y*m)*C,t[11]=(h*_-c*w-p*m)*C,t[12]=(s*S-a*A-l*E)*C,t[13]=(n*A-r*S+i*E)*C,t[14]=(v*b-d*x-g*m)*C,t[15]=(c*x-h*b+f*m)*C,t):null},Ko=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},$o=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return 0<a&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},Jo=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},Qo=0,ta=0,ea=function(){function t(e){var n=e.coords,r=e.style_zoom,i=e.source,o=e.worker,a=e.view,s=e.sceneId;mr(this,t),this.textureManager=No(s),this.id=Qo++,this.worker=o,this.view=a,this.source=i,this.generation=null,this.valid=!0,this.proxy_for=null,this.proxy_depth=0,this.proxied_as=null,this.fade_in=!0,this.loading=!1,this.loaded=!1,this.built=!1,this.labeled=!1,this.error=null,this.style_zoom=r,this.coords=t.normalizedCoordinate(n,this.source,this.style_zoom),this.key=t.key(this.coords,this.source,this.style_zoom),this.overzoom=Math.max(this.style_zoom-this.coords.z,0),this.overzoom2=Math.pow(2,this.overzoom),this.min=ei.metersForTile(this.coords),this.max=ei.metersForTile({x:this.coords.x+1,y:this.coords.y+1,z:this.coords.z}),this.span={x:this.max.x-this.min.x,y:this.max.y-this.min.y},this.bounds={sw:{x:this.min.x,y:this.max.y},ne:{x:this.max.x,y:this.min.y}},this.center_dist=0,this.meters_per_pixel=ei.metersPerPixel(this.style_zoom),this.meters_per_pixel_sq=this.meters_per_pixel*this.meters_per_pixel,this.units_per_pixel=ei.units_per_pixel/this.overzoom2,this.units_per_meter_overzoom=ei.unitsPerMeter(this.coords.z)*this.overzoom2,this.meshes={},this.new_mesh_styles=[]}return _r(t,[{key:"freeResources",value:function(){for(var t in this.meshes)this.meshes[t].forEach((function(t){return t.destroy()}));this.meshes={}}},{key:"destroy",value:function(){Co.removeForTile(this.id),this.workerMessage("self.removeTile",this.id),this.freeResources(),this.worker=null,this.valid=!1}},{key:"buildAsMessage",value:function(){return{id:this.id,key:this.key,source:this.source.name,coords:this.coords,min:this.min,max:this.max,units_per_pixel:this.units_per_pixel,meters_per_pixel:this.meters_per_pixel,meters_per_pixel_sq:this.meters_per_pixel_sq,units_per_meter_overzoom:this.units_per_meter_overzoom,style_zoom:this.style_zoom,overzoom:this.overzoom,overzoom2:this.overzoom2,generation:this.generation}}},{key:"workerMessage",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return hi.postMessage.apply(hi,[this.worker].concat(e))}},{key:"build",value:function(t,e){var n=(1<arguments.length&&void 0!==e?e:{}).fade_in,r=void 0===n||n;return this.generation=t,this.fade_in=r,this.loaded||(this.loading=!0,this.built=!1,this.labeled=!1),this.workerMessage("self.buildTile",{tile:this.buildAsMessage()})}},{key:"buildMeshes",value:function(t,e){if(!this.error){this.build_id=ta++;var n={},r=this.mesh_data;if(r)for(var i in r){for(var o in r[i].meshes){var a=r[i].meshes[o];if(a.vertex_data){if(!t[i]){Si("warn","Could not create mesh because style '".concat(i,"' not found, for tile ").concat(this.key,", aborting tile"));break}var s=Object.assign({},r[i]);s.uniforms=Object.assign({},s.uniforms,a.uniforms),s.variant=a.variant,a.textures&&(s.textures=a.textures),a.labels&&(s.retain=!0);var l=t[i].makeMesh(a.vertex_data,a.vertex_elements,s);l.variant=s.variant,l.labels=a.labels,n[i]=n[i]||[],n[i].push(l),null==l.variant.order&&(l.variant.order=n[i].length-1)}}n[i]&&n[i].sort((function(t,e){var n=t.variant.order,r=e.variant.order;return null!=n&&(null==r||n<r)?-1:1}))}for(var u in delete this.mesh_data,n)this.meshes[u]&&this.meshes[u].forEach((function(t){return t.destroy()})),this.meshes[u]=n[u],this.new_mesh_styles.push(u);if(e.done){for(var c in this.meshes)-1===this.new_mesh_styles.indexOf(c)&&(this.meshes[c].forEach((function(t){return t.destroy()})),delete this.meshes[c]);this.new_mesh_styles=[]}}}},{key:"setProxyFor",value:function(t){t?(this.proxy_for=this.proxy_for||[],this.proxy_for.push(t),this.proxy_depth=1,t.proxied_as=t.style_zoom>this.style_zoom?"child":"parent"):(this.proxy_for=null,this.proxy_depth=0)}},{key:"isProxy",value:function(){return null!=this.proxy_for}},{key:"shouldProxyForStyle",value:function(t){return!this.proxy_for||this.proxy_for.some((function(e){return null==e.meshes[t]}))}},{key:"setupProgram",value:function(t,e){var n=t.model,r=t.model32;e.uniform("4fv","u_tile_origin",[this.min.x,this.min.y,this.style_zoom,this.coords.z]),e.uniform("1f","u_tile_proxy_depth",this.proxy_depth),Wo(n),Vo(n,n,zo(this.min.x,this.min.y,0)),Go(n,n,zo(this.span.x/ei.tile_scale,-1*this.span.y/ei.tile_scale,1)),Zo(r,n),e.uniform("Matrix4fv","u_model",r),e.uniform("1i","u_tile_fade_in",this.fade_in&&"child"!==this.proxied_as)}},{key:"merge",value:function(t){return this.loading=t.loading,this.loaded=t.loaded,this.generation=t.generation,this.error=t.error,this.mesh_data=t.mesh_data,this.selection_data?Object.assign(this.selection_data,t.selection_data):this.selection_data=t.selection_data,this}}],[{key:"coord",value:function(e){return{x:e.x,y:e.y,z:e.z,key:t.coordKey(e)}}},{key:"coordKey",value:function(t){return t.x+"/"+t.y+"/"+t.z}},{key:"key",value:function(t,e,n){if(!(t.y<0||t.y>=1<<t.z||t.z<0))return[e.name,n,t.x,t.y,t.z].join("/")}},{key:"normalizedKey",value:function(e,n,r){return t.key(t.normalizedCoordinate(e,n,r),n,r)}},{key:"normalizedCoordinate",value:function(e,n){return n.zoom_bias&&(e=t.coordinateAtZoom(e,Math.max(0,e.z-n.zoom_bias))),t.coordinateWithMaxZoom(e,n.max_zoom)}},{key:"coordinateAtZoom",value:function(e,n){var r,i=e.x,o=e.y,a=e.z;return a!==n&&(r=Math.pow(2,a-n),i=Math.floor(i/r),o=Math.floor(o/r),a=n),t.coord({x:i,y:o,z:a})}},{key:"coordinateWithMaxZoom",value:function(e,n){var r=e.x,i=e.y,o=e.z;return void 0!==n&&n<o?t.coordinateAtZoom({x:r,y:i,z:o},n):t.coord({x:r,y:i,z:o})}},{key:"childrenForCoordinate",value:function(e){var n=e.x,r=e.y,i=e.z,o=e.key;return t.coord_children[o]||(i++,n*=2,r*=2,t.coord_children[o]=[t.coord({x:n,y:r,z:i}),t.coord({x:n+1,y:r,z:i}),t.coord({x:n,y:r+1,z:i}),t.coord({x:n+1,y:r+1,z:i})]),t.coord_children[o]}},{key:"isDescendant",value:function(e,n){if(n.z>e.z){var r=t.coordinateAtZoom(n,e.z),i=r.x,o=r.y;return e.x===i&&e.y===o}return!1}},{key:"cancel",value:function(e){e&&(e.canceled=!0,e.source_data&&e.source_data.request_id&&(Ai.cancelRequest(e.source_data.request_id),e.source_data.request_id=null),t.abortBuild(e))}},{key:"buildGeometry",value:function(e,n){var r=n.scene_id,i=n.layers,o=n.styles,a=n.global,s=n.sources,l=e.source_data;for(var u in Mo.startTile(e.id,{apply_repeat_groups:!0}),i){var c=i[u];if(c&&c.config_data){if(c.config_data.source===e.source)for(var h=t._getDataForSource(l,c.config_data,u),f=0;f<h.length;f++){var p=h[f],d=p.geom;if(d)for(var v=0;v<d.features.length;v++){var g=d.features[v];if(null!=g.geometry){var y=_o.getFeatureParseContext(g,e,a,s);y.winding=e.default_winding,y.source=e.source,y.layer=p.layer;var m=c.buildDrawGroups(y,!0);if(m)for(var b in m){var _=m[b],x=_.style||b,w=o[x];w?null!=(_=w.preprocess(_,e.source))&&!1!==_.visible&&(y.layers=_.layers,w.addFeature(g,_,y)):Si("warn","Style '".concat(x,"' not found, skipping layer '").concat(u,"':"),_,g)}}}}}else Si("warn","Layer ".concat(u," was defined without a geometry data source and will not be rendered."))}var k=t._stylesForTile(e,o);t._sendStyleGroups(e,k,{scene_id:r},(function(t){return t.collision?"collision":"non-collision"}))}},{key:"_stylesForTile",value:function(t,e){var n=[];for(var r in e)e[r].hasDataForTile(t)&&n.push(e[r]);return n}},{key:"_sendStyleGroups",value:function(e,n,r,i){var o=r.scene_id,a={};n.forEach((function(t){var e=i(t);a[e]=a[e]||[],a[e].push(t)})),0<Object.keys(a).length?function(){var n={start:!0};for(var r in e.mesh_data={},a)!function(r){var i=a[r];Promise.all(i.map((function(t){return t.endData(e)}))).then((function(){Si("trace","Finished style group '".concat(r,"' for tile ").concat(e.key)),a[r]=[],Object.keys(a).every((function(t){return 0===a[t].length}))&&(n.done=!0),hi.postMessage("TileManager_".concat(o,".buildTileStylesCompleted"),hi.withTransferables({tile:t.slice(e,["mesh_data","selection_data"]),progress:n})),n.start=null,e.mesh_data={},e.selection_data={},n.done&&Mo.resetTile(e.id)}),(function(t){Si("error","Error for style group '".concat(r,"' for tile ").concat(e.key),t)}))}(r)}():(hi.postMessage("TileManager_".concat(o,".buildTileStylesCompleted"),hi.withTransferables({tile:t.slice(e),progress:{start:!0,done:!0}})),Mo.resetTile(e.id))}},{key:"_getDataForSource",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null,i=[];return null!=e&&null!=t&&null!=t.layers&&(!e.layer&&t.layers._default||"string"==typeof e.layer&&!t.layers[e.layer]&&new RegExp("^\\d+_"+e.layer+"$").test(r)&&t.layers._default?i.push({geom:t.layers._default}):!e.layer&&r?i.push({layer:r,geom:t.layers[r]}):"string"==typeof e.layer?i.push({layer:e.layer,geom:t.layers[e.layer]}):Array.isArray(e.layer)&&e.layer.forEach((function(e){t.layers[e]&&t.layers[e].features&&i.push({layer:e,geom:t.layers[e]})}))),i}},{key:"abortBuild",value:function(t,e){if(Co.removeForTile(t.id),Mo.abortTile(t.id),t.mesh_data)for(var n in t.mesh_data){var r=t.mesh_data[n].textures;r&&r.forEach((function(n){var r=No(e).textures[n];r&&(Si("trace","releasing texture ".concat(n," for tile ").concat(t.key)),r.release())}))}}},{key:"slice",value:function(t,e){var n=["id","key","loading","loaded","generation","error","debug"];Array.isArray(e)&&n.push.apply(n,Rr(e));for(var r={},i=0;i<n.length;i++){var o=n[i];r[o]=t[o]}return r}}]),t}();ea.coord_children={};var na,ra=function(){Er(e,zi);var t=jr(e);function e(n,r){var i;return mr(this,e),-1===(i=t.call(this,n,r)).rasters.indexOf(i.name)&&i.rasters.unshift(i.name),i.filtering=n.filtering,i.textures={},i}return _r(e,[{key:"load",value:function(t){t.source_data={},t.source_data.layers={},t.pad_scale=this.pad_scale,t.rasters=Rr(this.rasters);var e=ei.tile_scale;return t.source_data.layers={_default:{type:"FeatureCollection",features:[{geometry:{type:"Polygon",coordinates:[[[0,0],[e,0],[e,-e],[0,-e],[0,0]]]},properties:{}}]}},t.default_winding="CW",Promise.resolve(t)}},{key:"tileTexture",value:function(t){var e,n,r=t.coords.key;return this.textures[r]||(e=ea.coordinateWithMaxZoom(t.coords,this.max_zoom),n=this.formatUrl(this.url,{coords:e}),this.textures[r]={url:n,filtering:this.filtering,coords:e}),this.textures[r]}}]),e}();Li.register(ra,"Raster");var ia=na={};function oa(t,e,n,r){for(var i,o=r,a=n-e>>1,s=n-e,l=t[e],u=t[e+1],c=t[n],h=t[n+1],f=e+3;f<n;f+=3){var p,d=function(t,e,n,r,i,o){var a,s=i-n,l=o-r;return 0===s&&0===l||(1<(a=((t-n)*s+(e-r)*l)/(s*s+l*l))?(n=i,r=o):0<a&&(n+=s*a,r+=l*a)),(s=t-n)*s+(l=e-r)*l}(t[f],t[f+1],l,u,c,h);o<d?(i=f,o=d):d!==o||(p=Math.abs(f-a))<s&&(i=f,s=p)}r<o&&(3<i-e&&oa(t,e,i,r),t[i+2]=o,3<n-i&&oa(t,i,n,r))}function aa(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)sa(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)sa(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)sa(t,e[r][i])}(i),i}function sa(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function la(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)ua(n,t.features[r],e,r);else"Feature"===t.type?ua(n,t,e):ua(n,{geometry:t},e);return n}function ua(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)ca(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)ca(i[u],s);else if("LineString"===o)ha(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)s=[],ha(i[u],s,a,!1),t.push(aa(l,"LineString",s,e.properties));return}fa(i,s,a,!1)}else if("Polygon"===o)fa(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"!==o)throw new Error("Input data is not a valid GeoJSON object.");for(u=0;u<e.geometry.geometries.length;u++)ua(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}for(u=0;u<i.length;u++){var c=[];fa(i[u],c,a,!0),s.push(c)}}t.push(aa(l,o,s,e.properties))}}function ca(t,e){e.push(pa(t[0])),e.push(da(t[1])),e.push(0)}function ha(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=pa(t[s][0]),u=da(t[s][1]);e.push(l),e.push(u),e.push(0),0<s&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,oa(e,0,c,n),e[2+c]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function fa(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];ha(t[i],o,n,r),e.push(o)}}function pa(t){return t/360+.5}function da(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function va(t,e,n,r,i,o,a,s){if(r/=e,(n/=e)<=o&&a<r)return t;if(a<n||r<=o)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],h=c.geometry,f=c.type,p=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(n<=p&&d<r)l.push(c);else if(!(d<n||r<=p)){var v=[];if("Point"===f||"MultiPoint"===f)!function(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];n<=a&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}(h,v,n,r,i);else if("LineString"===f)ga(h,v,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)ma(h,v,n,r,i,!1);else if("Polygon"===f)ma(h,v,n,r,i,!0);else if("MultiPolygon"===f)for(var g=0;g<h.length;g++){var y=[];ma(h[g],y,n,r,i,!0),y.length&&v.push(y)}if(v.length){if(s.lineMetrics&&"LineString"===f){for(g=0;g<v.length;g++)l.push(aa(c.id,f,v[g],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===v.length?(f="LineString",v=v[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===v.length?"Point":"MultiPoint"),l.push(aa(c.id,f,v,c.tags))}}}return l.length?l:null}function ga(t,e,n,r,i,o,a){for(var s,l,u=ya(t),c=0===i?_a:xa,h=t.start,f=0;f<t.length-3;f+=3){var p=t[f],d=t[f+1],v=t[f+2],g=t[f+3],y=t[f+4],m=0===i?p:d,b=0===i?g:y,_=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(d-y,2))),m<n?n<b&&(l=c(u,p,d,g,y,n),a&&(u.start=h+s*l)):r<m?b<r&&(l=c(u,p,d,g,y,r),a&&(u.start=h+s*l)):ba(u,p,d,v),b<n&&n<=m&&(l=c(u,p,d,g,y,n),_=!0),r<b&&m<=r&&(l=c(u,p,d,g,y,r),_=!0),!o&&_&&(a&&(u.end=h+s*l),e.push(u),u=ya(t)),a&&(h+=s)}var x=t.length-3;p=t[x],d=t[x+1],v=t[x+2],n<=(m=0===i?p:d)&&m<=r&&ba(u,p,d,v),x=u.length-3,o&&3<=x&&(u[x]!==u[0]||u[x+1]!==u[1])&&ba(u,u[0],u[1],u[2]),u.length&&e.push(u)}function ya(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ma(t,e,n,r,i,o){for(var a=0;a<t.length;a++)ga(t[a],e,n,r,i,o,!1)}function ba(t,e,n,r){t.push(e),t.push(n),t.push(r)}function _a(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function xa(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function wa(t,e){var n=e.buffer/e.extent,r=t,i=va(t,1,-1-n,n,0,-1,2,e),o=va(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=va(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=ka(i,1).concat(r)),o&&(r=r.concat(ka(o,-1)))),r}function ka(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=Ea(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(Ea(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(Ea(o.geometry[s][u],e));i.push(l)}n.push(aa(o.id,a,i,o.tags))}return n}function Ea(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function Sa(t,e){if(t.transformed)return t;for(var n,r=1<<t.z,i=t.x,o=t.y,a=0;a<t.features.length;a++){var s=t.features[a],l=s.geometry,u=s.type;if(s.geometry=[],1===u)for(n=0;n<l.length;n+=2)s.geometry.push(Ta(l[n],l[n+1],e,r,i,o));else for(n=0;n<l.length;n++){for(var c=[],h=0;h<l[n].length;h+=2)c.push(Ta(l[n][h],l[n][h+1],e,r,i,o));s.geometry.push(c)}}return t.transformed=!0,t}function Ta(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function Aa(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,function(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)Oa(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Oa(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Oa(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var h in c={},e.tags)c[h]=e.tags[h];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var f={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(f.id=e.id),t.features.push(f)}}(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,h=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function Oa(t,e,n,r,i,o){var a=r*r;if(0<r&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(0<n===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}var Ma={maxZoom:14,tolerance:3,extent:4096,buffer:64,lineMetrics:!(na.deepClone=function(t){return Array.isArray(t)?t.map(na.deepClone):t}),promoteId:null,generateId:!1};function Ca(t,e,n,r,i){var o=Object.assign({},Ma,i),a=la(t,o),s=function(t){var e,n=2,r=-1,i=1,o=0,a=Dr(t);try{for(a.s();!(e=a.n()).done;){var s=e.value;s.minX<n&&(n=s.minX),s.maxX>r&&(r=s.maxX),s.minY<i&&(i=s.minY),s.maxY>o&&(o=s.maxY)}}catch(t){a.e(t)}finally{a.f()}return{minX:n,maxX:r,minY:i,maxY:o}}(a=wa(a,o)),l=s.minX,u=s.minY,c=s.maxX,h=s.maxY,f=1<<e,p=o.buffer/o.extent,d=1+p;return a=va(a,f,n-p,n+d,0,l,c,o)||[],Sa(Aa(a=va(a,f,r-p,r+d,1,u,h,o)||[],e,n,r,o),o.extent)}function ja(t,e){this.items=[],this.algorithm=t;var n=void 0===(e=e||{}).sort||e.sort;this.sort=n}ja.prototype={addItem:function(t){this.items.push(t)},normalizeCoordinates:function(){var t=this.items,e=1/0,n=1/0;t.forEach((function(t){var r=t;e=Math.min(e,r.x),n=Math.min(n,r.y)})),t.forEach((function(t){var r=t;r.x-=e,r.y-=n}))},getStats:function(){var t=this.items.map((function(t){return t})),e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=t.map((function(t){return t.x+t.width})),i=t.map((function(t){return t.y+t.height}));return{minX:Math.max.apply(Math,e),minY:Math.max.apply(Math,n),maxX:Math.max.apply(Math,r),maxY:Math.max.apply(Math,i)}},getItems:function(){return this.items},processItems:function(){var t=this.items;return this.sort&&(t=this.algorithm.sort(t)),t=this.algorithm.placeItems(t),this.items=t},exportItems:function(){return this.processItems(),this.normalizeCoordinates(),this.items},export:function(){var t=this.exportItems(),e=this.getStats();return{height:e.maxY,width:e.maxX,items:t}}};var Ia=ja,Pa=[],Ra=[],La="undefined"!=typeof Uint8Array?Uint8Array:Array,Na=!1;function Da(){Na=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Pa[e]=t[e],Ra[t.charCodeAt(e)]=e;Ra["-".charCodeAt(0)]=62,Ra["_".charCodeAt(0)]=63}function za(t,e,n){for(var r,i,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(Pa[(i=r)>>18&63]+Pa[i>>12&63]+Pa[i>>6&63]+Pa[63&i]);return o.join("")}function Fa(t){var e;Na||Da();for(var n=t.length,r=n%3,i="",o=[],a=0,s=n-r;a<s;a+=16383)o.push(za(t,a,s<a+16383?s:a+16383));return 1==r?(e=t[n-1],i+=Pa[e>>2],i+=Pa[e<<4&63],i+="=="):2==r&&(e=(t[n-2]<<8)+t[n-1],i+=Pa[e>>10],i+=Pa[e>>4&63],i+=Pa[e<<2&63],i+="="),o.push(i),o.join("")}function Ba(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;0<c;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)}function Ha(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(e+=1<=a+h?f/l:f*Math.pow(2,1-h))*l&&(a++,l/=2),c<=a+h?(s=0,a=c):1<=a+h?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));8<=i;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;t[n+p]=255&a,p+=d,a/=256,u-=8);t[n+p-d]|=128*v}var Ua={}.toString,Va=Array.isArray||function(t){return"[object Array]"==Ua.call(t)};Wa.TYPED_ARRAY_SUPPORT=void 0===Kr.TYPED_ARRAY_SUPPORT||Kr.TYPED_ARRAY_SUPPORT;var Ga=qa();function qa(){return Wa.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ya(t,e){if(qa()<e)throw new RangeError("Invalid typed array length");return Wa.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Wa.prototype:(null===t&&(t=new Wa(e)),t.length=e),t}function Wa(t,e,n){if(!(Wa.TYPED_ARRAY_SUPPORT||this instanceof Wa))return new Wa(t,e,n);if("number"!=typeof t)return Za(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Ka(this,t)}function Za(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Wa.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Wa.prototype:t=$a(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!Wa.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|ts(e,n),i=(t=Ya(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(Qa(e)){var n=0|Ja(e.length);return 0===(t=Ya(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?Ya(t,0):$a(t,e);if("Buffer"===e.type&&Va(e.data))return $a(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Xa(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Ka(t,e){if(Xa(e),t=Ya(t,e<0?0:0|Ja(e)),!Wa.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function $a(t,e){var n=e.length<0?0:0|Ja(e.length);t=Ya(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function Ja(t){if(t>=qa())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qa().toString(16)+" bytes");return 0|t}function Qa(t){return null!=t&&t._isBuffer}function ts(t,e){if(Qa(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ys(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ms(t).length;default:if(r)return ys(t).length;e=(""+e).toLowerCase(),r=!0}}function es(t,e,n){var r,i,o,a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;++o)i+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[o]);return i}(this,e,n);case"utf8":case"utf-8":return ss(this,e,n);case"ascii":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":return r=this,o=n,0===(i=e)&&o===r.length?Fa(r):Fa(r.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,e,n);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function ns(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function rs(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=Wa.from(e,r)),Qa(e))return 0===e.length?-1:is(t,e,n,r,i);if("number"==typeof e)return e&=255,Wa.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):is(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function is(t,e,n,r,i){var o=1,a=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a/=o=2,s/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i)for(var u=-1,c=n;c<a;c++)if(l(t,c)===l(e,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===s)return u*o}else-1!==u&&(c-=c-u),u=-1;else for(a<n+s&&(n=a-s),c=n;0<=c;c--){for(var h=!0,f=0;f<s;f++)if(l(t,c+f)!==l(e,f)){h=!1;break}if(h)return c}return-1}function os(t,e,n,r){return bs(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function as(t,e,n,r){return bs(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function ss(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,u=t[i],c=null,h=239<u?4:223<u?3:191<u?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[i+1]))&&127<(l=(31&u)<<6|63&o)&&(c=l);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,h=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=ls)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=ls));return n}(r)}Wa.poolSize=8192,Wa._augment=function(t){return t.__proto__=Wa.prototype,t},Wa.from=function(t,e,n){return Za(null,t,e,n)},Wa.TYPED_ARRAY_SUPPORT&&(Wa.prototype.__proto__=Uint8Array.prototype,Wa.__proto__=Uint8Array),Wa.alloc=function(t,e,n){return r=null,o=e,a=n,Xa(i=t),i<=0||void 0===o?Ya(r,i):"string"==typeof a?Ya(r,i).fill(o,a):Ya(r,i).fill(o);var r,i,o,a},Wa.allocUnsafe=function(t){return Ka(null,t)},Wa.allocUnsafeSlow=function(t){return Ka(null,t)},Wa.isBuffer=_s,Wa.compare=function(t,e){if(!Qa(t)||!Qa(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Wa.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Wa.concat=function(t,e){if(!Va(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Wa.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var n=Wa.allocUnsafe(e),r=0,i=0;i<t.length;++i){var o=t[i];if(!Qa(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},Wa.byteLength=ts,Wa.prototype._isBuffer=!0,Wa.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ns(this,e,e+1);return this},Wa.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ns(this,e,e+3),ns(this,e+1,e+2);return this},Wa.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ns(this,e,e+7),ns(this,e+1,e+6),ns(this,e+2,e+5),ns(this,e+3,e+4);return this},Wa.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?ss(this,0,t):es.apply(this,arguments)},Wa.prototype.equals=function(t){if(!Qa(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Wa.compare(this,t)},Wa.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},Wa.prototype.compare=function(t,e,n,r,i){if(!Qa(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),u=t.slice(e,n),c=0;c<s;++c)if(l[c]!==u[c]){o=l[c],a=u[c];break}return o<a?-1:a<o?1:0},Wa.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Wa.prototype.indexOf=function(t,e,n){return rs(this,t,e,n,!0)},Wa.prototype.lastIndexOf=function(t,e,n){return rs(this,t,e,n,!1)},Wa.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||i<n)&&(n=i),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,l,u=!1;;)switch(r){case"hex":return function(t,e,n,r){n=Number(n)||0;var i=t.length-n;(!r||i<(r=Number(r)))&&(r=i);var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}(this,t,e,n);case"utf8":case"utf-8":return s=e,l=n,bs(ys(t,this.length-s),this,s,l);case"ascii":return os(this,t,e,n);case"latin1":case"binary":return os(this,t,e,n);case"base64":return o=e,a=n,bs(ms(t),this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return as(this,t,e,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},Wa.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ls=4096;function us(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function cs(t,e,n,r,i,o){if(!Qa(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function hs(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function fs(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function ps(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ds(t,e,n,r,i){return i||ps(t,0,n,4),Ha(t,e,n,r,23,4),n+4}function vs(t,e,n,r,i){return i||ps(t,0,n,8),Ha(t,e,n,r,52,8),n+8}Wa.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),Wa.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=Wa.prototype;else for(var r=e-t,i=new Wa(r,void 0),o=0;o<r;++o)i[o]=this[o+t];return i},Wa.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||us(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Wa.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||us(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},Wa.prototype.readUInt8=function(t,e){return e||us(t,1,this.length),this[t]},Wa.prototype.readUInt16LE=function(t,e){return e||us(t,2,this.length),this[t]|this[t+1]<<8},Wa.prototype.readUInt16BE=function(t,e){return e||us(t,2,this.length),this[t]<<8|this[t+1]},Wa.prototype.readUInt32LE=function(t,e){return e||us(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Wa.prototype.readUInt32BE=function(t,e){return e||us(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Wa.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||us(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},Wa.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||us(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},Wa.prototype.readInt8=function(t,e){return e||us(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Wa.prototype.readInt16LE=function(t,e){e||us(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Wa.prototype.readInt16BE=function(t,e){e||us(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Wa.prototype.readInt32LE=function(t,e){return e||us(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Wa.prototype.readInt32BE=function(t,e){return e||us(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Wa.prototype.readFloatLE=function(t,e){return e||us(t,4,this.length),Ba(this,t,!0,23,4)},Wa.prototype.readFloatBE=function(t,e){return e||us(t,4,this.length),Ba(this,t,!1,23,4)},Wa.prototype.readDoubleLE=function(t,e){return e||us(t,8,this.length),Ba(this,t,!0,52,8)},Wa.prototype.readDoubleBE=function(t,e){return e||us(t,8,this.length),Ba(this,t,!1,52,8)},Wa.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||cs(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Wa.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||cs(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+n},Wa.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,1,255,0),Wa.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Wa.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,2,65535,0),Wa.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):hs(this,t,e,!0),e+2},Wa.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,2,65535,0),Wa.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):hs(this,t,e,!1),e+2},Wa.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,4,4294967295,0),Wa.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):fs(this,t,e,!0),e+4},Wa.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,4,4294967295,0),Wa.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):fs(this,t,e,!1),e+4},Wa.prototype.writeIntLE=function(t,e,n,r){var i;t=+t,e|=0,r||cs(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},Wa.prototype.writeIntBE=function(t,e,n,r){var i;t=+t,e|=0,r||cs(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,a=1,s=0;for(this[e+o]=255&t;0<=--o&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},Wa.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,1,127,-128),Wa.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Wa.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,2,32767,-32768),Wa.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):hs(this,t,e,!0),e+2},Wa.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,2,32767,-32768),Wa.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):hs(this,t,e,!1),e+2},Wa.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,4,2147483647,-2147483648),Wa.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):fs(this,t,e,!0),e+4},Wa.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||cs(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Wa.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):fs(this,t,e,!1),e+4},Wa.prototype.writeFloatLE=function(t,e,n){return ds(this,t,e,!0,n)},Wa.prototype.writeFloatBE=function(t,e,n){return ds(this,t,e,!1,n)},Wa.prototype.writeDoubleLE=function(t,e,n){return vs(this,t,e,!0,n)},Wa.prototype.writeDoubleBE=function(t,e,n){return vs(this,t,e,!1,n)},Wa.prototype.copy=function(t,e,n,r){if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;0<=i;--i)t[i+e]=this[i+n];else if(o<1e3||!Wa.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Wa.prototype.fill=function(t,e,n,r){if("string"==typeof t){var i;if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==t.length||(i=t.charCodeAt(0))<256&&(t=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Wa.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else for(var o=Qa(t)?t:ys(new Wa(t,r).toString()),a=o.length,s=0;s<n-e;++s)this[s+e]=o[s%a];return this};var gs=/[^+\/0-9A-Za-z-_]/g;function ys(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,n<128){if(--e<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function ms(t){return function(t){var e,n,r,i;Na||Da();var o=t.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");r="="===t[o-2]?2:"="===t[o-1]?1:0,i=new La(3*o/4-r),e=0<r?o-4:o;for(var a=0,s=0;s<e;s+=4,0)n=Ra[t.charCodeAt(s)]<<18|Ra[t.charCodeAt(s+1)]<<12|Ra[t.charCodeAt(s+2)]<<6|Ra[t.charCodeAt(s+3)],i[a++]=n>>16&255,i[a++]=n>>8&255,i[a++]=255&n;return 2==r?(n=Ra[t.charCodeAt(s)]<<2|Ra[t.charCodeAt(s+1)]>>4,i[a++]=255&n):1==r&&(n=Ra[t.charCodeAt(s)]<<10|Ra[t.charCodeAt(s+1)]<<4|Ra[t.charCodeAt(s+2)]>>2,i[a++]=n>>8&255,i[a++]=255&n),i}(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(gs,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function bs(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function _s(t){return null!=t&&(!!t._isBuffer||xs(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&xs(e.slice(0,0)));var e}function xs(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var ws=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:Ga,Buffer:Wa,SlowBuffer:function(t){return+t!=t&&(t=0),Wa.alloc(+t)},isBuffer:_s});Kr.setTimeout,Kr.clearTimeout,Kr.performance;var ks="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};function Es(t,e){var n={seen:[],stylize:Ts};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),Cs(e)?n.showHidden=e:e&&function(t,e){if(e&&Ls(e))for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]]}(n,e),Ps(n.showHidden)&&(n.showHidden=!1),Ps(n.depth)&&(n.depth=2),Ps(n.colors)&&(n.colors=!1),Ps(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Ss),As(n,t,n.depth)}function Ss(t,e){var n=Es.styles[e];return n?"\x1b["+Es.colors[n][0]+"m"+t+"\x1b["+Es.colors[n][1]+"m":t}function Ts(t,e){return t}function As(t,e,n){if(t.customInspect&&e&&zs(e.inspect)&&e.inspect!==Es&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return Is(r)||(r=As(t,r,n)),r}var i=function(t,e){if(Ps(e))return t.stylize("undefined","undefined");if(Is(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return"number"==typeof e?t.stylize(""+e,"number"):Cs(e)?t.stylize(""+e,"boolean"):js(e)?t.stylize("null","null"):void 0}(t,e);if(i)return i;var o,a=Object.keys(e),s=(o={},a.forEach((function(t,e){o[t]=!0})),o);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),Ds(e)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return Os(e);if(0===a.length){if(zs(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(Rs(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ns(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Ds(e))return Os(e)}var u,c,h="",f=!1,p=["{","}"];return u=e,Array.isArray(u)&&(f=!0,p=["[","]"]),zs(e)&&(h=" [Function"+(e.name?": "+e.name:"")+"]"),Rs(e)&&(h=" "+RegExp.prototype.toString.call(e)),Ns(e)&&(h=" "+Date.prototype.toUTCString.call(e)),Ds(e)&&(h=" "+Os(e)),0!==a.length||f&&0!=e.length?n<0?Rs(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=f?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)Hs(e,String(a))?o.push(Ms(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(Ms(t,e,n,r,i,!0))})),o}(t,e,n,s,a):a.map((function(r){return Ms(t,e,n,s,r,f)})),t.seen.pop(),function(t,e,n){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,h,p)):p[0]+h+p[1]}function Os(t){return"["+Error.prototype.toString.call(t)+"]"}function Ms(t,e,n,r,i,o){var a,s,l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]};if(l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),Hs(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?-1<(s=js(n)?As(t,l.value,null):As(t,l.value,n-1)).indexOf("\n")&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),Ps(a)){if(o&&i.match(/^\d+$/))return s;a=(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(a,"string"))}return a+": "+s}function Cs(t){return"boolean"==typeof t}function js(t){return null===t}function Is(t){return"string"==typeof t}function Ps(t){return void 0===t}function Rs(t){return Ls(t)&&"[object RegExp]"===Bs(t)}function Ls(t){return"object"==typeof t&&null!==t}function Ns(t){return Ls(t)&&"[object Date]"===Bs(t)}function Ds(t){return Ls(t)&&("[object Error]"===Bs(t)||t instanceof Error)}function zs(t){return"function"==typeof t}function Fs(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Bs(t){return Object.prototype.toString.call(t)}function Hs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Us(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}Es.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Es.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Vs,Gs=Object.prototype.hasOwnProperty,qs=Object.keys||function(t){var e=[];for(var n in t)Gs.call(t,n)&&e.push(n);return e},Ys=Array.prototype.slice;function Ws(){return void 0!==Vs?Vs:Vs="foo"===function(){}.name}function Zs(t){return Object.prototype.toString.call(t)}function Xs(t){if(!_s(t)&&"function"==typeof Kr.ArrayBuffer){if("function"==typeof ArrayBuffer.isView)return ArrayBuffer.isView(t);if(t)return t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)}}function Ks(t,e){t||nl(t,!0,e,"==",rl)}var $s=/\s*function\s+([^\(\s]*)\s*/;function Js(t){if(zs(t)){if(Ws())return t.name;var e=t.toString().match($s);return e&&e[1]}}function Qs(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=tl(el(this.actual),128)+" "+this.operator+" "+tl(el(this.expected),128),this.generatedMessage=!0);var e,n,r,i,o,a=t.stackStartFunction||nl;Error.captureStackTrace?Error.captureStackTrace(this,a):(e=new Error).stack&&(o=e.stack,n=Js(a),0<=(r=o.indexOf("\n"+n))&&(i=o.indexOf("\n",r+1),o=o.substring(i+1)),this.stack=o)}function tl(t,e){return"string"!=typeof t||t.length<e?t:t.slice(0,e)}function el(t){if(Ws()||!zs(t))return Es(t);var e=Js(t);return"[Function"+(e?": "+e:"")+"]"}function nl(t,e,n,r,i){throw new Qs({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function rl(t,e){t||nl(t,!0,e,"==",rl)}function il(t,e,n,r){if(t===e)return!0;if(_s(t)&&_s(e))return 0===Us(t,e);if(Ns(t)&&Ns(e))return t.getTime()===e.getTime();if(Rs(t)&&Rs(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(Xs(t)&&Xs(e)&&Zs(t)===Zs(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===Us(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(_s(t)!==_s(e))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(Fs(t)||Fs(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=ol(t),o=ol(e);if(i&&!o||!i&&o)return!1;if(i)return il(t=Ys.call(t),e=Ys.call(e),n);var a,s,l=qs(t),u=qs(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;0<=s;s--)if(l[s]!==u[s])return!1;for(s=l.length-1;0<=s;s--)if(!il(t[a=l[s]],e[a],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function ol(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function al(t,e){if(t&&e){if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return 1}catch(t){}if(!Error.isPrototypeOf(e))return!0===e.call({},t)}}function sl(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&nl(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&i&&!n;if((!t&&Ds(i)&&o&&al(i,n)||a)&&nl(i,n,"Got unwanted exception"+r),t&&i&&n&&!al(i,n)||!t&&i)throw i}function ll(){}ks(Ks.AssertionError=Qs,Error),Ks.fail=nl,Ks.ok=rl,Ks.equal=function t(e,n,r){e!=n&&nl(e,n,r,"==",t)},Ks.notEqual=function t(e,n,r){e==n&&nl(e,n,r,"!=",t)},Ks.deepEqual=function t(e,n,r){il(e,n,!1)||nl(e,n,r,"deepEqual",t)},Ks.deepStrictEqual=function t(e,n,r){il(e,n,!0)||nl(e,n,r,"deepStrictEqual",t)},Ks.notDeepEqual=function t(e,n,r){il(e,n,!1)&&nl(e,n,r,"notDeepEqual",t)},Ks.notDeepStrictEqual=function t(e,n,r){il(e,n,!0)&&nl(e,n,r,"notDeepStrictEqual",t)},Ks.strictEqual=function t(e,n,r){e!==n&&nl(e,n,r,"===",t)},Ks.notStrictEqual=function t(e,n,r){e===n&&nl(e,n,r,"!==",t)},Ks.throws=function(t,e,n){sl(!0,t,e,n)},Ks.doesNotThrow=function(t,e,n){sl(!1,t,e,n)},Ks.ifError=function(t){if(t)throw t};var ul={sort:function(t){return t.sort((function(t,e){return Math.sqrt(Math.pow(t.height,2)+Math.pow(t.width,2))-Math.sqrt(Math.pow(e.height,2)+Math.pow(e.width,2))})),t},placeItems:function(t){var e=0,n=0;return t.forEach((function(t){t.x=e,t.y=n,e+=t.width,n+=t.height})),t}},cl={sort:function(t){return t.sort((function(t,e){return Math.sqrt(Math.pow(t.height,2)+Math.pow(t.width,2))-Math.sqrt(Math.pow(e.height,2)+Math.pow(e.width,2))})),t},placeItems:function(t){var e=0,n=0;return t.forEach((function(t){var r=t.width;t.x=e-r,t.y=n,e-=r,n+=t.height})),t}};ll.prototype={fit:function(t){var e,n,r,i,o=t.length,a=0<o?t[0].width:0,s=0<o?t[0].height:0;for(this.root={x:0,y:0,width:a,height:s},e=0;e<o;e++)r=t[e],i=(n=this.findNode(this.root,r.width,r.height))?this.splitNode(n,r.width,r.height):this.growNode(r.width,r.height),r.x=i.x,r.y=i.y},findNode:function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.width&&n<=t.height?t:null},splitNode:function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,width:t.width,height:t.height-n},t.right={x:t.x+e,y:t.y,width:t.width-e,height:n},t},growNode:function(t,e){var n=t<=this.root.width,r=e<=this.root.height,i=r&&this.root.height>=this.root.width+t,o=n&&this.root.width>=this.root.height+e;return i?this.growRight(t,e):o?this.growDown(t,e):r?this.growRight(t,e):n?this.growDown(t,e):null},growRight:function(t,e){var n;return this.root={used:!0,x:0,y:0,width:this.root.width+t,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:t,height:this.root.height}},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null},growDown:function(t,e){var n;return this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+e,down:{x:0,y:this.root.height,width:this.root.width,height:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null}};var hl=ll,fl={sort:function(t){return t},placeItems:function(t){return function(t,e){e=e||{};var n=new hl,r=e.inPlace||!1,i=(i=t.map((function(t){return r?t:{width:t.width,height:t.height,item:t}}))).sort((function(t,e){return e.width*e.height-t.width*t.height}));n.fit(i);var o={width:i.reduce((function(t,e){return Math.max(t,e.x+e.width)}),0),height:i.reduce((function(t,e){return Math.max(t,e.y+e.height)}),0)};r||(o.items=i)}(t,{inPlace:!0}),t}},pl={};function dl(t,e){var n=t||"top-down";return"string"==typeof n&&Ks(n=pl[t],"Sorry, the '"+t+"' algorithm could not be loaded."),new Ia(n,e)}function vl(t,e){pl[t]=e}dl.PackingSmith=Ia,dl.addAlgorithm=vl,dl.algorithms=pl,vl("top-down",{sort:function(t){return t.sort((function(t,e){return t.height-e.height})),t},placeItems:function(t){var e=0;return t.forEach((function(t){t.x=0,t.y=e,e+=t.height})),t}}),vl("left-right",{sort:function(t){return t.sort((function(t,e){return t.width-e.width})),t},placeItems:function(t){var e=0;return t.forEach((function(t){t.x=e,t.y=0,e+=t.width})),t}}),vl("diagonal",ul),vl("alt-diagonal",cl),vl("binary-tree",fl);var gl=dl;function yl(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if(n)for(var r in n){var i=n[r];null===i||"object"!==yr(i)||Array.isArray(i)?void 0!==i&&(t[r]=i):null===t[r]||"object"!==yr(t[r])||Array.isArray(t[r])?t[r]=yl({},i):t[r]=yl(t[r],i)}}return t}function ml(t){var e;try{t.getContext("2d").getImageData(0,0,1,1)}catch(t){e=t.message}return e}function bl(t,e,n){var r;return t instanceof HTMLImageElement&&((r=t.ownerDocument.createElement("canvas")).width=e,r.height=n,r.getContext("2d").drawImage(t,0,0,e,n),t=r),t}var _l=ei.metersToLatLng([ei.half_circumference_meters,ei.half_circumference_meters]),xl=Math.log(ei.tile_size)/Math.LN2,wl=function(){Er(e,Fi);var t=jr(e);function e(n,r){var i;return mr(this,e),i=t.call(this,n,r),ci.is_worker&&(i._quad_tree=new $r.H.geo.QuadTree,i._marker_quad_tree=new $r.H.geo.QuadTree,i._tree_entries_by_object_id={},i._groups_by_id={},i._layersCache=new $r.H.util.Cache(100)),ci.is_main&&(i._objects_by_id={},i._commands=[],i._sendCommands=Ti(i._sendCommands,100,200),i.dispatchUpdate=i.dispatchUpdate.bind(Cr(i))),i}return _r(e,[{key:"hasLabeledData",value:function(){return!1}},{key:"onReady",value:function(){this._synced_at=this.provider.getInvalidations().getMark();var t,e,n=this.provider.getRootGroup(),r=n.getObjects(!0),i=[];for(r.push(n),t=r.length;t--;)e=r[t],this._isObjectSupported(e)&&this._shouldBeStored(e)&&(this._objects_by_id[e.getId()]=e,i.push(e.forWorkerMessage()));var o=[{method_name:"addObjects",arguments:[i]}];this._sendImmediateCommands(o)}},{key:"onProviderUpdate",value:function(t){var e,n,r,i,o=t.target,a=t.currentTarget.getInvalidations(o.type);this._isObjectSupported(o)&&(e=this._synced_at,n=o.getId(),a.isRemove(e)?(delete this._objects_by_id[n],this._commands.push({method_name:"removeObjectsByIds",arguments:[[n],!0]})):a.isAdd(e)?this._shouldBeStored(o)&&(this._objects_by_id[n]=o,this._commands.push({method_name:"addObjects",arguments:[[o.forWorkerMessage()]]})):a.isSpatial(e)||a.isZOrder(e)?this._shouldBeStored(o)&&(r=[{method_name:"removeObjectsByIds",arguments:[[n],!0]},{method_name:"addObjects",arguments:[[(this._objects_by_id[n]=o).forWorkerMessage()]]}],this.has_volatile_data&&!this.hasPendingCommands()?this._sendImmediateCommands(r):this._commands.push(r[0],r[1])):a.isVisual(e)?this._shouldBeStored(o)&&(i={method_name:"updateObjectProperties",arguments:[(this._objects_by_id[n]=o).forWorkerMessage()]},this.has_volatile_data&&!this.hasPendingCommands()?this._sendImmediateCommands([i]):this._commands.push(i)):a.isVolatility(e)&&(delete this._objects_by_id[n],this._commands.push({method_name:"removeObjectsByIds",arguments:[[n],!0]}),this._shouldBeStored(o)&&(this._objects_by_id[n]=o,this._commands.push({method_name:"addObjects",arguments:[[o.forWorkerMessage()]]}))),this._commands.length&&this._sendCommands()),this._synced_at=a.getMark()}},{key:"_shouldBeStored",value:function(t){return 16===t.type||(!t.getIcon||1===t.getIcon().getState())&&this._hasSameVolatility(t)}},{key:"_hasSameVolatility",value:function(t){return t.getVolatility(!0)===this.has_volatile_data}},{key:"hasPendingCommands",value:function(){return 0<this._commands.length}},{key:"_sendCommands",value:function(){this._sendImmediateCommands(this._commands),this._commands=[]}},{key:"_sendImmediateCommands",value:function(t){t.length&&hi.postMessage(this.worker,this.target_name+".executeCommands",t).then(this.dispatchUpdate)}},{key:"_isObjectSupported",value:function(t){return t.forWorkerMessage&&8!==t.type}},{key:"getSyncedAt",value:function(){return this._synced_at}},{key:"getMapObjectById",value:function(t){return this._objects_by_id[t]}},{key:"getIconBitmapByObjectId",value:function(t,e){var n=this.getMapObjectById(t);if(n){var r=n.getIcon();if(r.uid===e&&1===r.getState()){var i=r.getSize();return bl(r.getBitmap(),i.w,i.h)}}}},{key:"_getRastersForMarkers",value:function(t){for(var e={},n=gl("binary-tree"),r=0;r<t.length;r++){var i=t[r],o=i.properties.icon;e[o.id]||(n.addItem({width:o.size.w,height:o.size.h,meta:{objectId:i.id,id:o.id}}),e[o.id]=!0)}return n.export()}},{key:"fetchFeaturesForTile",value:function(t){var n=[],r=[],i=[],o=[],a=[],s=this._marker_quad_tree.intersectBoundingBox(ei.getTileBoundingBox(t.coords,this.tile_size));t.source_data.error=null;for(var l=0;l<s.length;l++){var u={id:s[l].$feature$.id,properties:Object.assign({},s[l].$feature$.properties),geometry:{type:s[l].$feature$.geometry.type,coordinates:ia.deepClone(s[l].$feature$.geometry.coordinates)}};n.push(u)}s=this._quad_tree.intersectBoundingBox(ei.getTileBoundingBox(t.coords,this.tile_size,100));for(var c=0;c<s.length;c++){var h,f={id:s[c].$feature$.id,properties:Object.assign({},s[c].$feature$.properties),geometry:{type:s[c].$feature$.geometry.type,coordinates:ia.deepClone(s[c].$feature$.geometry.coordinates)}};f.properties.overlay?r.push(f):f.geometry.type.includes("LineString")?i.push(f):f.geometry.type.includes("Polygon")&&(o.push(f),h={id:f.id,properties:f.properties,geometry:{type:f.geometry.type,coordinates:ia.deepClone(f.geometry.coordinates)}},a.push(h))}n.sort(e._compareZInfo),o.sort(e._compareZInfo),r.sort(e._compareZInfo);var p=this.has_volatile_data?4096:0;a.sort(e._compareZInfo);for(var d=0;d<a.length;d++)a[d].properties.effectiveZIdx=p++;i.sort(e._compareZInfo);for(var v=0;v<i.length;v++)i[v].properties.effectiveZIdx=p++;t.source_data.layers.markers={type:"FeatureCollection",features:n},t.source_data.layers.polylines={type:"FeatureCollection",features:i},t.source_data.layers.polygons={type:"FeatureCollection",features:o},t.source_data.layers.outlines={type:"FeatureCollection",features:a},t.source_data.layers.overlays={type:"FeatureCollection",features:r}}},{key:"tileTexture",value:function(t){var e=t.source_data.layers.overlays;if(e){var n=this.name+"_"+t.coords.key,r=ea.coordinateWithMaxZoom(t.coords,this.max_zoom),i=e.features[0].properties.overlays_config;return{name:n,filtering:this.filtering,coords:r,width:ei.tile_size,height:ei.tile_size,overlays_config:i,source:this.name}}}},{key:"_load",value:function(t){var e=ei.wrapTile(t.coords,{x:!0}),n=e.z,r=e.x,i=e.y,o="".concat(n,"_").concat(r,"_").concat(i),a=this._layersCache.get(o),s=!1;if(a)t.source_data.layers=a;else{this.fetchFeaturesForTile(t);var l={maxZoom:this.max_zoom,tolerance:1.5,extent:ei.tile_scale},u=t.source_data.layers.overlays;u.features.length&&delete t.source_data.layers.overlays;var c=t.source_data.layers.markers;for(var h in c.features.length&&delete t.source_data.layers.markers,t.source_data.layers){var f,p=t.source_data.layers[h];p.features.length&&(l.buffer=h.includes("lines")?100*ei.units_per_pixel:0,f=Ca(p,n,r,i,l),t.source_data.layers[h]=co(f))}t.source_data.layers.overlays=this._processOverlays(t,u);for(var d=t.source_data.layers.overlays.features.length;d--;)if(!t.source_data.layers.overlays.features[d].id){s=!0,this._layersCache.drop(o);break}t.source_data.layers.markers=this._processMarkers(t,c),this._postProcessTile(t),s||this._layersCache.add(o,t.source_data.layers,1)}return t.rasters=this._getRastersForMarkers(t.source_data.layers.markers.features),Promise.resolve(t)}},{key:"_processMarkers",value:function(t,e){var n=e.features.length;if(n){for(var r=ei.unitsPerMeter(t.coords.z),i=ei.wrapTile(t.coords,{x:!0}),o=ei.metersForTile(i),a=ei.isLastTile(i),s=function(e){Li.coordsToMeters(e);var n=Pr(e,2),i=n[0],s=n[1],l=i>=t.min.x&&(a.column||i<t.max.x)&&s>=t.max.y&&(a.row||!t.coords.y||s<t.min.y);return Li.metersToTileUnits(r,o,e),l},l=[],u=0;u<n;u++){var c,h=e.features[u].geometry,f=!1;"Point"===h.type?s(c=h.coordinates)?h.coordinates=c:f=!0:"MultiPoint"===h.type&&(h.coordinates=h.coordinates.filter(s),0===h.coordinates.length&&(f=!0)),f||l.push(e.features[u])}e.features=l}return e}},{key:"_processOverlays",value:function(t,e){var n=this;if(!e.features.length)return e;var r={coords:t.coords,min:ei.metersForTile(ei.wrapTile(t.coords,{x:!0}))},i={coords:t.coords,source_data:{layers:{_default:{type:"FeatureCollection",features:e.features}}}},o=Math.pow(2,t.coords.z+xl);Fi.projectData(i.source_data),Fi.scaleData(i.source_data,r);var a=e.features.map((function(t){var e=t.geometry.coordinates[0],n=e[0],r=e[5===e.length?2:3],i=Math.floor(n[0]/ei.tile_scale*ei.tile_size),a=Math.floor(n[1]/ei.tile_scale*ei.tile_size),s=Math.floor(r[0]/ei.tile_scale*ei.tile_size),l=Math.floor(r[1]/ei.tile_scale*ei.tile_size)-a,u=s<=i,c=u?o-(i-s):s-i,h=[];return i<=ei.tile_size&&h.push([i,a,c,l]),u&&0<s&&h.push([i-o,a,c,l]),{id:t.id,properties:t.properties,texcoords:h}})).filter((function(e){return n._isVisible(e.properties)&&n.isInMinMaxRange(e.properties,t.style_zoom)})),s=ei.tile_scale;return t.pad_scale=this.pad_scale,t.default_winding="CW",e.features=a.length?[{geometry:{type:"Polygon",coordinates:[[[0,0],[s,0],[s,s],[0,s],[0,0]]]},properties:{overlays_config:a}}]:a,e}},{key:"executeCommands",value:function(t){for(var e,n=t.length<10,r=0;r<t.length;r++){var i=t[r];i.arguments.push(n);var o=this[i.method_name].apply(this,i.arguments);n&&(o&&e?e.mergeRect(o,!0,e):o&&(e=o))}return e?e.forWorkerMessage():void 0}},{key:"_getClampedGeoRectForFeature",value:function(t){var e=t.geometry.boundingBox;return new $r.H.geo.Rect(Qr.clamp(e[0],-_l[1],_l[1]),e[1],Qr.clamp(e[2],-_l[1],_l[1]),e[3])}},{key:"addObjects",value:function(t,n){for(var r,i=1<arguments.length&&void 0!==n&&n,o=0;o<t.length;o++){var a,s,l,u=t[o];"Group"===u.type?(u.$children_ids$={},this._groups_by_id[u.id]=u):(e._preprocessGeometry(u.geometry),a=this._getClampedGeoRectForFeature(u),i&&(r?r.mergeRect(a,!0,r):r=a),(l=(s=-1!==u.geometry.type.indexOf("Point")?this._marker_quad_tree:this._quad_tree).insertBoundingBox(a)).$tree=s,l.$feature$=u,this._tree_entries_by_object_id[u.id]=l)}for(var c=0;c<t.length;c++){var h=t[c];h.properties.parent&&(this._groups_by_id[h.properties.parent].$children_ids$[h.id]=h.id),h.properties.ref={effectiveVisibility:this._isVisible(h.properties),zInfo:this._getZInfo([],h)}}return this._layersCache.removeAll(),r}},{key:"removeObjectsByIds",value:function(t,e,n){for(var r,i=2<arguments.length&&void 0!==n&&n,o=0;o<t.length;o++){var a,s=t[o],l=void 0,u=void 0;(l=this._tree_entries_by_object_id[s])?(i&&(a=this._getClampedGeoRectForFeature(l.$feature$),r?r.mergeRect(a,!0,r):r=a),delete this._groups_by_id[l.$feature$.properties.parent].$children_ids$[s],l.$tree.remove(l),delete this._tree_entries_by_object_id[s]):(u=this._groups_by_id[s])&&(u.properties.parent&&delete this._groups_by_id[u.properties.parent].$children_ids$[s],e&&this.removeObjectsByIds(Object.keys(u.$children_ids$),!0),delete this._groups_by_id[s])}return this._layersCache.removeAll(),r}},{key:"updateObjectProperties",value:function(t,e){var n,r=1<arguments.length&&void 0!==e&&e;return"Group"===t.type?(yl(this._groups_by_id[t.id].properties,t.properties),this._groups_by_id[t.id].properties.ref.effectiveVisibility=this._isVisible(t.properties)):(this._tree_entries_by_object_id[t.id]||this.addObjects([t]),yl(this._tree_entries_by_object_id[t.id].$feature$.properties,t.properties),this._tree_entries_by_object_id[t.id].$feature$.properties.ref.effectiveVisibility=this._isVisible(t.properties),r&&(n=this._getClampedGeoRectForFeature(t))),n}},{key:"_getZInfo",value:function(t,e){var n=e.properties.zIdx,r=e.properties.sIdx;return t[0]|=void 0!==n,t.splice(1,0,n||0,r<0?e.id:r),0===e.properties.parent?t:this._getZInfo(t,this._groups_by_id[e.properties.parent])}},{key:"_isVisible",value:function(t){var e=t.visible,n=!t.parent||this._isVisible(this._groups_by_id[t.parent].properties);return e&&n}},{key:"isInMinMaxRange",value:function(t,e){var n=t.min<=e&&t.max>=e,r=!t.parent||this.isInMinMaxRange(this._groups_by_id[t.parent].properties,e);return n&&r}},{key:"dispose",value:function(){this._commands=[],Ir(Sr(e.prototype),"dispose",this).call(this)}}],[{key:"_compareZInfo",value:function(t,e){for(var n,r=t.properties.ref.zInfo,i=e.properties.ref.zInfo,o=r.length,a=i.length,s=Math.min(o,a),l=1;l<s;l++)if(n=r[l]-i[l])return n;return o-a}},{key:"_preprocessGeometry",value:function(t){var n=t.type;t.coordinates="Point"===n?e._processPointCoordinates(t.coordinates):"MultiPoint"===n?t.coordinates.map(e._processPointCoordinates):"LineString"===n?e._processLineStringCoordinates(t.coordinates):"MultiLineString"===n?t.coordinates.map(e._processLineStringCoordinates):"Polygon"===n?t.coordinates.map(e._processPolygonCoordinates):"MultiPolygon"===n?t.coordinates.map(e._processMultiPolygonCoordinates):[]}},{key:"_processPointCoordinates",value:function(t){return[t[1],t[0],t[2]]}},{key:"_processLineStringCoordinates",value:function(t){return e._latLngAltArrayToLineString(t,!1)}},{key:"_processPolygonCoordinates",value:function(t){return e._latLngAltArrayToLineString(t,!0)}},{key:"_processMultiPolygonCoordinates",value:function(t){return t.map(e._processPolygonCoordinates)}},{key:"_latLngAltArrayToLineString",value:function(t,e){for(var n=[],r=t.length,i=0;i<r;i+=3)n.push([t[i+1],t[i]]);return e&&n.push([t[1],t[0]]),n}}]),e}();Fi.register(wl,"ObjectSource");var kl=function(){function t(){mr(this,t),this._map={}}return _r(t,[{key:"set",value:function(t,e,n){var r;this._map[t]?this._map[t].accumulator.add(n):((r=new Set).add(n),this._map[t]={value:e,accumulator:r})}},{key:"get",value:function(t){return this._map[t]&&this._map[t].value}},{key:"delete",value:function(t,e){var n=this._map[t];n&&n.accumulator&&(n.accumulator.delete(e),0===n.accumulator.size&&delete this._map[t])}}]),t}(),El=function(){Er(e,Fi);var t=jr(e);function e(n,r){var i;return mr(this,e),i=t.call(this,n,r),ci.is_worker||(i._icons=new kl),i}return _r(e,[{key:"onProviderUpdate",value:function(t){t.target instanceof H.map.provider.Tile?this.dispatchUpdate(t.target,t.data):this.dispatchUpdate(void 0,t.data)}},{key:"onReady",value:function(){var t=this.provider;t.setTileCanvasRendering&&t.setTileCanvasRendering(!1),t.providesMarkers()&&(this._onCacheDrop=this._onCacheDrop.bind(this),t.getCache().registerOnDrop(this._onCacheDrop)),this.dispatchUpdate()}},{key:"dispose",value:function(){Ir(Sr(e.prototype),"dispose",this).call(this);var t=this.provider;t.providesMarkers()&&t.getCache().deRegisterOnDrop(this._onCacheDrop)}},{key:"_onCacheDrop",value:function(t,e){this.provider.cacheFilter(t)&&this._deleteIcons(t,e.data)}},{key:"_deleteIcons",value:function(t,e){for(var n=0,r=e.length;n<r;n++){var i=e[n].getIcon();this._icons.delete(i.uid,t)}}},{key:"getIconBitmapByObjectId",value:function(t,e){var n=this._icons.get(e);return n&&n.getBitmap()}},{key:"requestMarkerTile",value:function(t){var e=this;return new Promise((function(n,r){e.provider?e.provider.requestTileAsPromise(t.x,t.y,t.z,!1).then((function(t){var r,i,o=[];if(t.data)for(i=(r=t.data).length;i--;){var a=r[i],s=a.getIcon();e._icons.set(s.uid,s,t.key),o.push(a.forWorkerMessage())}n(o)})):n([])}))}},{key:"requestSpatialTile",value:function(t){var e=this;return new Promise((function(n,r){e.provider?e.provider.requestTileAsPromise(t.x,t.y,t.z,!1).then((function(t){var e,r=[];if(t.getObjects){e=t.getObjects();for(var i=0;i<e.length;i++){var o=e[i];r.push({id:o.getId(),geometries:o.getGeometriesForTile(t),isClosed:o.isClosed(),style:o.getStyle().forWorkerMessage()})}}n(r)})):n([])}))}},{key:"_pointToArray",value:function(t){var e=ei.tile_scale/this.tile_size;return[t.x*e,t.y*e]}},{key:"_getGeoJsonMultiPolygon",value:function(t){for(var e=t.geometries,n=e.length,r=[],i={coordinates:r,type:"MultiPolygon"},o=0;o<n;o++){var a=e[o],s=a.paths,l=s.length,u=a.interiorsIndex,c=a.outlinesIndex,h=Math.min(u,c,l),f=void 0,p=void 0;for(p=0;p<h;p++)f=[s[p].map(this._pointToArray,this)],r.push(f);if(1===h)for(h=Math.min(c,l),p=u;p<h;p++)f.push(s[p].map(this._pointToArray,this))}return i}},{key:"_getGeoJsonMultiLineString",value:function(t,e){for(var n=1<arguments.length&&void 0!==e&&e,r={coordinates:[],type:"MultiLineString"},i=t.geometries,o=0;o<i.length;o++)for(var a=i[o],s=n?a.outlinesIndex:0,l=n?a.paths.length:Math.min(a.interiorsIndex,a.outlinesIndex,a.paths.length),u=s;u<l;u++){var c=a.paths[u].map(this._pointToArray,this);r.coordinates.push(c)}return r}},{key:"_getGeoJsonGeometry",value:function(t,e){var n=1===e?this._getGeoJsonMultiPolygon(t):this._getGeoJsonMultiLineString(t,3===e);return n.coordinates.length?n:null}},{key:"_load",value:function(t){var e=this;return new Promise((function(n,r){var i=hi.postMessage(e.target_name+".requestMarkerTile",t.coords).then(e._prepareTileData.bind(e,t)),o=new Promise((function(n,r){hi.postMessage(e.target_name+".requestSpatialTile",t.coords).then((function(r){for(var i=[],o=[],a=[],s=0;s<r.length;s++){var l,u=r[s],c=void 0,h=u.isClosed?(c=o,1):(c=i,2),f=e._getGeoJsonGeometry(u,h);f&&(l={id:u.id,type:"Feature",properties:{height:0,style:u.style},geometry:f},2===h&&(l.properties.effectiveZIdx=i.length),c.push(l));var p=e._getGeoJsonGeometry(u,3);p&&a.push({id:u.id,type:"Feature",properties:{height:0,style:u.style,effectiveZIdx:a.length},geometry:p})}t.source_data.layers.polylines={type:"FeatureCollection",features:i},t.source_data.layers.polygons={type:"FeatureCollection",features:o},t.source_data.layers.outlines={type:"FeatureCollection",features:a},n(t)}))}));Promise.all([i,o]).then((function(r){e._postProcessTile(t),n(t)}))}))}},{key:"_prepareTileData",value:function(t,e){var n=ei.wrapTile(t.coords,{x:!0,y:!0}),r=ei.metersForTile(n);t.source_data.layers={markers:{features:e,type:"FeatureCollection"}};var i={coords:n,min:r},o=t.source_data,a=gl("binary-tree"),s={};for(var l in o.layers)for(var u=o.layers[l].features.length,c=0;c<u;c++){var h=o.layers[l].features[c],f=h.properties.icon;s[f.id]||(a.addItem({width:f.size.w,height:f.size.h,meta:{objectId:h.id,id:f.id}}),s[f.id]=!0),ei.transformGeometry(h.geometry,(function(t){var e=t[0];t[0]=t[1],t[1]=e}))}return t.rasters=a.export(),Fi.projectData(t.source_data),Fi.scaleData(t.source_data,i),t}}]),e}();Fi.register(El,"ObjectTileSource");var Sl=function(){Er(e,ra);var t=jr(e);function e(n,r){var i;return mr(this,e),(i=t.call(this,n,r)).uid_=n.uid,i}return _r(e,[{key:"initialize",value:function(t,e){this.provider=t,this._on_update=e,this._onProviderUpdate=this._onProviderUpdate.bind(this),t.addEventListener("update",this._onProviderUpdate)}},{key:"_onProviderUpdate",value:function(){this._on_update(this.name)}},{key:"tileTexture",value:function(t){return Object.assign(Ir(Sr(e.prototype),"tileTexture",this).call(this,t),{uid:this.uid_,url:this.uid_+"_"+t.coords.key,coords:t.coords})}},{key:"dispose",value:function(){this.provider.removeEventListener("update",this._onProviderUpdate)}}]),e}();function Tl(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||24<e.maxZoom)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=la(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=wa(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Al(t,e,n){return 32*((1<<t)*n+e)+t}Li.register(Sl,"RemoteRasterTileSource"),Tl.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Tl.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c,h,f,p,d,v,g,y,m,b,_,x=1<<e,w=Al(e,n,r),k=this.tiles[w];if(k||(1<u&&console.time("creation"),k=this.tiles[w]=Aa(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u&&(1<u&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,k.numFeatures,k.numPoints,k.numSimplified),console.timeEnd("creation")),c="z"+e,this.stats[c]=(this.stats[c]||0)+1,this.total++)),k.source=t,i){if(e===l.maxZoom||e===i)continue;var E=1<<i-e;if(n!==Math.floor(o/E)||r!==Math.floor(a/E))continue}else if(e===l.indexMaxZoom||k.numPoints<=l.indexMaxPoints)continue;k.source=null,0!==t.length&&(1<u&&console.time("clipping"),f=.5-(h=.5*l.buffer/l.extent),d=1+h,m=v=g=y=null,b=va(t,x,n-h,n+(p=.5+h),0,k.minX,k.maxX,l),_=va(t,x,n+f,n+d,0,k.minX,k.maxX,l),t=null,b&&(m=va(b,x,r-h,r+p,1,k.minY,k.maxY,l),v=va(b,x,r+f,r+d,1,k.minY,k.maxY,l),b=null),_&&(g=va(_,x,r-h,r+p,1,k.minY,k.maxY,l),y=va(_,x,r+f,r+d,1,k.minY,k.maxY,l),_=null),1<u&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(v||[],e+1,2*n,2*r+1),s.push(g||[],e+1,2*n+1,2*r),s.push(y||[],e+1,2*n+1,2*r+1))}},Tl.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||24<t)return null;var a=1<<t,s=Al(t,e=(e%a+a)%a,n);if(this.tiles[s])return Sa(this.tiles[s],i);1<o&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,h=n;!l&&0<u;)u--,c=Math.floor(c/2),h=Math.floor(h/2),l=this.tiles[Al(u,c,h)];return l&&l.source?(1<o&&console.log("found parent tile z%d-%d-%d",u,c,h),1<o&&console.time("drilling down"),this.splitTile(l.source,u,c,h,t,e,n),1<o&&console.timeEnd("drilling down"),this.tiles[s]?Sa(this.tiles[s],i):null):null};var Ol={type:"FeatureCollection",features:[]},Ml=function(){Er(e,Fi);var t=jr(e);function e(n,r){return mr(this,e),n.tiled=!0,n.url="",t.call(this,n,r)}return _r(e,[{key:"fetchTile",value:function(t,e,n){return this.provider?this.provider.requestTileAsPromise(t,e,n).then((function(t){return t.data})):Promise.resolve(Ol)}},{key:"_load",value:function(t){var e=this,n=ei.wrapTile(t.coords,{x:!0,y:!0}),r={indexMaxZoom:0,maxZoom:this.max_zoom,tolerance:1.5,extent:ei.tile_scale};return hi.postMessage(this.target_name+".fetchTile",n.x,n.y,n.z).then((function(i){for(var o in t.source_data.layers="FeatureCollection"===i.type?{_default:i}:i,t.source_data.layers){var a=new Tl(t.source_data.layers[o],r).getTile(n.z,n.x,n.y);t.source_data.layers[o]=co(a)}return e._postProcessTile(t),t}))}},{key:"onReady",value:function(){this.dispatchUpdate()}}]),e}();Li.register(Ml,"GeoJSONTileSource");var Cl,jl={layers:{_default:{type:"FeatureCollection",features:[{type:"Point",geometry:{}}]}}},Il=function(){Er(e,Li);var t=jr(e);function e(n,r){return mr(this,e),n.max_zoom=0,t.call(this,n,r)}return _r(e,[{key:"load",value:function(t){return t.source_data="0/0/0"===t.coords.key?jl:void 0,Promise.resolve(t)}}]),e}();Li.register(Il,"SkyBox");var Pl,Rl=Cl={draw_label_collision_boxes:!1,draw_label_texture_boxes:!1,suppress_label_fade_in:!1,suppress_snap_animation:!1,show_hidden_labels:!1,layer_stats:!1};function Ll(t,e){var n={};return e.forEach((function(e){return n[e]=t[e]})),n}var Nl=Pl={},Dl=0;Pl.getContext=function(t,e){var n=!1;null==t&&((t=document.createElement("canvas")).style.position="absolute",t.style.top=0,t.style.left=0,t.style.zIndex=-1,document.body.appendChild(t),n=!0);var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("Couldn't create WebGL context.");return r._tangram_id=Dl++,n?(Pl.resize(r,window.innerWidth,window.innerHeight,e.device_pixel_ratio),window.addEventListener("resize",(function(){Pl.resize(r,window.innerWidth,window.innerHeight,e.device_pixel_ratio)}))):Pl.resize(r,parseFloat(t.style.width),parseFloat(t.style.height),e.device_pixel_ratio),r},Pl.resize=function(t,e,n,r){t.canvas.style.width=e+"px",t.canvas.style.height=n+"px",t.canvas.width=Math.round(e*r),t.canvas.height=Math.round(n*r),t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.canvas.width,t.canvas.height)};var zl={parseUniforms:function(t){var e=[];for(var n in t){var r,i=n,o=t[n];if("number"==typeof o)e.push({type:"float",method:"1f",name:n,value:o,key:i,uniforms:t});else if(Array.isArray(o)){if("number"==typeof o[0])2<=o.length&&o.length<=4?e.push({type:"vec"+o.length,method:o.length+"fv",name:n,value:o,key:i,uniforms:t}):4<o.length&&e.push({type:"float[]",method:"1fv",name:n+"[0]",value:o,key:i,uniforms:t});else if("string"==typeof o[0])for(r=0;r<o.length;r++)e.push({type:"sampler2D",method:"1i",name:n+"["+r+"]",value:o[r],key:r,uniforms:o});else if(Array.isArray(o[0])&&"number"==typeof o[0][0]&&2<=o[0].length&&o[0].length<=4)for(r=0;r<o.length;r++)e.push({type:"vec"+o[0].length,method:o[r].length+"fv",name:n+"["+r+"]",value:o[r],key:r,uniforms:o})}else"boolean"==typeof o?e.push({type:"bool",method:"1i",name:n,value:o,key:i,uniforms:t}):"string"==typeof o&&e.push({type:"sampler2D",method:"1i",name:n,value:o,key:i,uniforms:t})}return e},defineVariable:function(t,e){var n,r;if("number"==typeof e)n="float";else if(Array.isArray(e))"number"==typeof e[0]?2<=e.length&&e.length<=4?n="vec"+e.length:(n="float",r=e.length):"string"==typeof e[0]&&(n="sampler2D",r=e.length);else if("boolean"==typeof e)n="bool";else{if("string"!=typeof e)return;n="sampler2D"}var i="";return i+="".concat(n," ").concat(t),r&&(i+="[".concat(r,"]")),i+";\n"},defineUniform:function(t,e){var n=zl.defineVariable(t,e);if(n)return"uniform "+n},isUniformDefined:function(t,e){var n=new RegExp("uniform[^;]+(?:{[\\s\\S]*})?[^;]*\\b"+t+"\\b","g");return!!e.match(n)},isSymbolReferenced:function(t,e){var n=new RegExp("\\b"+t+"\\b","g");return 0<=e.search(n)},expandVec3:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Array.isArray(t)){if(2!==t.length)return t;e=[].concat(Rr(t),[n]).map(parseFloat)}else e=[t,t,t].map(parseFloat);if(e&&e.every((function(t){return"number"==typeof t&&!isNaN(t)})))return e},expandVec4:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Array.isArray(t)){if(3!==t.length)return t;e=[].concat(Rr(t),[n]).map(parseFloat)}else e=[t,t,t,n].map(parseFloat);if(e&&e.every((function(t){return"number"==typeof t&&!isNaN(t)})))return e}},Fl=[];function Bl(t,e){var n=Fl.filter((function(e){return e[0]===t}))[0];return(n=n&&n[1])||(Fl.push([t,{}]),n=Fl[Fl.length-1][1]),n[e]||(n[e]=t.getExtension(e)),n[e]}function Hl(t){var e,n,r=0;if(0===t.length)return r;for(e=0,n=t.length;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return r}var Ul=a((function(t){var e="(.|[\\r\\n]|\\n)*?\\*\\/\\n?\\n?",n=/(^|[^\S\n])(?:\/\/)([\s\S]+?)$/gm,r=/(^|[^\S\n])(?:\/\/[^!])([\s\S]+?)$/gm,i=t.exports=function(t,e){return t?i.block(i.line(t,e),e):""};i.block=function(t,n){n=n||{};var r=new RegExp("\\/\\*"+e,"gm");return n.safe&&(r=new RegExp("\\/\\*(?!\\*?\\!)"+e,"gm")),t?t.replace(r,""):""},i.line=function(t,e){var i=n;return(e=e||{}).safe&&(i=r),t?t.replace(i,""):""}})),Vl=/^\s*#pragma.*$/gm,Gl=/\\\s*\n/gm,ql=function(){function t(e,n,r,i,o){if(mr(this,t),o=o||{},this.textureManager=No(i),this.gl=e,this.program=null,this.compiled=!1,this.compiling=!1,this.error=null,!t.polyfills[i]){t.polyfills[i]={};try{this.gl.uniformMatrix3fv(null,!1,new Float64Array(9))}catch(e){t.polyfills[i].uniformMatrix3fv=this.gl.uniformMatrix3fv,this.gl.uniformMatrix3fv=function(e,n,r){t.polyfills[i].uniformMatrix3fv.call(this,e,n,new Float32Array(r))}}try{this.gl.uniformMatrix4fv(null,!1,new Float64Array(16))}catch(e){t.polyfills[i].uniformMatrix4fv=this.gl.uniformMatrix4fv,this.gl.uniformMatrix4fv=function(e,n,r){t.polyfills[i].uniformMatrix4fv.call(this,e,n,new Float32Array(r))}}}this.defines=Object.assign({},o.defines||{}),this.blocks=Object.assign({},o.blocks||{}),this.block_scopes=Object.assign({},o.block_scopes||{}),this.extensions=o.extensions||[],this.dependent_uniforms=o.uniforms,this.uniforms={},this.attribs={},this.vertex_source=n,this.fragment_source=r,this.id=t.id++,this.name=o.name}return _r(t,[{key:"destroy",value:function(){this.gl.useProgram(null),this.gl.deleteProgram(this.program),this.program=null,this.uniforms={},this.attribs={},this.compiled=!1}},{key:"use",value:function(){this.compiled&&(t.current!==this&&this.gl.useProgram(this.program),t.current=this)}},{key:"compile",value:function(){var e=this;if(this.compiling)throw new Error("ShaderProgram.compile(): skipping for ".concat(this.id," (").concat(this.name,") because already compiling"));this.compiling=!0,this.compiled=!1,this.error=null,this.computed_vertex_source=this.vertex_source,this.computed_fragment_source=this.fragment_source;var n,r=this.checkExtensions(),i=this.buildDefineList(),o=this.buildShaderBlockList();for(var a in o){var s,l,u,c=o[a];!c||Array.isArray(c)&&0===c.length||(n=new RegExp("^\\s*#pragma\\s+tangram:\\s+"+a+"\\s*$","m"),s=this.computed_vertex_source.match(n),l=this.computed_fragment_source.match(n),null==s&&null==l||(u="",c.forEach((function(t){var e="".concat(t.scope,", ").concat(t.key,", ").concat(t.num);u+="\n// tangram-block-start: ".concat(e,"\n"),u+=t.source,u+="\n// tangram-block-end: ".concat(e,"\n")})),null!=s&&(this.computed_vertex_source=this.computed_vertex_source.replace(n,u)),null!=l&&(this.computed_fragment_source=this.computed_fragment_source.replace(n,u)),i["TANGRAM_BLOCK_"+a.replace(/[\s-]+/g,"_").toUpperCase()]=!0))}this.computed_vertex_source=this.computed_vertex_source.replace(Vl,""),this.computed_fragment_source=this.computed_fragment_source.replace(Vl,""),this.ensureUniforms(this.dependent_uniforms);var h=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_FLOAT),f=h&&0<h.precision?"precision highp float;\n":"precision mediump float;\n";i.TANGRAM_VERTEX_SHADER=!0,i.TANGRAM_FRAGMENT_SHADER=!1,this.computed_vertex_source=f+t.buildDefineString(i)+this.computed_vertex_source,i.TANGRAM_VERTEX_SHADER=!1,i.TANGRAM_FRAGMENT_SHADER=!0,this.computed_fragment_source=t.buildExtensionString(r)+f+t.buildDefineString(i)+this.computed_fragment_source,this.computed_vertex_source=this.computed_vertex_source.replace(Gl,""),this.computed_fragment_source=this.computed_fragment_source.replace(Gl,"");try{this.program=t.updateProgram(this.gl,this.program,this.computed_vertex_source,this.computed_fragment_source),this.compiled=!0,this.compiling=!1}catch(r){throw this.program=null,this.compiled=!1,this.compiling=!1,"vertex"!==(this.error=r).type&&"fragment"!==r.type||(this.shader_errors=r.errors,this.shader_errors.forEach((function(t){t.type=r.type,t.block=e.block(r.type,t.line)}))),r}this.computed_vertex_source=null,this.computed_fragment_source=null,this.use(),this.refreshUniforms(),this.refreshAttributes()}},{key:"buildDefineList",value:function(){var e,n={};for(e in t.defines)n[e]=t.defines[e];for(e in this.defines)n[e]=this.defines[e];return n}},{key:"buildShaderBlockList",value:function(){var e,n,r={};for(e in t.blocks)r[e]=[],Array.isArray(t.blocks[e])?(n=r[e]).push.apply(n,Rr(t.blocks[e].map((function(t,n){return{key:e,source:t,num:n,scope:"ShaderProgram"}})))):r[e]=[{key:e,source:t.blocks[e],num:0,scope:"ShaderProgram"}];for(e in this.blocks)if(r[e]=r[e]||[],Array.isArray(this.blocks[e]))for(var i=this.block_scopes&&this.block_scopes[e]||[],o=null,a=0,s=0;s<this.blocks[e].length;s++)i[s]!==o&&(o=i[s],a=0),r[e].push({key:e,source:this.blocks[e][s],num:a,scope:o||this.name}),a++;else r[e].push({key:e,source:this.blocks[e],num:0,scope:this.name});return r}},{key:"ensureUniforms",value:function(t){if(t){var e,n=Ul(this.computed_vertex_source),r=Ul(this.computed_fragment_source),i=[],o=[];for(var a in t){var s=zl.isUniformDefined(a,n),l=zl.isUniformDefined(a,r);if(!s||!l){if(!(e=zl.defineUniform(a,t[a])))continue;s||(Si("trace","Program ".concat(this.name,": ").concat(a," not defined in vertex shader, injecting: '").concat(e,"'")),i.push(e)),l||(Si("trace","Program ".concat(this.name,": ").concat(a," not defined in fragment shader, injecting: '").concat(e,"'")),o.push(e))}}0<i.length&&(this.computed_vertex_source=i.join("\n")+this.computed_vertex_source),0<o.length&&(this.computed_fragment_source=o.join("\n")+this.computed_fragment_source)}}},{key:"setUniforms",value:function(t,e){var n=!(1<arguments.length&&void 0!==e)||e;if(this.compiled){n&&(this.texture_unit=0);for(var r=zl.parseUniforms(t),i=0;i<r.length;i++){var o=r[i];"sampler2D"===o.type?this.setTextureUniform(o.name,o.value):this.uniform(o.method,o.name,o.value)}}}},{key:"saveUniforms",value:function(t){var e=t||this.uniforms;for(var n in e){var r=this.uniforms[n];r&&(r.saved_value=r.value)}this.saved_texture_unit=this.texture_unit||0}},{key:"restoreUniforms",value:function(t){var e=t||this.uniforms;for(var n in e){var r=this.uniforms[n];r&&r.saved_value&&(r.value=r.saved_value,this.updateUniform(r))}this.texture_unit=this.saved_texture_unit||0}},{key:"setTextureUniform",value:function(t,e){var n=this.textureManager.textures[e];null!=n?(n.bind(this.texture_unit),this.uniform("1i",t,this.texture_unit),this.texture_unit++):Si("warn","Cannot find texture '".concat(e,"'"))}},{key:"uniform",value:function(t,e,n){var r;this.compiled&&(this.uniforms[e]=this.uniforms[e]||{},(r=this.uniforms[e]).name=e,void 0===r.location&&(r.location=this.gl.getUniformLocation(this.program,e)),r.method=t,r.value=n,this.updateUniform(r))}},{key:"updateUniform",value:function(t){this.compiled&&t&&null!=t.location&&(this.use(),this.commitUniform(t))}},{key:"commitUniform",value:function(t){var e=t.location,n=t.value;switch(t.method){case"1i":this.gl.uniform1i(e,n);break;case"1f":this.gl.uniform1f(e,n);break;case"2f":this.gl.uniform2f(e,n[0],n[1]);break;case"3f":this.gl.uniform3f(e,n[0],n[1],n[2]);break;case"4f":this.gl.uniform4f(e,n[0],n[1],n[2],n[3]);break;case"1iv":this.gl.uniform1iv(e,n);break;case"3iv":this.gl.uniform3iv(e,n);break;case"1fv":this.gl.uniform1fv(e,n);break;case"2fv":this.gl.uniform2fv(e,n);break;case"3fv":this.gl.uniform3fv(e,n);break;case"4fv":this.gl.uniform4fv(e,n);break;case"Matrix3fv":this.gl.uniformMatrix3fv(e,!1,n);break;case"Matrix4fv":this.gl.uniformMatrix4fv(e,!1,n)}}},{key:"refreshUniforms",value:function(){if(this.compiled)for(var t in this.uniforms){var e=this.uniforms[t];e.location=this.gl.getUniformLocation(this.program,t),this.updateUniform(e)}}},{key:"refreshAttributes",value:function(){this.attribs={}}},{key:"attribute",value:function(t){if(this.compiled){var e=this.attribs[t]=this.attribs[t]||{};return null!=e.location||(e.name=t,e.location=this.gl.getAttribLocation(this.program,t)),e}}},{key:"source",value:function(t){return"vertex"===t?this.computed_vertex_source:"fragment"===t?this.computed_fragment_source:void 0}},{key:"lines",value:function(t){var e=this.source(t);return e?e.split("\n"):[]}},{key:"line",value:function(t,e){var n=this.lines(t);if(n)return n[e]}},{key:"block",value:function(t,e){for(var n,r=this.lines(t),i=0;i<e&&i<r.length;i++){var o=r[i],a=o.match(/\/\/ tangram-block-start: ([A-Za-z0-9_-]+), ([A-Za-z0-9_-]+), (\d+)/);a&&1<a.length?n={scope:a[1],name:a[2],num:a[3]}:(a=o.match(/\/\/ tangram-block-end: ([A-Za-z0-9_-]+), ([A-Za-z0-9_-]+), (\d+)/))&&1<a.length&&(n=null),n&&(n.line=null==n.line?-1:n.line+1,n.source=o)}return n}},{key:"checkExtensions",value:function(){var t=this,e=[];return this.extensions.forEach((function(n){var r=Bl(t.gl,n),i="TANGRAM_EXTENSION_".concat(n);t.defines[i]=null!=r,r?e.push(n):Si("debug","Could not enable extension '".concat(n,"'"))})),e}}]),t}();ql.polyfills={},ql.id=0,ql.current=null,ql.defines={},ql.blocks={},ql.reset=function(){ql.programs_by_source={},ql.shaders_by_source={}},ql.reset(),ql.buildDefineString=function(t){var e="";for(var n in t)null!=t[n]&&!1!==t[n]&&("boolean"==typeof t[n]&&!0===t[n]?e+="#define "+n+"\n":"number"==typeof t[n]&&Math.floor(t[n])===t[n]?e+="#define "+n+" "+t[n].toFixed(1)+"\n":e+="#define "+n+" "+t[n]+"\n");return e},ql.buildExtensionString=function(t){var e="";return(t=t||[]).forEach((function(t){e+="#ifdef GL_".concat(t,"\n#extension GL_").concat(t," : enable\n#endif\n")})),e},ql.addBlock=function(t){var e;ql.blocks[t]=ql.blocks[t]||[];for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=ql.blocks[t]).push.apply(e,r)},ql.removeBlock=function(t){ql.blocks[t]=[]},ql.replaceBlock=function(t){ql.removeBlock(t);for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];ql.addBlock.apply(ql,[t].concat(n))},ql.updateProgram=function(t,e,n,r){var i=Hl(t._tangram_id+"::"+n+"::"+r);if(ql.programs_by_source[i])return Si("trace","Reusing identical source GL program object"),ql.programs_by_source[i];var o=ql.createShader(t,n,t.VERTEX_SHADER),a=ql.createShader(t,r,t.FRAGMENT_SHADER);if(t.useProgram(null),null!=e)for(var s=t.getAttachedShaders(e),l=0;l<s.length;l++)t.detachShader(e,s[l]);else e=t.createProgram();if(null==o||null==a)return e;if(t.attachShader(e,o),t.attachShader(e,a),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS))return ql.programs_by_source[i]=e;var u=new Error("WebGL program error:\n            VALIDATE_STATUS: ".concat(t.getProgramParameter(e,t.VALIDATE_STATUS),"\n            ERROR: ").concat(t.getError(),"\n            --- Vertex Shader ---\n            ").concat(n,"\n            --- Fragment Shader ---\n            ").concat(r));throw Object.assign(new Error(u),{type:"program"})};var Yl={disabled:!(ql.createShader=function(t,e,n){var r=Hl(t._tangram_id+"::"+e);if(ql.shaders_by_source[r])return Si("trace","Reusing identical source GL shader object"),ql.shaders_by_source[r];var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return ql.shaders_by_source[r]=i;var o=n===t.VERTEX_SHADER?"vertex":"fragment",a=t.getShaderInfoLog(i),s=function(t){t=String(t);for(var e,n=[];e=t.match(/ERROR\:([^\n]+)/);){t=t.slice(e.index+1);var r=(a=e[1].trim()).split(":"),i=r.slice(2).join(":").trim(),o=parseInt(r[0],10),a=parseInt(r[1],10);n.push({message:i,file:o,line:a})}return n}(a);throw Object.assign(new Error(a),{type:o,errors:s})}),bound_vao:[],init:function(t){var e;!0!==this.disabled&&(e=Bl(t,"OES_vertex_array_object")),null!=e?Si("info","Vertex Array Object extension available"):!0!==this.disabled?Si("warn","Vertex Array Object extension NOT available"):Si("warn","Vertex Array Object extension force disabled")},create:function(t,e,n){var r={};r.setup=e,r.teardown=n;var i=Bl(t,"OES_vertex_array_object");return null!=i&&(r._vao=i.createVertexArrayOES(),i.bindVertexArrayOES(r._vao)),r.setup(!0),r},getCurrentBinding:function(t){var e=this.bound_vao.filter((function(e){return e[0]===t}))[0];return e&&e[1]},setCurrentBinding:function(t,e){var n=this.bound_vao,r=n.filter((function(e){return e[0]===t}))[0];null==r?n.push([t,e]):r[1]=e},bind:function(t,e){var n,r=Bl(t,"OES_vertex_array_object");null!=e?null!=r&&null!=e._vao?(r.bindVertexArrayOES(e._vao),this.setCurrentBinding(t,e)):e.setup(!1):(n=this.getCurrentBinding(t),null!=r?r.bindVertexArrayOES(null):null!=n&&"function"==typeof n.teardown&&n.teardown(),this.setCurrentBinding(t,null))},destroy:function(t,e){var n=Bl(t,"OES_vertex_array_object");null!=n&&null!=e&&null!=e._vao&&(n.deleteVertexArrayOES(e._vao),e._vao=null)}},Wl=function(){function t(e,n){mr(this,t),this._gl=e,this._requests={},this._pixels=null,this._has_dirty_buffer=!1,this._fbo=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fbo),this._fbo_size={width:256,height:256};var r=No(n).create(this._gl,"selection_fbo",{filtering:"nearest"});r.setData(this._fbo_size.width,this._fbo_size.height,null,{filtering:"nearest"}),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,r.texture,0);var i=this._gl.createRenderbuffer();this._gl.bindRenderbuffer(this._gl.RENDERBUFFER,i),this._gl.renderbufferStorage(this._gl.RENDERBUFFER,this._gl.DEPTH_COMPONENT16,this._fbo_size.width,this._fbo_size.height),this._gl.framebufferRenderbuffer(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.RENDERBUFFER,i),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null)}return _r(t,[{key:"destroy",value:function(){this._gl&&this._fbo&&(this._gl.deleteFramebuffer(this._fbo),this._fbo=null,this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null))}},{key:"bind",value:function(){var e;this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fbo),this._gl.viewport(0,0,this._fbo_size.width,this._fbo_size.height),(e=this._gl).clearColor.apply(e,Rr(t.defaultColor))}},{key:"getFeatureAt",value:function(e,n,r){var i=n.radius,o=n.top_most_only,a=void 0===o||o;!e||e.x<0||e.y<0||1<e.x||1<e.y?r({features:null}):(this.selection_request_id=this.selection_request_id+1||0,this._requests[this.selection_request_id]={id:this.selection_request_id,point:e,radius:i,top_most_only:a,ttl:a?1:t.MAX_PICKING_TRIES,callback:r})}},{key:"hasPendingRequests",value:function(){return 0<Object.keys(this._requests).length}},{key:"clearPendingRequests",value:function(){for(var t in this._requests)this._requests[t].callback(new Error("cleared")),delete this._requests[t];this._pending_deep_request=null}},{key:"read",value:function(t){if(this.hasPendingRequests()){var e=this._gl;for(var n in e.bindFramebuffer(e.FRAMEBUFFER,this._fbo),this._pending_deep_request&&this.processRequest(this._pending_deep_request,t),this._requests)if(this.processRequest(this._requests[n],t))break;e.bindFramebuffer(e.FRAMEBUFFER,null)}}},{key:"processRequest",value:function(e,n){var r,i,o,a=this._gl,s=255,l=e.point,u=e.radius,c=(o=u?(i=Math.min(this._fbo_size.width,this._fbo_size.height),{x:Math.min(Math.ceil(2*u.x*this._fbo_size.width),i),y:Math.min(Math.ceil(2*u.y*this._fbo_size.height),i)}):(u={x:0,y:0},{x:1,y:1})).x*o.y*4;if(null==this._pixels||this._pixels.byteLength<c)this._pixels=new Uint8Array(c);else if(this._pixels.fill instanceof Function)this._pixels.fill(0,0,c);else for(var h=0;h<c;h++)this._pixels[h]=0;a.readPixels(Math.round((l.x-u.x)*this._fbo_size.width),Math.round((1-l.y-u.y)*this._fbo_size.height),o.x,o.y,a.RGBA,a.UNSIGNED_BYTE,this._pixels),e.ttl--;var f=Math.floor(o.x/2),p=Math.floor(o.y/2),d=4*(p*o.x+f),v=this._pixels.slice(d,d+4),g=v[0]+(v[1]<<8)+(v[2]<<16);if(0<g)r=g+(v[3]<<24)>>>0,s=v[3];else if(4<c)for(var y=1/0,m=(d=0,0);m<o.y;m++)for(var b,_=0;_<o.x;_++,d+=4)0<(g=(v=this._pixels.slice(d,d+4))[0]+(v[1]<<8)+(v[2]<<16))&&(b=Math.pow(_-f,2)+Math.pow(m-p,2))<y&&(r=g+(v[3]<<24)>>>0,s=v[3],y=b);if(255!==s){var x=this._getFeatureByKey(r,n);if(e.features||(e.features=[]),!x)return void this._finishRead(e);if(e.features.every((function(t){return t.id!==x.id}))&&e.features.push(x),e.ttl)return this._pending_deep_request=e,t._discardColor(v),this._has_dirty_buffer=!0;this._finishRead(e)}else this._finishRead(e)}},{key:"_finishRead",value:function(e){var n=e.features||t.EMPTY_ARRAY;e.top_most_only||(this._pending_deep_request=null,t._resetDiscardedColors()),delete this._requests[e.id],e.callback({features:n})}},{key:"_getFeatureByKey",value:function(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r];if(i.selection_data&&(n=i.selection_data[t])){n.tile={coords:i.coords};break}}return n}},{key:"setupDiscards",value:function(e){for(var n=t.MAX_PICKING_TRIES;n--;)e.uniform("4fv","u_selection_discard".concat(n),t._discarded_colors[n]||t.defaultColor)}},{key:"has_dirty_buffer",get:function(){return this._has_dirty_buffer},set:function(){this._has_dirty_buffer=!!this._pending_deep_request}}],[{key:"makeEntry",value:function(){this.map_entry++;var t=255&this.map_entry,e=this.map_entry>>8&255,n=this.map_entry>>16&255,r=this.map_prefix;return{key:t+(e<<8)+(n<<16)+(r<<24)>>>0,color:[t/255,e/255,n/255,r/255]}}},{key:"reset",value:function(){this.map_entry=0}},{key:"setPrefix",value:function(t){this.map_prefix=t}},{key:"_discardColor",value:function(t){this._discarded_colors.push([t[0]/255,t[1]/255,t[2]/255,t[3]/255])}},{key:"_resetDiscardedColors",value:function(){this._discarded_colors.length=0}}]),t}();Wl._discarded_colors=[],Wl.map_entry=0,Wl.map_prefix=0,Wl.defaultColor=[0,0,0,1],Wl.MAX_PICKING_TRIES=10,Wl.EMPTY_ARRAY=Object.freeze([]);var Zl,Xl=function(){function t(e,n,r,i,o,a){mr(this,t),a=a||{},this.textureManager=No(o),this.gl=e,this.vertex_data=n,this.element_data=r,this.vertex_layout=i,this.vertex_buffer=this.gl.createBuffer(),this.buffer_size=this.vertex_data.byteLength,this.draw_mode=a.draw_mode||this.gl.TRIANGLES,this.data_usage=a.data_usage||this.gl.STATIC_DRAW,this.vertices_per_geometry=3,this.uniforms=a.uniforms,this.textures=a.textures,this.retain=a.retain||!1,this.created_at=+new Date,this.fade_in_time=a.fade_in_time||0,this.vertex_count=this.vertex_data.byteLength/this.vertex_layout.stride,this.element_count=0,this.vaos={},this.toggle_element_array=!1,this.element_data?(this.toggle_element_array=!0,this.element_count=this.element_data.length,this.geometry_count=this.element_count/this.vertices_per_geometry,this.element_type=this.element_data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT,this.element_buffer=this.gl.createBuffer(),this.buffer_size+=this.element_data.byteLength,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.element_buffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.element_data,this.data_usage)):this.geometry_count=this.vertex_count/this.vertices_per_geometry,this.upload(),this.retain||(delete this.vertex_data,delete this.element_data),this.valid=!0}return _r(t,[{key:"render",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};if(!this.valid)return!1;var n=e.program||ql.current;n.use(),this.uniforms&&(n.saveUniforms(this.uniforms),n.setUniforms(this.uniforms,!1));var r=(new Date-this.created_at)/1e3;return n.uniform("1f","u_visible_time",r),this.bind(n),this.toggle_element_array?this.gl.drawElements(this.draw_mode,this.element_count,this.element_type,0):this.gl.drawArrays(this.draw_mode,0,this.vertex_count),Yl.bind(this.gl,null),this.uniforms&&n.restoreUniforms(this.uniforms),r<this.fade_in_time}},{key:"bind",value:function(t){var e=this,n=this.vaos[t.id];n?Yl.bind(this.gl,n):this.vaos[t.id]=Yl.create(this.gl,(function(n){e.gl.bindBuffer(e.gl.ARRAY_BUFFER,e.vertex_buffer),e.toggle_element_array&&e.gl.bindBuffer(e.gl.ELEMENT_ARRAY_BUFFER,e.element_buffer),e.vertex_layout.enable(e.gl,t,n)}))}},{key:"upload",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertex_buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertex_data,this.data_usage)}},{key:"destroy",value:function(){var t=this;if(!this.valid)return!1;for(var e in this.valid=!1,this.vaos)Yl.destroy(this.gl,this.vaos[e]);return this.gl.deleteBuffer(this.vertex_buffer),this.vertex_buffer=null,this.element_buffer&&(this.gl.deleteBuffer(this.element_buffer),this.element_buffer=null),delete this.vertex_data,delete this.element_data,this.textures&&this.textures.forEach((function(e){return t.textureManager.release(e)})),!0}}]),t}(),Kl=["emission","ambient","diffuse","specular"],$l=function(){function t(e){var n=this;mr(this,t),e=e||{},Kl.forEach((function(t){var r=e[t];null!=r&&(r.texture?n[t]={texture:r.texture,mapping:r.mapping||"spheremap",scale:zl.expandVec3(null!=r.scale?r.scale:1),amount:zl.expandVec4(null!=r.amount?r.amount:1)}:"number"==typeof r||Array.isArray(r)?n[t]={amount:zl.expandVec4(r)}:n[t]="string"==typeof r?{amount:_o.parseColor(r)}:r)})),this.specular&&(this.specular.shininess=e.shininess?parseFloat(e.shininess):.2),null!=e.normal&&(this.normal={texture:e.normal.texture,mapping:e.normal.mapping||"triplanar",scale:zl.expandVec3(null!=e.normal.scale?e.normal.scale:1),amount:null!=e.normal.amount?e.normal.amount:1})}return _r(t,[{key:"inject",value:function(e){var n=this;Kl.forEach((function(t){var r="TANGRAM_MATERIAL_".concat(t.toUpperCase()),i=r+"_TEXTURE";e.defines[r]=null!=n[t],n[t]&&n[t].texture&&(e.defines[i]=!0,e.defines[i+"_"+n[t].mapping.toUpperCase()]=!0,e.defines["TANGRAM_MATERIAL_TEXTURE_".concat(n[t].mapping.toUpperCase())]=!0,e.texcoords=e.texcoords||"uv"===n[t].mapping)})),this.normal&&this.normal.texture&&(e.defines.TANGRAM_MATERIAL_NORMAL_TEXTURE=!0,e.defines["TANGRAM_MATERIAL_NORMAL_TEXTURE_"+this.normal.mapping.toUpperCase()]=!0,e.defines["TANGRAM_MATERIAL_TEXTURE_".concat(this.normal.mapping.toUpperCase())]=!0,e.texcoords=e.texcoords||"uv"===this.normal.mapping),e.replaceShaderBlock(t.block,"/*Defines globals:materiallight_accumulator_**/struct Material{\n#ifdef TANGRAM_MATERIAL_EMISSION\nvec4 emission;\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE\nvec3 emissionScale;\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_AMBIENT\nvec4 ambient;\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE\nvec3 ambientScale;\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_DIFFUSE\nvec4 diffuse;\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE\nvec3 diffuseScale;\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR\nvec4 specular;float shininess;\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE\nvec3 specularScale;\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE\nvec3 normalScale;float normalAmount;\n#endif\n};uniform Material u_material;Material material;\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE\nuniform sampler2D u_material_emission_texture;\n#endif\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE\nuniform sampler2D u_material_ambient_texture;\n#endif\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE\nuniform sampler2D u_material_diffuse_texture;\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE\nuniform sampler2D u_material_specular_texture;\n#endif\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE\nuniform sampler2D u_material_normal_texture;\n#endif\nvec4 light_accumulator_ambient=vec4(vec3(0.0),1.);vec4 light_accumulator_diffuse=vec4(vec3(0.0),1.);\n#ifdef TANGRAM_MATERIAL_SPECULAR\nvec4 light_accumulator_specular=vec4(vec3(0.0),1.);\n#endif\n#ifdef TANGRAM_MATERIAL_TEXTURE_SPHEREMAP\nvec4 getSphereMap(in sampler2D _tex,in vec3 _eyeToPoint,in vec3 _normal,in vec2 _skew){vec3 eye=normalize(_eyeToPoint);eye.xy-=_skew;eye=normalize(eye);vec3 r=reflect(eye,_normal);r.z+=1.0;float m=2.*length(r);vec2 uv=r.xy/m+.5;return texture2D(_tex,uv);}\n#endif\n#ifdef TANGRAM_MATERIAL_TEXTURE_TRIPLANAR\nvec3 getTriPlanarBlend(in vec3 _normal){vec3 blending=abs(_normal);blending=normalize(max(blending,0.00001));float b=(blending.x+blending.y+blending.z);return blending/b;}vec4 getTriPlanar(in sampler2D _tex,in vec3 _pos,in vec3 _normal,in vec3 _scale){vec3 blending=getTriPlanarBlend(_normal);vec4 xaxis=texture2D(_tex,fract(_pos.yz*_scale.x));vec4 yaxis=texture2D(_tex,fract(_pos.xz*_scale.y));vec4 zaxis=texture2D(_tex,fract(_pos.xy*_scale.z));return xaxis*blending.x+yaxis*blending.y+zaxis*blending.z;}\n#endif\n#ifdef TANGRAM_MATERIAL_TEXTURE_PLANAR\nvec4 getPlanar(in sampler2D _tex,in vec3 _pos,in vec2 _scale){return texture2D(_tex,fract(_pos.xy*_scale.x));}\n#endif\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE\nvoid calculateNormal(inout vec3 _normal){\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_UV\n_normal+=texture2D(u_material_normal_texture,fract(v_texcoord*material.normalScale.xy)).rgb*2.0-1.0;\n#endif\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_PLANAR\nvec3 normalTex=getPlanar(u_material_normal_texture,v_world_position.xyz,material.normalScale.xy).rgb*2.0-1.0;_normal+=normalTex;\n#endif\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_TRIPLANAR\nvec3 normalTex=getTriPlanar(u_material_normal_texture,v_world_position.xyz,_normal,material.normalScale).rgb*2.0-1.0;_normal+=normalTex;\n#endif\n_normal=normalize(_normal);}\n#endif\nvoid calculateMaterial(in vec3 _eyeToPoint,inout vec3 _normal){\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_UV\nmaterial.emission*=texture2D(u_material_emission_texture,v_texcoord);\n#endif\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_PLANAR\nmaterial.emission*=getPlanar(u_material_emission_texture,v_world_position.xyz,material.emissionScale.xy);\n#endif\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_TRIPLANAR\nmaterial.emission*=getTriPlanar(u_material_emission_texture,v_world_position.xyz,_normal,material.emissionScale);\n#endif\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_SPHEREMAP\nmaterial.emission*=getSphereMap(u_material_emission_texture,_eyeToPoint,_normal,u_center_offset);\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_UV\nmaterial.ambient*=texture2D(u_material_ambient_texture,v_texcoord);\n#endif\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_PLANAR\nmaterial.ambient*=getPlanar(u_material_ambient_texture,v_world_position.xyz,material.ambientScale.xy);\n#endif\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_TRIPLANAR\nmaterial.ambient*=getTriPlanar(u_material_ambient_texture,v_world_position.xyz,_normal,material.ambientScale);\n#endif\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_SPHEREMAP\nmaterial.ambient*=getSphereMap(u_material_ambient_texture,_eyeToPoint,_normal,u_center_offset);\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_UV\nmaterial.diffuse*=texture2D(u_material_diffuse_texture,v_texcoord);\n#endif\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_PLANAR\nmaterial.diffuse*=getPlanar(u_material_diffuse_texture,v_world_position.xyz,material.diffuseScale.xy);\n#endif\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_TRIPLANAR\nmaterial.diffuse*=getTriPlanar(u_material_diffuse_texture,v_world_position.xyz,_normal,material.diffuseScale);\n#endif\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_SPHEREMAP\nmaterial.diffuse*=getSphereMap(u_material_diffuse_texture,_eyeToPoint,_normal,u_center_offset);\n#endif\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_UV\nmaterial.specular*=texture2D(u_material_specular_texture,v_texcoord);\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_PLANAR\nmaterial.specular*=getPlanar(u_material_specular_texture,v_world_position.xyz,material.specularScale.xy);\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_TRIPLANAR\nmaterial.specular*=getTriPlanar(u_material_specular_texture,v_world_position.xyz,_normal,material.specularScale);\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_SPHEREMAP\nmaterial.specular*=getSphereMap(u_material_specular_texture,_eyeToPoint,_normal,u_center_offset);\n#endif\n#endif\n}","Material"),e.addShaderBlock("setup","\nmaterial = u_material;\n","Material")}},{key:"setupProgram",value:function(t){var e=this;Kl.forEach((function(n){e[n]&&(e[n].texture?(t.setTextureUniform("u_material_".concat(n,"_texture"),e[n].texture),t.uniform("3fv","u_material.".concat(n,"Scale"),e[n].scale),t.uniform("4fv","u_material.".concat(n),e[n].amount)):e[n].amount&&t.uniform("4fv","u_material.".concat(n),e[n].amount))})),this.specular&&t.uniform("1f","u_material.shininess",this.specular.shininess),this.normal&&this.normal.texture&&(t.setTextureUniform("u_material_normal_texture",this.normal.texture),t.uniform("3fv","u_material.normalScale",this.normal.scale),t.uniform("1f","u_material.normalAmount",this.normal.amount))}}],[{key:"isValid",value:function(t){return null!=t&&(null!=t.emission||null!=t.ambient||null!=t.diffuse||null!=t.specular)}}]),t}();$l.block="material";var Jl=Zl={};Zl.copy=function(t){for(var e=[],n=t.length,r=0;r<n;r++)e[r]=t[r];return e},Zl.neg=function(t){for(var e=[],n=t.length,r=0;r<n;r++)e[r]=-t[r];return e},Zl.add=function(t,e){for(var n=[],r=Math.min(t.length,e.length),i=0;i<r;i++)n[i]=t[i]+e[i];return n},Zl.sub=function(t,e){for(var n=[],r=Math.min(t.length,e.length),i=0;i<r;i++)n[i]=t[i]-e[i];return n},Zl.signed_area=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])},Zl.mult=function(t,e){var n,r=[],i=t.length;if("number"==typeof e)for(n=0;n<i;n++)r[n]=t[n]*e;else for(i=Math.min(t.length,e.length),n=0;n<i;n++)r[n]=t[n]*e[n];return r},Zl.multMatrix=function(t,e){return[t[0][0]*e[0]+t[0][1]*e[1],t[1][0]*e[0]+t[1][1]*e[1]]},Zl.div=function(t,e){var n=[];if("number"==typeof e)for(i=0;i<t.length;i++)n[i]=t[i]/e;else for(var r=Math.min(t.length,e.length),i=0;i<r;i++)n[i]=t[i]/e[i];return n},Zl.perp=function(t,e){return[e[1]-t[1],t[0]-e[0]]},Zl.rot=function(t,e){var n=Math.cos(e),r=Math.sin(e);return[t[0]*n-t[1]*r,t[0]*r+t[1]*n]},Zl.angle=function(t){var e=Pr(t,2),n=e[0],r=e[1];return Math.atan2(r,n)},Zl.angleBetween=function(t,e){var n=Zl.dot(Zl.normalize(Zl.copy(t)),Zl.normalize(Zl.copy(e)));return 1<n&&(n=1),Math.acos(n)},Zl.signedAngleBetween=function(t,e){return Math.atan2(t[0]*e[1]-t[1]*e[0],t[0]*e[0]+t[1]*e[1])},Zl.isEqual=function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},Zl.lengthSq=function(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:3<=t.length?t[0]*t[0]+t[1]*t[1]+t[2]*t[2]:0},Zl.length=function(t){return Math.sqrt(Zl.lengthSq(t))},Zl.normalize=function(t){var e;if(2===t.length){if(1===(e=t[0]*t[0]+t[1]*t[1]))return t;0!==(e=Math.sqrt(e))?(t[0]/=e,t[1]/=e):(t[0]=0,t[1]=0)}else if(3<=t.length){if(1===(e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2]))return t;0!==(e=Math.sqrt(e))?(t[0]/=e,t[1]/=e,t[2]/=e):(t[0]=0,t[1]=0,t[2]=0)}return t},Zl.cross=function(t,e){return 2===t.length?t[0]*e[1]-t[1]*e[0]:3===t.length?[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]:void 0},Zl.dot=function(t,e){for(var n=0,r=Math.min(t.length,e.length),i=0;i<r;i++)n+=t[i]*e[i];return n};var Ql=function(){function t(e,n){mr(this,t),this.name=n.name,this.view=e,null==n.ambient||"number"==typeof n.ambient?this.ambient=zl.expandVec3(n.ambient||0):this.ambient=_o.parseColor(n.ambient).slice(0,3),null==n.diffuse||"number"==typeof n.diffuse?this.diffuse=zl.expandVec3(null!=n.diffuse?n.diffuse:1):this.diffuse=_o.parseColor(n.diffuse).slice(0,3),null==n.specular||"number"==typeof n.specular?this.specular=zl.expandVec3(n.specular||0):this.specular=_o.parseColor(n.specular).slice(0,3)}return _r(t,[{key:"inject",value:function(){var e="\n            uniform ".concat(this.struct_name," u_").concat(this.name,";\n            ").concat(this.struct_name," ").concat(this.name,";\n            "),n="\n            ".concat(this.name," = u_").concat(this.name,";\n\n        ");ql.addBlock(t.block,e),ql.addBlock("setup",n)}},{key:"update",value:function(){}},{key:"setupProgram",value:function(t){t.uniform("3fv","u_".concat(this.name,".ambient"),this.ambient),t.uniform("3fv","u_".concat(this.name,".diffuse"),this.diffuse),t.uniform("3fv","u_".concat(this.name,".specular"),this.specular)}}],[{key:"create",value:function(e,n){if(t.types[n.type])return new t.types[n.type](e,n)}},{key:"setMode",value:function(e,n){!0===e&&(e="fragment"),e=t.enabled&&(null!=e?e:"fragment"),n.defines.TANGRAM_LIGHTING_FRAGMENT="fragment"===e,n.defines.TANGRAM_LIGHTING_VERTEX="vertex"===e}},{key:"inject",value:function(e){if(ql.removeBlock(t.block),t.enabled){var n="";if(e&&0<Object.keys(e).length){var r={};for(var i in e)r[e[i].type]=!0;for(var o in r)t.types[o].inject();for(var a in e)e[a].inject(),n+="calculateLight(".concat(a,", _eyeToPoint, _normal);\n")}var s="\n            vec4 calculateLighting(in vec3 _eyeToPoint, in vec3 _normal, in vec4 _color) {\n\n                // Do initial material calculations over normal, emission, ambient, diffuse and specular values\n                calculateMaterial(_eyeToPoint,_normal);\n\n                // Un roll the loop of individual ligths to calculate\n                ".concat(n,"\n\n                //  Final light intensity calculation\n                vec4 color = vec4(vec3(0.), _color.a); // start with vertex color alpha\n\n                #ifdef TANGRAM_MATERIAL_EMISSION\n                    color.rgb = material.emission.rgb;\n                    color.a *= material.emission.a;\n                #endif\n\n                #ifdef TANGRAM_MATERIAL_AMBIENT\n                    color.rgb += light_accumulator_ambient.rgb * _color.rgb * material.ambient.rgb;\n                    color.a *= material.ambient.a;\n                #else\n                    #ifdef TANGRAM_MATERIAL_DIFFUSE\n                        color.rgb += light_accumulator_ambient.rgb * _color.rgb * material.diffuse.rgb;\n                    #endif\n                #endif\n\n                #ifdef TANGRAM_MATERIAL_DIFFUSE\n                    color.rgb += light_accumulator_diffuse.rgb * _color.rgb * material.diffuse.rgb;\n                    color.a *= material.diffuse.a;\n                #endif\n\n                #ifdef TANGRAM_MATERIAL_SPECULAR\n                    color.rgb += light_accumulator_specular.rgb * material.specular.rgb;\n                    color.a *= material.specular.a;\n                #endif\n\n                // Clamp final color\n                color = clamp(color, 0.0, 1.0);\n\n                return color;\n            }");ql.addBlock(t.block,s)}}}]),t}();Ql.types={},Ql.block="lighting",Ql.enabled=!0;var tu=function(){Er(e,Ql);var t=jr(e);function e(n,r){var i;return mr(this,e),(i=t.call(this,n,r)).type="ambient",i.struct_name="AmbientLight",i}return _r(e,[{key:"setupProgram",value:function(t){t.uniform("3fv","u_".concat(this.name,".ambient"),this.ambient)}}],[{key:"inject",value:function(){ql.addBlock(Ql.block,"/*Expected globals:light_accumulator_**/struct AmbientLight{vec3 ambient;};void calculateLight(in AmbientLight _light,in vec3 _eyeToPoint,in vec3 _normal){light_accumulator_ambient.rgb+=_light.ambient;}")}}]),e}();Ql.types.ambient=tu;var eu=function(){Er(e,Ql);var t=jr(e);function e(n,r){var i,o;return mr(this,e),(i=t.call(this,n,r)).type="directional",i.struct_name="DirectionalLight",r.direction?i._direction=r.direction:(o=Math.sin(60*Math.PI/180),i._direction=[Math.cos(135*Math.PI/180)*o,Math.sin(135*Math.PI/180)*o,-.5]),null==r.ambient&&(i.ambient=zl.expandVec3(.5)),i.direction=i._direction.map(parseFloat),i._initial_direction=[i.direction[0],i.direction[1],i.direction[2]],i}return _r(e,[{key:"update",value:function(){Fo(this.direction,this._initial_direction,this.view.lookAtManipulator.getTransformationMatrix())}},{key:"setupProgram",value:function(t){Ir(Sr(e.prototype),"setupProgram",this).call(this,t),t.uniform("3fv","u_".concat(this.name,".direction"),this.direction)}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction=Jl.normalize(Jl.copy(t))}}],[{key:"inject",value:function(){ql.addBlock(Ql.block,"/*Expected globals:materiallight_accumulator_**/struct DirectionalLight{vec3 ambient;vec3 diffuse;vec3 specular;vec3 direction;};void calculateLight(in DirectionalLight _light,in vec3 _eyeToPoint,in vec3 _normal){light_accumulator_ambient.rgb+=_light.ambient;float nDotVP=clamp(dot(_normal,-_light.direction),0.0,1.0);\n#ifdef TANGRAM_MATERIAL_DIFFUSE\nlight_accumulator_diffuse.rgb+=_light.diffuse*nDotVP;\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR\nfloat pf=0.0;if(nDotVP>0.0){vec3 reflectVector=reflect(_light.direction,_normal);float eyeDotR=max(dot(normalize(_eyeToPoint),reflectVector),0.0);pf=pow(eyeDotR,material.shininess);}light_accumulator_specular.rgb+=_light.specular*pf;\n#endif\n}")}}]),e}();Ql.types.directional=eu;var nu=function(){Er(e,Ql);var t=jr(e);function e(n,r){var i;return mr(this,e),(i=t.call(this,n,r)).type="point",i.struct_name="PointLight",i.position=r.position||[0,0,"100px"],i.position_eye=[],i.origin=r.origin||"ground",i.attenuation=isNaN(parseFloat(r.attenuation))?0:parseFloat(r.attenuation),r.radius?Array.isArray(r.radius)&&2===r.radius.length?i.radius=r.radius:i.radius=[null,r.radius]:i.radius=null,i}return _r(e,[{key:"inject",value:function(){Ir(Sr(e.prototype),"inject",this).call(this),ql.defines.TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT=0!==this.attenuation,ql.defines.TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS=null!=this.radius&&null!=this.radius[0],ql.defines.TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS=null!=this.radius}},{key:"update",value:function(){var t,e,n,r=this.view.lookAtManipulator.getLookAtData().zoom;"world"===this.origin?(e=(t=Pr(ei.latLngToMeters(this.position),2))[0],n=t[1],this.position_eye[0]=e-this.view.lookAtManipulator.getLookAtData().position[0],this.position_eye[1]=n-this.view.lookAtManipulator.getLookAtData().position[1],this.position_eye[2]=_o.convertUnits(this.position[2],{zoom:r,meters_per_pixel:ei.metersPerPixel(r)}),this.position_eye[2]=this.position_eye[2]-this.view.lookAtManipulator.getLookAtData().distance):"ground"!==this.origin&&"camera"!==this.origin||(this.position_eye=_o.convertUnits(this.position,{zoom:r,meters_per_pixel:ei.metersPerPixel(r)}),"ground"===this.origin&&(this.position_eye[2]=this.position_eye[2]-this.view.lookAtManipulator.getLookAtData().distance)),this.position_eye[3]=1}},{key:"setupProgram",value:function(t){Ir(Sr(e.prototype),"setupProgram",this).call(this,t),t.uniform("4fv","u_".concat(this.name,".position"),this.position_eye),ql.defines.TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT&&t.uniform("1f","u_".concat(this.name,".attenuationExponent"),this.attenuation);var n=this.view.lookAtManipulator.getLookAtData().zoom;ql.defines.TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS&&t.uniform("1f","u_".concat(this.name,".innerRadius"),_o.convertUnits(this.radius[0],{zoom:n,meters_per_pixel:ei.metersPerPixel(n)})),ql.defines.TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS&&t.uniform("1f","u_".concat(this.name,".outerRadius"),_o.convertUnits(this.radius[1],{zoom:n,meters_per_pixel:ei.metersPerPixel(n)}))}}],[{key:"inject",value:function(){ql.addBlock(Ql.block,"/*Expected globals:materiallight_accumulator_**/struct PointLight{vec3 ambient;vec3 diffuse;vec3 specular;vec4 position;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\nfloat attenuationExponent;\n#endif\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\nfloat innerRadius;\n#endif\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat outerRadius;\n#endif\n};void calculateLight(in PointLight _light,in vec3 _eyeToPoint,in vec3 _normal){float dist=length(_light.position.xyz-_eyeToPoint);vec3 VP=(_light.position.xyz-_eyeToPoint)/dist;float nDotVP=clamp(dot(VP,_normal),0.0,1.0);float attenuation=1.0;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\nfloat Rin=1.0;float e=_light.attenuationExponent;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\nRin=_light.innerRadius;\n#endif\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-(pow(d,e));\n#else\nfloat d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/(pow(d,e)),0.0,1.0);\n#endif\n#else\nfloat Rin=0.0;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\nRin=_light.innerRadius;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-d*d;\n#else\nfloat d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/d,0.0,1.0);\n#endif\n#else\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat d=clamp(dist/_light.outerRadius,0.0,1.0);attenuation=1.0-d*d;\n#else\nattenuation=1.0;\n#endif\n#endif\n#endif\nlight_accumulator_ambient.rgb+=_light.ambient*attenuation;\n#ifdef TANGRAM_MATERIAL_DIFFUSE\nlight_accumulator_diffuse.rgb+=_light.diffuse*nDotVP*attenuation;\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR\nfloat pf=0.0;if(nDotVP>0.0){vec3 reflectVector=reflect(-VP,_normal);float eyeDotR=max(0.0,dot(-normalize(_eyeToPoint),reflectVector));pf=pow(eyeDotR,material.shininess);}light_accumulator_specular.rgb+=_light.specular*pf*attenuation;\n#endif\n}")}}]),e}();Ql.types.point=nu;var ru=function(){Er(e,nu);var t=jr(e);function e(n,r){var i;return mr(this,e),(i=t.call(this,n,r)).type="spotlight",i.struct_name="SpotLight",i.direction=i._direction=(r.direction||[0,0,-1]).map(parseFloat),i._initial_direction=[i.direction[0],i.direction[1],i.direction[2]],i.exponent=r.exponent?parseFloat(r.exponent):.2,i.angle=r.angle?parseFloat(r.angle):20,i}return _r(e,[{key:"setupProgram",value:function(t){Ir(Sr(e.prototype),"setupProgram",this).call(this,t),t.uniform("3fv","u_".concat(this.name,".direction"),this.direction),t.uniform("1f","u_".concat(this.name,".spotCosCutoff"),Math.cos(3.14159*this.angle/180)),t.uniform("1f","u_".concat(this.name,".spotExponent"),this.exponent)}},{key:"update",value:function(){Ir(Sr(e.prototype),"update",this).call(this),Fo(this.direction,this._initial_direction,this.view.lookAtManipulator.getTransformationMatrix())}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction=Jl.normalize(Jl.copy(t))}}],[{key:"inject",value:function(){ql.addBlock(Ql.block,"/*Expected globals:materiallight_accumulator_**/struct SpotLight{vec3 ambient;vec3 diffuse;vec3 specular;vec4 position;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\nfloat attenuationExponent;\n#endif\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\nfloat innerRadius;\n#endif\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat outerRadius;\n#endif\nvec3 direction;float spotCosCutoff;float spotExponent;};void calculateLight(in SpotLight _light,in vec3 _eyeToPoint,in vec3 _normal){float dist=length(_light.position.xyz-_eyeToPoint);vec3 VP=(_light.position.xyz-_eyeToPoint)/dist;float nDotVP=clamp(dot(_normal,VP),0.0,1.0);float attenuation=1.0;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\nfloat Rin=1.0;float e=_light.attenuationExponent;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\nRin=_light.innerRadius;\n#endif\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-(pow(d,e));\n#else\nfloat d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/(pow(d,e)),0.0,1.0);\n#endif\n#else\nfloat Rin=0.0;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\nRin=_light.innerRadius;\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-d*d;\n#else\nfloat d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/d,0.0,1.0);\n#endif\n#else\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\nfloat d=clamp(dist/_light.outerRadius,0.0,1.0);attenuation=1.0-d*d;\n#else\nattenuation=1.0;\n#endif\n#endif\n#endif\nfloat spotAttenuation=0.0;float spotDot=clamp(dot(-VP,_light.direction),0.0,1.0);if(spotDot>=_light.spotCosCutoff){spotAttenuation=pow(spotDot,_light.spotExponent);}light_accumulator_ambient.rgb+=_light.ambient*attenuation*spotAttenuation;\n#ifdef TANGRAM_MATERIAL_DIFFUSE\nlight_accumulator_diffuse.rgb+=_light.diffuse*nDotVP*attenuation*spotAttenuation;\n#endif\n#ifdef TANGRAM_MATERIAL_SPECULAR\nfloat pf=0.0;if(nDotVP>0.0){vec3 reflectVector=reflect(-VP,_normal);float eyeDotR=max(dot(-normalize(_eyeToPoint),reflectVector),0.0);pf=pow(eyeDotR,material.shininess);}light_accumulator_specular.rgb+=_light.specular*pf*attenuation*spotAttenuation;\n#endif\n}")}}]),e}();Ql.types.spotlight=ru;var iu,ou="#ifdef TANGRAM_FRAGMENT_SHADER\nuniform sampler2D u_raster;uniform vec3 u_raster_offset;\n#define sampleRaster() (texture2D(u_raster, v_modelpos_base_zoom.xy * u_raster_offset.z + u_raster_offset.xy))\n#endif\n",au={init:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.generation,r=e.styles,i=e.sources,o=void 0===i?{}:i,a=e.introspection,s=e.id,l=void 0!==s?s+"/":"";this.scene_id=s,this.textureManager=No(s),this.main_thread_target="".concat(l,"Style/").concat(this.name),this.setGeneration(n),this.styles=r,this.sources=o,this.defines=this.hasOwnProperty("defines")&&this.defines||{},this.shaders=this.hasOwnProperty("shaders")&&this.shaders||{},this.introspection=a||!1,this.selection=this.selection||this.introspection||!1,this.compile_setup=!1,this.program=null,this.selection_program=null,this.feature_style={},this.vertex_template=[],this.tile_data={},this.defines.TANGRAM_WORLD_POSITION_WRAP=1e5,this.blend=this.blend||"opaque",this.defines["TANGRAM_BLEND_".concat(this.blend.toUpperCase())]=!0,null==this.blend_order&&(this.blend_order=-1),this.removeShaderBlock("setup"),this.material instanceof $l||($l.isValid(this.material)||(this.material=_o.defaults.material),this.material=new $l(this.material)),this.material.inject(this),Ql.setMode(this.lighting,this),this.setupRasters(),this.initialized=!0},destroy:function(){this.program&&(this.program.destroy(),this.program=null),this.selection_program&&(this.selection_program.destroy(),this.selection_program=null),hi.removeTarget(this.main_thread_target),this.gl=null,this.initialized=!1},reset:function(){},baseStyle:function(){return this.base||this.name},setGeneration:function(t){this.generation=t,ci.is_main&&hi.addTarget(this.main_thread_target,this)},fillVertexTemplate:function(t,e,n,r){var i=r.size,o=void 0===(o=r.offset)?0:o,a=t.index[e];if(void 0!==a)for(var s=0;s<i;++s){var l=n.length>s?n[s]:n;this.vertex_template[a+s+o]=l}else Si("warn","Style: in style '".concat(this.name,"', no index found in vertex layout for attribute '").concat(e,"'"))},startData:function(t){this.tile_data[t.id]=this.tile_data[t.id]||{meshes:{},uniforms:{},textures:[]}},endData:function(t){var e=this.tile_data[t.id];if(this.tile_data[t.id]=null,e&&0<Object.keys(e.meshes).length){for(var n in e.meshes){var r=e.meshes[n];0!==r.vertex_data.vertex_count?(r.vertex_data.end(),r.vertex_elements=r.vertex_data.element_buffer,r.vertex_data=r.vertex_data.vertex_buffer):delete e.meshes[n]}return t.mesh_data[this.name]=e,this.buildRasterTextures(t,e).then((function(t){return t}))}return Promise.resolve(null)},hasDataForTile:function(t){return null!=this.tile_data[t.id]},getTileMesh:function(t,e){var n=this.tile_data[t.id].meshes;return null==n[e.key]&&(n[e.key]={variant:e,vertex_data:this.vertexLayoutForMeshVariant(e).createVertexData()}),n[e.key]},vertexLayoutForMeshVariant:function(){return this.vertex_layout},default_mesh_variant:{key:0},meshVariantTypeForDraw:function(){return this.default_mesh_variant},addFeature:function(t,e,n){var r=n.tile;this.tile_data[r.id]||this.startData(r);var i,o,a,s=this.parseFeature(t,e,n);s&&(o=(i=this.getTileMesh(r,this.meshVariantTypeForDraw(s))).vertex_data.offset,a=i.vertex_data.vertex_count,0<this.buildGeometry(t.geometry,s,i,n)?t.generation=this.generation:i.vertex_data.vertex_count>a&&(i.vertex_data.vertex_buffer.fill(0,o,i.vertex_data.offset),i.vertex_data.vertex_count=a,i.vertex_data.offset=o))},buildGeometry:function(t,e,n,r){var i;return"Polygon"===t.type?i=this.buildPolygons([t.coordinates],e,n,r):"MultiPolygon"===t.type?i=this.buildPolygons(t.coordinates,e,n,r):"LineString"===t.type?i=this.buildLines([t.coordinates],e,n,r):"MultiLineString"===t.type?i=this.buildLines(t.coordinates,e,n,r):"Point"===t.type?i=this.buildPoints([t.coordinates],e,n,r):"MultiPoint"===t.type&&(i=this.buildPoints(t.coordinates,e,n,r)),i},parseFeature:function(t,e,n){try{var r,i,o,a=this.feature_style;if(a.order=this.parseOrder(e.order,n),null==a.order&&"overlay"!==this.blend){var s="Layer '".concat(e.layers.join(", "),"', draw group '").concat(e.group,"': ");return s+="'order' parameter is required unless blend mode is 'overlay'",null!=e.order&&(s+="; 'order' was set to a dynamic value (e.g. string tied to feature property, ",s+="or JS function), but evaluated to null for one or more features"),void Si({level:"warn",once:!0},s)}if(!(a=this._parseFeature(t,e,n)))return;return this.selection?a.interactive=_o.evalProperty(this.introspection||e.interactive,n):a.interactive=!1,!0===a.interactive?(i=(r=Wl.makeEntry()).color,o=r.key,a.selection_color=i,n.tile.selection_data||(n.tile.selection_data={}),n.tile.selection_data[o]={id:t.id||o,properties:t.properties,source_name:n.source,source_layer:n.layer,layers:n.layers}):a.selection_color=Wl.defaultColor,a}catch(e){Si("error","Style.parseFeature: style parsing error",t,a,e.stack)}},_parseFeature:function(){return this.feature_style},preprocess:function(t,e){if(!t.preprocessed){if(this.draw)for(var n in this.draw){var r=this.draw[n];"object"!==yr(r)||Array.isArray(r)?null==t[n]&&(t[n]=r):t[n]=yl({},r,t[n])}var i=e||"";if(!(t=this._preprocess(t,i)))return;t.preprocessed=!0}return t},_preprocess:function(t){return t},parseOrder:function(t,e){return"number"!=typeof t?_o.calculateOrder(t,e):t},scaleOrder:function(t){return 2*t},parseColor:function(t,e){return t?_o.evalCachedColorProperty(t,e):this.shaders.blocks.color||this.shaders.blocks.filter?_o.defaults.color:void 0},buildPolygons:function(){return 0},buildLines:function(){return 0},buildPoints:function(){return 0},setGL:function(t){this.gl=t,this.max_texture_size=this.textureManager.getMaxTextureSize(this.gl)},makeMesh:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.vertexLayoutForMeshVariant(r.variant);return new Xl(this.gl,t,e,i,this.scene_id,r)},render:function(t){return t.render()},getProgram:function(t){var e=0<arguments.length&&void 0!==t?t:"program";this.compileSetup();var n=this[e];if(n&&!n.error){if(!n.compiled)try{n.compile()}catch(t){Si("error","Style: error compiling program for style '".concat(this.name,"' (program key '").concat(e,"')"),this,t.stack)}return n}},compileSetup:function(){if(!this.compile_setup){if(!this.gl)throw new Error("style.compile(): skipping for ".concat(this.name," because no GL context"));var t,e=this.buildDefineList();this.selection&&((t=Object.assign({},e)).TANGRAM_FEATURE_SELECTION=!0);var n=this.shaders&&this.shaders.blocks,r=this.shaders&&this.shaders.block_scopes,i=Object.assign({},this.shaders&&this.shaders.uniforms);for(var o in i)null==i[o]&&Si({level:"warn",once:!0},"Style '".concat(this.name,"' has invalid uniform '").concat(o,"': uniform values must be non-null"));var a=this.shaders&&this.shaders.extensions;"string"==typeof a&&(a=[a]),this.program=new ql(this.gl,this.vertex_shader_src,this.fragment_shader_src,this.scene_id,{name:this.name,defines:e,uniforms:i,blocks:n,block_scopes:r,extensions:a}),this.selection?this.selection_program=new ql(this.gl,this.vertex_shader_src,this.crop_by_tile?"\n#pragma tangram: utils\n#ifdef TANGRAM_FEATURE_SELECTION\nuniform float u_meters_per_pixel;varying vec4 v_selection_color;varying vec4 v_local_space_position;\n#endif\nvoid main(void){\n#ifdef TANGRAM_FEATURE_SELECTION\nif(isLocalSpacePixelOutsideTile(v_local_space_position,TANGRAM_TILE_SCALE.x)){discard;}else{gl_FragColor=v_selection_color;}\n#else\ngl_FragColor=vec4(0.,0.,0.,1.);\n#endif\n}":"\n#ifdef TANGRAM_FEATURE_SELECTION\nvarying vec4 v_selection_color;\n#endif\nvoid main(void){\n#ifdef TANGRAM_FEATURE_SELECTION\ngl_FragColor=v_selection_color;\n#else\ngl_FragColor=vec4(0.,0.,0.,1.);\n#endif\n}",this.scene_id,{name:this.name+" (selection)",defines:t,uniforms:i,blocks:n,block_scopes:r,extensions:a}):this.selection_program=null,this.compile_setup=!0}},addShaderBlock:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null;this.shaders.blocks=this.shaders.blocks||{},this.shaders.blocks[t]=this.shaders.blocks[t]||[],this.shaders.blocks[t].push(e),this.shaders.block_scopes=this.shaders.block_scopes||{},this.shaders.block_scopes[t]=this.shaders.block_scopes[t]||[],this.shaders.block_scopes[t].push(r)},removeShaderBlock:function(t){this.shaders.blocks&&(this.shaders.blocks[t]=null)},replaceShaderBlock:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null;this.removeShaderBlock(t),this.addShaderBlock(t,e,r)},buildDefineList:function(){var t={};if(null!=this.defines)for(var e in this.defines)t[e]=this.defines[e];if(null!=this.shaders&&null!=this.shaders.defines)for(e in this.shaders.defines)t[e]=this.shaders.defines[e];return t},hasRasters:function(){return-1<["color","normal","custom"].indexOf(this.raster)},setupRasters:function(){if(!ci.is_main)return!1;if(!this.hasRasters())return!1;"color"===this.raster?this.defines.TANGRAM_RASTER_TEXTURE_COLOR=!0:"normal"===this.raster&&(this.defines.TANGRAM_RASTER_TEXTURE_NORMAL=!0);var t=!1;for(var e in this.sources)if(this.sources[e]instanceof ra){t=!0;break}return!!t&&(this.defines.TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING=!0,this.replaceShaderBlock("raster",ou,"Raster"),!0)},buildRasterTextures:function(t,e){var n=this;if(!this.hasRasters())return Promise.resolve(e);var r={};return t.rasters.map((function(t){return n.sources[t]})).filter((function(t){return t})).forEach((function(e,n){var i;e instanceof ra&&(i=e.tileTexture(t),r[i.url]=i)})),0===Object.keys(r).length?Promise.resolve(e):hi.postMessage(this.main_thread_target+".loadTextures",r).then((function(n){if(!n||n.length<1)return Si("trace","Missing texture info for tile ".concat(t.key)),null;if(n.some((function(t){return!t.loaded})))return null;e.uniforms=e.uniforms||{},e.textures=e.textures||[];var i,o,a=n[0].name,s=r[a].coords;return e.uniforms.u_raster=a,e.textures.push(a),t.coords.z>s.z?(i=t.coords.z-s.z,o=Math.pow(2,i),e.uniforms.u_raster_offset=[(t.coords.x%o+o)%o/o,(o-1-t.coords.y%o)/o,1/o]):e.uniforms.u_raster_offset=[0,0,1],e}))},loadTextures:function(t){var e=this;return this.textureManager.createFromObject(this.gl,t).then((function(){return Promise.all(Object.keys(t).map((function(t){return e.textureManager.textures[t]&&e.textureManager.textures[t].load()})).filter((function(t){return t})))})).then((function(t){return t.forEach((function(t){return t.retain()})),t.map((function(t){return{name:t.name,width:t.width,height:t.height,loaded:t.loaded}}))}))},setup:function(){this.setUniforms(),this.material.setupProgram(ql.current)},setUniforms:function(){var t=ql.current;t&&t.setUniforms(this.shaders&&this.shaders.uniforms,!0)},render_states:{opaque:{depth_test:!0,depth_write:!0},translucent:{depth_test:!0,depth_write:!0},add:{depth_test:!0,depth_write:!1},multiply:{depth_test:!0,depth_write:!1},inlay:{depth_test:!0,depth_write:!1},overlay:{depth_test:!1,depth_write:!1}},default_blend_orders:{opaque:0,add:1,multiply:2,inlay:3,translucent:4,overlay:5},sortByBlendOrderWithinLayers:function(t){var e=[],n={};for(var r in t.forEach((function(t){var e=parseInt(t.name,10)||0;n[e]||(n[e]=[]),n[e].push(t)})),n)e.push.apply(e,Rr(n[r].sort(au.blendOrderSort)));return e},blendOrderSort:function(t,e){return"opaque"===t.blend||"opaque"===e.blend?"opaque"===t.blend&&"opaque"===e.blend?t.name<e.name?-1:1:"opaque"===t.blend?-1:1:t.blend_order<e.blend_order||!(t.blend_order>e.blend_order)&&(au.default_blend_orders[t.blend]<au.default_blend_orders[e.blend]||!(au.default_blend_orders[t.blend]>au.default_blend_orders[e.blend])&&t.name<e.name)?-1:1}},su=iu={};iu.BYTE=5120,iu.UNSIGNED_BYTE=5121,iu.SHORT=5122,iu.UNSIGNED_SHORT=5123,iu.INT=5124,iu.UNSIGNED_INT=5125,iu.FLOAT=5126;var lu,uu=Math.pow(2,16)-1,cu=!1,hu=function(){function t(e){mr(this,t),this.size_=e||1024,this.position_=0,this.ArrayType_=Uint16Array,this.buffer_=new this.ArrayType_(this.size_),this.overflows_=!1}return _r(t,[{key:"push",value:function(t){if(!this.overflows_||cu){if(uu<t){if(this.overflows_=!0,!cu)return;this.ArrayType_===Uint16Array&&(this.ArrayType_=Uint32Array,this.buffer_=new this.ArrayType_(this.buffer_))}this.position_===this.size_&&this.expand_(),this.buffer_[this.position_]=t,this.position_+=1}}},{key:"end",value:function(){if(0===this.position_)return!1;var t=this.buffer_,e=this.position_;return this.buffer_=new this.ArrayType_(this.size_),this.position_=0,this.overflows_=!1,t.subarray(0,e)}},{key:"expand_",value:function(){this.size_=this.size_<<1;var t=new this.ArrayType_(this.size_);t.set(this.buffer_),this.buffer_=t}}]),t}();hu.setElementIndexUint=function(t){cu=t};var fu=(xr(lu={},su.FLOAT,Float32Array),xr(lu,su.BYTE,Int8Array),xr(lu,su.UNSIGNED_BYTE,Uint8Array),xr(lu,su.INT,Int32Array),xr(lu,su.UNSIGNED_INT,Uint32Array),xr(lu,su.SHORT,Int16Array),xr(lu,su.UNSIGNED_SHORT,Uint16Array),lu),pu=function(){function t(e){var n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).prealloc,r=void 0===n?500:n;mr(this,t),this.vertex_layout=e,this.vertex_elements=new hu,this.stride=this.vertex_layout.stride,0<t.array_pool.length?(this.vertex_buffer=t.array_pool.pop(),this.byte_length=this.vertex_buffer.byteLength,this.size=Math.floor(this.byte_length/this.stride),Si("trace","VertexData: reused buffer of bytes ".concat(this.byte_length,", ").concat(this.size," vertices"))):(this.size=r,this.byte_length=this.stride*this.size,this.vertex_buffer=new Uint8Array(this.byte_length)),this.offset=0,this.vertex_count=0,this.realloc_count=0,this.setBufferViews(),this.setAddVertexFunction()}return _r(t,[{key:"setBufferViews",value:function(){var t=this;this.views={},this.views[su.UNSIGNED_BYTE]=this.vertex_buffer,this.vertex_layout.dynamic_attribs.forEach((function(e){var n;null==t.views[e.type]&&(n=fu[e.type],t.views[e.type]=new n(t.vertex_buffer.buffer))}))}},{key:"checkBufferSize",value:function(){var e;this.offset+this.stride>this.byte_length&&(this.size=Math.floor(1.5*this.size),this.size-=this.size%4,this.byte_length=this.stride*this.size,(e=new Uint8Array(this.byte_length)).set(this.vertex_buffer),t.array_pool.push(this.vertex_buffer),this.vertex_buffer=e,this.setBufferViews(),this.realloc_count++)}},{key:"setAddVertexFunction",value:function(){this.vertexLayoutAddVertex=this.vertex_layout.getAddVertexFunction()}},{key:"addVertex",value:function(t){this.checkBufferSize(),this.vertexLayoutAddVertex(t,this.views,this.offset),this.offset+=this.stride,this.vertex_count++}},{key:"end",value:function(){return this.vertex_buffer=this.vertex_buffer.subarray(0,this.offset),this.element_buffer=this.vertex_elements.end(),Si("trace","VertexData: ".concat(this.size," vertices total, realloc count ").concat(this.realloc_count)),this}}]),t}();pu.array_pool=[];var du=function(){function t(e){mr(this,t),this.attribs=e,this.dynamic_attribs=this.attribs.filter((function(t){return!t.static})),this.components=[],this.index={},this.offset={};for(var n=this.stride=0,r=0,i=0;i<this.attribs.length;i++){var o=this.attribs[i];if(null==o.static){o.offset=this.stride,o.byte_size=o.size;var a=0;switch(o.type){case su.FLOAT:case su.INT:case su.UNSIGNED_INT:o.byte_size*=4,a=2;break;case su.SHORT:case su.UNSIGNED_SHORT:o.byte_size*=2,a=1}3&o.byte_size&&(o.byte_size+=4-(3&o.byte_size)),this.stride+=o.byte_size;for(var s=o.offset>>a,l=0;l<o.size;l++)this.components.push({type:o.type,shift:a,offset:s++,index:r++});this.index[o.name]=n,n+=o.size,this.offset[o.name]=o.offset}else o.static=Array.isArray(o.static)?o.static:[o.static],o.method="vertexAttrib".concat(o.static.length,"fv")}}return _r(t,[{key:"enable",value:function(e,n,r){for(var i,o,a=0;a<this.attribs.length;a++)i=this.attribs[a],-1!==(o=n.attribute(i.name).location)&&(null==i.static?(t.enabled_attribs[o]&&!r||e.enableVertexAttribArray(o),e.vertexAttribPointer(o,i.size,i.type,i.normalized,this.stride,i.offset),t.enabled_attribs[o]=n):e[i.method]instanceof Function&&(e.enableVertexAttribArray(o),e[i.method](o,i.static),e.disableVertexAttribArray(o),delete t.enabled_attribs[o]));for(o in t.enabled_attribs)this.disableUnusedAttribute(e,o,n)}},{key:"disableUnusedAttribute",value:function(e,n,r){t.enabled_attribs[n]!==r&&(e.disableVertexAttribArray(n),delete t.enabled_attribs[n])}},{key:"createVertexData",value:function(){return new pu(this)}},{key:"getAddVertexFunction",value:function(){return null==this.addVertex&&this.createAddVertexFunction(),this.addVertex}},{key:"createAddVertexFunction",value:function(){var e=Hl(JSON.stringify(this.attribs));if(null==t.add_vertex_funcs[e]){var n,r=["var t, o;"],i=Rr(this.components);i.sort((function(t,e){return t.type!==e.type?t.type-e.type:t.index-e.index}));for(var o=0;o<i.length;o++){var a=i[o];n!==a.type&&(r.push("t = vs[".concat(a.type,"];")),r.push("o = off".concat(a.shift?" >> "+a.shift:"",";")),n=a.type),r.push("t[o + ".concat(a.offset,"] = v[").concat(a.index,"];"))}r=r.join("\n");var s=new Function("v","vs","off",r);t.add_vertex_funcs[e]=s}this.addVertex=t.add_vertex_funcs[e]}}]),t}();du.enabled_attribs={},du.add_vertex_funcs={};var vu=[{x:0,y:0},{x:ei.tile_scale,y:-ei.tile_scale}],gu=[0,0,1,1];function yu(t,e,n){var r=vu[0],i=vu[1];return t[0]<=r.x+n&&e[0]<=r.x+n||t[0]>=i.x-n&&e[0]>=i.x-n||t[1]>=r.y-n&&e[1]>=r.y-n||t[1]<=i.y+n&&e[1]<=i.y+n}function mu(t,e){e=e||0;var n=vu[0],r=vu[1];return t[0]<=n.x+e||t[0]>=r.x-e||t[1]>=n.y-e||t[1]<=r.y+e}var bu=_u;function _u(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,h=c?e[0]*n:t.length,f=xu(t,0,h,n,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=xu(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(function(t){for(var e=t,n=t;e.x<n.x&&(n=e),(e=e.next)!==t;);return n}(a));for(s.sort(Eu),i=0;i<s.length;i++)!function(t,e){var n;(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s){if((a=s)===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&Tu(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<f||l===f&&r.x>n.x)&&Cu(r,t)&&(n=r,f=l),r=r.next;return n}(t,e))&&wu(n=ju(e,t),n.next)}(s[i],n),n=wu(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<h;d+=n)(s=t[d])<r&&(r=s),(l=t[d+1])<i&&(i=l),o<s&&(o=s),a<l&&(a=l);u=Math.max(o-r,a-i)}return ku(f,p,n,r,i,u),p}function xu(t,e,n,r,i){var o,a;if(i===0<Lu(t,e,n,r))for(o=e;o<n;o+=r)a=Iu(o,t[o],t[o+1],a);else for(o=n-r;e<=o;o-=r)a=Iu(o,t[o],t[o+1],a);return a&&Ou(a,a.next)&&(Pu(a),a=a.next),a}function wu(t,e){if(!t)return t;e=e||t;var n,r=t;do{if(n=!1,r.steiner||!Ou(r,r.next)&&0!==Au(r.prev,r,r.next))r=r.next;else{if(Pu(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function ku(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){for(var i=t;null===i.z&&(i.z=Su(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,(i=i.next)!==t;);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,o=t=null,a=0;n;){for(a++,r=n,e=s=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;0<s||0<l&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(n=(i=n).nextZ,s--):(r=(i=r).nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(1<a)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(0<=Au(i,o,a))return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Su(s,l,e,n,r),f=Su(u,c,e,n,r),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&Tu(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=Au(p.prev,p,p.next))return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&Tu(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=Au(p.prev,p,p.next))return!1;p=p.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(0<=Au(e,n,r))return!1;for(var i=t.next.next;i!==t.prev;){if(Tu(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=Au(i.prev,i,i.next))return!1;i=i.next}return!0}(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Pu(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?ku(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ou(i,o)&&Mu(i,r,r.next,o)&&Cu(i,o)&&Cu(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Pu(r),Pu(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===a&&function(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Mu(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Cu(t,e)&&Cu(e,t)&&function(t,e){for(var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==t;);return r}(t,e)}(a,s)){var l=ju(a,s);return a=wu(a,a.next),l=wu(l,l.next),ku(a,e,n,r,i,o),ku(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}(t,e,n,r,i,o):ku(wu(t),e,n,r,i,o,1);break}}}function Eu(t,e){return t.x-e.x}function Su(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Tu(t,e,n,r,i,o,a,s){return 0<=(i-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(r-s)-(n-a)*(e-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function Au(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ou(t,e){return t.x===e.x&&t.y===e.y}function Mu(t,e,n,r){return Ou(t,e)&&Ou(n,r)||Ou(t,r)&&Ou(n,e)||0<Au(t,e,n)!=0<Au(t,e,r)&&0<Au(n,r,t)!=0<Au(n,r,e)}function Cu(t,e){return Au(t.prev,t,t.next)<0?0<=Au(t,e,t.next)&&0<=Au(t,t.prev,e):Au(t,e,t.prev)<0||Au(t,t.next,e)<0}function ju(t,e){var n=new Ru(t.i,t.x,t.y),r=new Ru(e.i,e.x,e.y),i=t.next,o=e.prev;return(t.next=e).prev=t,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function Iu(t,e,n,r){var i=new Ru(t,e,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Pu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ru(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lu(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}_u.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Lu(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(Lu(t,u,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[1+p]-t[1+f])-(t[f]-t[p])*(t[1+d]-t[1+f]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},_u.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);0<i&&(r+=t[i-1].length,n.holes.push(r))}return n};var Nu=[0,0,1];function Du(t,e,n,r){var i,o,a,s,l,u=r.texcoord_index,c=r.texcoord_scale,h=r.texcoord_normalize,f=e.vertex_elements;u&&(h=h||1,o=(i=Pr(c||gu,4))[0],a=i[1],s=i[2],l=i[3]);for(var p,d=0,v=t.length,g=0;g<v;g++){var y,m,b,_,x,w=e.vertex_count,k=t[g];u&&(m=(y=Pr(ei.findBoundingBox(k),4))[0],b=y[1],_=(s-o)/(y[2]-m),x=(l-a)/(y[3]-b));for(var E=0;E<k.length;E++)for(var S=k[E],T=0;T<S.length;T++){var A=S[T];n[0]=A[0],n[1]=A[1],u&&(n[u+0]=((A[0]-m)*_+o)*h,n[u+1]=((A[1]-b)*x+a)*h),e.addVertex(n)}for(var O=(p=bu.flatten(k),bu(p.vertices,p.holes,p.dimensions)),M=0;M<O.length;M++)f.push(w+O[M]);d+=O.length/3}return d}var zu="uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_tile_proxy_depth;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform mat4 u_model;uniform mat4 u_modelView;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;attribute vec4 a_position;attribute vec4 a_color;\n#ifdef TANGRAM_NORMAL_ATTRIBUTE\nattribute vec3 a_normal;\n#define TANGRAM_NORMAL a_normal\n#else\n#define TANGRAM_NORMAL vec3(0., 0., 1.)\n#endif\n#ifdef TANGRAM_EXTRUDE_LINES\nattribute vec2 a_extrude;attribute vec2 a_offset;attribute vec2 a_scaling;uniform float u_v_scale_adjust;\n#endif\nvarying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;\n#if defined(TANGRAM_TEXTURE_COORDS) || defined(TANGRAM_EXTRUDE_LINES)\nattribute vec2 a_texcoord;varying vec2 v_texcoord;\n#endif\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\nvarying vec4 v_modelpos_base_zoom;\n#endif\n#if defined(TANGRAM_LIGHTING_VERTEX)\nvarying vec4 v_lighting;\n#endif\n#define UNPACK_SCALING(x) (x / 1024.)\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\nvoid main(){\n#pragma tangram: setup\n#ifdef TANGRAM_TEXTURE_COORDS\nv_texcoord=a_texcoord;\n#ifdef TANGRAM_EXTRUDE_LINES\nv_texcoord.y*=u_v_scale_adjust;\n#endif\n#endif\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\nv_modelpos_base_zoom=modelPositionBaseZoom();\n#endif\nvec4 position=vec4(a_position.xy,a_position.z/TANGRAM_HEIGHT_SCALE,1.);\n#ifdef TANGRAM_EXTRUDE_LINES\nvec2 extrude=a_extrude.xy;vec2 offset=a_offset.xy;float dz=clamp(u_map_position.z-u_tile_origin.z,0.,4.);dz+=step(1.,dz)*(1.-dz)+mix(0.,2.,clamp((dz-2.)/2.,0.,1.));float mdz=(dz-0.5)*2.;extrude-=extrude*UNPACK_SCALING(a_scaling.x)*mdz;float dwdz=UNPACK_SCALING(a_scaling.y);float sdwdz=sign(step(0.,dwdz)-0.5);offset-=offset*abs(dwdz)*((1.-step(0.,sdwdz))-(dz*-sdwdz));float ssz=exp2(-dz-(u_tile_origin.z-u_tile_origin.w));extrude*=ssz;offset*=ssz;\n#ifdef TANGRAM_BLOCK_WIDTH\nfloat width=1.;\n#pragma tangram: width\nextrude*=width;\n#endif\nposition.xy+=extrude+offset;\n#endif\nv_world_position=wrapWorldPosition(u_model*position);v_local_space_position=position;position=u_modelView*position;\n#pragma tangram: position\nv_position=position;v_normal=normalize(u_normalMatrix*TANGRAM_NORMAL);v_color=a_color;\n#if defined(TANGRAM_LIGHTING_VERTEX)\nvec3 normal=v_normal;\n#pragma tangram: normal\nv_lighting=calculateLighting(position.xyz-u_eye,normal,vec4(1.));\n#endif\ncameraProjection(position);applyLayerOrder(a_position.w+u_tile_proxy_depth+1.,position);\n#if defined(SNAP_TO_PIXEL_GRID)\nsnapToPixelGrid(position);\n#endif\ngl_Position=position;}",Fu="uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;\n#ifdef TANGRAM_EXTRUDE_LINES\nuniform bool u_has_line_texture;uniform sampler2D u_texture;uniform float u_texture_ratio;uniform vec4 u_dash_background_color;\n#endif\n#define TANGRAM_NORMAL v_normal\n#if defined(TANGRAM_TEXTURE_COORDS) || defined(TANGRAM_EXTRUDE_LINES)\nvarying vec2 v_texcoord;\n#endif\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\nvarying vec4 v_modelpos_base_zoom;\n#endif\n#if defined(TANGRAM_LIGHTING_VERTEX)\nvarying vec4 v_lighting;\n#endif\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\n#pragma tangram: utils\nvoid main(void){\n#pragma tangram: setup\nvec4 color=v_color;vec3 normal=TANGRAM_NORMAL;\n#ifdef TANGRAM_CROP_BY_TILE\nif(isLocalSpacePixelOutsideTile(v_local_space_position,TANGRAM_TILE_SCALE.x)){discard;}\n#endif\n#ifdef TANGRAM_RASTER_TEXTURE_COLOR\ncolor*=sampleRaster();\n#endif\n#ifdef TANGRAM_EXTRUDE_LINES\nif(u_has_line_texture){vec2 _line_st=vec2(v_texcoord.x,fract(v_texcoord.y/u_texture_ratio));vec4 _line_color=texture2D(u_texture,_line_st);if(_line_color.a<TANGRAM_ALPHA_TEST){\n#if !defined(TANGRAM_BLEND_OVERLAY) && !defined(TANGRAM_BLEND_INLAY)\nif(u_dash_background_color.a==0.){discard;}color=u_dash_background_color;\n#else\ncolor=vec4(u_dash_background_color.rgb,color.a*step(TANGRAM_EPSILON,u_dash_background_color.a));\n#endif\n}else{color*=_line_color;}}\n#endif\n#ifdef TANGRAM_RASTER_TEXTURE_NORMAL\nnormal=normalize(sampleRaster().rgb*2.-1.);\n#endif\n#if defined(TANGRAM_LIGHTING_FRAGMENT) && defined(TANGRAM_MATERIAL_NORMAL_TEXTURE)\ncalculateNormal(normal);\n#endif\n#if !defined(TANGRAM_LIGHTING_VERTEX)\n#pragma tangram: normal\n#endif\n#pragma tangram: color\n#if defined(TANGRAM_LIGHTING_FRAGMENT)\ncolor=calculateLighting(v_position.xyz-u_eye,normal,color);\n#elif defined(TANGRAM_LIGHTING_VERTEX)\ncolor*=v_lighting;\n#endif\n#pragma tangram: filter\ngl_FragColor=color;}",Bu=Object.create(au);Object.assign(Bu,{name:"polygons",built_in:!0,vertex_shader_src:zu,fragment_shader_src:Fu,selection:!0,init:function(){au.init.apply(this,arguments),this.defines.TANGRAM_NORMAL_ATTRIBUTE=!0,this.defines.TANGRAM_LAYER_ORDER=!0,this.defines.TANGRAM_CROP_BY_TILE=this.crop_by_tile,this.texcoords&&(this.defines.TANGRAM_TEXTURE_COORDS=!0)},vertexLayoutForMeshVariant:function(){var t;return this.vertex_layout||(t=[{name:"a_position",size:4,type:su.SHORT,normalized:!1},{name:"a_normal",size:3,type:su.BYTE,normalized:!0},{name:"a_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0}],this.texcoords&&t.push({name:"a_texcoord",size:2,type:su.UNSIGNED_SHORT,normalized:!0}),this.vertex_layout=new du(t)),this.vertex_layout},_parseFeature:function(t,e,n){var r=this.feature_style;return r.color=this.parseColor(e.color,n),r.color?(r.z=e.z&&_o.evalCachedDistanceProperty(e.z,n)||_o.defaults.z,r.z*=ei.height_scale,r.extrude=_o.evalProperty(e.extrude,n),r.extrude&&(!0===r.extrude?(r.height=void 0!==t.properties.height?t.properties.height:_o.defaults.height,r.min_height=void 0!==t.properties.min_height?t.properties.min_height:_o.defaults.min_height):"number"==typeof r.extrude?(r.height=r.extrude,r.min_height=0):Array.isArray(r.extrude)&&(r.min_height=r.extrude[0],r.height=r.extrude[1]),r.height*=ei.height_scale,r.min_height*=ei.height_scale),r.tile_edges=e.tile_edges,r):null},_preprocess:function(t){return t.color=_o.createColorPropertyCache(t.color),t.z=_o.createPropertyCache(t.z,_o.parseUnits),t},makeVertexTemplate:function(t){var e=0;return this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=t.z||0,this.vertex_template[e++]=this.scaleOrder(t.order),this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=127,this.vertex_template[e++]=255*t.color[0],this.vertex_template[e++]=255*t.color[1],this.vertex_template[e++]=255*t.color[2],this.vertex_template[e++]=255*t.color[3],this.selection&&(this.vertex_template[e++]=255*t.selection_color[0],this.vertex_template[e++]=255*t.selection_color[1],this.vertex_template[e++]=255*t.selection_color[2],this.vertex_template[e++]=255*t.selection_color[3]),this.texcoords&&(this.vertex_template[e++]=0,this.vertex_template[e++]=0),this.vertex_template},buildPolygons:function(t,e,n,r){var i=this.makeVertexTemplate(e),o={texcoord_index:this.vertex_layout.index.a_texcoord,texcoord_normalize:65535,remove_tile_edges:!e.tile_edges,tile_edge_tolerance:ei.tile_scale*r.tile.pad_scale*4,winding:r.winding};return e.extrude&&e.height?function(t,e,n,r,i,o,a,s,l){var u=l.remove_tile_edges,c=l.tile_edge_tolerance,h=l.texcoord_index,f=l.texcoord_scale,p=l.texcoord_normalize,d=l.winding,v=e+(r||0),g=e+n;o[2]=g;var y,m,b,_,x,w,k=Du(t,i,o,{texcoord_index:h,texcoord_scale:f,texcoord_normalize:p}),E=i.vertex_elements,S=i.vertex_count;h&&(p=p||1,m=(y=Pr(f||gu,4))[0],b=y[1],_=y[2],w=[[m,x=y[3]],[m,b],[_,b],[_,x]]);for(var T=t.length,A=0;A<T;A++)for(var O=t[A],M=0;M<O.length;M++)for(var C=O[M],j=0;j<C.length-1;j++)if(!u||!yu(C[j],C[j+1],c)){var I,P=void 0,R=[[C[I="CCW"===d?(P=j)+1:(P=j+1,j)][0],C[I][1],g],[C[I][0],C[I][1],v],[C[P][0],C[P][1],v],[C[P][0],C[P][1],g]],L=Jl.normalize([C[I][0]-C[P][0],C[I][1]-C[P][1],0]),N=Jl.cross(Nu,L);o[a+0]=127*N[0],o[a+1]=127*N[1],o[a+2]=127*N[2];for(var D=0;D<R.length;D++)o[0]=R[D][0],o[1]=R[D][1],o[2]=R[D][2],h&&(o[h+0]=w[D][0]*p,o[h+1]=w[D][1]*p),i.addVertex(o);E.push(S+0),E.push(S+1),E.push(S+2),E.push(S+2),E.push(S+3),E.push(S+0),S+=4,k+=2}return k}(t,e.z,e.height,e.min_height,n.vertex_data,i,this.vertex_layout.index.a_normal,0,o):Du(t,n.vertex_data,i,o)}});var Hu=[0,0],Uu={butt:0,square:1,round:2},Vu={miter:0,bevel:1,round:2},Gu=3,qu=1,Yu=1,Wu=5,Zu=ei.tile_scale,Xu=[0,0],Ku=[1,0],$u=[.5,0];function Ju(t,e){if(!(t.length<2)){var n,r,i=e.join_type,o=e.cap_type,a=e.closed_polygon,s=e.remove_tile_edges,l=e.tile_edge_tolerance,u=e.v_scale,c=e.miter_len_sq,h=e.crop_by_tile,f=null!=e.texcoord_index,p=0;if(a&&i===Vu.miter){var d=function(t){if(mu(t[0]))return 0;for(var e=0;e<t.length;e++)if(mu(t[t.length-1-e]))return t.length-1-e;return 0}(t);if(0!==d){var v=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=(r+e)%t.length;0!=i&&n.push(t[i])}return n.push(n[0]),n}(t,d);return e.extra_lines=e.extra_lines||[],void e.extra_lines.push(v)}}var g=0,y=t.length-1,m=0;for(k=t[g],E=t[g+1];Jl.isEqual(k,E);)if(k=E,E=t[1+ ++g],m++,g===t.length-1)return;for(;Jl.isEqual(t[y],t[y-1]);)if(m++,0===--y)return;if(!(t.length<2+m))if(r=Jl.normalize(Jl.perp(k,E)),s&&yu(k,E,l)){var b=Qu(t,g,l);b&&(e.extra_lines=e.extra_lines||[],e.extra_lines.push(b))}else{a?function(t,e,n,r,i){void 0===r||mu(t)&&!i.crop_by_tile?(ic(t,n,n,1,0,i,1),ic(t,n,n,0,0,i,-1)):r===Vu.miter?ec(0,t,e,n,i.miter_len_sq,!0,i):nc(r,0,t,e,n,!0,i)}(k,n=Jl.normalize(Jl.perp(t[y-1],k)),r,i,e):(!h&&mu(k)||(sc(k,p,r,o,!0,e),f&&o!==Uu.butt&&(p+=.5*u*e.texcoord_width)),ic(k,r,r,1,p,e,1),ic(k,r,r,0,p,e,-1)),f&&(p+=u*Jl.length(Jl.sub(E,k)));for(var _=g+1;_<y;_++){var x=_,w=_+1,k=t[x],E=t[w];if(!Jl.isEqual(k,E)){if(s&&yu(k,E,l)){ic(k,r,r,1,p,e,1),ic(k,r,r,0,p,e,-1),rc(1,e);var S=Qu(t,x+1,l);return void(S&&(e.extra_lines=e.extra_lines||[],e.extra_lines.push(S)))}n=r,r=Jl.normalize(Jl.perp(k,E)),i===Vu.miter?ec(p,k,n,r,c,!1,e):nc(i,p,k,n,r,!1,e),f&&(p+=u*Jl.length(Jl.sub(E,k)))}}k=E,n=r,a?function(t,e,n,r,i,o){var a;mu(t)&&!o.crop_by_tile?(ic(t,e,e,1,i,o,1),ic(t,e,e,0,i,o,-1)):(a=tc(e,n),r===Vu.miter&&Jl.lengthSq(a)>o.miter_len_sq&&(r=Vu.bevel),r===Vu.miter?(ic(t,a,e,1,i,o,1),ic(t,a,e,0,i,o,-1)):(ic(t,e,e,1,i,o,1),ic(t,e,e,0,i,o,-1))),rc(1,o)}(k,n,r=Jl.normalize(Jl.perp(k,t[1])),i,p,e):(ic(k,n,r,1,p,e,1),ic(k,n,r,0,p,e,-1),rc(1,e),!h&&mu(k)||sc(k,p,n,o,!1,e))}}}function Qu(t,e,n){for(var r=e;t[r+1]&&yu(t[r],t[r+1],n);)r++;return 2<=t.length-r&&t.slice(r)}function tc(t,e){var n=Jl.normalize(Jl.add(t,e)),r=2/(1+Math.abs(Jl.dot(t,n)));return Jl.mult(n,r*r)}function ec(t,e,n,r,i,o,a){var s=tc(n,r);Jl.lengthSq(s)>i?nc(Vu.bevel,t,e,n,r,o,a):(ic(e,s,s,1,t,a,1),ic(e,s,s,0,t,a,-1),o||rc(1,a))}function nc(t,e,n,r,i,o,a){var s=tc(r,i),l=0<i[0]*r[1]-i[1]*r[0];null!=a.texcoord_index&&(Xu[1]=e,Ku[1]=e),l?(ic(n,s,s,1,e,a,1),ic(n,r,s,0,e,a,-1),o||rc(1,a),ac(n,Jl.neg(r),s,Jl.neg(i),s,Xu,Ku,Xu,!1,t===Vu.bevel,a),ic(n,s,s,1,e,a,1),ic(n,i,s,0,e,a,-1)):(ic(n,r,s,1,e,a,1),ic(n,s,s,0,e,a,-1),o||rc(1,a),ac(n,r,Jl.neg(s),i,s,Ku,Xu,Ku,!1,t===Vu.bevel,a),ic(n,i,s,1,e,a,1),ic(n,s,s,0,e,a,-1))}function rc(t,e){for(var n=e.vertex_data.vertex_elements,r=e.vertex_data.vertex_count-2*t-2,i=0;i<t;i++)n.push(r+2*i+2),n.push(r+2*i+1),n.push(r+2*i),n.push(r+2*i+2),n.push(r+2*i+3),n.push(r+2*i+1),e.geom_count+=2}function ic(t,e,n,r,i,o,a){var s=o.vertex_template,l=o.vertex_data;s[0]=t[0],s[1]=t[1];var u=o.half_width*a;s[o.extrude_index+0]=e[0]*u,s[o.extrude_index+1]=e[1]*u,o.offset&&(s[o.offset_index+0]=n[0]*o.offset,s[o.offset_index+1]=n[1]*o.offset),null!=o.texcoord_index&&(s[o.texcoord_index+0]=r*o.texcoord_normalize,s[o.texcoord_index+1]=i*o.texcoord_normalize),l.addVertex(s)}var oc=[0,0];function ac(t,e,n,r,i,o,a,s,l,u,c){for(var h=e[0]*r[1]-e[1]*r[0],f=Jl.dot(e,r),p=Math.atan2(h,f);p>=Math.PI;)p-=2*Math.PI;if(u)d=1;else{var d=function(t,e){t<0&&(t=-t);var n=e>2*Wu?Math.log2(e/Wu):1;return Math.ceil(t/Math.PI*n)}(p,c.half_width);if(d<1)return}var v=c.vertex_data.vertex_count,g=c.vertex_data.vertex_elements;ic(t,n,i,a[0],a[1],c,1),ic(t,e,i,o[0],o[1],c,1);var y,m,b=e,_=null!=c.texcoord_index;_&&(l?y=Jl.sub(o,a):(oc=Jl.copy(o),m=Jl.div(Jl.sub(s,o),d)));for(var x,w=p/d,k=p<0?-1:1,E=0<h?(x=2,1):(x=1,2),S=0;S<d;S++)0===S&&p<0&&(b=Jl.neg(b)),b=Jl.rot(b,w),_&&(l?(y=Jl.rot(y,w),oc[0]=y[0]+a[0],oc[1]=y[1]*c.texcoord_width*c.v_scale+a[1]):oc=Jl.add(oc,m)),ic(t,b,i,oc[0],oc[1],c,k),g.push(v+S+x),g.push(v),g.push(v+S+E)}function sc(t,e,n,r,i,o){var a,s=Jl.neg(n),l=null!=o.texcoord_index;switch(r){case Uu.square:i?(a=[n[1],-n[0]],ic(t,Jl.add(n,a),n,1,e,o,1),ic(t,Jl.add(s,a),n,0,e,o,1),l&&(e+=.5*o.texcoord_width*o.v_scale),ic(t,n,n,1,e,o,1),ic(t,s,n,0,e,o,1)):(a=[-n[1],n[0]],ic(t,n,n,1,e,o,1),ic(t,s,n,0,e,o,1),l&&(e+=.5*o.texcoord_width*o.v_scale),ic(t,Jl.add(n,a),n,1,e,o,1),ic(t,Jl.add(s,a),n,0,e,o,1)),rc(1,o);break;case Uu.round:var u,c,h=Xu,f=Ku,p=$u;i?(u=n,c=s,l&&(e+=.5*o.texcoord_width*o.v_scale,h=Ku,f=Xu,p=$u)):(u=s,c=n),l&&(Xu[1]=e,Ku[1]=e,$u[1]=e),ac(t,u,Hu,c,n,h,p,f,!0,!1,o);break;case Uu.butt:return}}var lc=[255,255,255,255],uc=[0,0,0,0],cc=Object.create(au);function hc(t,e,n,r,i,o){for(var a={closed:o,vertex_data:n,vertex_template:r,half_width:e/2,vertex_layout_index:i,geom_count:0},s=0,l=t.length;s<l;s++)!function(t,e){if(!(t.length<2)){for(var n=[t[0]],r=0,i=[],o=[],a=1,s=t.length;a<s;a++){var l,u;t[a][0]===t[a-1][0]&&t[a][1]===t[a-1][1]||(n.push(t[a]),l=Jl.sub(t[a],t[a-1]),u=Jl.length(l),i.push(l),o.push([r,r+u]),r+=u)}if(!(n.length<2)){var c=0,h=i[i.length-1],f=i[0],p=i[1],d=[0,0];2<n.length&&(e.closed&&(d[0]=Jl.signedAngleBetween(h,f)),d[1]=Jl.signedAngleBetween(f,p));var v=n[0],g=o[0];e.closed?(dc(v,e,c++,g,r,d,[h,f]),dc(v,e,c++,g,r,d,[h,f])):(dc(v,e,c++,g,r,d,[f,f]),dc(v,e,c++,g,r,d,[f,f]));for(var y=1,m=n.length-1;y<m;y++)v=n[y],h=i[y-1],f=i[y],p=i[y+1],dc(v,e,c++,g=o[y-1],r,d,[h,f]),dc(v,e,c++,g,r,d,[h,f]),fc(e),g=o[y],d[0]=d[1],d[1]=y!==m-1?Jl.signedAngleBetween(f,p):e.closed?Jl.signedAngleBetween(f,i[0]):0,dc(v,e,c++,g,r,d,[h,f]),dc(v,e,c++,g,r,d,[h,f]);v=n[n.length-1],g=o[o.length-1],f=i[i.length-1],e.closed?(dc(v,e,c++,g,r,d,[f,i[0]]),dc(v,e,c++,g,r,d,[f,i[0]])):(dc(v,e,c++,g,r,d,[f,f]),dc(v,e,c++,g,r,d,[f,f])),fc(e)}}}(t[s],a);return a.geom_count}function fc(t){var e=t.vertex_data.vertex_elements,n=t.vertex_data.vertex_count-4;e.push(2+n),e.push(1+n),e.push(n),e.push(2+n),e.push(3+n),e.push(1+n),t.geom_count+=2}cc.vertex_layouts=[[],[]],cc.variants={},cc.dash_textures={},Object.assign(cc,{name:"lines",built_in:!0,vertex_shader_src:zu,fragment_shader_src:Fu,selection:!0,init:function(){au.init.apply(this,arguments),this.styles=this.styles||{},this.defines.TANGRAM_LAYER_ORDER=!0,this.defines.TANGRAM_EXTRUDE_LINES=!0,this.defines.TANGRAM_CROP_BY_TILE=this.crop_by_tile,this.defines.TANGRAM_TEXTURE_COORDS=!0,this.outline_feature_style={},this.inline_feature_style=this.feature_style},calcDistance:function(t,e){return t&&_o.evalCachedDistanceProperty(t,e)||0},calcDistanceNextZoom:function(t,e){e.zoom++;var n=this.calcDistance(t,e);return e.zoom--,n},calcWidth:function(t,e,n){var r=this.calcDistance(t.width,n);if(!(r<0)){var i,o=t.next_width?this.calcDistanceNextZoom(t.next_width,n):r/2;return!(0===r&&0===o||o<0)&&(e.width_unscaled=r,e.next_width_unscaled=o,t.next_width?(i=.5*(r+(o*=2)),e.width=i*n.units_per_meter_overzoom,e.width_scale=1-o/i):(e.width=r*n.units_per_meter_overzoom,e.width_scale=0),t.texcoords&&(t.inline_texcoord_width?e.texcoord_width=t.inline_texcoord_width:e.texcoord_width=(e.width_unscaled||e.next_width_unscaled)*n.units_per_meter_overzoom/n.tile.overzoom2),!0)}},calcOffset:function(t,e,n){var r,i;t.offset_precalc?(e.offset=t.offset_precalc,e.offset_scale=t.offset_scale_precalc):t.offset?(r=this.calcDistance(t.offset,n),t.next_offset?(i=2*this.calcDistanceNextZoom(t.next_offset,n),Math.abs(r)>=Math.abs(i)?(e.offset=r*n.units_per_meter_overzoom,e.offset_scale=0!==r?1-i/r:0):(e.offset=i*n.units_per_meter_overzoom,e.offset_scale=0!=i?-1*(1-r/i):0)):(e.offset=r*n.units_per_meter_overzoom,e.offset_scale=0)):(e.offset=0,e.offset_scale=0),_o.evalProperty(t.offset_reverse,n)&&(e.offset*=-1)},_parseFeature:function(t,e,n){var r,i,o=this.feature_style;if(!1!==this.calcWidth(e,o,n)&&(this.calcOffset(e,o,n),o.color=this.parseColor(e.color,n),o.color))return o.variant=e.variant,o.z=e.z&&_o.evalCachedDistanceProperty(e.z||0,n)||_o.defaults.z,o.height=t.properties.height||_o.defaults.height,o.extrude=_o.evalProperty(e.extrude,n),o.extrude&&("number"==typeof o.extrude?o.height=o.extrude:Array.isArray(o.extrude)&&(o.height=o.extrude[1])),o.extrude&&o.height&&(o.z+=o.height),o.z*=ei.height_scale,o.height*=ei.height_scale,o.cap=_o.evalProperty(e.cap,n),o.join=_o.evalProperty(e.join,n),o.miter_limit=_o.evalProperty(e.miter_limit,n),o.tile_edges=e.tile_edges,o.outline=o.outline||{width:{},next_width:{},preprocessed:!0},e.outline&&!1!==e.outline.visible&&e.outline.color&&e.outline.width?(r=2*this.calcDistance(e.outline.width,n),i=2*this.calcDistanceNextZoom(e.outline.next_width,n),0==r&&0==i||r<0||i<0?(o.outline.width.value=null,o.outline.next_width.value=null,o.outline.color=null,o.outline.inline_texcoord_width=null,o.outline.texcoords=!1):(o.outline.width.value=r+o.width_unscaled,o.outline.next_width.value=i+o.next_width_unscaled,o.outline.inline_texcoord_width=o.texcoord_width,o.outline.offset_precalc=o.offset,o.outline.offset_scale_precalc=o.offset_scale,o.outline.color=e.outline.color,o.outline.cap=e.outline.cap,o.outline.join=e.outline.join,o.outline.miter_limit=e.outline.miter_limit,o.outline.texcoords=e.outline.texcoords,o.outline.style=e.outline.style,o.outline.variant=e.outline.variant,e.outline.order?o.outline.order=this.parseOrder(e.outline.order,n):o.outline.order=o.order,o.outline.order>o.order&&(o.outline.order=o.order),o.outline.order-=.5,o.outline.variant_order=0)):(o.outline.width.value=null,o.outline.next_width.value=null,o.outline.color=null,o.outline.inline_texcoord_width=null),o},_preprocess:function(t,e){var n,r=this.sources[e]?this.sources[e].config.uid:"";return t.color=_o.createColorPropertyCache(t.color),t.width=_o.createPropertyCache(t.width,_o.parseUnits),t.width&&t.width.type!==_o.CACHE_TYPE.STATIC&&(t.next_width=_o.createPropertyCache(t.width,_o.parseUnits)),t.offset=t.offset&&_o.createPropertyCache(t.offset,_o.parseUnits),t.offset&&t.offset.type!==_o.CACHE_TYPE.STATIC&&(t.next_offset=_o.createPropertyCache(t.offset,_o.parseUnits)),t.z=_o.createPropertyCache(t.z,_o.parseUnits),t.dash=void 0!==t.dash?t.dash:this.dash,t.dash_key=t.dash&&this.dashTextureKey(t.dash,r),t.dash_background_color=void 0!==t.dash_background_color?t.dash_background_color:this.dash_background_color,t.dash_background_color=t.dash_background_color&&_o.parseColor(t.dash_background_color),t.texture_merged=t.dash_key||(void 0!==t.texture?t.texture:this.texture),t.texcoords=this.texcoords||t.texture_merged?1:0,this.computeVariant(t),t.outline&&(t.outline.style=t.outline.style||this.name,t.outline.color=_o.createColorPropertyCache(t.outline.color),t.outline.width=_o.createPropertyCache(t.outline.width,_o.parseUnits),t.outline.next_width=_o.createPropertyCache(t.outline.width,_o.parseUnits),t.outline.cap=t.outline.cap||t.cap,t.outline.join=t.outline.join||t.join,t.outline.miter_limit=t.outline.miter_limit||t.miter_limit,t.outline.offset=t.offset,(n=this.styles[t.outline.style])?(t.outline.dash=void 0!==t.outline.dash?t.outline.dash:n.dash,t.outline.texture=void 0!==t.outline.texture?t.outline.texture:n.texture,null!=t.outline.dash?(t.outline.dash_key=t.outline.dash&&this.dashTextureKey(t.outline.dash,r),t.outline.texture_merged=t.outline.dash_key):null===t.outline.dash||null!=t.outline.texture?(t.outline.dash_key=null,t.outline.texture_merged=t.outline.texture):(t.outline.dash=t.dash,t.outline.dash_key=t.outline.dash&&this.dashTextureKey(t.outline.dash,r),t.outline.texture_merged=t.outline.dash_key),t.outline.dash_background_color=void 0!==t.outline.dash_background_color?t.outline.dash_background_color:n.dash_background_color,t.outline.dash_background_color=void 0!==t.outline.dash_background_color?t.outline.dash_background_color:t.dash_background_color,t.outline.dash_background_color=t.outline.dash_background_color&&_o.parseColor(t.outline.dash_background_color),t.outline.texcoords=n.texcoords||t.outline.texture_merged?1:0,this.computeVariant(t.outline)):(Si({level:"warn",once:!0},"Layer '".concat(t.layers[t.layers.length-1],"': ")+"line 'outline' specifies non-existent draw style '".concat(t.outline.style,"' (or maybe the style is ")+"defined but is missing a 'base' or has another error), skipping outlines in layer"),t.outline=null)),t},dashTextureKey:function(t,e){return"__dash_"+e+"_"+this.scene_id+"_"+JSON.stringify(t)},getDashTexture:function(t,e){var n,r=this.dashTextureKey(t,this.sources[e].config.uid);null==cc.dash_textures[r]&&(cc.dash_textures[r]=!0,n=function(t,e){var n=1<arguments.length&&void 0!==e?e:{},r=n.dash_color||lc,i=n.background_color||uc,o=t,a=n.scale||1;o.length%2==1&&Array.prototype.push.apply(o,o);for(var s=!0,l=[],u=0;u<o.length;u++){for(var c=Math.floor(o[u]*a),h=0;h<c;h++)Array.prototype.push.apply(l,s?r:i);s=!s}return{pixels:l=new Uint8Array(l),length:l.length/4}}(t,{scale:20}),this.textureManager.create(this.gl,r,{data:n.pixels,height:n.length,width:1,filtering:"nearest"}))},endData:function(t){var e=this;return au.endData.call(this,t).then((function(n){if(n){n.uniforms.u_has_line_texture=!1,n.uniforms.u_texture=e.textureManager.default,n.uniforms.u_v_scale_adjust=ei.tile_scale;var r=[];for(var i in n.meshes)!function(i){var o,a,s=n.meshes[i].variant;s.texture&&((o=n.meshes[i].uniforms=n.meshes[i].uniforms||{}).u_has_line_texture=!0,o.u_texture=s.texture,o.u_texture_ratio=1,s.dash&&(o.u_v_scale_adjust=20*ei.tile_scale,o.u_dash_background_color=s.dash_background_color||[0,0,0,0]),s.dash_key&&null==cc.dash_textures[s.dash_key]&&(cc.dash_textures[s.dash_key]=!0,hi.postMessage(e.main_thread_target+".getDashTexture",s.dash,t.source)),null==e.textureManager.textures[s.texture]?r.push(e.textureManager.syncTexturesToWorker([s.texture]).then((function(t){var e=t[s.texture];e&&(o.u_texture_ratio=e.height/e.width)}))):(a=e.textureManager.textures[s.texture],o.u_texture_ratio=a.height/a.width))}(i);return t.mesh_data[e.name]=n,Promise.all(r).then((function(){return n}))}return n}))},computeVariant:function(t){var e=t.offset?1:0;t.dash_key&&(e+=t.dash_key,t.dash_background_color&&(e+=t.dash_background_color)),t.texture_merged&&(e+=t.texture_merged),e=Hl(e+="/"+t.texcoords),t.variant=e,null==cc.variants[e]&&(cc.variants[e]={key:e,order:t.variant_order,offset:t.offset?1:0,texcoords:t.texcoords,texture:t.texture_merged,dash:t.dash,dash_key:t.dash_key,dash_background_color:t.dash_background_color})},vertexLayoutForMeshVariant:function(t){var e;return null==cc.vertex_layouts[t.key]&&(e=[{name:"a_position",size:4,type:su.SHORT,normalized:!1},{name:"a_extrude",size:2,type:su.SHORT,normalized:!1},{name:"a_offset",size:2,type:su.SHORT,normalized:!1,static:t.offset?null:[0,0]},{name:"a_scaling",size:2,type:su.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:su.UNSIGNED_SHORT,normalized:!0,static:t.texcoords?null:[0,0]},{name:"a_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0}],cc.vertex_layouts[t.key]=new du(e)),cc.vertex_layouts[t.key]},meshVariantTypeForDraw:function(t){return cc.variants[t.variant]},makeVertexTemplate:function(t,e){var n=0;return this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=t.z||0,this.vertex_template[n++]=this.scaleOrder(t.order),this.vertex_template[n++]=0,this.vertex_template[n++]=0,e.variant.offset&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0),this.vertex_template[n++]=1024*t.width_scale,this.vertex_template[n++]=1024*t.offset_scale,e.variant.texcoords&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0),this.vertex_template[n++]=255*t.color[0],this.vertex_template[n++]=255*t.color[1],this.vertex_template[n++]=255*t.color[2],this.vertex_template[n++]=255*t.color[3],this.selection&&(this.vertex_template[n++]=255*t.selection_color[0],this.vertex_template[n++]=255*t.selection_color[1],this.vertex_template[n++]=255*t.selection_color[2],this.vertex_template[n++]=255*t.selection_color[3]),this.vertex_template},buildLines:function(t,e,n,r,i){var o;this.feature_style=this.outline_feature_style,!e.outline||null==e.outline.color||null==e.outline.width.value||(o=this.styles[e.outline.style])&&o.addFeature(r.feature,e.outline,r),this.feature_style=this.inline_feature_style;var a=n.vertex_data,s=a.vertex_layout,l=this.makeVertexTemplate(e,n);return function(t,e,n,r,i){var o,a,s=i.texcoord_index,l=i.texcoord_width,u=i.texcoord_ratio,c=i.texcoord_normalize,h=i.join,f=i.cap,p=i.miter_limit,d=h?Vu[h]:Vu.miter;d===Vu.miter&&(o=(p=p||Gu)*p),s&&(c=c||qu,a=1/(l*(u=u||Yu)*Zu));for(var v={closed_polygon:i.closed_polygon,remove_tile_edges:i.remove_tile_edges,tile_edge_tolerance:i.tile_edge_tolerance,miter_len_sq:o,join_type:d,cap_type:f?Uu[f]:Uu.butt,vertex_data:n,vertex_template:r,half_width:e/2,extrude_index:i.extrude_index,offset_index:i.offset_index,v_scale:a,texcoord_index:s,texcoord_width:l,texcoord_normalize:c,offset:i.offset,geom_count:0,crop_by_tile:i.crop_by_tile},g=0;g<t.length;g++)Ju(t[g],v);if(v.extra_lines)for(var y=0;y<v.extra_lines.length;y++)Ju(v.extra_lines[y],v);return v.geom_count}(t,e.width,a,l,{cap:e.cap,join:e.join,miter_limit:e.miter_limit,extrude_index:s.index.a_extrude,offset_index:s.index.a_offset,texcoord_index:s.index.a_texcoord,texcoord_width:e.texcoord_width,texcoord_normalize:65535,closed_polygon:i&&i.closed_polygon,remove_tile_edges:!e.tile_edges&&i&&i.remove_tile_edges,tile_edge_tolerance:ei.tile_scale*r.tile.pad_scale*2,offset:e.offset,crop_by_tile:this.crop_by_tile})},buildPolygons:function(t,e,n,r){for(var i=0,o=0;o<t.length;o++)i+=this.buildLines(t[o],e,n,r,{closed_polygon:!0,remove_tile_edges:!this.crop_by_tile});return i}});var pc=[[1,1],[1,-1],[-1,1],[-1,-1]];function dc(t,e,n,r,i,o,a){var s,l=e.vertex_template,u=e.vertex_data;vc(e,"a_position",t),vc(e,"a_width",e.half_width),e.vertex_layout_index.a_barycentric&&((s=[0,0,0])[n%3]=1,vc(e,"a_barycentric",s)),vc(e,"a_tangents",a[0].concat(a[1])),vc(e,"a_segment",r),vc(e,"a_texcoord",pc[n%4]),vc(e,"a_length",i),vc(e,"a_closed",e.closed?1:0),vc(e,"a_angles",o),u.addVertex(l)}function vc(t,e,n){var r=n.length,i=t.vertex_template,o=t.vertex_layout_index[e],a=0;if(r)for(;a!==r;)i[o+a]=n[a],a++;else i[o+a]=n}function gc(t,e){for(var n=t.reduce((function(t,e){return t+e})),r=0,i=[],o=0,a=t.length;o<=a;o+=2){var s=Math.max(1e-4,t[o%a]),l=Math.max(1e-4,t[(o+1)%a]);i.push(r,r+s),r+=s+l}for(var u=new Uint8Array(4*e),c=0,h=0;h<e;h++)!function(t){var r=n*t/(e-1),o=function(t){for(var e=t[0],n=0,r=1,i=t.length;r<i;r++)t[r]<e&&(e=t[n=r]);return n}(i.map((function(t){return Math.abs(t-r)}))),a=void 0,s=void 0,l=o%2==0?(a=r<=i[o]?1:0,s=i[o],i[o+1]):(a=r>i[o]?2:0,s=i[o-1],i[o]);u[c++]=i[o],u[c++]=a,u[c++]=s,u[c++]=l}(h);return u}var yc=Object.create(au),mc={round:1,"arrow-tail":2,"arrow-head":3,square:4,butt:5},bc={miter:0,round:1,bevel:2},_c=mc.round,xc=bc.miter,wc=[0,0],kc="antialias join linecaps miter_limit dash_index dash dash_caps dash_phase".split(" ");Object.assign(yc,{name:"pattern-lines",built_in:!0,vertex_shader_src:"uniform vec2 u_resolution;uniform vec4 u_tile_origin;uniform float u_tile_proxy_depth;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform sampler2D u_uniforms;uniform mat4 u_model;uniform mat4 u_modelView;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform vec3 u_map_position;uniform float u_antialias;uniform vec2 u_linecaps;uniform float u_linejoin;uniform float u_miter_limit;uniform float u_dash_index;uniform vec2 u_dash_caps;uniform float u_dash_phase;uniform float u_dash_period;attribute vec4 a_position;attribute vec4 a_color;attribute float a_width;\n#ifdef TANGRAM_DEBUG_TRIANGLES\nattribute vec3 a_barycentric;\n#endif\nattribute vec2 a_normal;attribute float a_length;attribute vec2 a_segment;attribute vec2 a_texcoord;attribute vec2 a_angles;attribute vec4 a_tangents;attribute float a_closed;varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;\n#ifdef TANGRAM_DEBUG_TRIANGLES\nvarying vec3 v_barycentric;\n#endif\nvarying vec2 v_segment;varying vec2 v_angles;varying vec2 v_texcoord;varying vec2 v_distances;varying vec2 v_miter;varying float v_length;varying float v_linewidth_and_closed;varying float v_joinIndicator;\n#define TANGRAM_NORMAL vec3(0., 0., 1.)\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\nvarying vec4 v_modelpos_base_zoom;\n#endif\n#if defined(TANGRAM_LIGHTING_VERTEX)\nvarying vec4 v_lighting;\n#endif\n#ifndef TANGRAM_HEIGHT_SCALE\nfloat TANGRAM_HEIGHT_SCALE=16.0;\n#endif\n#define UNPACK_SCALING(x) (x / 1024.)\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: global\nconst float PI=3.141592653589793;const float THETA=15.0*PI/180.0;float cross(in vec2 v1,in vec2 v2){return v1.x*v2.y-v1.y*v2.x;}float signed_distance(in vec2 v1,in vec2 v2,in vec2 v3){return cross(v2-v1,v1-v3)/length(v2-v1);}void rotate(in vec2 v,in float angle,out vec2 result){float cosine=cos(angle);float sine=sin(angle);result=vec2(cosine*v.x-sine*v.y,sine*v.x+cosine*v.y);}void main(){\n#pragma tangram: setup\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\nv_modelpos_base_zoom=modelPositionBaseZoom();\n#endif\nfloat linewidth=a_width*2.0;v_angles=a_angles;v_segment=a_segment;v_color=a_color;v_length=a_length;v_texcoord=a_texcoord;\n#ifdef TANGRAM_DEBUG_TRIANGLES\nv_barycentric=a_barycentric;\n#endif\nv_color.a=min(linewidth,v_color.a);linewidth=max(linewidth,1.0);linewidth/=exp2(u_map_position.z-u_tile_origin.w);v_linewidth_and_closed=linewidth*(a_closed>0.0 ?-1.0 : 1.0);if(v_color.a<=0.0){gl_Position=vec4(0.0,0.0,0.0,1.0);return;}float width=ceil(1.25*u_antialias+linewidth)/2.0;vec2 t1=normalize(a_tangents.xy);vec2 t2=normalize(a_tangents.zw);float u=a_texcoord.x;u*=-1.0;float v=a_texcoord.y;vec4 position=vec4(a_position.xy,a_position.z/TANGRAM_HEIGHT_SCALE,1.0);if(t1!=t2){float angle=a_texcoord.x==1.0 ? a_angles.x : a_angles.y;vec2 t=normalize(t1+t2);vec2 o=vec2(+t.y,-t.x);float segmentLength=a_segment.y-a_segment.x;float magnitude=width/cos(angle/2.0);float sqMagnitude=magnitude*magnitude;float seg1SqMagnitude=dot(a_tangents.xy,a_tangents.xy);float seg2SqMagnitude=dot(a_tangents.zw,a_tangents.zw);if((abs(magnitude)>linewidth)&&(sqMagnitude>=min(seg1SqMagnitude,seg2SqMagnitude))){if(u==1.0){o=vec2(-t2.y,+t2.x);}else{o=vec2(-t1.y,+t1.x);}magnitude=width;angle=0.0;v_angles.x=0.0;v_angles.y=0.0;}if(u_dash_index>0.0){if((abs(angle)>THETA)){position.xy+=v*width*o/cos(angle/2.0);float s=sign(angle);if(angle<0.0){if(u==+1.0){u=v_segment.y+v*width*tan(angle/2.0);if(v==1.0){position.xy-=2.0*width*t1/sin(angle);u-=2.0*width/sin(angle);}}else{u=v_segment.x-v*width*tan(angle/2.0);if(v==1.0){position.xy+=2.0*width*t2/sin(angle);u+=2.0*width/sin(angle);}}}else{if(u==+1.0){u=v_segment.y+v*width*tan(angle/2.0);if(v==-1.0){position.xy+=2.0*width*t1/sin(angle);u+=2.0*width/sin(angle);}}else{u=v_segment.x-v*width*tan(angle/2.0);if(v==-1.0){position.xy-=2.0*width*t2/sin(angle);u-=2.0*width/sin(angle);}}}}else{position.xy+=v*width*o/cos(angle/2.0);if(u==+1.0){u=v_segment.y;}else{u=v_segment.x;}}}else{position.xy+=v*o*magnitude;if(u==+1.0){u=v_segment.y+v*width*tan(angle/2.0);}else{u=v_segment.x-v*width*tan(angle/2.0);}}v_joinIndicator=(segmentLength+v*width*tan(angle/2.0))/segmentLength;}else{v_joinIndicator=-1.0;vec2 o=vec2(+t1.y,-t1.x);position.xy+=v*width*o;if(u==-1.0){u=v_segment.x-width;position.xy-=width*t1;}else{u=v_segment.y+width;position.xy+=width*t2;}}vec2 t;vec2 curr=a_position.xy;if(a_texcoord.x>=0.0){vec2 next=curr+t2*(v_segment.y-v_segment.x);rotate(t1,+a_angles.x/2.0,t);v_miter.x=signed_distance(curr,curr+t,position.xy);rotate(t2,+a_angles.y/2.0,t);v_miter.y=signed_distance(next,next+t,position.xy);}else{vec2 prev=curr-t1*(v_segment.y-v_segment.x);rotate(t1,-a_angles.x/2.0,t);v_miter.x=signed_distance(prev,prev+t,position.xy);rotate(t2,-a_angles.y/2.0,t);v_miter.y=signed_distance(curr,curr+t,position.xy);}v_distances=vec2(u,v*width);v_world_position=wrapWorldPosition(u_model*position);v_local_space_position=position;position=u_modelView*position;\n#pragma tangram: position\nv_position=position;v_normal=normalize(u_normalMatrix*TANGRAM_NORMAL);\n#if defined(TANGRAM_LIGHTING_VERTEX)\nvec3 normal=v_normal;\n#pragma tangram: normal\nv_lighting=calculateLighting(position.xyz-u_eye,normal,vec4(1.));\n#endif\ncameraProjection(position);\n#ifdef TANGRAM_LAYER_ORDER\napplyLayerOrder(a_position.w+u_tile_proxy_depth+1.,position);\n#endif\ngl_Position=position;}",fragment_shader_src:"uniform vec2 u_resolution;uniform vec4 u_tile_origin;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform sampler2D u_dash_atlas;uniform float u_antialias;uniform vec2 u_linecaps;uniform float u_linejoin;uniform float u_miter_limit;uniform float u_dash_phase;uniform float u_dash_period;uniform float u_dash_index;uniform vec2 u_dash_caps;varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;\n#ifdef TANGRAM_DEBUG_TRIANGLES\nvarying vec3 v_barycentric;\n#endif\nvarying vec2 v_segment;varying vec2 v_angles;varying vec2 v_texcoord;varying vec2 v_distances;varying vec2 v_miter;varying float v_length;varying float v_linewidth_and_closed;varying float v_joinIndicator;\n#define TANGRAM_NORMAL v_normal\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\nvarying vec4 v_modelpos_base_zoom;\n#endif\n#if defined(TANGRAM_LIGHTING_VERTEX)\nvarying vec4 v_lighting;\n#endif\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: global\n#pragma tangram: utils\nconst float PI=3.141592653589793;const float HALF_PI=PI/2.0;const float THETA=15.0*PI/180.0;/***Compute distance to cap.*@param{int}type The Type of the cap(see CAP_TYPE in pattern_lines)*@param{float}dx The distance of the pixel from the beginning of the line(not straight distance,but along the legs)*@param{float}dy The distance of the pixel from the midline(see v_distances in vertex shader,aka \xb11*half_line_width)*@param{float}aa_radius The distance from the mid-line from where antialiasing starts.*For example for a linewidth 10px width and 2px filter radius it is 10px/2-2px=3px.*@return{float}distance*/float cap(int type,float dx,float dy,float aa_radius){float dist=0.0;dx=abs(dx);dy=abs(dy);if(type==1)dist=sqrt(dx*dx+dy*dy);else if(type==3)dist=(dx+abs(dy));else if(type==2)dist=max(abs(dy),(aa_radius+dx-abs(dy)));else if(type==4)dist=max(dx,dy);else if(type==5)dist=max(dx+aa_radius,dy);return dist;}/***Compute distance to join.*@param{int}type The type of the join(see JOIN_TYPE in pattern_lines)*@param{vec2}segment Interpolated a_segment attribute from the vertex shader*@param{vec2}texcoord Pair of u/v coordinates to identify the 4 different extruded points of the segment.*@param{vec2}distances 2 component vector where:*x is the distance of the pixel from the beginning of the line(along the legs)*y is the  distance of the pixel from the midline(see v_distances in vertex shader,\xb11*half_line_width)*@param{vec2}miter Miter point coordiante*@param{float}miter_limit The miter limit*@param{float}linewidth The width of the line*@return{float}computed distance*/float join(in int type,in vec2 segment,in vec2 texcoord,in vec2 distances,in vec2 miter,in float miter_limit,in float linewidth){float dx=distances.x;float result=abs(distances.y);if((dx<segment.x)||(dx>segment.y)){if(type==1){float s=dx<segment.x ? segment.x : segment.y;result=max(result,length(distances-vec2(s,0.0)));}else{float m=abs(texcoord.x>=0.0 ? miter.x : miter.y);if(type==2){result=max(result,m);}else if(type==0){result=max(result,m-miter_limit*linewidth/2.0);}}}return result;}void main(void){\n#pragma tangram: setup\nvec4 color=v_color;vec3 normal=TANGRAM_NORMAL;\n#ifdef TANGRAM_CROP_BY_TILE\nif(isLocalSpacePixelOutsideTile(v_local_space_position,TANGRAM_TILE_SCALE.x)){discard;}\n#endif\n#if defined(TANGRAM_LIGHTING_FRAGMENT) && defined(TANGRAM_MATERIAL_NORMAL_TEXTURE)\ncalculateNormal(normal);\n#endif\n#if !defined(TANGRAM_LIGHTING_VERTEX)\n#pragma tangram: normal\n#endif\n#pragma tangram: color\n#if defined(TANGRAM_LIGHTING_FRAGMENT)\ncolor=calculateLighting(v_position.xyz-u_eye,normal,color);\n#elif defined(TANGRAM_LIGHTING_VERTEX)\ncolor*=v_lighting;\n#endif\n#pragma tangram: filter\nif(v_color.a<=0.0){discard;}bool solid=(u_dash_index==0.0);bool closed=v_linewidth_and_closed<0.0;float dx=v_distances.x;float dy=v_distances.y;float linewidth=abs(v_linewidth_and_closed);float aa_radius=linewidth/2.0-u_antialias;float dist=0.0;vec2 linecaps=u_linecaps;vec2 dash_caps=u_dash_caps;float line_start=0.0;float line_stop=v_length;if(solid){dist=abs(dy);bool potentialCap=!closed&&v_joinIndicator<0.0;if(potentialCap&&dx<line_start){dist=cap(int(u_linecaps.x),abs(dx),abs(dy),aa_radius);}else if(potentialCap&&dx>line_stop){dist=cap(int(u_linecaps.y),abs(dx)-line_stop,abs(dy),aa_radius);}else{dist=join(int(u_linejoin),v_segment,v_texcoord,v_distances,v_miter,u_miter_limit,linewidth);}}else{float segment_start=v_segment.x;float segment_stop=v_segment.y;float segment_center=(segment_start+segment_stop)/2.0;float freq=u_dash_period*linewidth;float dash_phase=u_dash_phase-1e-5;float u=mod(dx+dash_phase*linewidth,freq);vec4 tex=texture2D(u_dash_atlas,vec2(u/freq,u_dash_index));float dash_center=float(tex.x)*255.0*linewidth;float dash_type=floor(float(tex.y)*255.0+0.5);float _start=float(tex.z)*255.0*linewidth;float _stop=float(tex.a)*255.0*linewidth;float dash_start=dx-u+_start;float dash_stop=dx-u+_stop;if((dash_stop<segment_start)&&(dash_caps.x!=5.0)){float u=mod(segment_start+dash_phase*linewidth,freq);vec4 tex=texture2D(u_dash_atlas,vec2(u/freq,u_dash_index));dash_center=float(tex.x)*255.0*linewidth;float _start=float(tex.z)*255.0*linewidth;float _stop=float(tex.a)*255.0*linewidth;dash_start=segment_start-u+_start;dash_stop=segment_start-u+_stop;}else if((dash_start>segment_stop)&&(dash_caps.y!=5.0)){float u=mod(segment_stop+dash_phase*linewidth,freq);vec4 tex=texture2D(u_dash_atlas,vec2(u/freq,u_dash_index));dash_center=float(tex.x)*255.0*linewidth;float _start=float(tex.z)*255.0*linewidth;float _stop=float(tex.a)*255.0*linewidth;dash_start=segment_stop-u+_start;dash_stop=segment_stop-u+_stop;}bool discontinuous=((dx<segment_center)&&abs(v_angles.x)>THETA)||((dx>=segment_center)&&abs(v_angles.y)>THETA);float d_join=join(int(u_linejoin),v_segment,v_texcoord,v_distances,v_miter,u_miter_limit,linewidth);if(closed){line_start+=linewidth/2.0;line_stop-=linewidth/2.0;}if(dash_stop<=line_start){discard;}if(dash_start>=line_stop){discard;}if(discontinuous){if((dash_start>segment_stop)){discard;}if((dash_stop<segment_start)){discard;}if(dash_caps.x==1.0){if((u>_stop)&&(dash_stop>segment_stop)&&(abs(v_angles.y)<HALF_PI)){discard;}}if(dash_caps.y==1.0){if((u<_start)&&(dash_start<segment_start)&&(abs(v_angles.x)<HALF_PI)){discard;}}if((dash_caps.x!=1.0)&&(dash_caps.x!=5.0)){if((dash_start<segment_start)&&(abs(v_angles.x)<HALF_PI)){float a=v_angles.x/2.0;float cos_a=cos(a);float sin_a=sin(a);float x=(segment_start-dx)*cos_a-dy*sin_a;float y=(segment_start-dx)*sin_a+dy*cos_a;if(x>0.0){discard;}dash_caps.x=4.0;}}if((dash_caps.y!=1.0)&&(dash_caps.y!=5.0)){if((dash_stop>segment_stop)&&(abs(v_angles.y)<HALF_PI)){float a=v_angles.y/2.0;float cos_a=cos(a);float sin_a=sin(a);float x=(dx-segment_stop)*cos_a-dy*sin_a;float y=(dx-segment_stop)*sin_a+dy*cos_a;if(x>0.0){discard;}dash_caps.y=4.0;}}}if((dx<line_start)&&(dash_start<=line_start)&&(dash_stop>line_start)){dist=cap(int(linecaps.x),dx-line_start,dy,aa_radius);}else if((dx>line_stop)&&(dash_stop>line_stop)&&(dash_start<line_stop)){dist=cap(int(linecaps.y),dx-line_stop,dy,aa_radius);}else if(dash_type==1.0){dist=cap(int(dash_caps.x),abs(dash_center-u),dy,aa_radius);if((dx>line_start)&&(dx<line_stop)){dist=max(dist,d_join);}}else if(dash_type==0.0){dist=abs(dy);}else if(dash_type==2.0){dist=cap(int(dash_caps.y),abs(u-dash_center),dy,aa_radius);if((dx>line_start)&&(dx<line_stop)){dist=max(dist,d_join);}}if((dx>line_start)&&(dx<line_stop)){if((dx<=segment_start)&&(dash_start<=segment_start)&&(dash_stop>=segment_start)){dist=d_join;float angle=HALF_PI+v_angles.x;float f=abs((segment_start-dx)*cos(angle)-dy*sin(angle));dist=max(f,dist);}else if((dx>segment_stop)&&(dash_start<=segment_stop)&&(dash_stop>=segment_stop)){dist=d_join;float angle=HALF_PI+v_angles.y;float f=abs((dx-segment_stop)*cos(angle)-dy*sin(angle));dist=max(f,dist);}else if(dx<(segment_start-linewidth/2.)){discard;}else if(dx>(segment_stop+linewidth/2.)){discard;}}else if(dx<(segment_start-linewidth/2.)){discard;}else if(dx>(segment_stop+linewidth/2.)){discard;}}dist=dist-aa_radius;if(dist>=0.0){if(u_antialias==0.0){discard;}else{color=vec4(color.rgb,exp(-dist*dist)*color.a);}}\n#ifdef TANGRAM_DEBUG_TRIANGLES\nif(any(lessThan(v_barycentric,vec3(0.0085)))){color=vec4(0.0,1.0,0.0,1.0);}\n#endif\ngl_FragColor=color;}",selection:!0,init:function(){au.init.apply(this,arguments),this.defines.TANGRAM_LAYER_ORDER=!0,this.defines.TANGRAM_CROP_BY_TILE=this.crop_by_tile,this.defines.TANGRAM_DEBUG_TRIANGLES=!1,this.defines.TANGRAM_DEBUG_NO_TEXTURE_FLOAT_SUPPORT=!1,this.styles=this.styles||{},yc.vertex_layouts=[],yc.variants={}},calcDistance:function(t,e){return t&&_o.evalCachedDistanceProperty(t,e)||0},calcDash:function(t,e){var n=_o.evalProperty(t.dash,e),r=0;return n&&((n=Array.isArray(n)&&n.length?n:wc).length%2==1&&(n=n.concat(n)),r=+(r=n.reduce((function(t,e){return t+e})))||0),{dash:n,dash_period:r}},calcWidth:function(t,e,n){var r=this.calcDistance(t.width,n);return!(r<0)&&(e.width=r*n.units_per_meter_overzoom,!0)},getCapType:function(t,e,n){var r=_o.evalProperty(t,e);return void 0!==mc[r]?mc[r]:n},_parseFeature:function(t,e,n){if(!1!==this.calcWidth(e,this.feature_style,n)){var r=this.parseColor(e.color,n);if(r&&0!==r[3]){var i=this.getCapType(e.cap,n,_c),o=_o.evalProperty(e.join,n),a=+_o.evalProperty(e.miter_limit,n),s=this.calcDash(e,n),l=s.dash,u=s.dash_period,c=Object.assign({color:r,antialias:e.antialias,linecaps:[this.getCapType(e.tail_cap,n,i),this.getCapType(e.head_cap,n,i)],join:void 0!==bc[o]?bc[o]:xc,miter_limit:0<=a?a:3,dash_index:0===u?0:1,dash:l,dash_caps:[this.getCapType(e.tail_cap,n,i),this.getCapType(e.head_cap,n,i)],dash_phase:+_o.evalProperty(e.dash_phase,n)||0,dash_period:u},this.feature_style);return c.z=e.z&&_o.evalCachedDistanceProperty(e.z||0,n)||_o.defaults.z,c.z*=ei.height_scale,c.extrude=_o.evalProperty(e.extrude,n),c.extrude&&(!0===c.extrude?(c.height=void 0!==t.properties.height?t.properties.height:_o.defaults.height,c.min_height=void 0!==t.properties.min_height?t.properties.min_height:_o.defaults.min_height):"number"==typeof c.extrude?(c.height=c.extrude,c.min_height=0):Array.isArray(c.extrude)&&(c.min_height=c.extrude[0],c.height=c.extrude[1]),c.height*=ei.height_scale,c.min_height*=ei.height_scale),this.computeVariant(c),c}}},_preprocess:function(t){t.color=_o.createColorPropertyCache(t.color),t.width=_o.createPropertyCache(t.width,_o.parseUnits),t.width&&t.width.type!==_o.CACHE_TYPE.STATIC&&(t.next_width=_o.createPropertyCache(t.width,_o.parseUnits)),t.z=_o.createPropertyCache(t.z,_o.parseUnits);var e=+t.antialias;return t.antialias=isNaN(e)?0:e,t},buildRasterTextures:function(t,e){var n=[];for(var r in e.meshes){var i,o=yc.variants[r],a=o.uniforms,s=o.pattern;a.u_dash_index&&(i="__dash_"+s.join("_")+"_"+t.key+"_"+t.id,n.push({name:i,data:gc(s,1024)}),a.u_dash_atlas=i,e.meshes[r].textures=[i]),e.meshes[r].uniforms=a}return e.uniforms=e.uniforms||{},n.length?hi.postMessage(this.main_thread_target+".loadTextures",n).then((function(t){return e})):Promise.resolve(e)},loadTextures:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=(i=this.textureManager.textures[r.name])||this.textureManager.create(this.gl,r.name,{filtering:"nearest",repeat:!0,width:1024,height:1,data:r.data});e.push(i.loading)}return Promise.all(e).then((function(t){return t.map((function(t){return t.retain(),t.name}))}))},computeVariant:function(t){var e=function(t){for(var e=[],n=0,r=kc.length;n<r;n++){var i=t[kc[n]];Array.isArray(i)?e.push(i.join("_")):"boolean"==typeof i?e.push(i?1:0):i&&e.push(i.toString())}return e.join("/")}(t);t.variant=e,null==yc.variants[e]&&(yc.variants[e]={key:e,order:t.variant_order,uniforms:{u_antialias:t.antialias,u_linecaps:t.linecaps,u_linejoin:t.join,u_miter_limit:t.miter_limit,u_dash_index:t.dash_index,u_dash_caps:t.dash_caps,u_dash_phase:t.dash_phase,u_dash_period:t.dash_period},pattern:t.dash})},vertexLayoutForMeshVariant:function(t){var e;return null==yc.vertex_layouts[t.key]&&(e=[{name:"a_position",size:4,type:su.SHORT,normalized:!1},{name:"a_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_width",size:1,type:su.FLOAT,normalized:!1},{name:"a_tangents",size:4,type:su.FLOAT,normalized:!1},{name:"a_segment",size:2,type:su.FLOAT,normalized:!1},{name:"a_angles",size:2,type:su.FLOAT,normalized:!1},{name:"a_texcoord",size:2,type:su.FLOAT,normalized:!0},{name:"a_length",size:1,type:su.FLOAT,normalized:!1},{name:"a_closed",size:1,type:su.FLOAT,normalized:!1},{name:"a_selection_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0}],this.defines.TANGRAM_DEBUG_TRIANGLES&&e.push({name:"a_barycentric",size:3,type:su.SHORT,normalized:!1}),yc.vertex_layouts[t.key]=new du(e)),yc.vertex_layouts[t.key]},meshVariantTypeForDraw:function(t){return yc.variants[t.variant]},makeVertexTemplate:function(t){var e=0;return this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=t.z+t.height||0,this.vertex_template[e++]=this.scaleOrder(t.order),this.vertex_template[e++]=255*t.color[0],this.vertex_template[e++]=255*t.color[1],this.vertex_template[e++]=255*t.color[2],this.vertex_template[e++]=255*t.color[3],this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.selection&&(this.vertex_template[e++]=255*t.selection_color[0],this.vertex_template[e++]=255*t.selection_color[1],this.vertex_template[e++]=255*t.selection_color[2],this.vertex_template[e++]=255*t.selection_color[3]),this.defines.TANGRAM_DEBUG_TRIANGLES&&(this.vertex_template[e++]=0,this.vertex_template[e++]=0,this.vertex_template[e++]=0),this.vertex_template},buildLines:function(t,e,n,r,i){var o=4<arguments.length&&void 0!==i&&i,a=n.vertex_data,s=a.vertex_layout,l=this.makeVertexTemplate(e,n);return hc(t,e.width,a,l,s.index,o)},buildPolygons:function(t,e,n,r){for(var i=0,o=0,a=t.length;o<a;o++)i+=this.buildLines(t[o],e,n,r,!0);return i}});var Ec=0,Sc={id_prefix:"",nextLabelId:function(){return"".concat(Sc.id_prefix,"/").concat(Ec++)}};function Tc(t){return{priority:t.priority,collide:t.collide,repeat_distance:t.repeat_distance,repeat_group:t.repeat_group,buffer:t.buffer,italic:t.italic}}var Ac=["left","top-left","bottom-left"],Oc=["right","top-right","bottom-right"],Mc=["top","top-left","top-right"],Cc=["bottom","bottom-left","bottom-right"],jc={computeOffset:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:null;if(!n||"center"===n)return t;var o=[t[0],t[1]];return i=i||this.default_buffer,this.isLeftAnchor(n)?(o[0]-=e[0]/2,"left"===n&&(o[0]-=i[0])):this.isRightAnchor(n)&&(o[0]+=e[0]/2,"right"===n&&(o[0]+=i[1])),this.isTopAnchor(n)?(o[1]-=e[1]/2,"top"===n&&(o[1]-=i[2])):this.isBottomAnchor(n)&&(o[1]+=e[1]/2,"bottom"===n&&(o[1]+=i[3])),o},alignForAnchor:function(t){if(t&&"center"!==t){if(this.isLeftAnchor(t))return"right";if(this.isRightAnchor(t))return"left"}return"center"},isLeftAnchor:function(t){return-1<Ac.indexOf(t)},isRightAnchor:function(t){return-1<Oc.indexOf(t)},isTopAnchor:function(t){return-1<Mc.indexOf(t)},isBottomAnchor:function(t){return-1<Cc.indexOf(t)},default_buffer:[2.5,2.5,1.5,.75],zero_buffer:[0,0,0,0]};function Ic(t,e,n,r,i){var o=[],a=n-t,s=r-e,l=Qr.getLineLength(t,e,n,r),u=2*i;if((c=l/u)<=1)o.push(t+a/2,e+s/2,i);else{var c,h=u/l,f=a*h,p=s*h;(c=l/i/2)%1&&o.push(n-f/2,r-p/2,i),c|=0;for(var d=t+f/2,v=e+p/2;c--;)o.push(d,v,i),d+=f,v+=p}return o}var Pc=function(){function t(e,n,r,i){mr(this,t),this.id=Sc.nextLabelId(),this.position=[e[0],e[1]],void 0!==e[2]&&this.position.push(e[2]),this.size=n,this.layout=i,this.anchor=Array.isArray(this.layout.anchor)?this.layout.anchor[0]:this.layout.anchor,this.placed=null,this.type="point",this.parent=this.layout.parent,this.offset=this.computeOffset(),this.align=this.layout.align||jc.alignForAnchor(this.anchor),this._is_flat=r}return _r(t,[{key:"toJSON",value:function(){return{id:this.id,type:this.type,is_flat:this._is_flat,position:this.position,size:this.size,offset:this.offset,align:this.align,sides:this.getSides(),breach:!this.inTileBounds(),layout:Tc(this.layout)}}},{key:"inTileBounds",value:function(){var t=this.getAABB(),e=t.left,n=t.top,r=t.right,i=t.bottom;return Ai.pointInTile([e,n])&&Ai.pointInTile([r,i])}},{key:"isFlat",value:function(){return this._is_flat}},{key:"setAnchor",value:function(t){this._circles=void 0,this._aabb=void 0,this.anchor=t,this.offset=this.computeOffset()}},{key:"computeOffset",value:function(){var t,e=[this.layout.offset[0],this.layout.offset[1]];return this.parent&&(t=this.parent,e=jc.computeOffset(e,t.size,t.anchor,jc.zero_buffer),e=jc.computeOffset(e,t.size,this.anchor,jc.zero_buffer),t.offset!==_o.zeroPair&&(e===_o.zeroPair?e=t.offset:(e[0]+=t.offset[0],e[1]+=t.offset[1]))),jc.computeOffset(e,this.size,this.anchor)}},{key:"getBoundingCircles",value:function(){return this.angle?(this._circles||(t=this.layout.units_per_pixel,i=-(n=(e=this.size[0]/2*t)*Math.cos(this.angle)),o=-(r=e*Math.sin(this.angle)),s=(a=Pr(this.position,2))[0],l=a[1],n+=s,r+=l*=-1,i+=s,o+=l,u=this.size[1]/2*t,this._circles=Ic(n,r,i,o,u)),this._circles):[];var t,e,n,r,i,o,a,s,l,u}},{key:"getAABB",value:function(){var t,e,n,r,i;return this._aabb||(t=this.layout.units_per_pixel,e=(this.size[0]/2+this.layout.buffer[0])*t,n=(this.size[1]/2+this.layout.buffer[1])*t,r=this.position[0]+this.offset[0]*t,i=this.position[1]-this.offset[1]*t,this._aabb={left:r-e,top:i+n,right:r+e,bottom:i-n}),this._aabb}},{key:"getSides",value:function(){var t=this.getAABB(),e=t.left,n=t.top,r=t.right,i=(n+t.bottom)/2;return[e,i,r,i]}}]),t}();Pc.PLACEMENT={VERTEX:0,MIDPOINT:1,SPACED:2,CENTROID:3};var Rc=Pc.PLACEMENT;function Lc(t,e,n,r){var i=[],o=r.placement,a=Math.max(e[0],e[1])*r.placement_min_length_ratio*r.units_per_pixel;switch(o){case Rc.SPACED:var s=function(t,e,n){var r=n.units_per_pixel,i=(n.placement_spacing||80)*r,o=function(t){for(var e=0,n=0;n<t.length-1;n++)e+=Dc(t[n],t[n+1]);return e}(t);if(o<=e)return!1;for(var a=Math.max(Math.floor(o/i),1),s=[],l=[],u=.5*(o-(a-1)*i),c=0;c<a;c++){var h=function(t,e,n,r){for(var i,o,a=0,s=0;s<t.length-1;s++){var l=t[s],u=t[s+1],c=Dc(l,u);if(!(c<=n)&&e<(a+=c)){i=function(t,e,n){var r=n/Dc(t,e);return[r*t[0]+(1-r)*e[0],r*t[1]+(1-r)*e[1]]}(l,u,a-e),o=Nc(l,u,r.angle);break}}return{position:i,angle:o}}(t,u,e,n),f=h.position,p=h.angle;null!=f&&null!=p&&(s.push(f),l.push(p)),u+=i}return{positions:s,angles:l}}(t,a,r);if(!s)return[];for(var l=s.positions,u=s.angles,c=0;c<l.length;c++){var h,f=l[c],p=u[c];!0!==r.tile_edges&&mu(f)||((h=new Pc(f,e,n,r)).angle=p,i.push(h))}break;case Rc.VERTEX:for(var d,v,g,y=0;y<t.length-1;y++)d=t[y],v=t[y+1],!0!==r.tile_edges&&mu(d)||((g=new Pc(d,e,n,r)).angle=Nc(d,v,r.angle),i.push(g));(g=new Pc(v,e,n,r)).angle=Nc(d,v,r.angle),i.push(g);break;case Rc.MIDPOINT:for(var m=0;m<t.length-1;m++){var b,_=t[m],x=t[m+1],w=[.5*(_[0]+x[0]),.5*(_[1]+x[1])];!0!==r.tile_edges&&mu(w)||(!a||Dc(_,x)>a)&&((b=new Pc(w,e,n,r)).angle=Nc(_,x,r.angle),i.push(b))}}return i}function Nc(t,e,n){var r=2<arguments.length&&void 0!==n?n:0;return"auto"===r?Math.atan2(e[0]-t[0],e[1]-t[1]):r}function Dc(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}var zc={key:function(t){return[t.style,t.weight,t.family,t.px_size,t.fill,t.stroke,t.stroke_width,t.transform,t.text_wrap,t.max_lines,t.supersample,t.background_color,t.outline_color,t.outline_width,t.padding,Ai.device_pixel_ratio].join("/")},defaults:{style:"normal",weight:null,size:"12px",px_size:12,family:"Helvetica",fill:"white",text_wrap:15,max_lines:5,align:"center",stroke:null,stroke_width:0,background_color:null,outline_color:null,outline_width:0,padding:[0,0,0,0]},compute:function(t,e,n){var r={};if(e.font=e.font||this.defaults,r.can_articulate=e.can_articulate,r.fill=e.font.fill&&Ai.toCSSColor(_o.evalCachedColorProperty(e.font.fill,n))||this.defaults.fill,r.style=e.font.style||this.defaults.style,r.weight=e.font.weight||this.defaults.weight,e.font.family?(r.family=e.font.family,r.family!==this.defaults.family&&(r.family+=", "+this.defaults.family)):r.family=this.defaults.family,r.transform=e.font.transform,r.size=e.font.size||this.defaults.size,r.supersample=e.supersample_text?1.5:1,r.px_size=_o.evalCachedProperty(e.font.px_size,n)*r.supersample,0!==r.px_size){e.font.stroke&&e.font.stroke.color&&(r.stroke=Ai.toCSSColor(_o.evalCachedColorProperty(e.font.stroke.color,n)||this.defaults.stroke),r.stroke_width=_o.evalCachedProperty(e.font.stroke.width,n)||this.defaults.stroke_width),r.font_css=this.fontCSS(r);var i=e.text_wrap;return null==i&&"line"!==ei.geometryType(t.geometry.type)&&(i=!0),!0===i&&(i=this.defaults.text_wrap),r.text_wrap=i,r.max_lines=e.max_lines||this.defaults.max_lines,r.background_color=e.background&&e.background.color&&!e.can_articulate?Ai.toCSSColor(_o.evalCachedColorProperty(e.background.color,n)):this.defaults.background_color,r.outline_color=e.outline&&e.outline.color&&!e.can_articulate?Ai.toCSSColor(_o.evalCachedColorProperty(e.outline.color,n)):this.defaults.outline_color,r.outline_width=e.outline&&e.outline.width&&!e.can_articulate?_o.evalCachedProperty(e.outline.width,n):this.defaults.outline_width,r.padding=e.padding&&!e.can_articulate?_o.evalCachedProperty(e.padding,n):this.defaults.padding,r}},fontCSS:function(t){return[t.style,t.weight,t.px_size+"px",t.family].filter((function(t){return t})).join(" ")}},Fc=a((function(t){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+e+";"}function i(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,1)}function o(t,n){function r(){var t=o;i(t)&&t.a.parentNode&&n(t.g)}var o=t;e(t.b,r),e(t.c,r),i(t)}function a(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function s(t,e){return[t.style,t.weight,function(){if(null===c){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}c=""!==t.style.font}return c}()?t.stretch:"","100px",e].join(" ")}var l,u,c,h;h=c=u=l=null,a.prototype.load=function(t,e){var i=this,a=t||"BESbswy",c=0,f=e||3e3,p=(new Date).getTime();return new Promise((function(t,e){var d,v,g;null===h&&(h=!!document.fonts),(d=h)&&(null===u&&(u=/OS X.*Version\/10\..*Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),d=!u),d?(d=new Promise((function(t,e){!function n(){(new Date).getTime()-p>=f?e():document.fonts.load(s(i,'"'+i.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(n,25)}),(function(){e()}))}()})),v=new Promise((function(t,e){c=setTimeout(e,f)})),Promise.race([v,d]).then((function(){clearTimeout(c),t(i)}),(function(){e(i)}))):(g=function(){function u(){var e;(e=-1!=g&&-1!=y||-1!=g&&-1!=m||-1!=y&&-1!=m)&&((e=g!=y&&g!=m&&y!=m)||(null===l&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=l&&(g==b&&y==b&&m==b||g==_&&y==_&&m==_||g==x&&y==x&&m==x)),e=!e),e&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(c),t(i))}var h=new n(a),d=new n(a),v=new n(a),g=-1,y=-1,m=-1,b=-1,_=-1,x=-1,w=document.createElement("div");w.dir="ltr",r(h,s(i,"sans-serif")),r(d,s(i,"serif")),r(v,s(i,"monospace")),w.appendChild(h.a),w.appendChild(d.a),w.appendChild(v.a),document.body.appendChild(w),b=h.a.offsetWidth,_=d.a.offsetWidth,x=v.a.offsetWidth,function t(){var n;(new Date).getTime()-p>=f?(w.parentNode&&w.parentNode.removeChild(w),e(i)):(!0!==(n=document.hidden)&&void 0!==n||(g=h.a.offsetWidth,y=d.a.offsetWidth,m=v.a.offsetWidth,u()),c=setTimeout(t,50))}(),o(h,(function(t){g=t,u()})),r(h,s(i,'"'+i.family+'",sans-serif')),o(d,(function(t){y=t,u()})),r(d,s(i,'"'+i.family+'",serif')),o(v,(function(t){m=t,u()})),r(v,s(i,'"'+i.family+'",monospace'))},document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),g()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),g())})))}))},t.exports=a})),Bc={fonts_loaded:Promise.resolve(),last_loaded:null,loadFonts:function(t){var e=this,n=JSON.stringify(t)===this.last_loaded;return t&&!n&&function(){var n=[];for(var r in t)!function(r){Array.isArray(t[r])?t[r].forEach((function(t){return n.push(e.loadFontFace(r,t))})):n.push(e.loadFontFace(r,t[r]))}(r);e.last_loaded=JSON.stringify(t),e.fonts_loaded=Promise.all(n.filter((function(t){return t})))}(),this.fonts_loaded},loadFontFace:function(t,e){if(null!=e&&("object"===yr(e)||"external"===e)){var n={family:t},r=Promise.resolve();"object"===yr(e)&&(Object.assign(n,e),"string"==typeof e.url&&(r=this.injectFontFace(n)));var i=new Fc(t,n);return r.then((function(){return i.load()})).then((function(){Si("debug","Font face '".concat(t,"' is available"),n)}),(function(){Si("debug","Font face '".concat(t,"' is NOT available"),n)}))}},injectFontFace:function(t){var e=this,n=t.family,r=t.url,i=t.weight,o=t.style;void 0===this.supports_native_font_loading&&(this.supports_native_font_loading=void 0!==window.FontFace);var a=Promise.resolve(r);return"blob:"===r.slice(0,5)&&(a=Ai.io(r,6e4,"arraybuffer").then((function(t){var n=new Uint8Array(t);if(e.supports_native_font_loading)return n;for(var r="",i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return"data:font/opentype;base64,"+btoa(r)}))),a.then((function(t){var r,a,s;e.supports_native_font_loading?("string"==typeof t?r=new FontFace(n,"url(".concat(encodeURI(t),")"),{weight:i,style:o}):t instanceof Uint8Array&&(r=new FontFace(n,t,{weight:i,style:o})),document.fonts.add(r),Si("trace","Adding FontFace to document.fonts:",r)):(a="\n                    @font-face {\n                        font-family: '".concat(n,"';\n                        font-weight: ").concat(i||"normal",";\n                        font-style: ").concat(o||"normal",";\n                        src: url(").concat(encodeURI(t),");\n                    }\n                "),(s=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(s),s.sheet.insertRule(a,0),Si("trace","Injecting CSS font face:",a))}))}},Hc=function(){function t(){mr(this,t),this.vertical_text_buffer=1,this.horizontal_text_buffer=1,this.layout=gl("binary-tree")}return _r(t,[{key:"createCanvas",value:function(t,e){var n=document.createElement("canvas");return t&&e&&(n.width=t,n.height=e),n.style.backgroundColor="transparent",n}},{key:"setFont",value:function(t,e){var n=e.font_css,r=e.fill,i=e.stroke,o=e.stroke_width,a=e.px_size,s=e.supersample;this.px_size=a;var l=Ai.device_pixel_ratio*s;i&&0<o&&(t.strokeStyle=i,t.lineWidth=o*l),t.fillStyle=r,t.textBaseline="bottom",t.font=n,t.miterLimit=2}},{key:"textSizes",value:function(t,e,n){var r=this;return Bc.loadFonts().then((function(){return Co.add({type:"textSizes",run:r.processTextSizesTask.bind(r),texts:e,tile_id:t,cursor:{ctx:n,styles:Object.keys(e),texts:null,style_idx:null,text_idx:null}})}))}},{key:"processTextSizesTask",value:function(t){var e,n=t.cursor,r=t.texts,i=n.ctx;for(n.style_idx=n.style_idx||0;n.style_idx<n.styles.length;){var o=n.styles[n.style_idx];null==n.text_idx&&(n.text_idx=0,n.texts=Object.keys(r[o]));for(var a=r[o],s=!0;n.text_idx<n.texts.length;){var l=n.texts[n.text_idx],u=a[l],c=u.text_settings;if(s&&(this.setFont(i,c),s=!1),u.size=this.textSize(i,o,l,c).size,c.can_articulate){var h=!1,f=!1;if(Vc(l)&&(Yc(l)?h=!0:f=!0),u.isRTL=h,u.no_curving=f||(e=l,th.test(e)),u.vertical_buffer=this.vertical_text_buffer+c.outline_width+(c.padding[0]+c.padding[2])/2,u.segment_sizes=[],!u.no_curving){var p=function(t,e){var n=e?1:eh;if(t.length<n)return[t];var r=t;if(Hc.cache.segment[r])return Hc.cache.stats.segment_hits++,Hc.cache.segment[r];var i=[];if(Wc.exec(t)){i=t.split(Zc);for(var o,a=-1,s=0;s<i.length-1;s++)0<s&&(o=Xc.exec(i[s]))&&(i[s]=i[s].substring(o[0].length),i[s-1]+=o[0],a+=o[0].length),a+=1+i[s].length,i[s]+=t.slice(a,a+1);t=""}for(;t.length;){for(var l="",u=t,c=0;c<n&&u.length;c++){var h=($c.exec(u)||u)[0];l+=h,u=u.substring(h.length)}i.push(l),t=t.substring(l.length)}return e&&i.reverse(),Hc.cache.stats.segment_misses++,Hc.cache.segment[r]=i}(l,h);u.segments=p;for(var d=0;d<p.length;d++)u.segment_sizes.push(this.textSize(i,o,p[d],c).size)}}if(n.text_idx++,!Co.shouldContinue(t))return!1}n.text_idx=null,n.style_idx++}return Co.finish(t,{texts:r}),!0}},{key:"textSize",value:function(e,n,r,i){var o=i.transform,a=i.text_wrap,s=i.max_lines,l=i.stroke_width,u=void 0===l?0:l,c=i.supersample,h=i.padding,f=i.outline_width,p=i.can_articulate;if(t.cache.text[n]=t.cache.text[n]||{},t.cache.text[n][r])return t.cache.stats.text_hits++,t.cache.text[n][r];t.cache.stats.text_misses++,t.cache.text_count++;var d=Ai.device_pixel_ratio*c,v=this.applyTextTransform(r,o),g=d*(this.vertical_text_buffer+f+(h[0]+h[2])/2),y=d*(this.horizontal_text_buffer+f+u+(h[1]+h[3])/2),m=2*d,b=this.px_size+m,_=nh.parse(v,a,s,b,e),x=_.height,w=_.width,k=_.lines,E=[w/d,x/d];p||(E[0]+=2*y/d,E[1]+=2*g/d);var S=[w+2*y,x+2*g],T=[S[0]/d,S[1]/d];return t.cache.text[n][r]={lines:k,size:{collision_size:E,texture_size:S,logical_size:T,line_height:b}},t.cache.text[n][r]}},{key:"drawTextMultiLine",value:function(t,e,n,r,i,o){var a=Pr(n,2),s=a[0],l=a[1],u=Ai.device_pixel_ratio*i.supersample,c=i.stroke_width||0,h=i.stroke;i.background_color&&(t.fillStyle=i.background_color,t.fillRect(s,l,r.texture_size[0],r.texture_size[1]));var f=i.outline_width*u,p=i.outline_color;f&&p&&(t.strokeStyle=p,t.lineWidth=f,t.strokeRect(s+f/2,l+f/2,r.texture_size[0]-f,r.texture_size[1]-f)),(i.background_color||f&&p)&&this.setFont(t,i);for(var d,v,g,y,m=r.line_height,b=l,_=0;_<e.length;_++){var x=e[_];this.drawTextLine(t,x,[s,b],r,i,o),b+=m}Rl.draw_label_collision_boxes&&(t.save(),d=u*(this.horizontal_text_buffer+i.outline_width+c+(i.padding[1]+i.padding[3])/2),v=u*(this.vertical_text_buffer+i.outline_width+(i.padding[0]+i.padding[2])/2),g=r.collision_size,t.strokeStyle="blue",t.lineWidth=2,t.strokeRect(s+d,l+v,u*g[0],u*g[1]),"curved"===o&&h&&0<c&&t.strokeRect(s+r.texture_size[0]+d,l+v,u*g[0],u*g[1]),t.restore()),Rl.draw_label_texture_boxes&&(t.save(),y=r.texture_size,t.strokeStyle="green",t.lineWidth=2,t.strokeRect(s+2,l+2,y[0]-4,y[1]-4),"curved"===o&&h&&0<c&&t.strokeRect(s+2+r.texture_size[0],l+2,y[0]-4,y[1]-4),t.restore())}},{key:"drawTextLine",value:function(t,e,n,r,i,o){var a,s=Pr(n,2),l=s[0],u=s[1],c=i.stroke,h=i.stroke_width,f=void 0===h?0:h,p=i.transform,d=i.align,v=i.supersample,g=i.padding,y=i.outline_width,m=Ai.device_pixel_ratio*v,b=(d=d||"center",r.texture_size),_=r.line_height,x=m*(this.vertical_text_buffer+y),w=m*(this.horizontal_text_buffer+y+f),k=this.applyTextTransform(e.text,p);"left"===d?a=l+w+g[3]*m:"center"===d?a=l+b[0]/2-e.width/2-(g[1]-g[3])*m/2:"right"===d&&(a=l+b[0]-e.width-w-g[1]*m);var E,S=u+x+_+g[0]*m;c&&0<f&&(E="curved"===o?b[0]:0,t.strokeText(k,a+E,S)),t.fillText(k,a,S)}},{key:"rasterize",value:function(e,n,r,i,o,a){return Co.removeForTile(r),Co.add({type:"rasterizeLabels",run:this.processRasterizeTask.bind(this),cancel:t.returnNoTextures,pause_factor:2,user_moving_view:!1,texts:e,textures:n,texture_prefix:i,gl:o,tile_id:r,texture_manager:a,cursor:{styles:Object.keys(e),texts:null,style_idx:0,text_idx:null,texture_idx:0,texture_names:[]}})}},{key:"processRasterizeTask",value:function(t){if(!Co.shouldContinue(t))return!1;for(var e=t.cursor,n=t.texts,r=t.textures;e.texture_idx<t.textures.length;){for(var i=!1,o=r[e.texture_idx],a=this.createCanvas.apply(this,Rr(o.texture_size)),s=a.getContext("2d");e.style_idx<e.styles.length;){var l=e.styles[e.style_idx];null==e.text_idx&&(e.text_idx=0,e.texts=Object.keys(n[l]));for(var u=n[l],c=!0;e.text_idx<e.texts.length;){var h=e.texts[e.text_idx],f=u[h],p=f.text_settings;if(c&&(this.setFont(s,p),c=!1),p.can_articulate){f.texcoords=f.texcoords||{};for(var d=0;d<f.type.length;d++){var v=f.type[d];switch(v){case"straight":if(f.textures[d]!==e.texture_idx)continue;var g,y,m,b,_=f.isRTL?h.split().reverse().join():h,x=o.texcoord_cache[l][_],w=void 0;x.texcoord?w=x.texcoord:(g=x.texture_position,m=(y=this.textSize(s,l,_,p)).size,b=y.lines,this.drawTextMultiLine(s,b,g,m,p,v),w=t.texture_manager.getTexcoordsForSprite(g,m.texture_size,o.texture_size),x.texcoord=w),f.texcoords[v]={texcoord:w,texture_id:x.texture_id};break;case"curved":var k=f.segments;f.texcoords.curved=[],f.texcoords_stroke=[];for(var E,S,T,A,O,M,C,j,I=0;I<k.length;I++)f.textures[d][I]===e.texture_idx&&(E=k[I],A=T=void 0,(S=o.texcoord_cache[l][E]).texcoord&&S.texcoord_stroke?(T=S.texcoord,A=S.texcoord_stroke):(O=S.texture_position,C=(M=this.textSize(s,l,E,p)).size,j=M.lines,this.drawTextMultiLine(s,j,O,C,p,v),T=t.texture_manager.getTexcoordsForSprite(O,C.texture_size,o.texture_size),A=p.stroke&&0<p.stroke_width?t.texture_manager.getTexcoordsForSprite([O[0]+C.texture_size[0],O[1]],C.texture_size,o.texture_size):(i=!0,t.texture_manager.getTexcoordsForSprite([o.texture_size[0],o.texture_size[1]],[0,0],o.texture_size)),S.texcoord=T,S.texcoord_stroke=A),f.texcoords_stroke.push(A),f.texcoords.curved.push({texcoord:T,texture_id:S.texture_id}))}}}else{var P=this.textSize(s,l,h,p).lines;for(var R in f.align)f.align[R].texture_id===e.texture_idx&&(this.drawTextMultiLine(s,P,f.align[R].texture_position,f.size,{stroke:p.stroke,stroke_width:p.stroke_width,transform:p.transform,supersample:p.supersample,align:R,background_color:p.background_color,outline_width:p.outline_width,outline_color:p.outline_color,padding:p.padding,fill:p.fill,font_css:p.font_css,px_size:p.px_size}),f.align[R].texcoords=t.texture_manager.getTexcoordsForSprite(f.align[R].texture_position,f.size.texture_size,o.texture_size))}e.text_idx++}e.text_idx=null,e.style_idx++}!0===i&&(s.fillStyle="rgba(0, 0, 0, 0)",s.fillRect(a.width-1,a.height-1,1,1));var L=t.texture_prefix+e.texture_idx;t.texture_manager.create(t.gl,L,{element:a,filtering:"linear",UNPACK_PREMULTIPLY_ALPHA_WEBGL:!0}),e.texture_names.push(L),e.texture_idx++,e.style_idx=0,a.width=0,a.height=0}return Co.finish(t,e.texture_names),!0}},{key:"setTextureTextPositions",value:function(t){var e={texture_id:0,texcoord_cache:{}},n=[];for(var r in t){var i=t[r];for(var o in i){var a=i[o],s=a.text_settings,l=s.can_articulate,u=s.stroke,c=s.stroke_width;if(l){a.textures=[],e.texcoord_cache[r]=e.texcoord_cache[r]||{};for(var h=0;h<a.type.length;h++)switch(a.type[h]){case"straight":var f,p=a.isRTL?o.split().reverse().join():o;e.texcoord_cache[r][p]||(f=a.size.texture_size,e.texcoord_cache[r][p]={},this.placeText(f[0],f[1],{can_articulate:l,style:r,word:p})),a.textures[h]=e.texture_id;break;case"curved":a.textures[h]=[];for(var d=0;d<a.segment_sizes.length;d++){var v,g,y=a.segments[d];e.texcoord_cache[r][y]||(g=(v=a.segment_sizes[d].texture_size)[0],u&&0<c&&(g*=2),e.texcoord_cache[r][y]={},this.placeText(g,v[1],{can_articulate:l,style:r,word:y})),a.textures[h].push(e.texture_id)}}}else{var m=a.size.texture_size;this.placeText(m[0],m[1],{can_articulate:l,text_info:a})}}}var b=this.layout.export(),_=b.items,x=b.width,w=b.height;e.texcoord_cache={};for(var k=0,E=_.length;k<E;k++){var S=_[k],T=S.x,A=S.y;if(S.meta.can_articulate){var O=S.meta,M=O.style,C=O.word;e.texcoord_cache[M]=e.texcoord_cache[M]||{},e.texcoord_cache[M][C]||(e.texcoord_cache[M][C]={texture_id:e.texture_id,texture_position:[T,A]})}else{var j=S.meta.text_info;for(var I in j.align)j.align[I].texture_id=e.texture_id,j.align[I].texture_position=[T,A]}}return 0<x&&0<w&&(n[e.texture_id]={texture_size:[x,w],texcoord_cache:e.texcoord_cache}),n}},{key:"placeText",value:function(t,e,n){this.layout.addItem({width:t+this.vertical_text_buffer,height:e+this.vertical_text_buffer,meta:n})}},{key:"applyTextTransform",value:function(t,e){return"capitalize"===e?t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1)})):"uppercase"===e?t.toUpperCase():"lowercase"===e?t.toLowerCase():t}}],[{key:"fontPixelSize",value:function(e){if(null!=e){var n=Pr((e="string"==typeof e?e:String(e)).match(t.font_size_re)||[],3),r=n[1],i=n[2];return"em"===(i=i||"px")?r*=16:"pt"===i?r/=.75:"%"===i&&(r/=6.25),(r=_o.parsePositiveNumber(r))*Ai.device_pixel_ratio}}},{key:"pruneTextCache",value:function(){t.cache.text_count>t.cache.text_count_max&&(t.cache.text={},t.cache.text_count=0,Si("debug","CanvasText: pruning text cache")),Object.keys(t.cache.segment).length>t.cache.segment_count_max&&(t.cache.segment={},Si("debug","CanvasText: pruning segment cache"))}}]),t}();Hc.font_size_re=/((?:[0-9]*\.)?[0-9]+)\s*(px|pt|em|%)?/,Hc.cache={text:{},text_count:0,text_count_max:2e3,segment:{},segment_count_max:2e3,stats:{text_hits:0,text_misses:0,segment_hits:0,segment_misses:0}},Hc.EMPTY_TEXTURES_ARR=[],Hc.returnNoTextures=function(){return Hc.EMPTY_TEXTURES_ARR};var Uc=new RegExp("[\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc]");function Vc(t){return Uc.test(t)}var Gc="\0-/:-@[-`{-\xbf\xd7\xf7\u02b9-\u02ff\u2000-\u2bff\u2010-\u2029\u202c\u202f-\u2bff",qc=new RegExp("["+Gc+"]+");function Yc(t){return qc.test(t)}var Wc=new RegExp("^["+Gc+"\u0600-\u06ff]+"),Zc=new RegExp("["+Gc+"\u0622-\u0625\u0627\u062f-\u0632\u0648\u0671-\u0677\u0688-\u0699\u06c4-\u06cb\u06cf\u06d2\u06d3\u06ee\u06ef]"),Xc=new RegExp("^[\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed]+"),Kc="[\u0300-\u036f\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u07a6-\u07b0\u0900-\u0903\u093a-\u094c\u094e\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09cc\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c-\u0a4c\u0a51\u0a81-\u0a83\u0abc\u0abe-\u0acc\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b4c\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bcd\u0bd7\u0c00-\u0c03\u0c3e-\u0c4c\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0ccc\u0cd5\u0cd6\u0ce2\u0ce3\u0d01-\u0d03\u0d3e-\u0d4c\u0d4e\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f83\u0f86\u0f87\u0f8d-\u0fbc\u0fc6\u102b-\u1038\u103a-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u17b4-\u17d1\u17d3\u1a55-\u1a5e\u1a61-\u1a7c\u1dc0-\u1dff\u20d0-\u20ff]",$c=new RegExp("^.(?:"+Kc+"+)?([\u094d\u09cd\u0a4d\u0acd\u0b4d\u0c4d\u0ccd\u0d4d\u0f84\u1039\u17d2\u1a60\u1a7f]\\W(?:"+Kc+"+)?)*"),Jc={Mongolian:"\u1800-\u18af"},Qc=Object.keys(Jc).map((function(t){return Jc[t]})).join(""),th=new RegExp("["+Qc+"]"),eh=2,nh=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1/0;mr(this,t),this.width=0,this.height=0,this.lines=[],this.max_lines=n,this.text_wrap=r,this.context=e}return _r(t,[{key:"createLine",value:function(t){return this.lines.length<this.max_lines&&new rh(t,this.text_wrap)}},{key:"push",value:function(t){if(this.lines.length<this.max_lines){var e=this.context.measureText(t.text).width;return(t.width=e)>this.width&&(this.width=Math.ceil(e)),this.lines.push(t),this.height+=t.height,!0}return this.addEllipsis(),!1}},{key:"advance",value:function(t,e){return!!this.push(t)&&this.createLine(e)}},{key:"addEllipsis",value:function(){var e=this.lines[this.lines.length-1],n=Math.ceil(this.context.measureText(t.ellipsis).width);e.append(t.ellipsis),e.width+=n,e.width>this.width&&(this.width=e.width)}},{key:"finish",value:function(t){t?this.push(t):this.addEllipsis()}}],[{key:"parse",value:function(e,n,r,i,o){for(var a="number"==typeof n?e.split(" "):[e],s=new t(o,r,n),l=s.createLine(i),u=0;u<a.length;u++){for(var c=a[u].split("\n"),h=0===u,f=0;f<c.length&&l;f++){var p=c[f];Vc(p)&&Yc(p[p.length-1])&&(p+="\u200f");var d=h?p:" "+p;if(n&&0<u&&l.exceedsTextwrap(d)){if(!(l=s.advance(l,i)))break;l.append(p),h=!0}else l.append(d);f<c.length-1&&(l=s.advance(l,i),h=!0)}u===a.length-1&&s.finish(l)}return s}}]),t}();nh.ellipsis="...";var rh=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;mr(this,t),this.chars=0,this.text="",this.height=Math.ceil(e),this.text_wrap=n}return _r(t,[{key:"append",value:function(t){this.chars+=t.length,this.text+=t}},{key:"exceedsTextwrap",value:function(t){return t.length+this.chars>this.text_wrap}}]),t}(),ih={resetText:function(){this.texts={}},freeText:function(t){delete this.texts[t.id]},parseTextFeature:function(t,e,n,r){var i=this.parseTextSource(t,e,n);if(null!=i&&""!==i){var o=zc.compute(t,e,n);if(o){var a=zc.key(o);this.texts[r.id]=this.texts[r.id]||{};var s=this.texts[r.id][a]=this.texts[r.id][a]||{};if(i instanceof Object){var l=[],u=i.left+"-"+i.right;for(var c in i){var h,f=i[c];f&&(h=this.computeTextLayout({},t,e,n,r,f,o,u,c),s[f]||(s[f]={text_settings:o,ref:0}),l.push({draw:e,text:f,text_settings_key:a,layout:h}))}return 0<l.length&&l}var p=this.computeTextLayout({},t,e,n,r,i,o);return s[i]||(s[i]={text_settings:o,ref:0}),{draw:e,text:i,text_settings_key:a,layout:p}}}},parseTextSource:function(t,e,n){var r,i=e.text_source||"name";if(null!=i&&"object"===yr(i))for(var o in r={},i)r[o]=this.parseTextSourceValue(i[o],t,n);else r=this.parseTextSourceValue(i,t,n);return r},parseTextSourceValue:function(t,e,n){var r;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("string"==typeof t[i]?r=e.properties[t[i]]:"function"==typeof t[i]&&(r=t[i](n)),r)return r}else"string"==typeof t?r=e.properties[t]:t instanceof Function&&(r=t(n));return r},prepareTextLabels:function(t,e,n){var r=this;return 0===Object.keys(this.texts[t.id]||{}).length?Promise.resolve([]):hi.postMessage(this.main_thread_target+".calcTextSizes",t.id,this.texts[t.id]).then((function(e){var i=e.texts;return t.canceled?(Si("trace","Style ".concat(r.name,": stop tile build because tile was canceled: ").concat(t.key,", post-calcTextSizes()")),[]):(r.texts[t.id]=i||[],i?r.buildTextLabels(t,n):(Mo.abortTile(t.id),[]))}))},collideAndRenderTextLabels:function(t,e,n){var r=this;return this.prepareTextLabels(t,e,n).then((function(n){return 0===n.length?(Mo.collide([],e,t.id),Promise.resolve({})):Mo.collide(n,e,t.id).then((function(e){if(t.canceled)return Si("trace","stop tile build because tile was canceled: ".concat(t.key,", post-collide()")),{};var n=r.texts[t.id];return null==n||0===e.length?{}:(r.cullTextStyles(n,e),e.forEach((function(t){var e=t.text_settings_key,r=n[e]&&n[e][t.text];r.text_settings.can_articulate?(r.type||(r.type=[]),-1===r.type.indexOf(t.label.type)&&r.type.push(t.label.type)):(r.align=r.align||{},r.align[t.label.align]={})})),{labels:e,texts:n,textures:[]})}))}))},cullTextStyles:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[r.text_settings_key][r.text].ref++}for(var i in t)for(var o in t[i])t[i][o].ref<1&&delete t[i][o];for(var a in t)0===Object.keys(t[a]).length&&delete t[a]},calcTextSizes:function(t,e){return this._canvas_text||(this._canvas_text=new Hc,this._canvas_ctx_for_sizes=this._canvas_text.createCanvas().getContext("2d")),this._canvas_text.textSizes(t,e,this._canvas_ctx_for_sizes)},preprocessText:function(t){if(t&&t.font&&"object"===yr(t.font))return t.font.fill=_o.createPropertyCache(t.font.fill),t.font.stroke&&(t.font.stroke.color=_o.createPropertyCache(t.font.stroke.color)),t.background&&t.background.color&&(t.background.color=_o.createPropertyCache(t.background.color)),t.outline&&(t.outline.color&&(t.outline.color=_o.createPropertyCache(t.outline.color)),t.outline.width&&(t.outline.width=_o.createPropertyCache(t.outline.width,_o.parsePositiveNumber))),t.padding&&(Array.isArray(t.padding)?2===t.padding.length&&(t.padding=[t.padding[0],t.padding[1],t.padding[0],t.padding[1]]):t.padding=Array(4).fill(t.padding),t.padding=_o.createPropertyCache(t.padding,(function(t){return t.map(_o.parsePositiveNumber)}))),t.font.px_size=_o.createPropertyCache(t.font.size||zc.defaults.size,Hc.fontPixelSize),t.font.stroke&&null!=t.font.stroke.width&&(t.font.stroke.width=_o.createPropertyCache(t.font.stroke.width,_o.parsePositiveNumber)),t.offset=_o.createPropertyCache(t.offset,(function(t){return Array.isArray(t)&&t.map(_o.parseNumber)})),t.buffer=_o.createPropertyCache(t.buffer,(function(t){return(Array.isArray(t)?t:[t,t]).map(_o.parsePositiveNumber)})),t.repeat_distance=_o.createPropertyCache(t.repeat_distance||ei.tile_size,_o.parsePositiveNumber),t},computeTextLayout:function(t,e,n,r,i,o,a,s,l){var u=t||{};return(u=this.computeLayout(u,e,n,r,i)).repeat_distance&&(s&&(u.repeat_group+="/"+s),u.repeat_group+="/"+o),u.subdiv=i.overzoom2,u.align=n.align,u.italic="normal"!==a.style,"right"===l?u.orientation=1:"left"===l&&(u.orientation=-1),u}},oh=Math.PI/180,ah=function(){function t(e,n){mr(this,t),this._min_zoom=H.util.constants.DEFAULT_MIN_ZOOM_LEVEL,this._max_zoom=H.util.constants.DEFAULT_MAX_ZOOM_LEVEL,this._viewport=e,this._center_offset=[],this._center_offset_normalized=[],this._viewport_aspect_ratio=1,this._focal_length=[[16,2],[17,2.5],[18,3],[19,4],[20,6]],this._view_matrix=new Float64Array(16),this._projection_matrix=new Float64Array(16),this._heading_matrix=new Float64Array(16),this._tilt_matrix=new Float64Array(16),this._transformation_matrix=new Float64Array(16),this._camera_matrix=new Float64Array(16),this._lookAtData={position:[0,0,0],zoom:0,tile_level:0,tetragon:void 0,bounds:void 0,unpadded_bounds:void 0,distance:void 0,tilt:0,incline:0,heading:180},this._zoom_direction=0,this._horizon=0,this.handleViewportUpdate(!0),n?this.setLookAtData(n):this._updateMatrices(),ql.replaceBlock("camera","\n            uniform mat4 u_projection;\n            uniform vec3 u_eye;\n            uniform vec2 u_center_offset;\n\n            void cameraProjection (inout vec4 position) {\n                position = u_projection * position;\n            }")}return _r(t,[{key:"getZoomForBounds",value:function(t,e,n,r){for(var i=this.clone(),o=this._max_zoom,a=this._min_zoom,s=(o-a)/2,l=o-s;.001<s;)i.setLookAtData({zoom:l,position:e,tilt:n,heading:r}),t.every((function(t){return Qr.isPointInsidePolygon(t,i.getLookAtData().bounds)}))?a=l:o=l,l=o-(s=(o-a)/2);return a}},{key:"setZoomConstraints",value:function(t,e){this._min_zoom=t,this._max_zoom=e,this.setLookAtData(this.getLookAtData())}},{key:"setLookAtData",value:function(t,e){var n,r,i,o,a,s=t.position,l=t.zoom;s===n&&t.bounds!==n&&(s=Qr.getBBoxCenter(Qr.getBBox(t.bounds))),l===n&&t.bounds!==n&&(l=this.getZoomForBounds(t.bounds,s,t.tilt,t.heading)),e!==n&&(r=s||this.screenToWorld(e)),l!==n&&(l=Qr.clamp(l,this._min_zoom,this._max_zoom),(i=Ai.zoomToTileLevel(l))!==(o=this._lookAtData.tile_level)&&(this._zoom_direction=o<i?1:-1),this._lookAtData.zoom=l,this._lookAtData.tile_level=i),t.tilt!==n&&(this._lookAtData.tilt=t.tilt),t.heading!==n&&(this._lookAtData.heading=t.heading),e!==n?(this._updateMatrices(),a=this.screenToWorld(e),this._lookAtData.position[0]-=a[0]-r[0],this._lookAtData.position[1]-=a[1]-r[1]):s&&(this._lookAtData.position=s),this._lookAtData.position[2]=0,this._lookAtData.position[1]=Qr.clamp(this._lookAtData.position[1],-ei.half_circumference_meters,ei.half_circumference_meters),this._updateMatrices(),this._updateVisibleBounds()}},{key:"getZoomDirection",value:function(){return this._zoom_direction}},{key:"resetZoomDirection",value:function(){this._zoom_direction=0}},{key:"getLookAtData",value:function(){return this._lookAtData}},{key:"handleViewportUpdate",value:function(t){var e=0<arguments.length&&void 0!==t&&t,n=this._viewport,r=n.width,i=n.height;this._viewport_aspect_ratio=r/i;var o=this._viewport.center.x-(r/2<<0),a=this._viewport.center.y-(i/2<<0);this._center_offset[0]=o,this._center_offset[1]=a,this._center_offset_normalized[0]=o/r,this._center_offset_normalized[1]=a/-i,e||(this._updateMatrices(),this._updateVisibleBounds())}},{key:"setupMatrices",value:function(t,e){Uo(t.model_view32,this._view_matrix,t.model),e.uniform("Matrix4fv","u_modelView",t.model_view32),Bo(t.normal32,t.model_view32),Ho(t.inverse_normal32,t.normal32),e.uniform("Matrix3fv","u_normalMatrix",t.normal32),e.uniform("Matrix3fv","u_inverseNormalMatrix",t.inverse_normal32)}},{key:"_updateMatrices",value:function(){var t=this._viewport.height*ei.metersPerPixel(this._lookAtData.zoom),e=Ai.interpolate(this._lookAtData.zoom,this._focal_length);this._lookAtData.distance=t/2*e;var n=this._lookAtData.position[0],r=this._lookAtData.position[1];Yo(this._view_matrix,zo(n,r,0),zo(n,r,-1),zo(0,1,0)),this._heading_matrix=Wo(this._heading_matrix);var i=180-this._lookAtData.heading;i*=oh,this._heading_matrix[0]=Math.cos(i),this._heading_matrix[1]=-Math.sin(i),this._heading_matrix[4]=Math.sin(i),this._heading_matrix[5]=Math.cos(i),this._tilt_matrix=Wo(this._tilt_matrix),i=0<(i=this._lookAtData.tilt?this._lookAtData.tilt*oh:0)?-i:i,this._tilt_matrix[5]=Math.cos(i),this._tilt_matrix[6]=Math.sin(i),this._tilt_matrix[9]=-Math.sin(i),this._tilt_matrix[10]=Math.cos(i),Uo(this._transformation_matrix,this._tilt_matrix,this._heading_matrix),Uo(this._view_matrix,this._transformation_matrix,this._view_matrix);var o=2*Math.atan(1/e),a=2*this._lookAtData.distance;this._depth_buffer_adjustment=2/Math.log(a),qo(this._projection_matrix,o,this._viewport_aspect_ratio,1,a),this._projection_matrix[8]=2*-this._center_offset_normalized[0],this._projection_matrix[9]=2*-this._center_offset_normalized[1],Vo(this._projection_matrix,this._projection_matrix,zo(0,0,-this._lookAtData.distance)),this._camera_matrix=Uo(this._camera_matrix,this._projection_matrix,this._view_matrix)}},{key:"_updateVisibleBounds",value:function(){var t,e,n,r,i,o=this._viewport,a=o.width,s=o.height,l=o.padding,u=this._lookAtData.tilt*Math.PI/180;this._horizon=Math.max((l.top+s)/2-Math.cos(u)*(l.top*(1-Math.sin(u))+.75*s),0),this._lookAtData.tetragon=[this.screenToWorld([0,this._horizon]),this.screenToWorld([a,this._horizon]),this.screenToWorld([a,s]),this.screenToWorld([0,s])],this._lookAtData.unpadded_bounds=this._clipAgainstGeoBounds(this._lookAtData.tetragon),0===l.left&&0===l.top&&0===l.right&&0===l.bottom?this._lookAtData.bounds=this._lookAtData.unpadded_bounds:(t=l.left,e=Math.max(this._horizon,l.top),n=a-l.right,r=s-l.bottom,i=[this.screenToWorld([t,e]),this.screenToWorld([n,e]),this.screenToWorld([n,r]),this.screenToWorld([t,r])],this._lookAtData.bounds=this._clipAgainstGeoBounds(i))}},{key:"_clipAgainstGeoBounds",value:function(t){var e=Pr(Qr.getBBox(t),4),n=e[0],r=e[1],i=e[2],o=e[3],a=ei.half_circumference_meters,s=[[n-1,+a],[i+1,+a],[i+1,-a],[n-1,-a]],l=Qr.clipPolygon(s,t)[0],u=Pr(Qr.getBBox(l),4);n=u[0],r=u[1],i=u[2],o=u[3],i-n>=ei.circumference_meters&&(l=[[-a,o],[+a,o],[+a,r],[-a,r]]);var c=[];return l&&(c=Qr.splitLegs(l,a)),c}},{key:"applyPxOffset",value:function(t){var e=Pr(t,2),n=e[0],r=e[1],i=Math.PI-this._lookAtData.heading*oh,o=ei.metersPerPixel(this._lookAtData.zoom);this._lookAtData.position[0]+=(n*Math.cos(i)+r*Math.sin(i))*o,this._lookAtData.position[1]-=(r*Math.cos(i)-n*Math.sin(i))*o,this._lookAtData.position[1]=Qr.clamp(this._lookAtData.position[1],-ei.half_circumference_meters,ei.half_circumference_meters),this._updateMatrices(),this._updateVisibleBounds()}},{key:"screenToWorld",value:function(t){var e=Pr(t,2),n=e[0],r=e[1],i=this._viewport,o=i.width,a=i.height;return 0===o||0===a?[0,0]:(n-=o/2,r-=a/2,this._clipCoordsToWorldPlaneCoords([2*(n+o/2)/o-1,1-2*(r+a/2)/a,-1,1]))}},{key:"_clipToScreenCoords",value:function(t){var e=this._viewport,n=e.width,r=e.height;return[(.5*t[0]+.5)*n,r-(.5*t[1]+.5)*r]}},{key:"_isScreenPointInViewPort",value:function(t){var e=this._viewport,n=e.width,r=e.height;return 0<=t[0]&&t[0]<=n&&0<=t[1]&&t[1]<=r}},{key:"worldToScreen",value:function(t,e){var n,r,i,o,a,s,l=1<arguments.length&&void 0!==e&&e;return t[2]||(t[2]=0),l?(n=this._worldToClipCoords(t),a=this._clipToScreenCoords(n)):(r=Math.sign(this._lookAtData.position[0]),i=Math.trunc(this._lookAtData.position[0]/ei.circumference_meters+r/2),t[0]+=ei.circumference_meters*i,o=this._worldToClipCoords(t),s=a=this._clipToScreenCoords(o),this._isScreenPointInViewPort(a)||(o=this._worldToClipCoords([t[0]+ei.circumference_meters,t[1],t[2]]),a=this._clipToScreenCoords(o),this._isScreenPointInViewPort(a)||(o=this._worldToClipCoords([t[0]-ei.circumference_meters,t[1],t[2]]),a=this._clipToScreenCoords(o)),this._isScreenPointInViewPort(a)||(a=s))),a}},{key:"getHorizon",value:function(){return this._horizon}},{key:"_clipCoordsToWorldPlaneCoords",value:function(t){var e=[],n=this._lookAtData.distance,r=this._lookAtData.position,i=[0,0,n,0],o=0,a=n*Math.sin(oh*this._lookAtData.tilt)*Math.cos(oh*this._lookAtData.heading),s=n*Math.sin(oh*this._lookAtData.tilt)*Math.sin(oh*this._lookAtData.heading),l=new Float64Array(16),u=new Float64Array(16);return Xo(l,this._projection_matrix),Ko(e,t,l),e[2]=-1,e[3]=0,Xo(u,this._view_matrix),Ko(e,e,u),$o(e,e),Ko(i,i,this._transformation_matrix),0!==e[2]&&(o=-i[2]/e[2]),Jo(e,e,o),[r[0]+(e[0]+s),r[1]+(e[1]+a)]}},{key:"_worldToClipCoords",value:function(t){var e=[t[0],t[1],t[2],1];return Ko(e,e,this._view_matrix),Ko(e,e,this._projection_matrix),Jo(e,e,1/e[3]),e}},{key:"setupProgram",value:function(t){t.uniform("Matrix4fv","u_projection",this._projection_matrix),t.uniform("3f","u_eye",[0,0,this._lookAtData.distance]),t.uniform("2fv","u_center_offset",this._center_offset_normalized),t.uniform("1f","u_tilt",this._lookAtData.tilt*oh),t.uniform("1f","u_heading",this._lookAtData.heading*oh),t.uniform("1f","u_near_plane",1),t.uniform("1f","u_depth_buffer_adjustment",this._depth_buffer_adjustment)}},{key:"getTransformationMatrix",value:function(){return this._transformation_matrix}},{key:"getCameraMatrix",value:function(){return this._camera_matrix}},{key:"clone",value:function(){var e=new t(this._viewport,this._lookAtData);return e.setZoomConstraints(this._min_zoom,this._max_zoom),e}},{key:"getViewport",value:function(){return this._viewport}}]),t}();function sh(t){return void 0===t.x?t[0]:t.x}function lh(t){return void 0===t.y?t[1]:t.y}function uh(t,e){return sh(t)-sh(e)}function ch(t,e){return lh(t)-lh(e)}function hh(t){return t.sort(uh)}function fh(t,e){for(var n,r=t[0],i=r,o=0;o<t.length;o+=1)e(n=t[o],r)<0?r=n:0<e(n,i)&&(i=n);return[r,i]}function ph(t,e){return Object.values(e.reduce((function(e,n){var r=n[+t];return e[r]||(e[r]=[]),e[r].push(n),e}),{}))}function dh(t,e,n){var r=+t,i=e[r],o=n[r];if(o<i)return[];var a=[e];if(o<i)return a;for(var s=e[(1+r)%2],l=t?function(t){return a.push([s,t])}:function(t){return a.push([t,s])},u=i+1;u<o;u+=1)l(u);return a.push(n),a}function vh(t,e){return dh(!1,t,e)}function gh(t,e){return dh(!0,t,e)}function yh(t){var e={},n=[];return t.forEach((function(t){var r=t.key||(Array.isArray(t)?"".concat(t[0],"/").concat(t[1]):"".concat(t.x,"/").concat(t.y));e[r]||(e[r]=!0,n.push(t))})),n}function mh(t){return t.reduce((function(t,e){return t.concat(e)}))}function bh(t,e,n){function r(e){return Object.values(ei.metersToExactTileCoords(e,t.tile_level))}var i,o,a,s,l,u,c,h,f;return yh((i=function(t,e){return e<=0?t:yh((n=mh(ph(!1,t).map((function(t){var n=Pr(fh(t,ch),2),r=n[0],i=n[1],o=[r[0],r[1]-e],a=[i[0],i[1]+e];return t.concat(gh(o,r),gh(i,a))}))),mh(ph(!0,n).map((function(t){var n=Pr(fh(t,uh),2),r=n[0],i=n[1],o=[r[0]-e,r[1]],a=[i[0]+e,i[1]];return t.concat(vh(o,r),vh(i,a))})))));var n}((s=r(t.tetragon[0]),l=r(t.tetragon[1]),u=r(t.tetragon[3]),c=r(t.tetragon[2]),h=_h(l,s,u),f=_h(u,c,l),yh(h.concat(f))),e),o=t.tile_level,a=n,i.map((function(t){var e=Pr(t,2),n=e[0],r=e[1];return ea.coord(ei.wrapTile({x:n,y:r,z:o},{x:!a,y:!0}))}))))}function _h(t,e,n){var r=function(t,e,n){var r=Pr(t,2),i=r[0],o=r[1],a=Pr(e,2),s=a[0],l=a[1],u=Pr(n,2),c=u[0],h=u[1],f=i+(l-o)/(h-o)*(c-i);return[[[i,o]].concat(Rr(hh([[s,l],[f,l]]))),[].concat(Rr(hh([[s,l],[f,l]])),[[c,h]])]}.apply(void 0,Rr([t,e,n].sort(ch))),i=Pr(r,2),o=i[0],a=i[1];return yh(function(t,e,n){var r=Pr(t,2),i=r[0],o=r[1],a=Pr(e,2),s=a[0],l=a[1];return xh(i,s,Pr(n,1)[0],o,l)}.apply(void 0,Rr(o)).concat(function(t,e,n){var r=Pr(t,2),i=r[0],o=r[1],a=Pr(e,1)[0],s=Pr(n,2);return xh(s[0],i,a,s[1],o)}.apply(void 0,Rr(a))))}function xh(t,e,n,r,i){var o,a,s,l,u,c,h,f,p,d,v=Math.min(t,e),g=Math.max(t,n),y=Math.min(r,i),m=Math.max(r,i);if(Math.floor(r)===Math.floor(i))return Eh(v,g,r);if(m-y<.125)return o=[g,m],s=(a=Pr([v,y],2))[0],l=a[1],c=(u=Pr(o,2))[0],h=u[1],p=wh(f=kh(s,c),l),d=wh(f,h),p.concat(d);function b(t){T=T.concat(Eh(A,O,Math.floor(t))),A+=E,O+=S}var _,x,w=.125*((x=m)-(_=y))/(Math.ceil(x)-Math.floor(_)),k=(m-y)/w,E=(e-t)/k,S=(n-t)/k,T=[],A=t,O=t;if(r<i)for(var M=y;M<=m;M+=w)b(M);else for(var C=m;y<=C;C-=w)b(C);return yh(T)}function wh(t,e){return t.map((function(t){return[t,e]}))}function kh(t,e){var n=Math.floor(t),r=Math.floor(e);if(r<n)return[];if(n===r)return[n];for(var i=[],o=n;o<=r;o+=1)i.push(o);return i}function Eh(t,e,n){return wh(kh(t,e),n)}var Sh=function(){function t(e,n){mr(this,t),Po(this),this.scene=e,this.createMatrices(),this.bounds=null,this.center_tile=null,this.panning=!1,this.panning_stop_at=0,this.pan_snap_timer=0,this.user_input_at=0,this.user_input_timeout=50,this.user_input_active=!1,this.size={},this.buffer=0,this.wrap=!1!==n.wrapView,this.preserve_tiles_within_zoom=1,this.lookAtManipulator=new ah(n.viewport),this._viewport=n.viewport,this._offset_buffer=[0,0],this.handleViewportUpdate(!0)}return _r(t,[{key:"update",value:function(){this.pan_snap_timer=(new Date-this.panning_stop_at)/1e3,this.user_input_active=new Date-this.user_input_at<this.user_input_timeout,this.scene.tile_manager.updateTilesVisibilityCounters()}},{key:"handleViewportUpdate",value:function(t){var e=0<arguments.length&&void 0!==t&&t,n=this._viewport,r=n.width,i=n.height;this.size.css={width:r,height:i},this.size.device={width:Math.round(r*Ai.device_pixel_ratio),height:Math.round(i*Ai.device_pixel_ratio)},this.lookAtManipulator.handleViewportUpdate(),e||this.updateBounds()}},{key:"setLookAtData",value:function(e,n){t._setLookAtDataForManipulator(this.lookAtManipulator,e,n),this.updateBounds()}},{key:"getLookAtData",value:function(e){var n=0<arguments.length&&void 0!==e&&e;return t._getLookAtDataFromManipulator(this.lookAtManipulator,n)}},{key:"getBestLookAtData",value:function(e,n,r){var i=2<arguments.length&&void 0!==r&&r,o=this.lookAtManipulator.clone();return t._setLookAtDataForManipulator(o,e,n),t._getLookAtDataFromManipulator(o,i)}},{key:"getTileLevel",value:function(){return this.lookAtManipulator.getLookAtData().tile_level}},{key:"applyPxOffset",value:function(t){var e=this._offset_buffer;e[0]+=t[0],e[1]+=t[1];var n,r,i=Math.abs(e[0]),o=Math.abs(e[1]);(1<=i||1<=o)&&(n=~~e[0],r=~~e[1],this.lookAtManipulator.applyPxOffset([i<1?0:n,o<1?0:r]),1<=i&&(e[0]-=n),1<=o&&(e[1]-=r),this.updateBounds())}},{key:"setPanning",value:function(t){this.panning=t,this.panning||(this.panning_stop_at=+new Date)}},{key:"markUserInput",value:function(){this.user_input_at=+new Date}},{key:"ready",value:function(){return"number"==typeof this.size.css.width&&"number"==typeof this.size.css.height}},{key:"updateBounds",value:function(){var t,e;this.markUserInput(),this.ready()&&(this.center_tile=ei.tileForMeters(this.lookAtManipulator.getLookAtData().position,this.lookAtManipulator.getLookAtData().tile_level),t=this.lookAtManipulator.screenToWorld([0,this.size.css.height]),e=this.lookAtManipulator.screenToWorld([this.size.css.width,0]),this.bounds={sw:{x:t[0],y:t[1]},ne:{x:e[0],y:e[1]}},this.scene.tile_manager.updateTilesForView(!0),this.trigger("move"),this.scene.requestRedraw())}},{key:"getTileGridFlatForBBox",value:function(t,e,n,r,i,o){var a,s=4<arguments.length&&void 0!==i?i:0,l=!(5<arguments.length&&void 0!==o)||o,u=this.lookAtManipulator.getLookAtData().tile_level,c=ei.tileForMeters([e,t],u),h=ei.tileForMeters([r,n],u);c.x-=s,c.y-=s,h.x+=s,h.y+=s,!1===l&&(a=(1<<u)-1,c.x=Math.min(Math.max(0,c.x),a),c.y=Math.min(Math.max(0,c.y),a),h.x=Math.min(Math.max(0,h.x),a),h.y=Math.min(Math.max(0,h.y),a));for(var f=[],p={},d=c.x;d<=h.x;d++)for(var v=c.y;v<=h.y;v++){var g=ea.coord(ei.wrapTile({x:d,y:v,z:u},{x:!l,y:!0}));p[g.key]||(p[g.key]=!0,f.push(g))}return f}},{key:"getTileGridFlat",value:function(){return this.getTileGridFlatForBBox(this.bounds.ne.y,this.bounds.sw.x,this.bounds.sw.y,this.bounds.ne.x,this.buffer,this.wrap)}},{key:"getTileGridDistorted",value:function(){return bh(this.lookAtManipulator.getLookAtData(),this.buffer,this.wrap)}},{key:"findVisibleTileCoordinates",value:function(){if(!this.bounds)return[];var t=this.lookAtManipulator.getLookAtData(),e=t.tilt,n=t.heading;return 0===e&&180===n?this.getTileGridFlat():this.getTileGridDistorted()}},{key:"createMatrices",value:function(){this.matrices={},this.matrices.model=new Float64Array(16),this.matrices.model32=new Float32Array(16),this.matrices.model_view=new Float64Array(16),this.matrices.model_view32=new Float32Array(16),this.matrices.normal=new Float64Array(9),this.matrices.normal32=new Float32Array(9),this.matrices.inverse_normal32=new Float32Array(9)}},{key:"setupTile",value:function(t,e){t.setupProgram(this.matrices,e),this.lookAtManipulator.setupMatrices(this.matrices,e)}},{key:"setupProgram",value:function(t){var e=this.lookAtManipulator.getLookAtData();t.uniform("2fv","u_resolution",[this.size.device.width,this.size.device.height]),t.uniform("3fv","u_map_position",[e.position[0],e.position[1],Math.trunc(1e5*e.zoom)/1e5]),t.uniform("1f","u_meters_per_pixel",ei.metersPerPixel(e.zoom)),t.uniform("1f","u_device_pixel_ratio",Ai.device_pixel_ratio),t.uniform("1f","u_view_pan_snap_timer",this.pan_snap_timer),t.uniform("1i","u_view_panning",this.panning),t.uniform("1f","u_horizon",this.lookAtManipulator.getHorizon()/(this.size.css.height/2)),this.lookAtManipulator.setupProgram(t)}},{key:"isAnimating",value:function(){return this.pan_snap_timer<=.5}},{key:"xyToGeo",value:function(t,e){var n=this.lookAtManipulator.screenToWorld([t,e]),r=Pr(ei.metersToLatLng(n),2),i=r[0];return{lat:r[1],lng:i}}},{key:"geoToPixel",value:function(t){var e=ei.latLngToMeters([t.lng,t.lat]);e.push(t.alt||0);var n=this.lookAtManipulator.worldToScreen(e);return{x:Math.floor(n[0]),y:Math.floor(n[1])}}},{key:"geoToMeters",value:function(t){var e=Pr(ei.latLngToMeters([t.lng,t.lat]),2);return{x:e[0],y:e[1],z:t.alt||0}}},{key:"metersToGeo",value:function(t){var e=Pr(ei.metersToLatLng([t.x,t.y]),2),n=e[0];return{lat:e[1],lng:n,alt:t.z||0}}},{key:"setZoomConstraints",value:function(t,e){this.lookAtManipulator.setZoomConstraints(t,e)}}],[{key:"_setLookAtDataForManipulator",value:function(t,e,n){var r=e.position,i=e.zoom,o=e.tilt,a=e.heading,s=e.bounds,l={zoom:i,tilt:o,heading:a};if(r&&"number"==typeof r.lng&&"number"==typeof r.lat&&(l.position=ei.latLngToMeters([r.lng,r.lat])),s){for(var u=s.getExterior().getLatLngAltArray(),c=u.length/3,h=Array(c),f=0;f<c;f++)h[f]=ei.latLngToMeters([u[3*f+1],u[3*f]]);l.bounds=h}t.setLookAtData(l,n)}},{key:"_getLookAtDataFromManipulator",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e,r=t.getLookAtData(),i=r.heading,o=r.incline,a=r.tilt,s=r.zoom,l=r.position,u=r.bounds,c=r.unpadded_bounds,h=Pr(ei.metersToLatLng(l),2),f=h[0],p=h[1],d=new H.geo.LineString;return(n?c:u).forEach((function(t){var e=ei.metersToLatLng(t);d.pushLatLngAlt(e[1],e[0],0)})),{heading:i,incline:o,tilt:a,zoom:s,bounds:new H.geo.Polygon(d),position:{lat:p,lng:f,alt:l[2]}}}}]),t}(),Th=Pc.PLACEMENT,Ah=128/Math.PI,Oh=16384/Math.PI,Mh=Object.create(au);Mh.variants={},Object.assign(Mh,ih),Object.assign(Mh,{name:"points",built_in:!0,vertex_shader_src:"uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_tile_proxy_depth;uniform bool u_tile_fade_in;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform float u_visible_time;uniform bool u_view_panning;uniform float u_tilt;uniform mat4 u_model;uniform mat4 u_modelView;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform float u_heading;uniform float u_near_plane;uniform float u_depth_buffer_adjustment;attribute vec4 a_position;attribute vec4 a_shape;attribute vec4 a_color;attribute vec2 a_texcoord;attribute vec2 a_offset;uniform float u_point_type;attribute float a_is_flat;\n#ifdef TANGRAM_IS_TEXT_STYLE\nattribute vec4 a_offsets_alt;attribute vec4 a_pre_angles_alt;attribute vec4 a_angles_alt;attribute vec4 a_offsets;attribute vec4 a_pre_angles;attribute vec4 a_angles;\n#endif\n#ifdef TANGRAM_POINT_DRAW_STICK\nattribute float a_is_stick;attribute float a_stick_height;varying float v_is_stick;\n#endif\nvarying vec4 v_color;varying vec2 v_texcoord;varying vec4 v_world_position;varying float v_alpha_factor;\n#ifdef TANGRAM_HAS_SHADER_POINTS\nattribute float a_outline_edge;attribute vec4 a_outline_color;varying float v_outline_edge;varying vec4 v_outline_color;varying float v_aa_offset;\n#endif\n#ifdef TANGRAM_SHOW_HIDDEN_LABELS\nvarying float v_label_hidden;\n#endif\n#define PI 3.14159265359\n#define TANGRAM_NORMAL vec3(0., 0., 1.)\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\nvec2 rotate2D(vec2 _st,float _angle){return mat2(cos(_angle),-sin(_angle),sin(_angle),cos(_angle))*_st;}vec3 rotateX3D(vec3 _st,float _angle){return mat3(1.,0.,0.,0.,cos(_angle),sin(_angle),0.,-sin(_angle),cos(_angle))*_st;}vec3 rotateZ3D(vec3 _st,float _angle){return mat3(cos(_angle),sin(_angle),0.,-sin(_angle),cos(_angle),0.,0.,0.,1.)*_st;}\n#ifdef TANGRAM_IS_TEXT_STYLE\nfloat mix4linear(float a,float b,float c,float d,float x){return mix(mix(a,b,3.*x),mix(b,mix(c,d,3.*(max(x,.66)-.66)),3.*(clamp(x,.33,.66)-.33)),step(0.33,x));}\n#endif\nvoid main(){\n#pragma tangram: setup\n#ifndef TANGRAM_SHOW_HIDDEN_LABELS\nif(a_shape.w==0.){gl_Position=vec4(0.,0.,0.,1.);return;}\n#else\nif(a_shape.w==0.){v_label_hidden=1.;}else{v_label_hidden=0.;}\n#endif\nv_alpha_factor=1.0;v_color=a_color;v_texcoord=a_texcoord;\n#ifdef TANGRAM_HAS_SHADER_POINTS\nv_outline_color=a_outline_color;v_outline_edge=a_outline_edge;if(u_point_type==TANGRAM_POINT_TYPE_SHADER){v_outline_color=a_outline_color;v_outline_edge=a_outline_edge;float size=abs(a_shape.x/128.);v_texcoord=sign(a_shape.xy)*(size+1.0)/size;size+=2.0;v_aa_offset=2.0/size;}\n#endif\nvec4 position=u_modelView*vec4(a_position.xyz,1.);vec4 shape=vec4(a_shape.xy,0.,0.);vec2 offset=vec2(a_offset.x,-a_offset.y);\n#ifdef TANGRAM_POINT_DRAW_STICK\nv_is_stick=a_is_stick;float scaled_stick_height=(sin(u_tilt+(1.5*PI))+1.0)*a_stick_height;offset.y+=(1.0-a_is_stick)*scaled_stick_height;\n#endif\nfloat zoom=clamp(u_map_position.z-u_tile_origin.z,0.,1.);float theta=a_shape.z/4096.;float heading=u_heading;float delta=(heading-PI);float new_theta=theta-delta;float reversed=abs(new_theta)>PI/2. ? 1. : 0.;if(a_is_flat==1.0){\n#ifdef TANGRAM_IS_TEXT_STYLE\nif(a_offsets[0]!=0.){vec4 angles_scaled;vec4 pre_angles_scaled;vec4 offsets_scaled;if(reversed==1.){offsets_scaled=a_offsets_alt*4.;angles_scaled=(PI/16384.)*a_angles_alt;pre_angles_scaled=(PI/128.)*a_pre_angles_alt;}else{offsets_scaled=a_offsets*4.;angles_scaled=(PI/16384.)*a_angles;pre_angles_scaled=(PI/128.)*a_pre_angles;}float pre_angle=mix4linear(pre_angles_scaled[0],pre_angles_scaled[1],pre_angles_scaled[2],pre_angles_scaled[3],zoom);float angle=mix4linear(angles_scaled[0],angles_scaled[1],angles_scaled[2],angles_scaled[3],zoom);float offset_curve=mix4linear(offsets_scaled[0],offsets_scaled[1],offsets_scaled[2],offsets_scaled[3],zoom);shape.xy=rotate2D(shape.xy,pre_angle+PI*reversed);shape.x+=offset_curve;shape.xy=rotate2D(shape.xy,angle);shape.xy+=rotate2D(offset,theta);}else{shape.xy=rotate2D(shape.xy+offset*256.,theta+(PI*reversed));}\n#else\nshape.xy=rotate2D(shape.xy+offset*256.,theta);\n#endif\nshape.xy/=pow(2.,4.+(u_map_position.z-u_tile_origin.w));shape=u_modelView*shape;position+=shape;}else{shape.xy/=256.;\n#ifdef TANGRAM_POINT_DRAW_STICK\nshape.y*=1.0+(scaled_stick_height-1.0)*a_is_stick;\n#endif\nshape.xy=rotate2D(shape.xy+offset,theta);}\n#ifdef TANGRAM_FADE_IN_RATE\nif(u_tile_fade_in){v_alpha_factor*=clamp(u_visible_time*TANGRAM_FADE_IN_RATE,0.,1.);}\n#endif\n#ifdef TANGRAM_FADE_ON_ZOOM_OUT\nv_alpha_factor*=clamp(1.+TANGRAM_FADE_ON_ZOOM_OUT_RATE*(u_map_position.z-u_tile_origin.z),0.,1.);\n#endif\nv_world_position=u_model*position;v_world_position.xy+=shape.xy*u_meters_per_pixel;v_world_position=wrapWorldPosition(v_world_position);\n#pragma tangram: position\ncameraProjection(position);\n#ifdef TANGRAM_LAYER_ORDER\napplyLayerOrder(a_position.w+u_tile_proxy_depth+1.,position);/***Due to the precision loss on depth buffer,we had a z-fighting of translucent points when the distance to the camera was big.*For more information about the problem see: https:*For more information about the fix see: https:*position.z=(2.0*log(position.w/u_near_plane)/log(u_far_plane/u_near_plane)-1.0)*position.w;*/position.z=(log(position.w/u_near_plane)*u_depth_buffer_adjustment-1.0)*position.w;\n#endif\nif(a_is_flat!=1.){position.xy+=shape.xy*position.w*2.*u_device_pixel_ratio/u_resolution;}\n#ifdef TANGRAM_HAS_SHADER_POINTS\nif(u_point_type==TANGRAM_POINT_TYPE_SHADER){position.xy+=sign(shape.xy)*position.w*u_device_pixel_ratio/u_resolution;}\n#endif\nif(!u_view_panning){snapToPixelGrid(position);}gl_Position=position;}",fragment_shader_src:"uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform float u_visible_time;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform sampler2D u_texture;uniform float u_point_type;uniform bool u_apply_color_blocks;varying vec4 v_color;varying vec2 v_texcoord;varying vec4 v_world_position;varying float v_alpha_factor;\n#ifdef TANGRAM_HAS_SHADER_POINTS\nvarying vec4 v_outline_color;varying float v_outline_edge;varying float v_aa_offset;\n#endif\n#ifdef TANGRAM_SHOW_HIDDEN_LABELS\nvarying float v_label_hidden;\n#endif\n#ifdef TANGRAM_POINT_DRAW_STICK\nvarying float v_is_stick;\n#endif\n#define TANGRAM_NORMAL vec3(0., 0., 1.)\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\n#ifdef TANGRAM_HAS_SHADER_POINTS\nfloat _tangram_antialias(float l,float R){float low=R-v_aa_offset;float high=R+v_aa_offset;return 1.-smoothstep(low,high,l);}\n#endif\nvoid mixTextureColor(inout vec4 color){\n#ifdef TANGRAM_HAS_SHADER_POINTS\nif(u_point_type==TANGRAM_POINT_TYPE_TEXTURE){color*=texture2D(u_texture,v_texcoord);}else if(u_point_type==TANGRAM_POINT_TYPE_LABEL){color=texture2D(u_texture,v_texcoord);color.rgb/=max(color.a,0.001);}else if(u_point_type==TANGRAM_POINT_TYPE_SHADER){float outline_edge=v_outline_edge;vec4 outlineColor=v_outline_color;float l=length(v_texcoord);float outer_alpha=_tangram_antialias(l,1.);float fill_alpha=_tangram_antialias(l,1.-v_outline_edge*0.5)*color.a;float stroke_alpha=(outer_alpha-_tangram_antialias(l,1.-v_outline_edge))*outlineColor.a;\n#ifdef TANGRAM_BLEND_ADD\ncolor.a=stroke_alpha+fill_alpha;color.rgb=color.rgb*fill_alpha+outlineColor.rgb*stroke_alpha;\n#else\ncolor.a=stroke_alpha+fill_alpha*(1.-stroke_alpha);color.rgb=mix(color.rgb*fill_alpha,outlineColor.rgb,stroke_alpha)/max(color.a,0.001);\n#endif\n}\n#else\ncolor=texture2D(u_texture,v_texcoord);color.rgb/=max(color.a,0.001);\n#endif\nif(u_apply_color_blocks){\n#pragma tangram: color\n#pragma tangram: filter\n}color.a*=v_alpha_factor;\n#ifdef TANGRAM_SHOW_HIDDEN_LABELS\nif(v_label_hidden>0.){color.a*=0.5;color.rgb=vec3(1.,0.,0.);}\n#endif\n#if !defined(TANGRAM_BLEND_OVERLAY) && !defined(TANGRAM_BLEND_INLAY) && !defined(TANGRAM_BLEND_ADD)\nif(color.a<TANGRAM_ALPHA_TEST){discard;}\n#endif\n}void main(void){\n#pragma tangram: setup\nvec4 color=v_color;\n#ifdef TANGRAM_POINT_DRAW_STICK\nif(v_is_stick==0.0){mixTextureColor(color);}\n#else\nmixTextureColor(color);\n#endif\ngl_FragColor=color;}",selection:!0,collision:!0,blend:"overlay",init:function(t){var e=0<arguments.length&&void 0!==t?t:{};au.init.call(this,e),this.setupDefines(),this.defines.TANGRAM_HAS_SHADER_POINTS=!0,this.defines.TANGRAM_POINT_TYPE_TEXTURE=1,this.defines.TANGRAM_POINT_TYPE_LABEL=2,this.defines.TANGRAM_POINT_TYPE_SHADER=3,this.defines.TANGRAM_POINT_DRAW_STICK=!!this.stick,this.collision_group_points=this.name+"-points",this.collision_group_text=this.name+"-text",this.reset()},setupDefines:function(){"overlay"!==this.blend&&(this.defines.TANGRAM_LAYER_ORDER=!0),this.defines.TANGRAM_FADE_ON_ZOOM_OUT=!0,this.defines.TANGRAM_FADE_ON_ZOOM_OUT_RATE=2,Rl.suppress_label_fade_in||this.suppress_fade?(this.fade_in_time=0,this.defines.TANGRAM_FADE_IN_RATE=null):(this.fade_in_time=.15,this.defines.TANGRAM_FADE_IN_RATE=1/this.fade_in_time),Rl.suppress_snap_animation||(this.defines.TANGRAM_VIEW_PAN_SNAP_RATE=2),Rl.show_hidden_labels&&(this.defines.TANGRAM_SHOW_HIDDEN_LABELS=!0)},reset:function(){this.queues={},this.resetText(),this.texture_missing_sprites={}},addFeature:function(t,e,n){var r,i,o,a=n.tile,s={};if(s.color=this.parseColor(e.color,n),s.texture=e.texture,s.label_texture=null,s.color||s.texture){if(this.hasSprites(s)){if(!(r=this.parseSprite(s,e,n)))return;s.texcoords=r.texcoords}if(s.size=e.size,s.size){if(s.size=_o.evalCachedPointSizeProperty(e.size,r,n),null==s.size)return void Si({level:"warn",once:!0},"Layer '".concat(e.layers[e.layers.length-1],"': ")+"'size' includes % and/or ratio-based scaling (".concat(JSON.stringify(e.size.value),"); ")+"these can only applied to sprites, but no sprite was specified, skipping features in layer");"number"==typeof s.size&&(s.size=[s.size,s.size])}else s.size=r&&r.css_size||[16,16];e.outline&&(s.outline_width=_o.evalCachedProperty(e.outline.width,n)||_o.defaults.outline.width,s.outline_color=this.parseColor(e.outline.color,n)),s.outline_edge_pct=0,s.outline_width&&s.outline_color&&(i=s.outline_width,s.size[0]+=i,s.size[1]+=i,s.outline_edge_pct=i/Math.min(s.size[0],s.size[1])*2),s.size[0]=Math.min(s.size[0],256),s.size[1]=Math.min(s.size[1],256),s.placement=e.placement,s.placement_min_length_ratio=_o.evalCachedProperty(e.placement_min_length_ratio,n),s.placement===Th.SPACED&&e.placement_spacing&&(s.placement_spacing=_o.evalCachedProperty(e.placement_spacing,n)),s.angle=_o.evalProperty(e.angle,n)||0,s.elevate_by_altitude=!!e.elevate_by_altitude,s.z=e.z?Qr.clamp(_o.evalCachedDistanceProperty(e.z,n),0,32767):_o.defaults.z,s.flat=e.flat,s.tile_edges=e.tile_edges,this.computeLayout(s,t,e,n,a),e.stick&&!s.flat&&(o=_o.parseNumber(_o.evalProperty(e.stick.height,n)),s.stick={color:this.parseColor(e.stick.color,n)||_o.defaults.color,height:o?Math.max(o,0):0});var l=e.text&&!1!==_o.evalProperty(e.text.visible,n)&&this.parseTextFeature(t,e.text,n,a);Array.isArray(l)&&Si({level:"warn",once:!(l=null)},"Layer '".concat(e.layers[e.layers.length-1],"': ")+"cannot use boundary labels (e.g. 'text_source: { left: ..., right: ... }') for 'text' labels attached to 'points'; "+"provided 'text_source' value was ".concat(JSON.stringify(e.text.text_source))),l&&(l.layout.parent=s,l.layout.priority=e.text.priority?Math.max(l.layout.priority,s.priority+.5):s.priority+.5,l.layout.move_into_tile=!1,Mo.addStyle(this.collision_group_text,a.id)),this.queueFeature({feature:t,draw:e,context:n,style:s,text_feature:l},a),Mo.addStyle(this.collision_group_points,a.id)}},hasSprites:function(t){return t.texture&&this.textureManager.textures[t.texture]&&this.textureManager.textures[t.texture].sprites},getSpriteInfo:function(t,e){var n=this.textureManager.textures[t.texture].sprites[e]&&this.textureManager.getSpriteInfo(t.texture,e);return e&&!n?(this.texture_missing_sprites[t.texture]=this.texture_missing_sprites[t.texture]||{},this.texture_missing_sprites[t.texture][e]||(Si("debug","Style: in style '".concat(this.name,"', could not find sprite '").concat(e,"' for texture '").concat(t.texture,"'")),this.texture_missing_sprites[t.texture][e]=!0)):n&&(n.sprite=e),n},parseSprite:function(t,e,n){var r=_o.evalProperty(e.sprite,n);return this.getSpriteInfo(t,r)||this.getSpriteInfo(t,e.sprite_default)},queueFeature:function(t,e){this.tile_data[e.id]&&this.queues[e.id]||this.startData(e),this.queues[e.id]=this.queues[e.id]||[],this.queues[e.id].push(t)},endData:function(t){var e=this;if(t.canceled)return Si("trace","Style ".concat(this.name,": stop tile build because tile was canceled: ").concat(t.key)),Promise.resolve();var n=this.queues[t.id];delete this.queues[t.id];var r=[],i=[];return n.forEach((function(t){for(var n=t.style,o=t.feature,a=o.geometry,s=e.buildLabels(n.size,a,n),l=0;l<s.length;l++){var u,c=s[l],h={feature:o,draw:t.draw,context:t.context,style:n,label:c};i.push(h),t.text_feature&&(u={feature:o,draw:t.text_feature.draw,context:t.context,text:t.text_feature.text,text_settings_key:t.text_feature.text_settings_key,layout:t.text_feature.layout,point_label:c,linked:h},r.push(u),t.draw.text.optional||(h.linked=u))}})),Promise.all([Mo.collide(i,this.collision_group_points,t.id).then((function(t){t.forEach((function(t){e.feature_style=t.style,e.feature_style.label=t.label,e.feature_style.linked=t.linked,au.addFeature.call(e,t.feature,t.draw,t.context)}))})),this.collideAndRenderTextLabels(t,this.collision_group_text,r)]).then((function(n){var r=Pr(n,2)[1],i=r.labels,o=r.texts;return i&&o&&i.forEach((function(t){var n=t.text_settings_key,r=o[n]&&o[n][t.text],i=e.feature_style;i.label=t.label,i.linked=t.linked,i.size=r.size.logical_size,i.angle=0,t.label.text_data={text_info:r,text_settings_key:n,text:t.text},i.label_texture=e.textureManager.default,au.addFeature.call(e,t.feature,t.draw,t.context)})),e.freeText(t),au.endData.call(e,t)}))},_preprocess:function(t){t.color=_o.createColorPropertyCache(t.color),t.texture=void 0!==t.texture?t.texture:this.texture,t.outline&&(t.outline.color=_o.createColorPropertyCache(t.outline.color),t.outline.width=_o.createPropertyCache(t.outline.width,_o.parsePositiveNumber)),t.z=_o.createPropertyCache(t.z,_o.parseUnits);try{t.size=_o.createPointSizePropertyCache(t.size)}catch(o){return Si({level:"warn",once:!0},"Layer '".concat(t.layers[t.layers.length-1],"': ")+"".concat(o," (").concat(JSON.stringify(t.size),"), skipping features in layer")),null}return t.offset=_o.createPropertyCache(t.offset,(function(t){return Array.isArray(t)&&t.map(_o.parseNumber)})),t.buffer=_o.createPropertyCache(t.buffer,(function(t){return(Array.isArray(t)?t:[t,t]).map(_o.parsePositiveNumber)})),t.repeat_distance=_o.createPropertyCache(t.repeat_distance,_o.parseNumber),null==t.repeat_group&&(t.repeat_group=t.layers.join("-")),t.placement=Th[t.placement&&t.placement.toUpperCase()],null==t.placement&&(t.placement=Th.VERTEX),t.placement_spacing=null!=t.placement_spacing?t.placement_spacing:80,t.placement_spacing=_o.createPropertyCache(t.placement_spacing,_o.parsePositiveNumber),t.placement_min_length_ratio=null!=t.placement_min_length_ratio?t.placement_min_length_ratio:1,t.placement_min_length_ratio=_o.createPropertyCache(t.placement_min_length_ratio,_o.parsePositiveNumber),"number"==typeof t.angle?t.angle=t.angle*Math.PI/180:t.angle=t.angle||0,t.text=this.preprocessText(t.text),t.text&&(t.text.key=t.key,t.text.group=t.group,t.text.layers=t.layers,t.text.order=t.order,t.text.repeat_group=t.text.repeat_group||t.repeat_group,t.text.anchor=t.text.anchor||this.default_anchor,t.text.optional="boolean"==typeof t.text.optional&&t.text.optional,t.text.interactive=t.text.interactive||t.interactive),t.stick&&(t.stick.color=_o.createColorPropertyCache(t.stick.color)),t},default_anchor:["bottom","top","right","left"],computeLayout:function(t,e,n,r,i){var o=t||{};o.id=e,o.units_per_pixel=i.units_per_pixel||1,o.collide=!1!==n.collide,o.anchor=n.anchor,o.offset=_o.evalCachedProperty(n.offset,r)||_o.zeroPair,o.buffer=_o.evalCachedProperty(n.buffer,r)||_o.zeroPair,o.repeat_distance=_o.evalCachedProperty(n.repeat_distance,r),o.repeat_distance&&(o.repeat_distance*=o.units_per_pixel,o.repeat_scale=1,"function"==typeof n.repeat_group?o.repeat_group=n.repeat_group(r):o.repeat_group=n.repeat_group);var a=n.priority;return null!=a?"function"==typeof a&&(a=a(r)):a=-1>>>0,o.priority=a,o},buildTextLabels:function(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=this.texts[t.id][i.text_settings_key][i.text].size.collision_size;i.label=new Pc(i.point_label.position,o,i.point_label.isFlat(),i.layout),n.push(i)}return n},buildLabels:function(t,e,n){var r=!!n.flat,i=[];if("Point"===e.type)i.push(new Pc(e.coordinates,t,r,n));else if("MultiPoint"===e.type)for(var o=e.coordinates,a=0;a<o.length;++a){var s=o[a];i.push(new Pc(s,t,r,n))}else if("LineString"===e.type)for(var l=Lc(e.coordinates,t,r,n),u=0;u<l.length;++u)i.push(l[u]);else if("MultiLineString"===e.type)for(var c=e.coordinates,h=0;h<c.length;h++)for(var f=Lc(c[h],t,r,n),p=0;p<f.length;++p)i.push(f[p]);else if("Polygon"===e.type)if(n.placement===Th.CENTROID){var d=ei.centroid(e.coordinates);i.push(new Pc(d,t,r,n))}else for(var v=e.coordinates,g=0;g<v.length;g++)for(var y=Lc(v[g],t,r,n),m=0;m<y.length;++m)i.push(y[m]);else if("MultiPolygon"===e.type)if(n.placement===Th.CENTROID){var b=ei.multiCentroid(e.coordinates);i.push(new Pc(b,t,r,n))}else for(var _=e.coordinates,x=0;x<_.length;x++)for(var w=_[x],k=0;k<w.length;k++)for(var E=Lc(w[k],t,r,n),S=0;S<E.length;++S)i.push(E[S]);return i},makeVertexTemplate:function(t,e){var n,r=t.color||_o.defaults.color,i=e.vertex_data.vertex_layout;return this.fillVertexTemplate(i,"a_position",0,{size:2}),this.fillVertexTemplate(i,"a_position",t.z||0,{size:1,offset:2}),this.fillVertexTemplate(i,"a_position",this.scaleOrder(t.order),{size:1,offset:3}),this.fillVertexTemplate(i,"a_shape",0,{size:4}),this.fillVertexTemplate(i,"a_shape",t.label.layout.collide?0:1,{size:1,offset:3}),this.fillVertexTemplate(i,"a_texcoord",0,{size:2}),this.fillVertexTemplate(i,"a_offset",0,{size:2}),this.fillVertexTemplate(i,"a_color",Jl.mult(r,255),{size:4}),this.defines.TANGRAM_HAS_SHADER_POINTS&&e.variant.shader_point&&(n=t.outline_color||_o.defaults.outline.color,this.fillVertexTemplate(i,"a_outline_color",Jl.mult(n,255),{size:4}),this.fillVertexTemplate(i,"a_outline_edge",t.outline_edge_pct||_o.defaults.outline.width,{size:1})),this.selection&&this.fillVertexTemplate(i,"a_selection_color",Jl.mult(t.selection_color,255),{size:4}),this.fillVertexTemplate(i,"a_is_flat",0,{size:1}),this.defines.TANGRAM_POINT_DRAW_STICK&&t.stick&&(this.fillVertexTemplate(i,"a_is_stick",0,{size:1}),this.fillVertexTemplate(i,"a_stick_height",t.stick.height,{size:1})),this.vertex_template},buildQuad:function(t,e,n,r,i,o,a,s,l,u,c,h,f,p,d,v,g,y,m){return e[0]<=0||e[1]<=0?0:function(t,e,n,r){var i,o,a,s,l,u,c=r.quad,h=r.offset,f=r.offsets,p=r.offsets_alt,d=r.pre_angles,v=r.pre_angles_alt,g=r.angle,y=r.angles,m=r.angles_alt,b=r.is_flat,_=r.elevate_by_altitude,x=r.build_stick_points,w=r.color,k=r.stick_color,E=r.curve,S=r.texcoord_scale,T=r.texcoord_normalize,A=r.pre_angles_normalize,O=r.angles_normalize,M=r.offsets_normalize,C=(C=r.quad_normalize)||1,j=c[0]/2*C,I=c[1]/2*C,P=[[-j,-I],[j,-I],[j,I],[-j,I]],R=e.vertex_elements,L=e.vertex_count,N=e.vertex_layout.index,D=N.a_texcoord,z=N.a_position,F=N.a_shape,B=N.a_offset,H=N.a_offsets,U=N.a_offsets_alt,V=N.a_pre_angles,G=N.a_pre_angles_alt,q=N.a_angles,Y=N.a_angles_alt,W=N.a_is_flat,Z=N.a_is_stick,X=N.a_color;D&&(T=T||1,u=[[o=(i=Pr(S||gu,4))[0],a=i[1]],[s=i[2],a],[s,l=i[3]],[o,l]]);for(var K=0,$=t.length,J=0;J<$;J++){var Q=t[J];if(x){for(var tt=.5*C,et=+C,nt=[[-tt,0],[+tt,0],[+tt,et],[-tt,et]],rt=0;rt<4;rt++)D&&(n[D+0]=u[rt][0]*T,n[D+1]=u[rt][1]*T),n[z+0]=Q[0],n[z+1]=Q[1],_&&(n[z+2]=Qr.clamp(Q[2],0,32767)),n[F+0]=nt[rt][0],n[F+1]=nt[rt][1],n[F+2]=0,n[X+0]=k[0],n[X+1]=k[1],n[X+2]=k[2],n[X+3]=k[3],n[Z+0]=255,e.addVertex(n);R.push(L+0),R.push(L+1),R.push(L+2),R.push(L+2),R.push(L+3),R.push(L+0),L+=4,K+=2}for(var it=0;it<4;it++)D&&(n[D+0]=u[it][0]*T,n[D+1]=u[it][1]*T),n[z+0]=Q[0],n[z+1]=Q[1],_&&(n[z+2]=Qr.clamp(Q[2],0,32767)),n[F+0]=P[it][0],n[F+1]=P[it][1],n[F+2]=g,n[X+0]=w[0],n[X+1]=w[1],n[X+2]=w[2],n[X+3]=w[3],n[B+0]=h[0],n[B+1]=h[1],n[W+0]=b?255:0,x&&(n[Z+0]=0),E&&(n[V+0]=A*d[0],n[V+1]=A*d[1],n[V+2]=A*d[2],n[V+3]=A*d[3],n[q+0]=O*y[0],n[q+1]=O*y[1],n[q+2]=O*y[2],n[q+3]=O*y[3],n[H+0]=M*f[0],n[H+1]=M*f[1],n[H+2]=M*f[2],n[H+3]=M*f[3],p&&(n[U+0]=M*p[0],n[U+1]=M*p[1],n[U+2]=M*p[2],n[U+3]=M*p[3],n[G+0]=A*v[0],n[G+1]=A*v[1],n[G+2]=A*v[2],n[G+3]=A*v[3],n[Y+0]=O*m[0],n[Y+1]=O*m[1],n[Y+2]=O*m[2],n[Y+3]=O*m[3])),e.addVertex(n);R.push(L+0),R.push(L+1),R.push(L+2),R.push(L+2),R.push(L+3),R.push(L+0),L+=4,K+=2}return K}(t,d,v,{quad:e,quad_normalize:256,offset:s,offsets:l,offsets_alt:u,pre_angles:o,pre_angles_alt:a,angle:4096*n,angles:r,angles_alt:i,is_flat:f,elevate_by_altitude:p,build_stick_points:g,stick_color:g&&Jl.mult(y,255),color:Jl.mult(m||_o.defaults.color,255),curve:h,texcoord_scale:c,texcoord_normalize:65535,pre_angles_normalize:Ah,angles_normalize:Oh,offsets_normalize:64})},build:function(t,e,n){var r=t.label;return"curved"===r.type?this.buildCurvedLabel(r,t,e,n):this.buildStraightLabel(r,t,e,n)},buildStraightLabel:function(t,e,n,r){var i,o=this.makeVertexTemplate(e,n),a=t.angle||e.angle,s="point"!==t.type?(i=e.size[t.type],gu):(i=e.size,e.texcoords||gu);n.uniforms=n.uniforms||{},e.label_texture?(n.uniforms.u_texture=e.label_texture,n.uniforms.u_point_type=2,n.uniforms.u_apply_color_blocks=!1):(e.texture?(n.uniforms.u_texture=e.texture,n.uniforms.u_point_type=1):(n.uniforms.u_texture=this.textureManager.default,n.uniforms.u_point_type=3),n.uniforms.u_apply_color_blocks=!0);var l=t.offset,u=this.defines.TANGRAM_POINT_DRAW_STICK&&!e.label_texture&&e.stick&&0<e.stick.height,c=this.buildQuad([t.position],i,a,null,null,null,null,l,null,null,s,!1,t.isFlat(),e.elevate_by_altitude,n.vertex_data,o,u,u&&e.stick.color,e.color),h=e.linked&&e.linked.label.id;return this.trackLabel(t,h,n,c,r,u),c},buildCurvedLabel:function(t,e,n,r){for(var i=this.makeVertexTemplate(e,n),o=t.angle,a=0,s=0;s<2;s++)for(var l=0;l<t.num_segments;l++){var u=e.size[t.type][l],c=gu,h=this.getTileMesh(r.tile,this.meshVariantTypeForDraw(e));h.uniforms=h.uniforms||{},h.uniforms.u_texture=e.label_texture,h.uniforms.u_point_type=2,h.uniforms.u_apply_color_blocks=!1;var f=t.offset||[0,0],p=t.position,d=t.angles[l],v=t.offsets[l],g=t.pre_angles[l],y=t.num_segments-l-1,m=t.alt_angles[y],b=t.alt_pre_angles[y],_=t.alt_offsets[y],x=this.buildQuad([p],u,o,d,m,g,b,f,v,_,c,!0,t.isFlat(),e.elevate_by_altitude,h.vertex_data,i,!1,!1,e.color);a+=x;var w=e.linked&&e.linked.label.id;this.trackLabel(t,w,n,x,r,!1)}return a},trackLabel:function(t,e,n,r,i,o){var a=5<arguments.length&&void 0!==o&&o;n.labels=n.labels||{},n.labels.collision=n.labels.collision||{},n.labels["non-collision"]=n.labels["non-collision"]||{};var s=t.layout.collide?n.labels.collision:n.labels["non-collision"];s[t.id]=s[t.id]||{container:{label:t.text_data?Object.assign(t.toJSON(),{text_data:t.text_data}):t.toJSON(),linked:e},ranges:[]};var l=2*r,u=n.vertex_data.offset-n.vertex_data.stride*l;s[t.id].ranges.push([u,l,a])},buildLines:function(t,e,n,r){return this.build(e,n,r)},buildPoints:function(t,e,n,r){return this.build(e,n,r)},buildPolygons:function(t,e,n,r){return this.build(e,n,r)},vertexLayoutForMeshVariant:function(t){var e;return this.vertex_layout||(e=[{name:"a_position",size:4,type:su.SHORT,normalized:!1},{name:"a_shape",size:4,type:su.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:su.UNSIGNED_SHORT,normalized:!0},{name:"a_offset",size:2,type:su.SHORT,normalized:!1},{name:"a_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_outline_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0,static:[0,0,0,0]},{name:"a_outline_edge",size:1,type:su.FLOAT,normalized:!1,static:0},{name:"a_selection_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_is_flat",size:1,type:su.UNSIGNED_BYTE,normalized:!0}],this.defines&&this.defines.TANGRAM_POINT_DRAW_STICK&&e.push({name:"a_is_stick",size:1,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_stick_height",size:1,type:su.FLOAT,normalized:!1}),this.vertex_layout=new du(e),(e=e.map((function(t){return Object.assign({},t)}))).forEach((function(t){"a_outline_color"!==t.name&&"a_outline_edge"!==t.name||(t.static=null)})),this.vertex_layout_shader_point=new du(e)),t.shader_point?this.vertex_layout_shader_point:this.vertex_layout},meshVariantTypeForDraw:function(t){var e=t.label_texture||t.texture||this.default_mesh_variant.key;return null==Mh.variants[e]&&(Mh.variants[e]={key:e,shader_point:e===this.default_mesh_variant.key,order:t.label_texture?1:0}),Mh.variants[e]},makeMesh:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:{};return r=Object.assign({},r,{fade_in_time:this.fade_in_time}),au.makeMesh.call(this,t,e,r)}});var Ch=[0,.33,.66,.99],jh=function(t,e,n,r,i){for(var o=[{type:"straight",tolerance:i.no_curving?1.8:1.5},{type:"curved"},{type:"straight",tolerance:2.3}],a=0;a<o.length;a++){var s=o[a],l=void 0;if("straight"===s.type?l=new Ph(e,n,r,i,s.tolerance):"curved"===s.type&&!i.no_curving&&2<n.length&&(l=new Rh(t,n,r,i)),l&&!l.throw_away)return l}return!1},Ih=function(){function t(e,n){mr(this,t),this.id=Sc.nextLabelId(),this.layout=n,this.position=[],this.angle=0,this.offset=n.offset.slice(),this.unit_scale=this.layout.units_per_pixel,this.type="",this.throw_away=!1,this._is_flat=e,this._circles=void 0,this.placed=null}return _r(t,[{key:"toJSON",value:function(){return{id:this.id,type:this.type,is_flat:this._is_flat,position:this.position,size:this.size,offset:this.offset,angle:this.angle,breach:this.breach,layout:Tc(this.layout),circles:this.getBoundingCircles()}}},{key:"inTileBounds",value:function(){var t=this.getAABB(),e=t.left,n=t.top,r=t.right,i=t.bottom;return Ai.pointInTile([e,n])&&Ai.pointInTile([r,i])}},{key:"getAABBForSegment",value:function(t,e,n,r){var i,o=this.unit_scale,a=e/2,s=n/2,l=Pr(t,2),u=l[0],c=l[1];0===this.offset[0]&&0===this.offset[1]||(u+=(i=Jl.rot(this.offset,this.angle))[0]*o,c-=i[1]*o);var h=[[Math.cos(r),-Math.sin(r)],[Math.sin(r),Math.cos(r)]],f=Jl.multMatrix(h,[-a,-s]),p=Jl.multMatrix(h,[a,-s]),d=Jl.multMatrix(h,[a,s]),v=Jl.multMatrix(h,[-a,s]);return{left:u+Math.min(f[0],p[0],d[0],v[0]),top:c+Math.max(f[1],p[1],d[1],v[1]),right:u+Math.max(f[0],p[0],d[0],v[0]),bottom:c+Math.min(f[1],p[1],d[1],v[1])}}},{key:"isFlat",value:function(){return this._is_flat}},{key:"getBoundingCircles",value:function(){}},{key:"getAABB",value:function(){}}],[{key:"splitLineByOrientation",value:function(t){for(var e=[t[0]],n=0,r=0,i=0,o=e,a=!1,s=1;s<t.length;s++){var l=t[s],u=t[s-1],c=Jl.length(Jl.sub(l,u));l[0]>u[0]?1===i?(e.push(l),r<(n+=c)&&(o=e,r=n,a=!1)):(e=[u,l],r<(n=c)&&(o=e,r=n,a=!1),i=1):l[0]<u[0]?-1===i?(e.unshift(l),r<(n+=c)&&(o=e,r=n,a=!0)):(e=[l,u],r<(n=c)&&(o=e,r=n,a=!0),i=-1):(-1===i?e.unshift(l):(e.push(l),i=1),r<(n+=c)&&(o=e,r=n,a=-1===i))}return[o,a]}}]),t}(),Ph=function(){Er(e,Ih);var t=jr(e);function e(n,r,i,o,a){var s;return mr(this,e),(s=t.call(this,i,o)).type="straight",s.size=n,s.throw_away=!s.fit(n,r,o,a),s}return _r(e,[{key:"fit",value:function(t,e,n,r){var i,o=this.unit_scale,a=Pr(Ih.splitLineByOrientation(e),2);e=a[0],i=a[1],"number"==typeof n.orientation&&(this.offset[1]+=1.2*(t[1]-n.vertical_buffer),i&&(this.offset[1]*=-1),-1===n.orientation&&(this.offset[1]*=-1));for(var s=Nh(e),l=t[0]*o,u=0;u<e.length-1;u++)for(var c=e[u],h=0,f=0,p=u+1,d=void 0;p<e.length;){var v=e[p-1],g=e[p],y=Lh(v,g);if(p!==u+1&&(h+=function(t,e){var n,r;for(r=e<t?(n=e,t):(n=t,e);r-n>Math.PI;)n+=2*Math.PI;return Math.abs(r-n)}(y,d)),.1<Math.abs(h))break;if(l/(f+=s[p-1])<r){var m=Jl.mult(Jl.add(c,g),.5);return this.angle=-y,Math.abs(this.angle-Math.PI/2)<.01&&(this.angle=-Math.PI/2,"number"==typeof n.orientation&&(this.offset[1]*=-1)),this.position=m,this.breach=!this.inTileBounds(),!0}d=y,p++}return!1}},{key:"getBoundingCircles",value:function(){var t,e,n,r,i,o,a,s,l,u,c,h,f,p;return this._circles||(t=this.unit_scale,i=-(n=(e=this.size[0]/2*t)*Math.cos(this.angle)),o=-(r=e*Math.sin(this.angle)),a=this.offset[0]*t,s=this.offset[1]*t,u=(l=Pr(this.position,2))[0],c=l[1],c*=-1,a&&(h=[n,r],Jl.normalize(h),h[0]*=a,h[1]*=a,u+=h[0],c+=h[1]),s&&(f=[r,-n],Jl.normalize(f),f[0]*=s,f[1]*=s,u-=f[0],c-=f[1]),n+=u,r+=c,i+=u,o+=c,p=this.size[1]/2*t,this._circles=Ic(n,r,i,o,p)),this._circles}},{key:"getAABB",value:function(){var t,e,n,r,i;return this._aabb||(t=this.unit_scale,e=this.size,n=this.layout.buffer,r=(e[0]+2*n[0])*t,i=(e[1]+2*n[1])*t,this._aabb=this.getAABBForSegment(this.position,r,i,this.angle)),this._aabb}}]),e}(),Rh=function(){Er(e,Ih);var t=jr(e);function e(n,r,i,o){var a;return mr(this,e),(a=t.call(this,i,o)).type="curved",a.positions=[],a.angles=[],a._aabbs=[],a.pre_angles=[],a.offsets=[],a.num_segments=n.length,a.sizes=n,a.alt_angles=[],a.alt_pre_angles=[],a.alt_offsets=[],a.throw_away=!a.fit(a.sizes,r,o),a}return _r(e,[{key:"toJSON",value:function(){return{id:this.id,type:this.type,is_flat:this._is_flat,position:this.position,breach:this.breach,layout:Tc(this.layout),circles:this.getBoundingCircles()}}},{key:"fit",value:function(t,n,r){var i,o=this.unit_scale,a=Math.max.apply(Math,Rr(t.map((function(t){return t[1]})))),s=a*o,l=Pr(Ih.splitLineByOrientation(n),2);n=l[0],i=l[1],"number"==typeof r.orientation&&(this.offset[1]+=1.2*(a-r.vertical_buffer),i&&(this.offset[1]*=-1),-1===r.orientation&&(this.offset[1]*=-1));var u=Nh(n),c=t.map((function(t){return t[0]*o})),h=u.reduce((function(t,e){return t+e}),0),f=c.reduce((function(t,e){return t+e}),0);if(h<f)return!1;var p=n.length-1;if(p<2)return!1;var d=e.curvaturePlacement(n,h,u,f,0,p),v=n[d];if(-1===d||p-d<2)return!1;this.position=v;for(var g=0;g<c.length;g++){this.positions[g]=[],this.offsets[g]=[],this.angles[g]=[],this.pre_angles[g]=[];for(var y=0;y<Ch.length;y++){var m=Ch[y],b=Pr(e.scaleLine(m,n),2),_=b[0],x=b[1],w=(v=_[d],e.placeAtIndex(d,_,x,c)),k=w.positions,E=w.offsets,S=w.angles,T=w.pre_angles,A=E.map((function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])/o}));if(0===m){this.angle=1/S.length*S.reduce((function(t,e){return t+e}));for(var O=0;O<k.length;O++){var M=k[O],C=T[O],j=c[O],I=C+S[O];this._aabbs.push(this.getAABBForSegment(M,j,s,I))}}this.positions[g].push(k[g]),this.offsets[g].push(A[g]),this.angles[g].push(S[g]),this.pre_angles[g].push(T[g])}}c=t.slice().reverse().map((function(t){return t[0]*o}));for(var P=0;P<c.length;P++){this.alt_offsets[P]=[],this.alt_angles[P]=[],this.alt_pre_angles[P]=[];for(var R=0;R<Ch.length;R++){var L=Ch[R],N=Pr(e.scaleLine(L,n),2),D=N[0],z=N[1];v=D[d];var F=e.placeAtIndex(d,D,z,c),B=F.offsets,H=F.angles,U=F.pre_angles,V=B.map((function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])/o}));0===L&&(this.alt_angle=1/H.length*H.reduce((function(t,e){return t+e}))),this.alt_offsets[P].push(V[P]),this.alt_angles[P].push(H[P]),this.alt_pre_angles[P].push(U[P])}}return!0}},{key:"getBoundingCircles",value:function(){if(!this._circles){for(var t=[],e=this.unit_scale,n=0;n<this.positions.length;n++){var r=this.sizes[n],i=this.angles[n][0],o=this.positions[n][0],a=r[0]/2*e,s=a*Math.cos(i),l=a*Math.sin(i),u=-s,c=-l,h=Pr(o,2),f=h[0],p=h[1],d=Ic(s+=f,l+=p*=-1,u+=f,c+=p,r[1]/2*e);Array.prototype.push.apply(t,d)}this._circles=t}return this._circles}},{key:"getAABB",value:function(){if(!this._aabb){for(var t=1/0,e=-1/0,n=-1/0,r=1/0,i=0;i<this._aabbs.length;i++){var o=this._aabbs[i];t=Math.min(t,o.left),e=Math.max(e,o.top),n=Math.max(n,o.right),r=Math.min(r,o.bottom)}this._aabb={left:t,top:e,right:n,bottom:r}}return this._aabb}}],[{key:"curvaturePlacement",value:function(t,e,n,r,i,o){i=i||0,o=o||t.length-1;for(var a=[],s=i+1;s<o;s++){var l=t[s-1],u=t[s],c=t[s+1],h=Jl.perp(u,l),f=Jl.perp(c,u),p=Jl.angleBetween(h,f);1<p&&(p=1/0),a.push(p)}a.push(1/0);for(var d=[],v=[],g=i,y=0,m=0;m<i;m++)y+=n[m];for(;y+r<e;){for(var b=y+r,_=y,x=g,w=0;x<o&&_+n[x]<b&&(w+=a[x])!==1/0;)_+=n[x],x++;if(0===w)return g;var k=w/(x-g);d.push(w),v.push(k),y+=n[g],g++}if(0===d.length)return-1;var E=Math.min.apply(null,d),S=v[d.indexOf(E)];return E<1.3&&S<.4?d.indexOf(E):-1}},{key:"scaleLine",value:function(t,e){var n=[e[0]],r=[];return e.forEach((function(i,o){var a,s;o!==e.length-1&&(a=Jl.sub(e[o+1],e[o]),s=Jl.mult(a,1+t),n.push(Jl.add(n[o],s)),r.push(Jl.length(s)))})),[n,r]}},{key:"placeAtIndex",value:function(t,n,r,i){var o=n[t],a=Pr(e.getIndicesAndOffsets(t,r,i),2),s=a[0],l=a[1],u=e.getPositionsFromIndicesAndOffsets(n,s,l),c=Pr(e.getAnglesFromIndicesAndOffsets(o,s,n,u),3);return{positions:u,offsets:c[0],angles:c[1],pre_angles:c[2]}}},{key:"getIndicesAndOffsets",value:function(t,e,n){for(var r=n.length,i=[],o=[],a=0,s=0,l=0;a<r;){for(var u=n[a];a<r&&s+.5*u<=l+e[t];){var c=s-l+.5*u;o.push(c),i.push(t),s+=u,u=n[++a]}l+=e[t],t++}return[i,o]}},{key:"getPositionsFromIndicesAndOffsets",value:function(t,e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],a=n[i],s=Lh(t[o],t[o+1]),l=Jl.rot([a,0],s),u=Jl.add(t[o],l);r.push(u)}return r}},{key:"getAnglesFromIndicesAndOffsets",value:function(t,e,n,r){for(var i=[],o=[],a=[],s=0;s<r.length;s++){var l,u,c=r[s],h=e[s],f=Jl.sub(c,t),p=-Jl.angle(f),d=-Lh(n[h],n[h+1])-p;0<s&&(l=i[s-1],u=o[s-1],Math.abs(p-l)>Math.PI&&(p+=l<p?-2*Math.PI:2*Math.PI),Math.abs(u-d)>Math.PI&&(d+=u<d?-2*Math.PI:2*Math.PI)),i.push(p),o.push(d),a.push(f)}return[a,i,o]}}]),e}();function Lh(t,e){var n=Jl.sub(e,t);return Jl.angle(n)}function Nh(t){for(var e=[],n=0;n<t.length-1;n++){var r=t[n],i=t[n+1],o=Math.hypot(r[0]-i[0],r[1]-i[1]);e.push(o)}return e}var Dh=Object.create(Mh);Object.assign(Dh,{name:"text",super:Mh,built_in:!0,init:function(t){var e=0<arguments.length&&void 0!==t?t:{};au.init.call(this,e),this.setupDefines(),this.defines.TANGRAM_HAS_SHADER_POINTS=!1,this.defines.TANGRAM_IS_TEXT_STYLE=!0,this.reset()},makeVertexTemplate:function(t,e){this.super.makeVertexTemplate.apply(this,arguments);var n=e.vertex_data.vertex_layout;return this.fillVertexTemplate(n,"a_pre_angles",0,{size:4}),this.fillVertexTemplate(n,"a_offsets",0,{size:4}),this.fillVertexTemplate(n,"a_angles",0,{size:4}),this.fillVertexTemplate(n,"a_offsets_alt",0,{size:4}),this.fillVertexTemplate(n,"a_pre_angles_alt",0,{size:4}),this.fillVertexTemplate(n,"a_angles_alt",0,{size:4}),this.vertex_template},reset:function(){this.queues={},this.resetText()},addFeature:function(t,e,n){var r=this,i=n.tile,o=t.geometry.type;e.can_articulate="LineString"===o||"MultiLineString"===o,e.supersample_text="LineString"===o||"MultiLineString"===o;var a=this.parseTextFeature(t,e,n,i);a&&(a instanceof Array?a.forEach((function(e){e.feature=t,e.context=n,e.layout.vertex=!1,r.queueFeature(e,i)})):(a.feature=t,a.context=n,a.layout.vertex=!1,this.queueFeature(a,i)),Mo.addStyle(this.name,i.id))},endData:function(t){var e=this,n=this.queues[t.id];return delete this.queues[t.id],this.collideAndRenderTextLabels(t,this.name,n).then((function(n){var r=n.labels,i=n.texts;return r&&i&&(e.texts[t.id]=i,r.forEach((function(n){var r=n.text_settings_key,i=e.texts[t.id][r]&&e.texts[t.id][r][n.text],o=e.feature_style;o.label=n.label,n.label.text_data={text_info:i,text_settings_key:r,text:n.text},o.label_texture=e.textureManager.default,i.text_settings.can_articulate?(o.size={},"straight"===n.label.type?o.size.straight=i.size.logical_size:o.size.curved=i.segment_sizes.map((function(t){return t.logical_size}))):o.size=i.size.logical_size,au.addFeature.call(e,n.feature,n.draw,n.context)}))),e.freeText(t),au.endData.call(e,t).then((function(n){if(n){for(var r in n.meshes)n.meshes[r].uniforms.u_apply_color_blocks=!0;t.mesh_data[e.name]=n}return n}))}))},_preprocess:function(t){return this.preprocessText(t)},buildTextLabels:function(t,e){for(var n=[],r=0;r<e.length;r++){var i,o,a=e[r],s=this.texts[t.id][a.text_settings_key][a.text];a.layout.vertical_buffer=s.vertical_buffer,o=s.text_settings.can_articulate?(i=s.segment_sizes.map((function(t){return t.collision_size})),a.layout.no_curving=s.no_curving,this.buildLabels(i,a.feature.geometry,a.layout,s.size.collision_size)):this.buildLabels(s.size.collision_size,a.feature.geometry,a.layout);for(var l=0;l<o.length;l++){var u=Object.create(a);u.label=o[l],n.push(u)}}return n},buildLabels:function(t,e,n,r){var i,o,a="Point"!==e.type,s=[];if("LineString"===e.type)Array.prototype.push.apply(s,this.buildLineLabels(e.coordinates,t,a,n,r));else if("MultiLineString"===e.type)for(var l=e.coordinates,u=0;u<l.length;++u)Array.prototype.push.apply(s,this.buildLineLabels(l[u],t,a,n,r));else if("Point"===e.type)s.push(new Pc(e.coordinates,t,a,n));else if("MultiPoint"===e.type)for(var c=e.coordinates,h=0;h<c.length;++h)s.push(new Pc(c[h],t,a,n));else"Polygon"===e.type?(i=ei.centroid(e.coordinates),s.push(new Pc(i,t,a,n))):"MultiPolygon"===e.type&&(o=ei.multiCentroid(e.coordinates),s.push(new Pc(o,t,a,n)));return s},buildLineLabels:function(t,e,n,r,i){var o,a=[],s=Math.min(r.subdiv,t.length-1);if(1<s)for(var l=(t.length-1)/s,u=0;u<s;u++){var c=Math.floor(u*l),h=Math.floor((u+1)*l)+1,f=t.slice(c,h),p=jh(e,i,f,n,r);p&&a.push(p)}return a.length<s&&(o=jh(e,i,t,n,r))&&a.push(o),a},vertexLayoutForMeshVariant:function(){var t;return this.vertex_layout||(t=[{name:"a_position",size:4,type:su.SHORT,normalized:!1},{name:"a_shape",size:4,type:su.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:su.UNSIGNED_SHORT,normalized:!0},{name:"a_offset",size:2,type:su.SHORT,normalized:!1},{name:"a_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_angles",size:4,type:su.SHORT,normalized:!1},{name:"a_offsets",size:4,type:su.UNSIGNED_SHORT,normalized:!1},{name:"a_pre_angles",size:4,type:su.BYTE,normalized:!1},{name:"a_selection_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_is_flat",size:1,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_offsets_alt",size:4,type:su.UNSIGNED_SHORT,normalized:!1},{name:"a_pre_angles_alt",size:4,type:su.BYTE,normalized:!1},{name:"a_angles_alt",size:4,type:su.SHORT,normalized:!1}],this.vertex_layout=new du(t)),this.vertex_layout},meshVariantTypeForDraw:Mh.meshVariantTypeForDraw}),Dh.texture_id=0;var zh=Object.create(Bu);Object.assign(zh,{name:"raster",super:Bu,built_in:!0,init:function(){this.raster=this.raster||"color",this.super.init.apply(this,arguments),this.selection=!1,this.defines.SNAP_TO_PIXEL_GRID=!0},_preprocess:function(t){return t.color=t.color||_o.defaults.color,this.super._preprocess.apply(this,arguments)}});var Fh=Object.create(Mh);Object.assign(Fh,{name:"custom_icons",collision:!1,init:function(t){var e=0<arguments.length&&void 0!==t?t:{};Mh.init.call(this,e)},loadTexture:function(t,e,n){var r,i=t.width,o=t.height,a=t.items,s=document.createElement("canvas"),l=Ai.device_pixel_ratio,u=this.sources[e],c={sprites:{}};if(s.width=i*l,s.height=o*l,u){var h,f=a.length,p=s.getContext("2d");for(p.scale(l,l);h=a[--f];){var d,v=u.getIconBitmapByObjectId(h.meta.objectId,h.meta.id);v&&((d=ml(v))?Si("error",d):(p.drawImage(v,h.x,h.y,h.width,h.height),c.sprites[h.meta.id]=[h.x,h.y,h.width,h.height]))}}return c.element=s,(r=this.textureManager.create(this.gl,n,c)).retain(),r.loading.then((function(t){return t.name}))},buildRasterTextures:function(t,e){return hi.postMessage(this.main_thread_target+".loadTexture",t.rasters,t.source,t.texture_name).then((function(t){return e.textures.push(t),e}))},addFeature:function(t,e,n){var r=n.tile.rasters,i={};r.items.forEach((function(t){i[t.meta.id]=[t.x,t.y,t.width,t.height]}));var o="".concat(n.tile.source,"_dyn_").concat(n.tile.coords.key,"_").concat(this.generation,"_").concat(n.tile.id);e.texture=n.tile.texture_name=o;var a=Object.assign({},Bh,{name:o,width:r.width,height:r.height,sprites:i,manager:this.textureManager});Io.prototype.calculateSprites.apply(a),this.textureManager.textures[o]=a,Mh.addFeature.apply(this,arguments),delete this.textureManager.textures[o]}});var Bh={filtering:"linear",density:1,valid:!0,power_of_2:!1,texcoords:{},sizes:{},css_sizes:{},aspects:{}},Hh=Object.create(Bu);Object.assign(Hh,{name:"overlays",super:Bu,init:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.selection=e.selection||!0,this.raster=this.raster||"color",this.super.init.apply(this,arguments)},setupRasters:function(){if(!ci.is_main)return!1;if(this.super.setupRasters.call(this))return!0;var t=!1;for(var e in this.sources)if(this.sources[e]instanceof wl){t=!0;break}return!!t&&(this.defines.TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING=!0,this.replaceShaderBlock("raster",ou,"Raster"),!0)},loadTextures:function(t,e){var n,r,i,o=this.sources[e],a=t.name;if(t.overlays_config.forEach((function(e){var a,s=e.texcoords,l=e.id,u=o.getMapObjectById(l),c=u.getBitmap();c&&((a=ml(c=bl(c,c.width,c.height)))?Si("error",a):(n||((n=document.createElement("canvas")).width=t.width,n.height=t.height,r=n.getContext("2d")),r.save(),r.globalAlpha=u.getOpacity(),s.forEach((function(t){return r.drawImage(c,t[0],t[1],t[2],t[3])})),r.restore(),i=!0))})),i){t.element=n;var s={};return s[a]=t,this.super.loadTextures.call(this,s)}var l=this.textureManager.textures[this.textureManager.default];return Promise.resolve([{name:l.name,width:l.width,height:l.height,loaded:l.loaded}])},buildRasterTextures:function(t,e){var n=this.sources[t.source].tileTexture(t);return n?hi.postMessage(this.main_thread_target+".loadTextures",n,t.source).then((function(t){if(!t||t.length<1)return e;if(t.some((function(t){return!t.loaded})))return null;var n=t[0].name;return e.uniforms=e.uniforms||{},e.textures=e.textures||[],e.uniforms.u_raster=n,e.uniforms.u_raster_offset=[0,0,1],e.textures.push(n),e})):Promise.resolve(e)}});var Uh=Object.create(au),Vh=[-1,0,1,0,-1,1,-1,1,1,0,1,1,-1,0,1,0,-1,1,-1,1,1,0,1,1];Object.assign(Uh,{name:"skybox",built_in:!0,vertex_shader_src:"uniform float u_horizon;uniform float u_tilt;uniform float u_zoom;attribute vec2 a_position;attribute float a_is_sky;attribute float a_is_top;attribute vec4 a_color;varying vec4 v_color;const float SIN_THRESHOLD_ANGLE=0.96126069082;void main(){v_color=a_color;float sin_tilt=sin(u_tilt);float sky_bottom_alpha=1.-max(sin_tilt-SIN_THRESHOLD_ANGLE,0.)*3.;if((a_position.y==1.&&a_is_sky==0.)||(a_position.y==0.&&a_is_sky==1.)){v_color.w=sky_bottom_alpha;}float fog_height=max((22.-u_zoom)*0.04,0.)*(sin_tilt-.7);float position_z=u_zoom<17. ? .942 : .9418;gl_Position=vec4(a_position.x,a_is_sky*(a_position.y+a_is_top)+1.0-u_horizon-(1.0-a_is_sky)*(1.0-a_position.y)*fog_height,position_z,1.0);}",fragment_shader_src:"varying vec4 v_color;void main(void){gl_FragColor=v_color;}",selection:!1,blend:"inlay",blend_order:1,init:function(){au.init.apply(this,arguments),this.selection=!1},_preprocess:function(t){return t.color={top:_o.createColorPropertyCache(t.color.zenith),bottom:_o.createColorPropertyCache(t.color.horizon),fog:_o.createColorPropertyCache(t.color.fog)},t},vertexLayoutForMeshVariant:function(){var t;return this.vertex_layout||(t=[{name:"a_position",size:2,type:su.FLOAT,normalized:!1},{name:"a_is_sky",size:1,type:su.FLOAT,normalized:!0},{name:"a_color",size:4,type:su.UNSIGNED_BYTE,normalized:!0},{name:"a_is_top",size:1,type:su.FLOAT,normalized:!0}],this.vertex_layout=new du(t)),this.vertex_layout},makeVertexTemplate:function(){var t=0;return this.vertex_template[t++]=0,this.vertex_template[1]=0,this.vertex_template},parseFeature:function(t,e,n){var r=this.feature_style;return e.color&&e.color.top&&e.color.bottom&&(r.color_top=this.parseColor(e.color.top,n),r.color_bottom=this.parseColor(e.color.bottom,n),r.color_fog=this.parseColor(e.color.fog||"white",n),Array.isArray(r.color_fog)&&(r.color_fog=r.color_fog.slice(),r.color_fog[3]=0)),r},buildGeometry:function(t,e,n){for(var r=this.makeVertexTemplate(e),i=n.vertex_data,o=n.vertex_data.vertex_layout,a=i.vertex_layout.index.a_position,s={top:e.color_top,bottom:e.color_bottom},l={top:e.color_bottom,bottom:e.color_fog},u=0,c=Vh.length-1;u<c;u+=2){r[a+0]=Vh[u],r[a+1]=Vh[u+1];var h=u<12,f=0<Vh[u+1],p=h?s:l;this.fillVertexTemplate(o,"a_is_sky",h?1:0,{size:1}),this.fillVertexTemplate(o,"a_is_top",f?1:0,{size:1}),this.fillVertexTemplate(o,"a_color",Jl.mult(f?p.top:p.bottom,255),{size:4}),i.addVertex(r)}return 4}});var Gh=function(){function t(){mr(this,t),this.styles={},this.base_styles={},this.register(Object.create(Bu)),this.register(Object.create(cc)),this.register(Object.create(yc)),this.register(Object.create(Mh)),this.register(Object.create(Dh)),this.register(Object.create(zh)),this.register(Object.create(Fh)),this.register(Object.create(Hh)),this.register(Object.create(Uh))}return _r(t,[{key:"init",value:function(){ql.removeBlock("global"),ql.removeBlock("setup"),ql.addBlock("global","#ifdef TANGRAM_VERTEX_SHADER\nvec4 modelPosition(){return vec4(a_position.xyz/TANGRAM_TILE_SCALE*exp2(u_tile_origin.z-u_tile_origin.w),1.)+vec4(0.,1.,0.,0.);}vec4 modelPositionBaseZoom(){return vec4(a_position.xyz/TANGRAM_TILE_SCALE,1.)+vec4(0.,1.,0.,0.);}\n#endif\nvec4 worldPosition(){return v_world_position;}\n#ifdef TANGRAM_VERTEX_SHADER\nvec4 wrapWorldPosition(vec4 world_position){\n#if defined(TANGRAM_WORLD_POSITION_WRAP)\nvec2 anchor=u_tile_origin.xy-mod(u_tile_origin.xy,TANGRAM_WORLD_POSITION_WRAP);world_position.xy-=anchor;\n#endif\nreturn world_position;}\n#endif\n#if defined(TANGRAM_VERTEX_SHADER)\nvec3 worldNormal(){return TANGRAM_NORMAL;}\n#elif defined(TANGRAM_FRAGMENT_SHADER)\nvec3 worldNormal(){return u_inverseNormalMatrix*TANGRAM_NORMAL;}\n#endif\n"),ql.addBlock("global","void applyLayerOrder(float layer,inout vec4 position){position.z-=layer*TANGRAM_LAYER_DELTA*position.w;}"),ql.addBlock("global","\n#if defined(TANGRAM_FEATURE_SELECTION) && defined(TANGRAM_VERTEX_SHADER)\nattribute vec4 a_selection_color;varying vec4 v_selection_color;uniform vec4 u_selection_discard0;uniform vec4 u_selection_discard1;uniform vec4 u_selection_discard2;uniform vec4 u_selection_discard3;uniform vec4 u_selection_discard4;uniform vec4 u_selection_discard5;uniform vec4 u_selection_discard6;uniform vec4 u_selection_discard7;uniform vec4 u_selection_discard8;uniform vec4 u_selection_discard9;\n#endif\n"),ql.addBlock("global","uniform float u_view_pan_snap_timer;void snapToPixelGrid(inout vec4 position){vec2 position_fract=fract((((position.xy/position.w)+1.)*.5)*u_resolution);vec2 position_snap=position.xy+((step(0.5,position_fract)-position_fract)*position.w*2./u_resolution);\n#ifdef TANGRAM_VIEW_PAN_SNAP_RATE\nposition.xy=mix(position.xy,position_snap,clamp(u_view_pan_snap_timer*TANGRAM_VIEW_PAN_SNAP_RATE,0.,1.));\n#else\nposition.xy=position_snap;\n#endif\n}"),ql.replaceBlock("utils","#ifndef UTILS\n#define UTILS\nbool isLocalSpacePixelOutsideTile(vec4 pixel_local_space_position,float tile_scale){return pixel_local_space_position.x<0.||pixel_local_space_position.x>=tile_scale||pixel_local_space_position.y>0.||pixel_local_space_position.y<=-tile_scale;}\n#endif\n"),ql.replaceBlock("setup","\n#if defined(TANGRAM_FEATURE_SELECTION) && defined(TANGRAM_VERTEX_SHADER)\nif(a_selection_color.rgb==vec3(0.)||a_selection_color==u_selection_discard0||a_selection_color==u_selection_discard1||a_selection_color==u_selection_discard2||a_selection_color==u_selection_discard3||a_selection_color==u_selection_discard4||a_selection_color==u_selection_discard5||a_selection_color==u_selection_discard6||a_selection_color==u_selection_discard7||a_selection_color==u_selection_discard8||a_selection_color==u_selection_discard9){gl_Position=vec4(0.,0.,0.,1.);return;}v_selection_color=a_selection_color;\n#endif\n"),ql.defines.TANGRAM_EPSILON=1e-5,ql.defines.TANGRAM_LAYER_DELTA=1/16384,ql.defines.TANGRAM_TILE_SCALE="vec3(".concat(ei.tile_scale,"., ").concat(ei.tile_scale,"., u_meters_per_pixel * ").concat(ei.tile_size,".)"),ql.defines.TANGRAM_HEIGHT_SCALE=ei.height_scale,ql.defines.TANGRAM_ALPHA_TEST=.1,cc.dash_textures={}}},{key:"destroy",value:function(t){var e=this;Object.keys(this.styles).forEach((function(n){var r=e.styles[n];r.gl===t&&(Si("trace","StyleManager.destroy: destroying render style ".concat(r.name)),r.base&&e.remove(r.name),r.destroy())}))}},{key:"register",value:function(t){this.styles[t.name]=t,this.base_styles[t.name]=t}},{key:"remove",value:function(t){delete this.styles[t]}},{key:"mix",value:function(t,e){if(t.mixed)return t;t.mixed={};var n=[];t.mix&&(Array.isArray(t.mix)?n.push.apply(n,Rr(t.mix)):n.push(t.mix),(n=n.map((function(t){return e[t]})).filter((function(e){return e&&e!==t}))).forEach((function(e){return t.mixed[e.name]=!0}))),n.push(t),t.animated=n.some((function(t){return t&&t.animated})),t.texcoords=n.some((function(t){return t&&t.texcoords})),t.base=n.map((function(t){return t.base})).filter((function(t){return t})).pop(),t.lighting=n.map((function(t){return t.lighting})).filter((function(t){return null!=t})).pop(),t.texture=n.map((function(t){return t.texture})).filter((function(t){return t})).pop(),t.raster=n.map((function(t){return t.raster})).filter((function(t){return null!=t})).pop(),t.dash=n.map((function(t){return t.dash})).filter((function(t){return null!=t})).pop(),t.dash_background_color=n.map((function(t){return t.dash_background_color})).filter((function(t){return null!=t})).pop(),n.some((function(t){return t.hasOwnProperty("blend")&&t.blend}))&&(t.blend=n.map((function(t){return t.hasOwnProperty("blend")&&t.blend})).filter((function(t){return t})).pop()),t.blend_order=n.map((function(t){return t.blend_order})).filter((function(t){return null!=t})).pop(),t.defines=Object.assign.apply(Object,[{}].concat(Rr(n.map((function(t){return t.defines})).filter((function(t){return t}))))),t.material=Object.assign.apply(Object,[{}].concat(Rr(n.map((function(t){return t.material})).filter((function(t){return t})))));var r=n.map((function(t){return t.draw})).filter((function(t){return t}));return 0<r.length&&(t.draw=yl.apply(void 0,[{}].concat(Rr(r)))),this.mixShaders(t,e,n),t}},{key:"mixShaders",value:function(t,e,n){var r={},i=n.map((function(t){return t.shaders})).filter((function(t){return t}));if(r.defines=Object.assign.apply(Object,[{}].concat(Rr(i.map((function(t){return t.defines})).filter((function(t){return t}))))),r.uniforms={},r._uniforms=t.shaders&&t.shaders.uniforms||{},r._uniform_scopes={},n.filter((function(t){return t.shaders&&t.shaders.uniforms})).forEach((function(t){for(var n in t.shaders.uniforms)!function(n){r._uniform_scopes[n]=t.name,Object.defineProperty(r.uniforms,n,{enumerable:!0,configurable:!0,get:function(){return void 0!==r._uniforms[n]?r._uniforms[n]:e[r._uniform_scopes[n]].shaders.uniforms!==r.uniforms?e[r._uniform_scopes[n]].shaders.uniforms[n]:void 0},set:function(t){r._uniforms[n]=t}})}(n)})),r.extensions=Object.keys(i.map((function(t){return t.extensions})).filter((function(t){return t})).reduce((function(t,e){return"string"==typeof e?t[e]=!0:e.forEach((function(e){return t[e]=!0})),t}),{})||{}),t.shaders&&t.shaders.blocks)for(var o in t.shaders.block_scopes=t.shaders.block_scopes||{},t.shaders.blocks){var a,s=t.shaders.blocks[o];t.shaders.block_scopes[o]=t.shaders.block_scopes[o]||[],Array.isArray(s)?(a=t.shaders.block_scopes[o]).push.apply(a,Rr(s.map((function(){return t.name})))):t.shaders.block_scopes[o].push(t.name)}var l={};return i.forEach((function(t){if(t.blocks){r.blocks=r.blocks||{},r.block_scopes=r.block_scopes||{};var e={};for(var n in t.blocks){var i=t.blocks[n],o=t.block_scopes[n];r.blocks[n]=r.blocks[n]||[],r.block_scopes[n]=r.block_scopes[n]||[],i=Array.isArray(i)?i:[i],o=Array.isArray(o)?o:[o];for(var a=0;a<i.length;a++)l[o[a]]||(e[o[a]]=!0,r.blocks[n].push(i[a]),r.block_scopes[n].push(o[a]))}Object.assign(l,e)}})),Object.assign(t.mixed,l),t.shaders=r,t}},{key:"create",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:{},i=yl({},e);return i.name=t,(i=this.mix(i,r)).base&&this.base_styles[i.base]?this.styles[t]=i=Object.assign(Object.create(this.base_styles[i.base]),i):i.base=null,i}},{key:"build",value:function(t){var e=this,n=Object.keys(t).sort((function(n,r){return e.inheritanceDepth(n,t)-e.inheritanceDepth(r,t)}));for(var r in this.styles)this.base_styles[r]?this.styles[r].reset():delete this.styles[r];var i={};return n.forEach((function(n){i[n]=e.create(n,t[n],i)})),this.styles}},{key:"initStyles",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};for(var n in this.styles)this.styles[n].init(e)}},{key:"inheritanceDepth",value:function(t,e){for(var n=this,r=0;;){var i=e[t];if(!i)break;if(!i.mix)break;if(r++,Array.isArray(i.mix)){r+=Math.max.apply(Math,Rr(i.mix.map((function(r){if(t!==r)return n.inheritanceDepth(r,e)}))));break}if(t===i.mix)break;t=i.mix}return r}}]),t}();function qh(t){return null==t}var Yh={isNothing:qh,isObject:function(t){return"object"==typeof t&&null!==t},toArray:function(t){return Array.isArray(t)?t:qh(t)?[]:[t]},repeat:function(t,e){for(var n="",r=0;r<e;r+=1)n+=t;return n},isNegativeZero:function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function(t,e){var n,r,i,o;if(e)for(n=0,r=(o=Object.keys(e)).length;n<r;n+=1)t[i=o[n]]=e[i];return t}};function Wh(t,e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}((Wh.prototype=Object.create(Error.prototype)).constructor=Wh).prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e};var Zh=Wh;function Xh(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}Xh.prototype.getSnippet=function(t,e){var n,r,i,o,a;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",r=this.position;0<r&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(--r,this.position-r>e/2-1){n=" ... ",r+=5;break}for(i="",o=this.position;o<this.buffer.length&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>e/2-1){i=" ... ",o-=5;break}return a=this.buffer.slice(r,o),Yh.repeat(" ",t)+n+a+i+"\n"+Yh.repeat(" ",t+this.position-r+n.length)+"^"},Xh.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(n+=":\n"+e),n};var Kh=Xh,$h=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Jh=["scalar","sequence","mapping"],Qh=function(t,e){var n,r;if(e=e||{},Object.keys(e).forEach((function(e){if(-1===$h.indexOf(e))throw new Zh('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')})),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=(n=e.styleAliases||null,r={},null!==n&&Object.keys(n).forEach((function(t){n[t].forEach((function(e){r[String(e)]=t}))})),r),-1===Jh.indexOf(this.kind))throw new Zh('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function tf(t,e,n){var r=[];return t.include.forEach((function(t){n=tf(t,e,n)})),t[e].forEach((function(t){n.forEach((function(e,n){e.tag===t.tag&&r.push(n)})),n.push(t)})),n.filter((function(t,e){return-1===r.indexOf(e)}))}function ef(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach((function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new Zh("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=tf(this,"implicit",[]),this.compiledExplicit=tf(this,"explicit",[]),this.compiledTypeMap=function(){var t,e,n={};function r(t){n[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}ef.DEFAULT=null,ef.create=function(t,e){var n,r;switch(arguments.length){case 1:n=ef.DEFAULT,r=t;break;case 2:n=t,r=e;break;default:throw new Zh("Wrong number of arguments for Schema.create function")}if(n=Yh.toArray(n),r=Yh.toArray(r),!n.every((function(t){return t instanceof ef})))throw new Zh("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every((function(t){return t instanceof Qh})))throw new Zh("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new ef({include:n,explicit:r})};var nf=ef,rf=new nf({explicit:[new Qh("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),new Qh("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),new Qh("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})]}),of=new Qh("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),af=new Qh("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"}),sf=new Qh("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r,i,o=t.length,a=0,s=!1;if(!o)return!1;if("-"!==(e=t[a])&&"+"!==e||(e=t[++a]),"0"===e){if(a+1===o)return!0;if("b"===(e=t[++a])){for(a++;a<o;a++)if("_"!==(e=t[a])){if("0"!==e&&"1"!==e)return!1;s=!0}return s}if("x"===e){for(a++;a<o;a++)if("_"!==(e=t[a])){if(!(48<=(r=t.charCodeAt(a))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;s=!0}return s}for(;a<o;a++)if("_"!==(e=t[a])){if(!(48<=(n=t.charCodeAt(a))&&n<=55))return!1;s=!0}return s}for(;a<o;a++)if("_"!==(e=t[a])){if(":"===e)break;if(!(48<=(i=t.charCodeAt(a))&&i<=57))return!1;s=!0}return!!s&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(a)))},construct:function(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(e=r[0])&&"+"!==e||("-"===e&&(i=-1),e=(r=r.slice(1))[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach((function(t){o.unshift(parseInt(t,10))})),r=0,n=1,o.forEach((function(t){r+=t*n,n*=60})),i*r):i*parseInt(r,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!Yh.isNegativeZero(t)},represent:{binary:function(t){return"0b"+t.toString(2)},octal:function(t){return"0"+t.toString(8)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return"0x"+t.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),lf=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),uf=/^[-+]?[0-9]+e/,cf=new nf({include:[rf],implicit:[of,af,sf,new Qh("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!!lf.test(t)},construct:function(t){var e,n=t.replace(/_/g,"").toLowerCase(),r="-"===n[0]?-1:1,i=[];return 0<="+-".indexOf(n[0])&&(n=n.slice(1)),".inf"===n?1==r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:0<=n.indexOf(":")?(n.split(":").forEach((function(t){i.unshift(parseFloat(t,10))})),n=0,e=1,i.forEach((function(t){n+=t*e,e*=60})),r*n):r*parseFloat(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||Yh.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Yh.isNegativeZero(t))return"-0.0";return n=t.toString(10),uf.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})]}),hf=new nf({include:[cf]}),ff=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$"),pf=new Qh("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&null!==ff.exec(t)},construct:function(t){var e,n,r,i,o,a,s,l=0,u=null,c=ff.exec(t);if(null===c)throw new Error("Date resolve error");if(e=+c[1],n=c[2]-1,r=+c[3],!c[4])return new Date(Date.UTC(e,n,r));if(i=+c[4],o=+c[5],a=+c[6],c[7]){for(l=c[7].slice(0,3);l.length<3;)l+="0";l=+l}return c[9]&&(u=6e4*(60*+c[10]+ +(c[11]||0)),"-"===c[9]&&(u=-u)),s=new Date(Date.UTC(e,n,r,i,o,a,l)),u&&s.setTime(s.getTime()-u),s},instanceOf:Date,represent:function(t){return t.toISOString()}}),df=new Qh("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),vf=ws.Buffer,gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",yf=new Qh("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;for(var e,n=0,r=t.length,i=gf,o=0;o<r;o++)if(!(64<(e=i.indexOf(t.charAt(o))))){if(e<0)return!1;n+=6}return n%8==0},construct:function(t){for(var e,n=t.replace(/[\r\n=]/g,""),r=n.length,i=gf,o=0,a=[],s=0;s<r;s++)s%4==0&&s&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|i.indexOf(n.charAt(s));return 0==(e=r%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18==e?(a.push(o>>10&255),a.push(o>>2&255)):12==e&&a.push(o>>4&255),vf?new vf(a):a},predicate:function(t){return vf&&vf.isBuffer(t)},represent:function(t){for(var e,n="",r=0,i=t.length,o=gf,a=0;a<i;a++)a%3==0&&a&&(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[63&r]),r=(r<<8)+t[a];return 0==(e=i%3)?(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[63&r]):2==e?(n+=o[r>>10&63],n+=o[r>>4&63],n+=o[r<<2&63],n+=o[64]):1==e&&(n+=o[r>>2&63],n+=o[r<<4&63],n+=o[64],n+=o[64]),n}}),mf=Object.prototype.hasOwnProperty,bf=Object.prototype.toString,_f=new Qh("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;for(var e,n,r,i=[],o=t,a=0,s=o.length;a<s;a+=1){if(e=o[a],r=!1,"[object Object]"!==bf.call(e))return!1;for(n in e)if(mf.call(e,n)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==i.indexOf(n))return!1;i.push(n)}return!0},construct:function(t){return null!==t?t:[]}}),xf=Object.prototype.toString,wf=new Qh("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;for(var e,n,r=t,i=new Array(r.length),o=0,a=r.length;o<a;o+=1){if(e=r[o],"[object Object]"!==xf.call(e))return!1;if(1!==(n=Object.keys(e)).length)return!1;i[o]=[n[0],e[n[0]]]}return!0},construct:function(t){if(null===t)return[];for(var e,n,r=t,i=new Array(r.length),o=0,a=r.length;o<a;o+=1)e=r[o],n=Object.keys(e),i[o]=[n[0],e[n[0]]];return i}}),kf=Object.prototype.hasOwnProperty,Ef=new nf({include:[hf],implicit:[pf,df],explicit:[yf,_f,wf,new Qh("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(kf.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}})]}),Sf=new Qh("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(t){return void 0===t},represent:function(){return""}}),Tf=new Qh("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),3<r.length)return!1;if("/"!==e[e.length-r.length-1])return!1}return!0},construct:function(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)},predicate:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}});try{var Af=function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}()}catch(o){"undefined"!=typeof window&&(Af=window.esprima)}var Of=new Qh("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(t){if(null===t)return!1;try{var e="("+t+")",n=Af.parse(e,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&"FunctionExpression"===n.body[0].expression.type}catch(t){return!1}},construct:function(t){var e,n="("+t+")",r=Af.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach((function(t){i.push(t.name)})),e=r.body[0].expression.body.range,new Function(i,n.slice(e[0]+1,e[1]-1))},predicate:function(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function(t){return t.toString()}}),Mf=nf.DEFAULT=new nf({include:[Ef],explicit:[Sf,Tf,Of]}),Cf=Object.prototype.hasOwnProperty,jf=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,If=/[\x85\u2028\u2029]/,Pf=/[,\[\]\{\}]/,Rf=/^(?:!|!!|![a-z\-]+!)$/i,Lf=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Nf(t){return 10===t||13===t}function Df(t){return 9===t||32===t}function zf(t){return 9===t||32===t||10===t||13===t}function Ff(t){return 44===t||91===t||93===t||123===t||125===t}function Bf(t){return 48===t?"\0":97===t?"\x07":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"\x1b":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"\x85":95===t?"\xa0":76===t?"\u2028":80===t?"\u2029":""}for(var Hf=new Array(256),Uf=new Array(256),Vf=0;Vf<256;Vf++)Hf[Vf]=Bf(Vf)?1:0,Uf[Vf]=Bf(Vf);function Gf(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Mf,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function qf(t,e){return new Zh(e,new Kh(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function Yf(t,e){throw qf(t,e)}function Wf(t,e){t.onWarning&&t.onWarning.call(null,qf(t,e))}var Zf={YAML:function(t,e,n){var r,i,o;null!==t.version&&Yf(t,"duplication of %YAML directive"),1!==n.length&&Yf(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Yf(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&Yf(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&Wf(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&Yf(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],Rf.test(r)||Yf(t,"ill-formed tag handle (first argument) of the TAG directive"),Cf.call(t.tagMap,r)&&Yf(t,'there is a previously declared suffix for "'+r+'" tag handle'),Lf.test(i)||Yf(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};function Xf(t,e,n,r){var i,o,a,s;if(e<n){if(s=t.input.slice(e,n),r)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||Yf(t,"expected valid JSON character");else jf.test(s)&&Yf(t,"the stream contains non-printable characters");t.result+=s}}function Kf(t,e,n,r){var i,o,a,s;for(Yh.isObject(n)||Yf(t,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(i=Object.keys(n)).length;a<s;a+=1)o=i[a],Cf.call(e,o)||(e[o]=n[o],r[o]=!0)}function $f(t,e,n,r,i,o){var a,s;if(i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(a=0,s=o.length;a<s;a+=1)Kf(t,e,o[a],n);else Kf(t,e,o,n);else t.json||Cf.call(n,i)||!Cf.call(e,i)||Yf(t,"duplicated mapping key"),e[i]=o,delete n[i];return e}function Jf(t){var e=t.input.charCodeAt(t.position);10===e?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):Yf(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function Qf(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;Df(i);)i=t.input.charCodeAt(++t.position);if(e&&35===i)for(;10!==(i=t.input.charCodeAt(++t.position))&&13!==i&&0!==i;);if(!Nf(i))break;for(Jf(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&Wf(t,"deficient indentation"),r}function tp(t){var e=t.position,n=t.input.charCodeAt(e);return 45!==n&&46!==n||n!==t.input.charCodeAt(e+1)||n!==t.input.charCodeAt(e+2)||(e+=3,0!==(n=t.input.charCodeAt(e))&&!zf(n))?void 0:1}function ep(t,e){1===e?t.result+=" ":1<e&&(t.result+=Yh.repeat("\n",e-1))}function np(t,e){var n,r,i=t.tag,o=t.anchor,a=[],s=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=a),r=t.input.charCodeAt(t.position);0!==r&&45===r&&zf(t.input.charCodeAt(t.position+1));)if(s=!0,t.position++,Qf(t,!0,-1)&&t.lineIndent<=e)a.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,rp(t,e,3,!1,!0),a.push(t.result),Qf(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)Yf(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!s&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=a,!0)}function rp(t,e,n,r,i){var o,a,s,l,u,c,h,f,p=1,d=!1,v=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=a=s=4===n||3===n,r&&Qf(t,!0,-1)&&(d=!0,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)),1===p)for(;function(t){var e,n,r,i=!1,o=!1,a=t.input.charCodeAt(t.position);if(33===a){if(null!==t.tag&&Yf(t,"duplication of a tag property"),60===(a=t.input.charCodeAt(++t.position))?(i=!0,a=t.input.charCodeAt(++t.position)):33===a?(o=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){for(;0!==(a=t.input.charCodeAt(++t.position))&&62!==a;);t.position<t.length?(r=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Yf(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!zf(a);)33===a&&(o?Yf(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),Rf.test(n)||Yf(t,"named tag handle cannot contain such characters"),o=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),Pf.test(r)&&Yf(t,"tag suffix cannot contain flow indicator characters")}return r&&!Lf.test(r)&&Yf(t,"tag name cannot contain such characters: "+r),i?t.tag=r:Cf.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:Yf(t,'undeclared tag handle "'+n+'"'),1}}(t)||function(t){var e,n=t.input.charCodeAt(t.position);if(38===n){for(null!==t.anchor&&Yf(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!zf(n)&&!Ff(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Yf(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),1}}(t);)Qf(t,!0,-1)?(d=!0,s=o,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)):s=!1;if(s=s&&(d||i),1!==p&&4!==n||(h=1===n||2===n?e:e+1,f=t.position-t.lineStart,1===p?s&&(np(t,f)||function(t,e,n){var r,i,o,a,s=t.tag,l=t.anchor,u={},c={},h=null,f=null,p=null,d=!1,v=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=u),a=t.input.charCodeAt(t.position);0!==a;){if(r=t.input.charCodeAt(t.position+1),o=t.line,63!==a&&58!==a||!zf(r)){if(!rp(t,n,2,!1,!0))break;if(t.line===o){for(a=t.input.charCodeAt(t.position);Df(a);)a=t.input.charCodeAt(++t.position);if(58===a)zf(a=t.input.charCodeAt(++t.position))||Yf(t,"a whitespace character is expected after the key-value separator within a block mapping"),d&&($f(t,u,c,h,f,null),h=f=p=null),i=d=!(v=!0),h=t.tag,f=t.result;else{if(!v)return t.tag=s,t.anchor=l,1;Yf(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return t.tag=s,t.anchor=l,1;Yf(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===a?(d&&($f(t,u,c,h,f,null),h=f=p=null),i=d=v=!0):d?i=!(d=!1):Yf(t,"incomplete explicit mapping pair; a key node is missed"),t.position+=1,a=r;if((t.line===o||t.lineIndent>e)&&(rp(t,e,4,!0,i)&&(d?f=t.result:p=t.result),d||($f(t,u,c,h,f,p),h=f=p=null),Qf(t,!0,-1),a=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==a)Yf(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return d&&$f(t,u,c,h,f,null),v&&(t.tag=s,t.anchor=l,t.kind="mapping",t.result=u),v}(t,f,h))||function(t,e){var n,r,i,o,a,s,l,u,c,h=!0,f=t.tag,p=t.anchor,d={},v=t.input.charCodeAt(t.position);if(91===v)s=!(i=93),r=[];else{if(123!==v)return;i=125,s=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),v=t.input.charCodeAt(++t.position);0!==v;){if(Qf(t,!0,e),(v=t.input.charCodeAt(t.position))===i)return t.position++,t.tag=f,t.anchor=p,t.kind=s?"mapping":"sequence",t.result=r,1;h||Yf(t,"missed comma between flow collection entries"),c=null,o=a=!1,63===v&&zf(t.input.charCodeAt(t.position+1))&&(o=a=!0,t.position++,Qf(t,!0,e)),n=t.line,rp(t,e,1,!1,!0),u=t.tag,l=t.result,Qf(t,!0,e),v=t.input.charCodeAt(t.position),!a&&t.line!==n||58!==v||(o=!0,v=t.input.charCodeAt(++t.position),Qf(t,!0,e),rp(t,e,1,!1,!0),c=t.result),s?$f(t,r,d,u,l,c):o?r.push($f(t,null,d,u,l,c)):r.push(l),Qf(t,!0,e),44===(v=t.input.charCodeAt(t.position))?(h=!0,v=t.input.charCodeAt(++t.position)):h=!1}Yf(t,"unexpected end of the stream within a flow collection")}(t,h)?v=!0:(a&&function(t,e){var n,r,i,o,a=1,s=!1,l=e,u=0,c=!1,h=t.input.charCodeAt(t.position);if(124===h)r=!1;else{if(62!==h)return;r=!0}for(t.kind="scalar",t.result="";0!==h;)if(43===(h=t.input.charCodeAt(++t.position))||45===h)1===a?a=43===h?3:2:Yf(t,"repeat of a chomping mode identifier");else{if(!(0<=(i=48<=(o=h)&&o<=57?o-48:-1)))break;0==i?Yf(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Yf(t,"repeat of an indentation width identifier"):(l=e+i-1,s=!0)}if(Df(h)){for(;Df(h=t.input.charCodeAt(++t.position)););if(35===h)for(;!Nf(h=t.input.charCodeAt(++t.position))&&0!==h;);}for(;0!==h;){for(Jf(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!s||t.lineIndent<l)&&32===h;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>l&&(l=t.lineIndent),Nf(h))u++;else{if(t.lineIndent<l){3===a?t.result+=Yh.repeat("\n",u):1===a&&s&&(t.result+="\n");break}for(r?Df(h)?(c=!0,t.result+=Yh.repeat("\n",u+1)):c?(c=!1,t.result+=Yh.repeat("\n",u+1)):0===u?s&&(t.result+=" "):t.result+=Yh.repeat("\n",u):t.result+=s?Yh.repeat("\n",u+1):Yh.repeat("\n",u),s=!0,u=0,n=t.position;!Nf(h)&&0!==h;)h=t.input.charCodeAt(++t.position);Xf(t,n,t.position,!1)}}return 1}(t,h)||function(t,e){var n,r,i=t.input.charCodeAt(t.position);if(39===i){for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(i=t.input.charCodeAt(t.position));)if(39===i){if(Xf(t,n,t.position,!0),39!==(i=t.input.charCodeAt(++t.position)))return 1;n=r=t.position,t.position++}else Nf(i)?(Xf(t,n,r,!0),ep(t,Qf(t,!1,e)),n=r=t.position):t.position===t.lineStart&&tp(t)?Yf(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);Yf(t,"unexpected end of the stream within a single quoted scalar")}}(t,h)||function(t,e){var n,r,i,o,a,s,l,u,c,h=t.input.charCodeAt(t.position);if(34===h){for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(h=t.input.charCodeAt(t.position));){if(34===h)return Xf(t,n,t.position,!0),t.position++,1;if(92===h){if(Xf(t,n,t.position,!0),Nf(h=t.input.charCodeAt(++t.position)))Qf(t,!1,e);else if(h<256&&Hf[h])t.result+=Uf[h],t.position++;else if(0<(a=120===(c=h)?2:117===c?4:85===c?8:0)){for(i=a,o=0;0<i;i--)u=void 0,0<=(a=48<=(l=h=t.input.charCodeAt(++t.position))&&l<=57?l-48:97<=(u=32|l)&&u<=102?u-97+10:-1)?o=(o<<4)+a:Yf(t,"expected hexadecimal character");t.result+=(s=o)<=65535?String.fromCharCode(s):String.fromCharCode(55296+(s-65536>>10),56320+(s-65536&1023)),t.position++}else Yf(t,"unknown escape sequence");n=r=t.position}else Nf(h)?(Xf(t,n,r,!0),ep(t,Qf(t,!1,e)),n=r=t.position):t.position===t.lineStart&&tp(t)?Yf(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Yf(t,"unexpected end of the stream within a double quoted scalar")}}(t,h)?v=!0:function(t){var e,n,r=t.input.charCodeAt(t.position);if(42===r){for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!zf(r)&&!Ff(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Yf(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||Yf(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Qf(t,!0,-1),1}}(t)?(v=!0,null===t.tag&&null===t.anchor||Yf(t,"alias node should not have any properties")):function(t,e,n){var r,i,o,a,s,l,u,c=t.kind,h=t.result,f=t.input.charCodeAt(t.position);if(!zf(f)&&!Ff(f)&&35!==f&&38!==f&&42!==f&&33!==f&&124!==f&&62!==f&&39!==f&&34!==f&&37!==f&&64!==f&&96!==f&&(63!==f&&45!==f||!(zf(r=t.input.charCodeAt(t.position+1))||n&&Ff(r)))){for(t.kind="scalar",t.result="",i=o=t.position,a=!1;0!==f;){if(58===f){if(zf(r=t.input.charCodeAt(t.position+1))||n&&Ff(r))break}else if(35===f){if(zf(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&tp(t)||n&&Ff(f))break;if(Nf(f)){if(s=t.line,l=t.lineStart,u=t.lineIndent,Qf(t,!1,-1),t.lineIndent>=e){a=!0,f=t.input.charCodeAt(t.position);continue}t.position=o,t.line=s,t.lineStart=l,t.lineIndent=u;break}}a&&(Xf(t,i,o,!1),ep(t,t.line-s),i=o=t.position,a=!1),Df(f)||(o=t.position+1),f=t.input.charCodeAt(++t.position)}if(Xf(t,i,o,!1),t.result)return 1;t.kind=c,t.result=h}}(t,h,1===n)&&(v=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===p&&(v=s&&np(t,f))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(l=0,u=t.implicitTypes.length;l<u;l+=1)if((c=t.implicitTypes[l]).resolve(t.result)){t.result=c.construct(t.result),t.tag=c.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else Cf.call(t.typeMap,t.tag)?(c=t.typeMap[t.tag],null!==t.result&&c.kind!==t.kind&&Yf(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+c.kind+'", not "'+t.kind+'"'),c.resolve(t.result)?(t.result=c.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):Yf(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):Yf(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||v}function ip(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new Gf(t,e);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)!function(t){var e,n,r,i,o=t.position,a=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(i=t.input.charCodeAt(t.position))&&(Qf(t,!0,-1),i=t.input.charCodeAt(t.position),!(0<t.lineIndent||37!==i));){for(a=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!zf(i);)i=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&Yf(t,"directive name must not be less than one character in length");0!==i;){for(;Df(i);)i=t.input.charCodeAt(++t.position);if(35===i){for(;0!==(i=t.input.charCodeAt(++t.position))&&!Nf(i););break}if(Nf(i))break;for(e=t.position;0!==i&&!zf(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&Jf(t),Cf.call(Zf,n)?Zf[n](t,n,r):Wf(t,'unknown document directive "'+n+'"')}Qf(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,Qf(t,!0,-1)):a&&Yf(t,"directives end mark is expected"),rp(t,t.lineIndent-1,4,!1,!0),Qf(t,!0,-1),t.checkLineBreaks&&If.test(t.input.slice(o,t.position))&&Wf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&tp(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,Qf(t,!0,-1)):t.position<t.length-1&&Yf(t,"end of the stream or a document separator is expected")}(n);return n.documents}function op(t,e,n){for(var r=ip(t,n),i=0,o=r.length;i<o;i+=1)e(r[i])}function ap(t,e){var n=ip(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new Zh("expected a single document in the stream, but found more")}}var sp={loadAll:op,load:ap,safeLoadAll:function(t,e,n){op(t,e,Yh.extend({schema:Ef},n))},safeLoad:function(t,e){return ap(t,Yh.extend({schema:Ef},e))}},lp=Object.prototype.toString,up=Object.prototype.hasOwnProperty,cp=10,hp={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},fp=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function pp(t){this.schema=t.schema||Mf,this.indent=Math.max(1,t.indent||2),this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Yh.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,a,s,l;if(null===e)return{};for(n={},i=0,o=(r=Object.keys(e)).length;i<o;i+=1)a=r[i],s=String(e[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(l=t.compiledTypeMap[a])&&up.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[a]=s;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function dp(t,e){for(var n,r=Yh.repeat(" ",e),i=0,o=-1,a="",s=t.length;i<s;)i=-1===(o=t.indexOf("\n",i))?(n=t.slice(i),s):(n=t.slice(i,o+1),o+1),n.length&&"\n"!==n&&(a+=r),a+=n;return a}function vp(t,e){return"\n"+Yh.repeat(" ",t.indent*e)}function gp(t){this.source=t,this.result="",this.checkpoint=0}function yp(t,e){if(""===t)return t;for(var n,r,i=/[^\s] [^\s]/g,o="",a=0,s=0,l=i.exec(t);l;)e<(n=l.index)-s&&(r=a!==s?a:n,o&&(o+="\n"),o+=t.slice(s,r),s=r+1),a=n+1,l=i.exec(t);return o&&(o+="\n"),s!==a&&t.length-s>e?o+=t.slice(s,a)+"\n"+t.slice(a+1):o+=t.slice(s),o}function mp(t){return!(32<=t&&t<=126||133===t||160<=t&&t<=55295||57344<=t&&t<=65533||65536<=t&&t<=1114111)}function bp(t,e,n){for(var r,i,o,a=n?t.explicitTypes:t.implicitTypes,s=0,l=a.length;s<l;s+=1)if(((i=a[s]).instanceOf||i.predicate)&&(!i.instanceOf||"object"==typeof e&&e instanceof i.instanceOf)&&(!i.predicate||i.predicate(e))){if(t.tag=n?i.tag:"?",i.represent){if(o=t.styleMap[i.tag]||i.defaultStyle,"[object Function]"===lp.call(i.represent))r=i.represent(e,o);else{if(!up.call(i.represent,o))throw new Zh("!<"+i.tag+'> tag resolver accepts not "'+o+'" style');r=i.represent[o](e,o)}t.dump=r}return 1}}function _p(t,e,n,r,i,o){t.tag=null,t.dump=n,bp(t,n,!1)||bp(t,n,!0);var a=lp.call(t.dump);r=r&&(t.flowLevel<0||t.flowLevel>e);var s,l,u="[object Object]"===a||"[object Array]"===a;if(u&&(l=-1!==(s=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||l||2!==t.indent&&0<e)&&(i=!1),l&&t.usedDuplicates[s])t.dump="*ref_"+s;else{if(u&&l&&!t.usedDuplicates[s]&&(t.usedDuplicates[s]=!0),"[object Object]"===a)r&&0!==Object.keys(t.dump).length?(function(t,e,n,r){var i,o,a,s,l,u,c="",h=t.tag,f=Object.keys(n);if(!0===t.sortKeys)f.sort();else if("function"==typeof t.sortKeys)f.sort(t.sortKeys);else if(t.sortKeys)throw new Zh("sortKeys must be a boolean or a function");for(i=0,o=f.length;i<o;i+=1)u="",r&&0===i||(u+=vp(t,e)),s=n[a=f[i]],_p(t,e+1,a,!0,!0,!0)&&((l=null!==t.tag&&"?"!==t.tag||t.dump&&1024<t.dump.length)&&(t.dump&&cp===t.dump.charCodeAt(0)?u+="?":u+="? "),u+=t.dump,l&&(u+=vp(t,e)),_p(t,e+1,s,!0,l)&&(t.dump&&cp===t.dump.charCodeAt(0)?u+=":":u+=": ",c+=u+=t.dump));t.tag=h,t.dump=c||"{}"}(t,e,t.dump,i),l&&(t.dump="&ref_"+s+t.dump)):(function(t,e,n){for(var r,i,o,a="",s=t.tag,l=Object.keys(n),u=0,c=l.length;u<c;u+=1)o="",0!==u&&(o+=", "),i=n[r=l[u]],_p(t,e,r,!1,!1)&&(1024<t.dump.length&&(o+="? "),o+=t.dump+": ",_p(t,e,i,!1,!1)&&(a+=o+=t.dump));t.tag=s,t.dump="{"+a+"}"}(t,e,t.dump),l&&(t.dump="&ref_"+s+" "+t.dump));else if("[object Array]"===a)r&&0!==t.dump.length?(function(t,e,n,r){for(var i="",o=t.tag,a=0,s=n.length;a<s;a+=1)_p(t,e+1,n[a],!0,!0)&&(r&&0===a||(i+=vp(t,e)),i+="- "+t.dump);t.tag=o,t.dump=i||"[]"}(t,e,t.dump,i),l&&(t.dump="&ref_"+s+t.dump)):(function(t,e,n){for(var r="",i=t.tag,o=0,a=n.length;o<a;o+=1)_p(t,e,n[o],!1,!1)&&(0!==o&&(r+=", "),r+=t.dump);t.tag=i,t.dump="["+r+"]"}(t,e,t.dump),l&&(t.dump="&ref_"+s+" "+t.dump));else{if("[object String]"!==a){if(t.skipInvalid)return;throw new Zh("unacceptable kind of an object to dump "+a)}"?"!==t.tag&&function(t,e,n,r){var i,o,a,s,l,u,c,h,f,p,d,v,g,y,m,b,_,x,w,k,E;if(0!==e.length)if(-1===fp.indexOf(e)){for(i=!0,45!==(o=e.length?e.charCodeAt(0):0)&&63!==o&&64!==o&&96!==o||(i=!1),l=s=(a=32===o||32===e.charCodeAt(e.length-1))||-1<t.flowLevel&&t.flowLevel<=n?(a&&(i=!1),!1):!r,u=!0,c=new gp(e),h=!1,p=f=0,d=t.indent*n,-1===(v=t.lineWidth)&&(v=9007199254740991),d<40?v-=d:v=40,y=0;y<e.length;y++){if(g=e.charCodeAt(y),i){if(9!==(E=g)&&cp!==E&&13!==E&&44!==E&&91!==E&&93!==E&&123!==E&&125!==E&&35!==E&&38!==E&&42!==E&&33!==E&&124!==E&&62!==E&&39!==E&&34!==E&&37!==E&&58!==E&&!hp[E]&&!mp(E))continue;i=!1}u&&39===g&&(u=!1),m=hp[g],b=mp(g),(m||b)&&(g!==cp&&34!==g&&39!==g?l=s=!1:g===cp&&(u=!(h=!0),0<y&&32===e.charCodeAt(y-1)&&(s=l=!1),s&&(_=y-f,f=y,p<_&&(p=_))),34!==g&&(u=!1),c.takeUpTo(y),c.escapeChar())}if(i&&function(t,e){for(var n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return 1}(t,e)&&(i=!1),x="",(s||l)&&(w=0,e.charCodeAt(e.length-1)===cp&&(w+=1,e.charCodeAt(e.length-2)===cp&&(w+=1)),0===w?x="-":2===w&&(x="+")),(l&&p<v||null!==t.tag)&&(s=!1),h||(l=!1),i)t.dump=e;else if(u)t.dump="'"+e+"'";else if(s)k=function(t,e){var n,r="",i=0,o=t.length,a=/\n+$/.exec(t);for(a&&(o=a.index+1);i<o;)i=o<(n=t.indexOf("\n",i))||-1===n?(r&&(r+="\n\n"),r+=yp(t.slice(i,o),e),o):(r&&(r+="\n\n"),r+=yp(t.slice(i,n),e),n+1);return a&&"\n"!==a[0]&&(r+=a[0]),r}(e,v),t.dump=">"+x+"\n"+dp(k,d);else if(l)x||(e=e.replace(/\n$/,"")),t.dump="|"+x+"\n"+dp(e,d);else{if(!c)throw new Error("Failed to dump scalar value");c.finish(),t.dump='"'+c.result+'"'}}else t.dump="'"+e+"'";else t.dump="''"}(t,t.dump,e,o)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return 1}function xp(t,e){var n=new pp(e=e||{});return n.noRefs||function(t,e){var n,r,i=[],o=[];for(function t(e,n,r){var i,o,a;if(null!==e&&"object"==typeof e)if(-1!==(o=n.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,a=e.length;o<a;o+=1)t(e[o],n,r);else for(o=0,a=(i=Object.keys(e)).length;o<a;o+=1)t(e[i[o]],n,r)}(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}(t,n),_p(n,0,t,!0,!0)?n.dump+"\n":""}gp.prototype.takeUpTo=function(t){var e;if(t<this.checkpoint)throw(e=new Error("position should be > checkpoint")).position=t,e.checkpoint=this.checkpoint,e;return this.result+=this.source.slice(this.checkpoint,t),this.checkpoint=t,this},gp.prototype.escapeChar=function(){var t=this.source.charCodeAt(this.checkpoint),e=hp[t]||function(t){var e,n,r=t.toString(16).toUpperCase();if(t<=255)e="x",n=2;else if(t<=65535)e="u",n=4;else{if(!(t<=4294967295))throw new Zh("code point within a string may not be greater than 0xFFFFFFFF");e="U",n=8}return"\\"+e+Yh.repeat("0",n-r.length)+r}(t);return this.result+=e,this.checkpoint+=1,this},gp.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)};var wp={dump:xp,safeDump:function(t,e){return xp(t,Yh.extend({schema:Ef},e))}};function kp(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var Ep={Type:Qh,Schema:nf,FAILSAFE_SCHEMA:rf,JSON_SCHEMA:cf,CORE_SCHEMA:hf,DEFAULT_SAFE_SCHEMA:Ef,DEFAULT_FULL_SCHEMA:Mf,load:sp.load,loadAll:sp.loadAll,safeLoad:sp.safeLoad,safeLoadAll:sp.safeLoadAll,dump:wp.dump,safeDump:wp.safeDump,YAMLException:Zh,MINIMAL_SCHEMA:rf,SAFE_SCHEMA:Ef,DEFAULT_SCHEMA:Mf,scan:kp("scan"),parse:kp("parse"),compose:kp("compose"),addConstructor:kp("addConstructor")},Sp=function(){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;mr(this,t),this.url=e,!n||Pi(n)&&!Pi(this.url)?this.path=Ii(this.url):this.path=n,this.path_for_parent=n||this.path,this.parent=r,this.container=null,this.parent&&(this.parent.container?this.container=this.parent.container:this.parent.isContainer()&&(this.container=this.parent))}return _r(t,[{key:"load",value:function(){return t=this.url,new Promise((function(e,n){"string"==typeof t?Ai.io(t).then((function(t){try{var r=function(t){var e;try{e=Ep.safeLoad(t,{json:!0})}catch(t){throw t}return e}(t);e(r)}catch(t){n(t)}}),n):(t=Object.assign({},t),e(t))}));var t}},{key:"resourceFor",value:function(t){return{url:this.urlFor(t),path:this.pathFor(t),type:this.typeFor(t)}}},{key:"urlFor",value:function(t){return Tp(t)?t:Pi(t)&&this.container?this.parent.urlFor(this.path_for_parent+t):function(t,e){if(!t||!Pi(t))return t;var n,r="/"!==t[0];return e?(n=document.createElement("a")).href=e:n=window.location,r?Ii(n.href)+t:(n.origin||n.protocol+"//"+n.host)+t}(t,this.path)}},{key:"pathFor",value:Ii},{key:"typeFor",value:function(t){var e=(t=t.split("/").pop()).lastIndexOf(".");if(-1<e)return t.substring(e+1)}},{key:"isContainer",value:function(){return!1}}]),t}();function Tp(t){return!(!t||"global."!==t.slice(0,7))}function Ap(t){return null!=t}function Op(t){return"("+t+")"}function Mp(t){return"$"===t[0]?"context['"+t.substring(1)+"']":"context.feature.properties['"+t+"']"}function Cp(t,e){return Op(("string"==typeof(n=e)?'"'+n+'"':n)+" === "+Mp(t));var n}function jp(t,e){return Op(t.filter(Ap).map((function(t){return Op(t.join(" && "))})).join(" "+e+" "))}function Ip(t,e,n){return e&&0<e.length?jp(e.map((function(t){return Pp(t,n)})),"||"):"true"}function Pp(t,e){var n=[];if("function"==typeof t)return[Op(t.toString()+"(context)")];if(Array.isArray(t))return[Ip(0,t,e)];if(null==t)return["true"];for(var r,i,o,a,s,l,u,c,h=Object.keys(t),f=0;f<h.length;f++){var p=h[f],d=t[p],v=yr(d);if("string"===v||"number"===v)n.push(Cp(p,d));else if("boolean"===v)n.push((c=d,Op(Mp(p)+(c?" != ":" == ")+"null")));else if("not"===p)n.push("!"+Op(Pp(d,e).join(" && ")));else if("any"===p)n.push(Ip(0,d,e));else if("all"===p)n.push(function(t,e){return t&&0<t.length?jp(t.map((function(t){return Pp(t,e)})),"&&"):"true"}(d,e));else if("none"===p)n.push("!"+Op(Ip(0,d,e)));else if(Array.isArray(d))n.push(function(t,e){return Op(e.map((function(e){return Cp(t,e)})).join(" || "))}(p,d));else if("object"===v&&null!=d)(d.max||d.min)&&n.push((r=p,i=d,u=l=s=a=void 0,l=[],u=(o=e)&&"function"==typeof o.rangeTransform&&o.rangeTransform,i.max&&(a=u?u(i.max):i.max,l.push(Mp(r)+" < "+a)),i.min&&(s=u?s=u(i.min):i.min,l.push(Mp(r)+" >= "+s)),Op(l.join(" && "))));else{if(null!=d)throw new Error("Unknown Query syntax: "+d);n.push(" true ")}}return 0===h.length?["true"]:n}function Rp(t,e){return null==t?function(){return!0}:new Function("context","return "+Op(Pp(t,e).join(" && "))+";")}var Lp=["filter","draw","visible","enabled","data"],Np={},Dp=["any","all","not","none"],zp=function(){function t(e){var n,r=e.layer,i=e.name,o=e.parent,a=e.draw,s=e.visible,l=e.enabled,u=e.filter,c=e.styles;if(mr(this,t),this.id=t.id++,this.config_data=r.data,this.parent=o,this.name=i,this.full_name=this.parent?this.parent.full_name+":"+this.name:this.name,this.draw=a,this.filter=u,this.styles=c,this.is_built=!1,l=void 0===l?s:l,this.parent&&!1===this.parent.visible?this.enabled=!1:this.enabled=!1!==l,this.draw)for(var h in this.draw)this.draw[h]=null==this.draw[h]?{}:this.draw[h],"object"!==yr(this.draw[h])?(n="Draw group '".concat(h,"' for layer ").concat(this.full_name," is invalid, must be an object, "),Si("warn",n+="but was set to `".concat(h,": ").concat(this.draw[h],"` instead")),delete this.draw[h]):this.draw[h].layer_name=this.full_name}return _r(t,[{key:"build",value:function(){Si("trace","Building layer '".concat(this.full_name,"'")),this.buildFilter(),this.buildDraw(),this.is_built=!0}},{key:"buildDraw",value:function(){this.draw=Ai.stringsToFunctions(this.draw,_o.wrapFunction),this.calculatedDraw=function(t){var e,n=[];return t.parent&&(e=t.parent.calculatedDraw||[],n.push.apply(n,Rr(e))),n.push(t.draw),n}(this)}},{key:"buildFilter",value:function(){this.filter_original=this.filter,this.filter=Ai.stringsToFunctions(this.filter,_o.wrapFunction);var t=yr(this.filter);if(null==this.filter||"object"===t||"function"===t)try{this.buildZooms(),this.buildPropMatches(),null!=this.filter&&("function"==typeof this.filter||0<Object.keys(this.filter).length)?this.filter=Rp(this.filter,Up):this.filter=null}catch(t){var e="Filter for layer ".concat(this.full_name," is invalid, `filter: ").concat(JSON.stringify(this.filter),"` ");Si("warn",e+="failed with error '".concat(t.message,"', stack trace: ").concat(t.stack))}else{var n="Filter for layer ".concat(this.full_name," is invalid, filter value must be an object or function, ");Si("warn",n+="but was set to `filter: ".concat(this.filter,"` instead"))}}},{key:"buildZooms",value:function(){var t=this.filter&&this.filter.$zoom,e=yr(t);if(null!=t&&"function"!==e){if(this.zooms={},"number"===e)this.zooms[t]=!0;else if(Array.isArray(t))for(var n=0;n<t.length;n++)this.zooms[t[n]]=!0;else if("object"===e&&(null!=t.min||null!=t.max))for(var r=t.min||0,i=t.max||25,o=r;o<i;o++)this.zooms[o]=!0;delete this.filter.$zoom}}},{key:"buildPropMatches",value:function(){var t=this;this.filter&&!Array.isArray(this.filter)&&"function"!=typeof this.filter&&Object.keys(this.filter).forEach((function(e){if(-1===Dp.indexOf(e)){var n=t.filter[e],r=yr(n),i=Array.isArray(n);if(!i&&"string"!==r&&"number"!==r)return;"$"===e[0]?(t.context_prop_matches=t.context_prop_matches||[],t.context_prop_matches.push([e.substring(1),i?n:[n]])):(t.feature_prop_matches=t.feature_prop_matches||[],t.feature_prop_matches.push([e,i?n:[n]])),delete t.filter[e]}}))}},{key:"doPropMatches",value:function(t){if(this.feature_prop_matches)for(var e=0;e<this.feature_prop_matches.length;e++){var n=this.feature_prop_matches[e],r=t.feature.properties[n[0]];if(null==r||-1===n[1].indexOf(r))return!1}if(this.context_prop_matches)for(var i=0;i<this.context_prop_matches.length;i++){var o=this.context_prop_matches[i],a=t[o[0]];if(null==a||-1===o[1].indexOf(a))return!1}return!0}},{key:"doesMatch",value:function(t){if(!this.enabled)return!1;if(this.is_built||this.build(),null!=this.zooms&&!this.zooms[t.zoom])return!1;if(!this.doPropMatches(t))return!1;var e;if(this.filter instanceof Function)try{e=this.filter(t)}catch(e){var n="Filter for this ".concat(this.full_name,": `filter: ").concat(this.filter_original,"` ");Si("error",n+="failed with error '".concat(e.message,"', stack trace: ").concat(e.stack),t.feature)}else e=null==this.filter;return!!e&&(this.children_to_parse&&(function(t,e,n){for(var r in e){var i,o=e[r];"object"!==yr(o)||Array.isArray(o)?(i="Layer value must be an object: cannot create layer '".concat(r,": ").concat(JSON.stringify(o),"'"),i+=", under parent layer '".concat(t.full_name,"'."),n[t.name]&&(i+=" The parent name '".concat(t.name,"' is also the name of a style, did you mean to create a 'draw' group"),t.parent&&(i+=" under '".concat(t.parent.name,"'")),i+=" instead?"),Si("warn",i)):Gp(r,o,t,n)}}(this,this.children_to_parse,this.styles),delete this.children_to_parse),!0)}}]),t}();zp.id=0;var Fp,Bp=function(){Er(e,zp);var t=jr(e);function e(n){var r;return mr(this,e),(r=t.call(this,n)).is_leaf=!0,r}return e}(),Hp=function(){Er(e,zp);var t=jr(e);function e(n){var r;return mr(this,e),(r=t.call(this,n)).is_tree=!0,r.layers=n.layers||[],r}return _r(e,[{key:"addLayer",value:function(t){this.layers.push(t)}},{key:"buildDrawGroups",value:function(t){var e=[],n=[];if(function t(e,n,r,i){var o=!1;if(0!==n.length){for(var a=0;a<n.length;a++){var s=n[a];s.is_leaf?s.doesMatch(e)&&(o=!0,r.push(s),i.push(s.id)):s.is_tree&&s.doesMatch(e)&&(o=!0,t(e,s.layers,r,i)||(r.push(s),i.push(s.id)))}return o}}(t,[this],e,n),0<e.length){var r=function(t){if(1<t.length){for(var e=t[0],n=1;n<t.length;n++)e+="/"+t[n];return e}return t[0]}(n);if(void 0===Np[r]){for(var i=e.map((function(t){return t&&!1!==t.visible&&t.calculatedDraw})),o={},a=0;a<i.length;a++){var s=i[a];if(s)for(var l=0;l<s.length;l++){var u=s[l];for(var c in u)o[c]=!0}}for(var h in o)Np[r]=Np[r]||{},Np[r][h]=function(t,e){for(var n,r=0,i=0;i<t.length;i++)t[i].length>r&&(r=t[i].length);if(0===r)return null;for(var o={visible:!0},a=0;a<r;a++)!function(r){n=[],t.forEach((function(t){t[r]&&t[r][e]&&-1===n.indexOf(t[r][e])&&n.push(t[r][e])})),0!==n.length&&(n.sort((function(t,e){return(t&&t.layer_name)>(e&&e.layer_name)?1:-1})),yl.apply(void 0,[o].concat(Rr(n))),delete o.layer_name)}(a);return!1===o.visible?null:o}(i,h),Np[r][h]?(Np[r][h].key=r+"/"+h,Np[r][h].layers=e.map((function(t){return t&&t.full_name})),Np[r][h].group=h):delete Np[r][h];Np[r]&&0===Object.keys(Np[r]).length&&(Np[r]=null)}return Np[r]}}}]),e}(),Up={rangeTransform:function(t){return"string"==typeof t&&"px2"===t.trim().slice(-3)?"".concat(parseFloat(t)," * context.meters_per_pixel_sq"):t}};function Vp(t){return-1<Lp.indexOf(t)}function Gp(t,e,n,r){var i,o={name:t,layer:e=null==e?{}:e,parent:n,styles:r},a=Pr(function(t){var e={},n={};for(var r in t)Vp(r)?e[r]=t[r]:n[r]=t[r];return[e,n]}(e),2),s=a[0],l=a[1],u=(i=l,0===Object.keys(i).length),c=new(u&&null!=n?Bp:Hp)(Object.assign(o,s));return c.enabled&&(n&&n.addLayer(c),c.children_to_parse=u?null:l),c}var qp=/^global\.(.+)$/,Yp=Fp={loadScene:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:{},i=r.path,o=r.type,a=[];return this.loadSceneRecursive({url:t,path:i,type:o},null,a).then((function(t){return n.finalize(t)})).then((function(t){var e=t.config,r=t.bundle;return e?(0<a.length&&a.forEach((function(t){var e="Failed to import scene: ".concat(t.url);Si("error",e,t),n.trigger("error",{type:"scene_import",message:e,error:t,url:t.url})})),{config:e,bundle:r}):Promise.reject(a[0])}))},loadSceneRecursive:function(t,e,n){var r=this,i=t.url,o=t.path,a=(t.type,2<arguments.length&&void 0!==n?n:[]);if(!i)return Promise.resolve({});var s=new Sp(i,o,e);return s.load().then((function(t){if(null==t.import)return r.normalize(t,s),{config:t,bundle:s};Array.isArray(t.import)||(t.import=[t.import]);var e=[];return t.import.forEach((function(t){"object"===yr(t)&&(t=Ri(new Blob([JSON.stringify(t)]))),e.push(s.resourceFor(t))})),delete t.import,Promise.all(e.map((function(t){return r.loadSceneRecursive(t,s,a)}))).then((function(e){e.forEach((function(t){return r.normalize(t.config,t.bundle)}));var n=e.map((function(t){return t.config}));return t=yl.apply(void 0,Rr(n).concat([t])),r.normalize(t,s),{config:t,bundle:s}}))})).catch((function(t){return t.url=i,a.push(t),{}}))},normalize:function(t,e){return this.normalizeDataSources(t,e),this.normalizeFonts(t,e),this.normalizeTextures(t,e),this.hoistTextures(t,e),{config:t,bundle:e}},normalizeDataSources:function(t,e){for(var n in t.sources=t.sources||{},t.sources)this.normalizeDataSource(t.sources[n],e);return t},normalizeDataSource:function(t,e){if(t.url&&(t.url=e.urlFor(t.url)),t.scripts)for(var n in Array.isArray(t.scripts)&&(t.scripts=t.scripts.reduce((function(t,e){return t[e]=e,t}),{})),t.scripts)t.scripts[n]=e.urlFor(t.scripts[n]);return t},normalizeFonts:function(t,e){for(var n in t.fonts=t.fonts||{},t.fonts){var r;Array.isArray(t.fonts[n])?t.fonts[n].forEach((function(t){t.url=t.url&&e.urlFor(t.url)})):(r=t.fonts[n]).url=r.url&&e.urlFor(r.url)}return t},normalizeTextures:function(t,e){if(t.textures=t.textures||{},t.textures)for(var n in t.textures){var r=t.textures[n];r.url&&(r.url=e.urlFor(r.url))}},hoistTextures:function(t,e){var n=this;if(t.styles)for(var r in t.styles)!function(r){var i=t.styles[r],o=i.texture;"string"!=typeof o||t.textures[o]||(i.texture=n.hoistTexture(o,t,e)),i.material&&["emission","ambient","diffuse","specular","normal"].forEach((function(r){var o=null!=i.material[r]&&i.material[r].texture;"string"!=typeof o||t.textures[o]||(i.material[r].texture=n.hoistTexture(o,t,e))}))}(r);if(this.hoistStyleShaderUniformTextures(t,e,{include_globals:!1}),t.layers)for(var i=[t.layers];0<i.length;){var o=i.pop();if("object"===yr(o)&&!Array.isArray(o))for(var a in o)if("draw"===a){var s,l,u=o[a];for(var c in u)u[c].texture&&("string"!=typeof(s=u[c].texture)||t.textures[s]||(u[c].texture=this.hoistTexture(s,t,e))),u[c].outline&&u[c].outline.texture&&("string"!=typeof(l=u[c].outline.texture)||t.textures[l]||(u[c].outline.texture=this.hoistTexture(l,t,e)))}else{if(Vp(a))continue;i.push(o[a])}}},hoistStyleShaderUniformTextures:function(t,e,n){var r=this,i=n.include_globals;if(t.styles)for(var o in t.styles){var a=t.styles[o];a.shaders&&a.shaders.uniforms&&zl.parseUniforms(a.shaders.uniforms).forEach((function(n){var o=n.type,a=n.value,s=n.key,l=n.uniforms;"sampler2D"!==o||"string"!=typeof a||t.textures[a]||!i&&Tp(a)||(l[s]=r.hoistTexture(a,t,e))}))}},hoistTexture:function(t,e,n){var r=Tp(t),i=r?t:n.urlFor(t),o=r?"texture-".concat(i):i;return e.textures[o]={url:i},o},applyGlobalProperties:function(t){if(!t.global||0===Object.keys(t.global).length)return t;var e=function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:".",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};for(var o in r=r?r+n:"",e){var a=r+o,s=e[o];"object"!==yr(i[a]=s)||Array.isArray(s)||t(s,n,a,i)}return i}(t.global);return function t(n){if("string"==typeof n){var r=function t(e,n,r){var i=2<arguments.length&&void 0!==r?r:[];if(-1<i.indexOf(e))Si({level:"warn",once:!0},"Global properties: cyclical reference detected",i);else{i.push(e);var o=qp.exec(e);if(o){var a=o[1];if(a){var s=n[a];if(void 0!==s)return"string"==typeof s&&qp.exec(s)?t(s,n,i):s;Si({level:"warn",once:!0},"Global property not found: "+e)}else Si({level:"warn",once:!0},"Invalid global property reference: "+e)}}}(n,e);void 0!==r&&(n=r)}else if(Array.isArray(n))for(var i=0;i<n.length;i++)n[i]=t(n[i]);else if("object"===yr(n))for(var o in n)n[o]=t(n[o]);return n}(t)},finalize:function(t){var e=t.config,n=t.bundle;return e?(e.global=e.global||{},e.scene=e.scene||{},e.cameras=e.cameras||{},e.lights=e.lights||{},e.styles=e.styles||{},e.layers=e.layers||{},e.camera&&(e.cameras.default=e.camera),0===Object.keys(e.cameras).length&&(e.cameras.default={}),0!==Object.keys(e.lights).length&&!Object.keys(e.lights).every((function(t){return!1===e.lights[t].visible}))||(e.lights.default_light={type:"directional"}),{config:e,bundle:n}):{}}};Po(Fp);var Wp=function(){function t(){mr(this,t),this.coords={},this.max_proxy_descendant_depth=6,this.max_proxy_ancestor_depth=10}return _r(t,[{key:"sourceTiles",value:function(t,e){return this.coords[t.key]&&this.coords[t.key].sources&&this.coords[t.key].sources[e.name]}},{key:"addTile",value:function(t){var e=t.coords.key,n=this.coords[e];(n=n||(this.coords[e]={descendants:0})).sources||(n.sources={}),n.sources[t.source.name]||(n.sources[t.source.name]={});for(var r=(n.sources[t.source.name][t.style_zoom]=t).coords.z-1;0<=r;r--){var i=ea.coordinateAtZoom(t.coords,r);this.coords[i.key]||(this.coords[i.key]={descendants:0}),this.coords[i.key].descendants++}}},{key:"removeTile",value:function(t){var e=this.sourceTiles(t.coords,t.source),n=t.coords.key;e&&(delete e[t.style_zoom],0===Object.keys(e).length&&(delete this.coords[n].sources[t.source.name],0===Object.keys(this.coords[n].sources).length&&(delete this.coords[n].sources,0===this.coords[n].descendants&&delete this.coords[n])));for(var r=t.coords.z-1;0<=r;r--){var i=ea.coordinateAtZoom(t.coords,r);this.coords[i.key]&&0<this.coords[i.key].descendants&&(this.coords[i.key].descendants--,0!==this.coords[i.key].descendants||this.coords[i.key].sources||delete this.coords[i.key])}}},{key:"getAncestor",value:function(t,e){var n=t.coords,r=t.style_zoom,i=t.source,o=1<arguments.length&&void 0!==e?e:1;if(!(o>this.max_proxy_ancestor_depth)){if(r>i.max_coord_zoom){var a=this.sourceTiles(n,i);if(a)for(var s=r-1;s>=i.max_coord_zoom;s--)if(a[s]&&a[s].loaded)return a[s];r=i.max_coord_zoom}r--;var l=ea.coordinateAtZoom(n,n.z-1),u=this.sourceTiles(l,i);return u&&u[r]&&u[r].loaded?u[r]:0<l.z?this.getAncestor({coords:l,style_zoom:r,source:i},o+1):void 0}}},{key:"getDescendants",value:function(t,e){var n=t.coords,r=t.style_zoom,i=t.source,o=1<arguments.length&&void 0!==e?e:1,a=[];if(r>=i.max_coord_zoom){var s=this.sourceTiles(n,i);if(s)for(var l=Math.max(ei.default_view_max_zoom,r+this.max_proxy_descendant_depth),u=r+1;u<=l;u++)if(s[u]&&s[u].loaded)return a.push(s[u]),a;return a}if(this.coords[n.key]&&0<this.coords[n.key].descendants){r++;for(var c=ea.childrenForCoordinate(n),h=0;h<c.length;h++){var f=c[h],p=this.sourceTiles(f,i);p&&p[r]&&p[r].loaded?a.push(p[r]):o<=this.max_proxy_descendant_depth&&f.z<=i.max_coord_zoom&&a.push.apply(a,Rr(this.getDescendants({coords:f,source:i,style_zoom:r},o+1)))}}return a}}]),t}(),Zp=function(){function t(e,n,r,i){mr(this,t),Object.assign(this,e),this.placed=null,this._tile=i;var o=ei.unitsPerMeter(i.coords.z)*Math.pow(2,r-i.style_zoom);this.layout=Object.assign({},e.layout),this.layout.repeat_scale=.75,this.layout.repeat_distance=this.layout.repeat_distance||0,this.layout.repeat_distance/=o,this.position=ei.tileSpaceToMeters(this.position,i.coords.z,i.min),this._worldToScreen=n,this._screenSpaceBoundingBox=void 0,this._boundingCircles=void 0}return _r(t,[{key:"getTile",value:function(){return this._tile}},{key:"isFlat",value:function(){return this.is_flat}},{key:"getScreenSpaceBoundingBox",value:function(){var t,e,n,r,i,o,a;return this._screenSpaceBoundingBox||((t=this._worldToScreen(this.position,!0))[0]+=this.offset[0],t[1]+=this.offset[1],e=this.size[0]/2+this.layout.buffer[0],n=this.size[1]/2+this.layout.buffer[1],r=t[0]-e,i=t[0]+e,o=t[1]-n,a=t[1]+n,this._screenSpaceBoundingBox={left:r,bottom:a,right:i,top:o}),this._screenSpaceBoundingBox}},{key:"getBoundingCircles",value:function(){return this._boundingCircles||(this._boundingCircles="point"===this.type?this._convertSidesToScreenSpaceCircles():this._convertCirclesToScreenSpace()),this._boundingCircles}},{key:"_convertSidesToScreenSpaceCircles",value:function(){var t=this._tile.coords.z,e=this._tile.min,n=ei.tileSpaceToMeters([this.sides[0],this.sides[1]],t,e),r=ei.tileSpaceToMeters([this.sides[2],this.sides[3]],t,e),i=Pr(this._worldToScreen(n,!0),2),o=i[0],a=i[1],s=Pr(this._worldToScreen(r,!0),2);return Ic(o,a,s[0],s[1],this.size[1]/2+this.layout.buffer[1])}},{key:"_convertCirclesToScreenSpace",value:function(){for(var t=[],e=this.circles,n=this._tile.coords.z,r=this._tile.min,i=0;i<e.length-2;i+=3){var o=ei.tileSpaceToMeters([e[i],-e[i+1]],n,r),a=e[i+2]/ei.unitsPerMeter(n),s=[o[0]+a,o[1]],l=this._worldToScreen(o,!0),u=this._worldToScreen(s,!0),c=Qr.getLineLength(l[0],l[1],u[0],u[1]);t.push(l[0],l[1],c)}return t}}]),t}(),Xp=function(t,e,n,r,i,o){$p=Kp,Kp={};var a={},s={},l=[],u=n.worldToScreen.bind(n),c=new td(o);for(var h in t.forEach((function(t){for(var n in t.meshes)t.meshes[n].forEach((function(n){if(n.labels){for(var r in c.trackMesh(n),n.labels["non-collision"]){var i=Qp(n.labels["non-collision"][r],n,u,e,t);i.label.text_data&&c.insertLabel(i,t)}for(var o in n.labels.collision){var l;a[o]||(l=Qp(n.labels.collision[o],n,u,e,t),a[o]=l.label,s[o]=l)}}}))})),s){var f=s[h];f.linked&&(f.linked=s[f.linked]),l.push(f)}var p=n.getViewport(),d=p.width,v=p.height;return Mo.startTile("main",{apply_repeat_groups:!0,return_hidden:!0,grid_index:new Ao(d,v,30)}),Mo.addStyle("main","main"),Mo.collide(l,"main","main").then((function(t){return t.forEach((function(t){var e,n,i,o,a,s,l=t.mesh,u=t.label.getTile();l.valid&&(!(e=0)!==t.show||r&&t.label.breach&&!$p[t.label.id]||(e=1),e&&(Kp[t.label.id]=!0),t.label.text_data&&c.insertLabel(t,u),n=l.vertex_layout.offset.a_shape,i=l.vertex_layout.stride,a=(o=l.vertex_layout.attribs.find((function(t){return"a_shape"===t.name}))).byte_size/o.size,n+=3*a,s=!0,t.ranges.forEach((function(t){if(s){for(var r=0;r<t[1];r++){if(l.vertex_data[t[0]+r*i+n]===e)return void(s=!1);l.vertex_data[t[0]+r*i+n]=e}c.trackMesh(l)}})))})),c.createTextures(i).then((function(){return c.updateMeshes()}))})).then((function(e){e.forEach((function(t){return t.valid&&t.upload()})),t.forEach((function(t){t.labeled=!0})),l=[],s={},a={}}))},Kp={},$p={},Jp=120===new Uint8Array(new Uint32Array([305419896]).buffer)[0];function Qp(t,e,n,r,i){var o=t.container,a=o.label,s=o.linked,l=t.ranges;return{label:new Zp(a,n,r,i),linked:s,ranges:l,mesh:e}}var td=function(){function t(e){mr(this,t),this.textureManager=No(e),this.tiles={},this.meshes=[],this.containers=[]}return _r(t,[{key:"insertLabel",value:function(t,e){var n=t.label.text_data,r=n.text_settings_key,i=n.text,o=n.text_info;this.containers.push(t);var a=this._ensureTextSection(e,r);a[i]?t.label.text_data.text_info=a[i]:a[i]=o}},{key:"trackMesh",value:function(t){-1===this.meshes.indexOf(t)&&this.meshes.push(t)}},{key:"updateMeshes",value:function(){var t=this;return this.containers.forEach((function(e){var n,r,i,o,a,s,l,u,c,h;e.label.text_data&&(n=e.label.getTile(),(r=e.mesh).valid?(i=e.label.type,o=e.label.text_data.text_info,t.tiles[n.id]&&t.tiles[n.id].textures&&(a=t.tiles[n.id].textures[0],r.uniforms.u_texture=a,-1===r.textures.indexOf(a)&&r.textures.push(a),"point"===i||"straight"===i?(s="point"===i?o.align[e.label.align].texcoords:o.texcoords[i].texcoord,t.setTexCoords(r,e,s)):"curved"===i&&(l=o.segments.length,u=o.texcoords_stroke,c=o.texcoords.curved,t.setTexCoords(r,e,(function(t){return t<l?u[t]:c[t-l].texcoord}))))):t.tiles[n.id]&&t.tiles[n.id].textures&&(h=t.tiles[n.id].textures[0],t.textureManager.release(h)))})),this.meshes}},{key:"setTexCoords",value:function(t,e,n){var r,i,o,a,s,l,u=n instanceof Function;u||(i=(r=Pr(n,4))[0],o=r[1],a=r[2],s=r[3],l=[[i,o],[a,o],[a,s],[i,s]]);var c=t.vertex_layout.stride,h=new DataView(t.vertex_data.buffer),f=t.vertex_layout.offset.a_texcoord;e.ranges.forEach((function(t,e){var r,i,o,a,s,p=Pr(t,3),d=p[0],v=p[1],g=p[2];u&&(i=(r=Pr(n(e),4))[0],o=r[1],a=r[2],s=r[3],l=[[i,o],[a,o],[a,s],[i,s]]);for(var y=g?v/2:0;y<v;y++){var m=l[y%4],b=d+y*c;h.setUint16(b+f,65535*m[0],Jp),h.setUint16(b+f+2,65535*m[1],Jp)}}))}},{key:"createTextures",value:function(t){var e=this;return Promise.all(Object.values(this.tiles).map((function(n){var r=n.id,i=n.key,o=n.texts;return e._createTexturesForTile(t,o,"labels-".concat(i,"-").concat(r),r,e.textureManager).then((function(t){t.length&&(t.forEach((function(t){e.textureManager.retain(t),1<e.textureManager.getRetainCount(t)&&e.textureManager.release(t)})),e.tiles[r].textures=t)}))})))}},{key:"_createTexturesForTile",value:function(t,e,n,r,i){var o=new Hc,a=o.setTextureTextPositions(e);return o.rasterize(e,a,r,n,t,i)}},{key:"_ensureTile",value:function(t){var e=t.id,n=t.key;return this.tiles[e]||(this.tiles[e]={id:e,key:n,texts:{}}),this.tiles[e]}},{key:"_ensureTextSection",value:function(t,e){var n=this._ensureTile(t).texts;return n[e]||(n[e]={}),n[e]}}]),t}(),ed=function(){function t(e){var n=this,r=e.scene,i=e.view;mr(this,t),this._scene=r,this._view=i,this._visible_tiles={},this._pyramid=new Wp,this._visible_coords={},this._building_tiles=null,this._renderable_tiles=[],this._active_styles=[],this._tile_visibility_counters={},this._update_labels_on_queue_check=!1,this._all_visible_tiles_are_cached=!1,this._debouncedUpdateLabels=Ti(this._updateLabels.bind(this),100,200),this._main_thread_target=["TileManager",this._scene.id].join("_"),hi.addTarget(this._main_thread_target,this),this._keepCoordinate=this._keepCoordinate.bind(this),this._removeTilesFilter=this._removeTilesFilter.bind(this),this._removeCachedTilesFilter=this._removeCachedTilesFilter.bind(this),this._is_labeled=!1,this._tile_cache=new H.util.Cache(function(){var t=.1;return navigator&&navigator.deviceMemory?t=5*navigator.deviceMemory/100:window&&window.screen&&(t=window.screen.width/512*window.screen.height/512*.03*3,t=Math.min(t,1)),1024*t*1024*1024}(),(function(t,e,r){n._visible_tiles[t]&&n._visible_tiles[t]===e||e.destroy()}))}return _r(t,[{key:"destroy",value:function(){this._tile_cache.removeAll(),this.forEachVisibleTile((function(t){return t.destroy()})),this._visible_tiles={},this._pyramid=null,this._visible_coords={},this._scene=null,this._view=null}},{key:"keepTile",value:function(t){this._visible_tiles[t.key]=t,this._pyramid.addTile(t)}},{key:"hasTile",value:function(t){return void 0!==this._visible_tiles[t]}},{key:"_forgetTile",value:function(t){var e,n;this.hasTile(t)&&(e=this._visible_tiles[t],this._pyramid.removeTile(e),delete this._visible_tiles[t],e.loaded?this._tile_cache.add(e.key,e,function(t){var e=0;for(var n in t.meshes)for(var r=t.meshes[n],i=0;i<r.length;i++){var o=r[i];e+=o.buffer_size;for(var a=0;a<o.textures.length;a++)e+=t.textureManager.getByteLength(o.textures[a])}return e}(e)):(n=this._tile_cache.get(e.key))?this._tile_cache.drop(n.key):e.destroy(),this._tileBuildStop(e))}},{key:"removeTile",value:function(t){this._forgetTile(t),this._scene.requestRedraw()}},{key:"forEachVisibleTile",value:function(t){for(var e in this._visible_tiles)t(this._visible_tiles[e])}},{key:"removeTiles",value:function(t){for(var e in this._visible_tiles)t(this._visible_tiles[e])&&this.removeTile(e)}},{key:"removeCachedTiles",value:function(t){var e=this;this._tile_cache.forEach((function(n,r){t(r)&&e._tile_cache.drop(n)}))}},{key:"updateTilesForView",value:function(t){var e=0<arguments.length&&void 0!==t&&t;this._visible_coords={};for(var n=this._view.findVisibleTileCoordinates(),r=0;r<n.length;r++){var i=n[r];this._visible_coords[i.key]=i}this.updateTileStates(e)}},{key:"updateTileStates",value:function(t){var e=0<arguments.length&&void 0!==t&&t;for(var n in this._all_visible_tiles_are_cached=!0,this._visible_coords)this._keepCoordinate(n,e);this._all_visible_tiles_are_cached&&(this._is_labeled=!1,this._debouncedUpdateLabels()),this._tile_cache.removeAll(this._removeCachedTilesFilter),this._updateProxyTiles(),this.removeTiles(this._removeTilesFilter),this._updateRenderableTiles(),this._updateActiveStyles()}},{key:"_removeTilesFilter",value:function(t){if(t.style_zoom===this._view.lookAtManipulator.getLookAtData().tile_level){if(this._visible_coords[t.coords.key])return!1;for(var e in this._visible_coords)if(ea.isDescendant(t.coords,this._visible_coords[e]))return!1}return!t.isProxy()}},{key:"_updateLabels",value:function(){var t,e=this;this._building_tiles&&0!==Object.keys(this._building_tiles).length||(Hc.pruneTextCache(),t=this._renderable_tiles.sort(nd),Xp(t,function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,r=Math.pow(10,n);return Math.round(Math.floor(t*e)/e*r)/r}(this._view.lookAtManipulator.getLookAtData().zoom,2),this._view.lookAtManipulator,this.isLoadingVisibleTiles(),this._scene.gl,this._scene.id).then((function(){e._is_labeled=!Co.hasPendingTasks(),e._scene.immediateRedraw(),e._update_labels_on_queue_check=!1})))}},{key:"_updateProxyTiles",value:function(){var t,e=this,n=this._view.lookAtManipulator.getZoomDirection();0!==n&&(t=!1,this.forEachVisibleTile((function(r){var i;if(r.setProxyFor(null),1===n)r.built||(i=e._pyramid.getAncestor(r))&&(i.setProxyFor(r),t=!0);else if(-1===n&&!r.built)for(var o=e._pyramid.getDescendants(r),a=0;a<o.length;a++)o[a].setProxyFor(r),t=!0})),t||this._view.lookAtManipulator.resetZoomDirection())}},{key:"getRenderableTiles",value:function(){return this._renderable_tiles}},{key:"_updateRenderableTiles",value:function(){for(var t in this._renderable_tiles=[],this._visible_tiles){var e=this._visible_tiles[t],n=this._tile_cache.get(t);e.loaded?(this._renderable_tiles.push(e),n&&n!==e&&this._tile_cache.drop(t)):n&&(n.generation===this._scene.generation?this._renderable_tiles.push(n):this._tile_cache.drop(t))}return this._renderable_tiles}},{key:"getWorkerForTile",value:function(t,e){return e.has_volatile_data?this._scene.getWorkers(1)[0]:e.tiled?this._scene.getWorkers(0)[Math.abs(t.x+t.y+t.z)%this._scene.num_workers]:this._scene.getWorkers(0)[e.id%this._scene.num_workers]}},{key:"getActiveStyles",value:function(){return this._active_styles}},{key:"_updateActiveStyles",value:function(){for(var t=this._renderable_tiles,e={},n=0;n<t.length;n++){var r=t[n];Object.keys(r.meshes).forEach((function(t){return e[t]=!0}))}return this._active_styles=Object.keys(e),this._active_styles}},{key:"isLoadingVisibleTiles",value:function(){var t=!1;for(var e in this._visible_tiles)if(!this._visible_tiles[e].built){t=!0;break}return t}},{key:"updateTilesVisibilityCounters",value:function(){var t=this;Object.keys(this._visible_coords).forEach((function(e){e in t._tile_visibility_counters||(t._tile_visibility_counters[e]=0)}));var e=Object.keys(this._tile_visibility_counters),n=[];e.forEach((function(e){e in t._visible_coords?(t._tile_visibility_counters[e]++,30<=t._tile_visibility_counters[e]&&n.push(t._visible_coords[e])):(t._tile_visibility_counters[e]--,t._tile_visibility_counters[e]<=0&&delete t._tile_visibility_counters[e])})),n.length&&this.loadCoordinates(n)}},{key:"loadCoordinates",value:function(t){var e=this;t.sort((function(t,n){var r=e._view.lookAtManipulator.getLookAtData().position,i=ei.metersPerTile(t.z)/2,o=ei.metersForTile(t);o.x+=i,o.y-=i;var a=ei.metersForTile(n);a.x+=i,a.y-=i;var s=Math.abs(r[0]-o.x)+Math.abs(r[1]-o.y),l=Math.abs(r[0]-a.x)+Math.abs(r[1]-a.y);return(t.center_dist=s)<(n.center_dist=l)?-1:l===s?0:1})),t.forEach((function(t){return e.loadCoordinate(t)}))}},{key:"_keepCoordinate",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e,r=this._visible_coords[t];if(r.z===this._view.center_tile.z)for(var i in this._scene.sources){var o,a,s,l=this._scene.sources[i];l.builds_geometry_tiles&&l.includesTile(r,this._view.lookAtManipulator.getLookAtData().tile_level)&&(o=ea.normalizedKey(r,l,this._view.lookAtManipulator.getLookAtData().tile_level))&&!this.hasTile(o)&&((a=n&&this._tile_cache.get(o))||(this._all_visible_tiles_are_cached=!1),s=a||new ea({source:l,coords:r,worker:this.getWorkerForTile(r,l),style_zoom:Ai.zoomToTileLevel(r.z),view:this._view,sceneId:this._scene.id}),"ObjectSource"===l.config.type&&(s.syncedAt=l.getSyncedAt()),this.keepTile(s))}}},{key:"loadCoordinate",value:function(t){if(t.z===this._view.center_tile.z)for(var e in this._scene.sources){var n,r=this._scene.sources[e];r.builds_geometry_tiles&&r.includesTile(t,this._view.lookAtManipulator.getLookAtData().tile_level)&&(n=ea.normalizedKey(t,r,this._view.lookAtManipulator.getLookAtData().tile_level),this.hasTile(n)&&this.buildTile(this._visible_tiles[n]))}}},{key:"buildTile",value:function(t,e){this._building_tiles&&this._building_tiles[t.key]||t.built&&t.generation===this._scene.generation||(this._tileBuildStart(t.key),t.build(this._scene.generation,e))}},{key:"buildTileStylesCompleted",value:function(t){var e=t.tile,n=t.progress;if(null==this._visible_tiles[e.key])ea.abortBuild(e,this._scene.id);else if(e.generation!==this._scene.generation)ea.abortBuild(e,this._scene.id);else{if(e.id<this._visible_tiles[e.key].id)return void ea.abortBuild(e,this._scene.id);e=this._visible_tiles[e.key].merge(e),n.done&&(e.built=!0),e.buildMeshes(this._scene.styles,n),this.updateTileStates(),this._scene.requestRedraw()}n.done&&this._tileBuildStop(e)}},{key:"buildTileError",value:function(t){this._forgetTile(t.key),ea.abortBuild(t,this._scene.id)}},{key:"_tileBuildStart",value:function(t){this._is_labeled=!1,this._building_tiles=this._building_tiles||{},this._building_tiles[t]=!0}},{key:"_tileBuildStop",value:function(t){this._building_tiles&&(t.source&&t.source.hasLabeledData()&&(this._update_labels_on_queue_check=!0),delete this._building_tiles[t.key],Co.removeForTile(t.id),this.checkBuildQueue())}},{key:"isReady",value:function(){return this._is_labeled&&!this.isLoadingVisibleTiles()}},{key:"checkBuildQueue",value:function(){this._building_tiles&&0!==Object.keys(this._building_tiles).length||(this._building_tiles=null,this._update_labels_on_queue_check?this._updateLabels():(this._is_labeled=!Co.hasPendingTasks(),this._scene.immediateRedraw()))}},{key:"_removeCachedTilesFilter",value:function(t,e){var n=e.source;return!this._visible_tiles[t]&&(e.generation!==this._scene.generation||"ObjectSource"===n.config.type&&n.getSyncedAt()>e.syncedAt)}}]),t}();function nd(t,e){var n=t.coords,r=e.coords;return n.z-r.z||n.x-r.x||n.y-r.y}function rd(t){mr(this,rd),this.defaults={},this.defaults.culling=!0,this.defaults.culling_face=t.BACK,this.defaults.blending=!1,this.defaults.blending_src=t.ONE_MINUS_SRC_ALPHA,this.defaults.blending_dst=t.ONE_MINUS_SRC_ALPHA,this.defaults.blending_src_alpha=t.ONE,this.defaults.blending_dst_alpha=t.ONE_MINUS_SRC_ALPHA,this.defaults.depth_write=!0,this.defaults.depth_test=!0,t.depthFunc(t.LESS),this.culling=new id({cull:this.defaults.culling,face:this.defaults.culling_face},(function(e){e.cull?(t.enable(t.CULL_FACE),t.cullFace(e.face)):t.disable(t.CULL_FACE)})),this.blending=new id({blend:this.defaults.blending,src:this.defaults.blending_src,dst:this.defaults.blending_dst,src_alpha:this.defaults.blending_src_alpha,dst_alpha:this.defaults.blending_dst_alpha},(function(e){e.blend?(t.enable(t.BLEND),e.src_alpha&&e.dst_alpha?t.blendFuncSeparate(e.src,e.dst,e.src_alpha,e.dst_alpha):t.blendFunc(e.src,e.dst)):t.disable(t.BLEND)})),this.depth_write=new id({depth_write:this.defaults.depth_write},(function(e){t.depthMask(e.depth_write)})),this.depth_test=new id({depth_test:this.defaults.depth_test},(function(e){e.depth_test?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST)}))}var id=function(){function t(e,n){mr(this,t),n(e),this.value=e,this.setup=n}return _r(t,[{key:"get",value:function(){return this.value}},{key:"set",value:function(t){JSON.stringify(this.value)!==JSON.stringify(t)&&(this.setup(t),this.value=t)}}]),t}(),od=function(){function t(){mr(this,t),this.canvas=null,this.gl=null,this.screenshot_canvas=null,this.screenshot_context=null,this.queue_screenshot=null,this.video_capture=null}return _r(t,[{key:"setCanvas",value:function(t,e){this.canvas=t,this.gl=e}},{key:"screenshot",value:function(t){var e=this,n=(0<arguments.length&&void 0!==t?t:{}).background;return null!=this.queue_screenshot||(this.queue_screenshot={background:n},this.queue_screenshot.promise=new Promise((function(t,n){e.queue_screenshot.resolve=t,e.queue_screenshot.reject=n}))),this.queue_screenshot.promise}},{key:"completeScreenshot",value:function(){if(null!=this.queue_screenshot){var t=this.canvas.width,e=this.canvas.height,n=new Uint8Array(t*e*4);this.gl.readPixels(0,0,t,e,this.gl.RGBA,this.gl.UNSIGNED_BYTE,n);for(var r=(r=this.queue_screenshot.background)&&"transparent"!==r?_o.parseColor(r).slice(0,3).map((function(t){return 255*t})):null,i=new Uint8ClampedArray(t*e*4),o=0;o<e;o++)for(var a=0;a<t;a++){var s=4*((e-o-1)*t+a),l=4*(o*t+a),u=n[3+s];i[0+l]=255*n[0+s]/u,i[1+l]=255*n[1+s]/u,i[2+l]=255*n[2+s]/u,i[3+l]=u,r&&(u/=255,i[0+l]=i[0+l]*u+r[0]*(1-u),i[1+l]=i[1+l]*u+r[1]*(1-u),i[2+l]=i[2+l]*u+r[2]*(1-u),i[3+l]=255)}this.screenshot_canvas=this.screenshot_canvas||document.createElement("canvas");var c=this.screenshot_canvas;c.width=t,c.height=e,this.screenshot_context=this.screenshot_context||c.getContext("2d");var h=this.screenshot_context,f=new ImageData(i,t,e);h.putImageData(f,0,0);for(var p=c.toDataURL("image/png"),d=atob(p.slice(22)),v=new Uint8Array(d.length),g=0;g<d.length;++g)v[g]=d.charCodeAt(g);var y=new Blob([v],{type:"image/png"});this.queue_screenshot.resolve({url:p,blob:y,type:"png"}),this.queue_screenshot=null}}},{key:"startVideoCapture",value:function(){var e=this;if("function"!=typeof window.MediaRecorder||!this.canvas||"function"!=typeof this.canvas.captureStream)return Si("warn","Video capture (Canvas.captureStream and/or MediaRecorder APIs) not supported by browser"),!1;if(this.video_capture)return Si("warn","Video capture already in progress, call Scene.stopVideoCapture() first"),!1;try{var n=this.video_capture={};n.chunks=[],n.stream=this.canvas.captureStream(),n.options={mimeType:"video/webm"},n.media_recorder=new MediaRecorder(n.stream,n.options),n.media_recorder.ondataavailable=function(t){var r,i;0<t.data.size&&n.chunks.push(t.data),n.resolve&&(i=Ri(r=new Blob(n.chunks,{type:n.options.mimeType})),n.stream&&(n.stream.getTracks()||[]).forEach((function(t){t.stop(),n.stream.removeTrack(t)})),n.stream=null,n.media_recorder=null,e.video_capture=null,n.resolve({url:i,blob:r,type:"webm"}))},n.media_recorder.start()}catch(t){return this.video_capture=null,Si("error","Scene video capture failed",t),!1}return!0}},{key:"stopVideoCapture",value:function(){var t=this;return this.video_capture?(this.video_capture.promise=new Promise((function(e,n){t.video_capture.resolve=e,t.video_capture.reject=n})),this.video_capture.media_recorder.stop(),this.video_capture.promise):(Si("warn","No scene video capture in progress, call Scene.startVideoCapture() first"),Promise.resolve({}))}}]),t}(),ad=function(){function t(){mr(this,t),this.sources={},this.styles={},this.layers={},this.tiles={},this._isConfigured=!1}return _r(t,[{key:"init",value:function(t,e,n,r,i,o){return this.scene_id=t,this.textureManager=No(t),this._worker_id=e,Si.setLevel(n),Ai.device_pixel_ratio=r,hu.setElementIndexUint(i),Wl.setPrefix(this._worker_id),this._style_manager=new Gh,this._importExternalScripts(o),Sc.id_prefix=e,this._isConfigured=!1,e}},{key:"dispose",value:function(){this._last_config_sources=null,this._config_sources=null,this.sources=null,this._style_manager=null,this.styles=null,this.layers=null,this.tiles=null}},{key:"_importExternalScripts",value:function(t){var e;0!==t.length&&(Si("debug","loading custom data source scripts in worker:",t),e=Object.getOwnPropertyNames(window),importScripts.apply(void 0,Rr(t)),Object.getOwnPropertyNames(window).forEach((function(t){-1===e.indexOf(t)&&(self[t]=window[t])})))}},{key:"updateConfig",value:function(t,e){var n,r=t.config,i=t.generation,o=t.introspection;for(var a in r=JSON.parse(r),n=e,Object.assign(Cl,n),this._generation=i,this._isConfigured=!1,r.layers)r.layers[a]&&(r.layers[a].data=Ai.stringsToFunctions(r.layers[a].data));this.global=Ai.stringsToFunctions(r.global),this._createDataSources(r),r.styles=Ai.stringsToFunctions(r.styles,_o.wrapFunction),this.styles=this._style_manager.build(r.styles),self.is_fake_worker=ci.is_main,this._style_manager.initStyles({generation:this._generation,styles:this.styles,sources:this.sources,introspection:o,id:this.scene_id}),delete self.is_fake_worker,this.layers=function(t,e){Np={};var n={};for(var r in t){var i=t[r];i&&(n[r]=Gp(r,i,null,e))}return n}(r.layers,this._style_manager.styles),this._configuring=this._syncTextures(r.textures)}},{key:"_createDataSources",value:function(t){var e=this;this._last_config_sources=this._config_sources||{},this._config_sources=t.sources;var n=this.sources,r=[];for(var i in t.sources=Ai.stringsToFunctions(t.sources),this.sources={},self.is_fake_worker=ci.is_main,t.sources)if(JSON.stringify(this._last_config_sources[i])!==JSON.stringify(t.sources[i])){var o=void 0;try{o=Li.create(Object.assign({},t.sources[i],{name:i}),this.sources)}catch(n){Si("error","Error creating source.",n.message,t.sources[i]);continue}o&&(this.sources[i]=o,r.push(i))}else this.sources[i]=n[i];delete self.is_fake_worker,r.forEach((function(t){for(var n in e.tiles)e.tiles[n].source===t&&delete e.tiles[n]}))}},{key:"awaitConfiguration",value:function(){return this._configuring}},{key:"_onConfig",value:function(e){var n=this;if((this._isConfigured=!0)!==e.loaded)e.loading=!0,e.loaded=!1,e.error=null,this._loadTileSourceData(e).then((function(){if(n.getTile(e.id)){e.loading=!1,e.loaded=!0;try{ea.buildGeometry(e,n)}catch(t){e.error=t.toString(),hi.postMessage("TileManager_".concat(n.scene_id,".buildTileError"),ea.slice(e))}}else Si("trace","stop tile build after data source load because tile was removed. Key: ".concat(e.key,", id: ").concat(e.id))}),(function(t){e.loading=!1,e.loaded=!1,e.error=t.stack,Si("error","tile load error for tile with key ".concat(e.key," and id ").concat(e.id,": ").concat(e.error)),hi.postMessage("TileManager_".concat(n.scene_id,".buildTileError"),ea.slice(e))}));else{Si("trace","used worker cache for tile with key ".concat(e.key," and id ").concat(e.id));try{ea.buildGeometry(e,this)}catch(t){e.error=t.toString(),hi.postMessage("TileManager_".concat(this.scene_id,".buildTileError"),ea.slice(e))}}}},{key:"buildTile",value:function(t){var e,n=t.tile,r=this.getTile(n.id);r&&r.loading||(n=this.tiles[n.id]=Object.assign(r||{},n),this._isConfigured?this._onConfig(n):(e=this).awaitConfiguration().then((function(){return e._onConfig(n)})))}},{key:"_loadTileSourceData",value:function(t){return this.sources[t.source]?this.sources[t.source].load(t):(t.source_data={},Promise.resolve(t))}},{key:"getTile",value:function(t){return this.tiles[t]}},{key:"removeTile",value:function(t){var e=this.tiles[t];null!=e&&(!0===e.loading&&(Si("trace","cancel tile load for tile id ".concat(t)),e.loading=!1,ea.cancel(e)),delete this.tiles[t],Si("trace","remove tile from cache, tile id: ".concat(t)))}},{key:"queryFeatures",value:function(t){var e=this,n=t.filter,r=t.visible,i=t.geometry,o=t.tile_ids,a=[],s=o.map((function(t){return e.tiles[t]})).filter((function(t){return t}));return null!=n&&(n=-1<["{","["].indexOf(n[0])?JSON.parse(n):n,n=Ai.stringsToFunctions(n,_o.wrapFunction)),n=Rp(n,Up),s.forEach((function(t){for(var o in t.source_data.layers)!function(o){t.source_data.layers[o].features.forEach((function(s){var l,u;!0===r&&s.generation!==e._generation||!1===r&&s.generation===e._generation||((l=_o.getFeatureParseContext(s,t,e.global)).source=t.source,l.layer=o,n(l)&&(u={type:s.type,properties:s.properties},!0===i&&(u.geometry=ei.copyGeometry(s.geometry),ei.tileSpaceToLatlng(u.geometry,t.coords.z,t.min)),a.push(u)))}))}(o)})),a}},{key:"resetFeatureSelection",value:function(){Wl.reset()}},{key:"_syncTextures",value:function(t){var e=[];return t&&e.push.apply(e,Rr(Object.keys(t))),Si("trace","sync textures to worker:",e),0<e.length?this.textureManager.syncTexturesToWorker(e):Promise.resolve()}},{key:"profile",value:function(t){console.profile("worker ".concat(this._worker_id,": ").concat(t))}},{key:"profileEnd",value:function(t){console.profileEnd("worker ".concat(this._worker_id,": ").concat(t))}},{key:"terminate",value:function(){this.dispose()}}]),t}();(ci.is_worker||self.H&&self.H.DEBUG)&&hi.addTarget("self",new ad);var sd=function(){function t(e,n){mr(this,t),n=n||{},Po(this),this.id=t.id++,this.textureManager=No(this.id),this.initialized=!1,this.initializing=null,this.sources={},this.view=new Sh(this,n),this.tile_manager=new ed({scene:this,view:this.view}),this.num_workers=n.numWorkers||2,!0===n.disableVertexArrayObjects&&(Yl.disabled=!0),Ai.device_pixel_ratio=n.devicePixelRatio,this.config=null,this.config_source=e,this.config_bundle=null,this.last_valid_config_source=null,this.styles=null,this.style_manager=new Gh,this.building=null,this.dirty=!0,n.preUpdate&&this.subscribe({pre_update:n.preUpdate}),n.postUpdate&&this.subscribe({post_update:n.postUpdate}),this.render_loop=!n.disableRenderLoop,this.render_loop_active=!1,this.render_loop_stop=!1,this.render_count=0,this.last_render_count=0,this.render_count_changed=!1,this.frame=0,this.last_main_render=-1,this.last_selection_render=-1,this.media_capture=new od,this.selection=null,this.introspection=!0===n.introspection,this.viewport=n.viewport,this.container=n.container,this.canvas=null,this.contextOptions=n.webGLContextOptions,this.lights=null,this.background=null,this.createListeners(),this.updating=0,this.generation=t.generation,this.last_complete_generation=t.generation,this.log_level=n.logLevel||"warn",Si.setLevel(this.log_level),Si.reset()}return _r(t,[{key:"load",value:function(t,e){var n=this,r=0<arguments.length&&void 0!==t?t:null,i=1<arguments.length&&void 0!==e?e:{};return this.initializing||(Si.reset(),this.updating++,this.initialized=!1,this.initial_build_time=null,(i="string"==typeof i?{base_path:i}:i).blocking=void 0===i.blocking||i.blocking,!1!==this.render_loop&&this.setupRenderLoop(),this.createCanvas(),this.textureManager.destroy(this.gl),this.initializing=this.loadScene(r,i).then((function(){return n.createWorkers()})).then((function(){n.resetFeatureSelection();var t="object"===yr(n.config_source)||n.hasSubscribersFor("load"),e=n.updateConfig({serialize_funcs:t,normalize:!1,load_event:!0,fade_in:!0});if(!0===i.blocking)return e})).then((function(){n.updating--,n.initializing=null,n.initialized=!0,n.last_valid_config_source=n.config_source,n.last_valid_options={base_path:i.base_path,file_type:i.file_type},n.requestRedraw()})).catch((function(t){var e,r;if(n.initializing=null,n.updating=0,r="YAMLException"===t.name?(e="yaml","Error parsing scene YAML"):"Error initializing scene",n.trigger("error",{type:e,message:r,error:t,url:n.config_source}),r="Scene.load() failed to load ".concat(n.config_source,": ").concat(t.message),n.last_valid_config_source)return Si("warn",r,t),Si("info","Scene.load() reverting to last valid configuration"),n.load(n.last_valid_config_source,n.last_valid_base_path);throw Si("error",r,t),t}))),this.initializing}},{key:"destroy",value:function(){var t;this.initialized=!1,this.render_loop_stop=!0,this.destroyListeners(),this.canvas&&this.canvas.parentNode&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null),this.container=null,this.selection&&this.selection.destroy(),this.gl&&(this.textureManager.destroy(this.gl),this.style_manager.destroy(this.gl),this.styles={},ql.reset(),(t=this.gl.getExtension("WEBGL_lose_context"))&&t.loseContext(),this.gl=null),this.sources={},this.tile_manager.destroy(),this.tile_manager=null,this.destroyWorkers(),Si.reset()}},{key:"createCanvas",value:function(){if(!this.canvas){this.container=this.container||document.body,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top=0,this.canvas.style.left=0,this.container.style.backgroundColor="transparent",this.container.appendChild(this.canvas);try{this.gl=Nl.getContext(this.canvas,Object.assign({alpha:!0,premultipliedAlpha:!1,stencil:!0,device_pixel_ratio:Ai.device_pixel_ratio},this.contextOptions)),navigator.appVersion.includes("iPhone")&&this.gl.depthRange(.994,1)}catch(o){throw new Error("Couldn't create WebGL context. Your browser may not support WebGL, or it's turned off? Visit http://webglreport.com/ for more info.")}this.handleViewportUpdate(),Yl.init(this.gl),this.render_states=new rd(this.gl),this.media_capture.setCanvas(this.canvas,this.gl)}}},{key:"getWorkerUrl",value:function(){var t,i;if(void 0!==e&&(i="("+e+")()",r&&""!==n&&(i+="\n//# sourceMappingURL="+r.slice(0,r.lastIndexOf("/")+1)+n),t=Ri(new Blob([i],{type:"application/javascript"}))),!t)throw new Error("Couldn't find internal Tangram source variable (may indicate the library did not build correctly)");return t}},{key:"updateExternalScripts",value:function(){var t=Rr(this.external_scripts||[]),e=[];if(this.config.scene.scripts)for(var n in this.config.scene.scripts)-1===e.indexOf(this.config.scene.scripts[n])&&e.push(this.config.scene.scripts[n]);for(var r in this.config.sources){var i=this.config.sources[r];if(i.scripts)for(var o in i.scripts)-1===e.indexOf(i.scripts[o])&&e.push(i.scripts[o])}return this.external_scripts=e,!(this.external_scripts.length===t.length&&this.external_scripts.every((function(e,n){return e===t[n]})))}},{key:"createWorkers",value:function(){return this.updateExternalScripts()&&this.destroyWorkers(),this._workers?Promise.resolve():this.makeWorkers(this.getWorkerUrl())}},{key:"makeWorkers",value:function(t){var e=this,n=!!this.gl.getExtension("OES_element_index_uint"),r=[];this._workers=[];for(var i=0;i<this.num_workers;i++)!function(){var o=new Worker(t);e._workers[i]=o,hi.addWorker(o),Si("debug","Scene.makeWorkers: initializing worker ".concat(i));var a=i;r.push(hi.postMessage(o,"self.init",e.id,i,e.log_level,Ai.device_pixel_ratio,n,e.external_scripts).then((function(t){return Si("debug","Scene.makeWorkers: initialized worker ".concat(t)),t}),(function(t){return Si("error","Scene.makeWorkers: failed to initialize worker ".concat(a,":"),t),Promise.reject(t)})))}();var o=new ad;return this._workers.push(o),r.push(o.init(this.id,i,this.log_level,Ai.device_pixel_ratio,n,[])),this.next_worker=0,Promise.all(r).then((function(){var n;Si.setWorkers(e._workers.slice(0,e.num_workers)),n=t,void 0===Mi&&"function"!=typeof(Mi=window.URL&&window.URL.revokeObjectURL||window.webkitURL&&window.webkitURL.revokeObjectURL)&&(Mi=null,Si("warn","window.URL.revokeObjectURL (or vendor prefix) not found, unable to create local blob URLs")),Mi&&Mi(n)}))}},{key:"getWorkers",value:function(t){return this._workers.filter((function(e){switch(t){case 0:return e instanceof Worker;case 1:return e instanceof ad;default:return!0}}))}},{key:"destroyWorkers",value:function(){this.selection=null,Array.isArray(this._workers)&&(Si.setWorkers(null),this._workers.forEach((function(t){t.terminate()})),this._workers=null)}},{key:"ready",value:function(){return!(!this.view.ready()||0===Object.keys(this.sources).length)}},{key:"handleViewportUpdate",value:function(){var t=this.viewport,e=t.width,n=t.height;0<e&&0<n&&(this.dirty=!0,this.view.handleViewportUpdate(),this.gl&&Nl.resize(this.gl,e,n,Ai.device_pixel_ratio))}},{key:"requestRedraw",value:function(){this.dirty=!0}},{key:"immediateRedraw",value:function(){this.dirty=!0,this.update()}},{key:"renderLoop",value:function(){this.render_loop_active=!0,this.initialized&&this.update(),Co.setState({user_moving_view:this.view.user_input_active}),Co.processAll(),this.render_loop_stop?(this.render_loop_stop=!1,this.render_loop_active=!1):window.requestAnimationFrame(this.renderLoop.bind(this))}},{key:"setupRenderLoop",value:function(){var t=this;this.render_loop_active||setTimeout((function(){t.renderLoop()}),0)}},{key:"update",value:function(){var t=this.dirty,e=!!this.selection&&this.selection.hasPendingRequests(),n=!(!1===t&&!1===e||!1===this.initialized||0<this.updating||!1===this.ready());return this.trigger("pre_update",n),this.view.update(),n&&(this.dirty=!1,this.render({main:t,selection:e}),this.updateViewComplete(),this.media_capture.completeScreenshot(),this.trigger("post_update",n),!0!==this.animated&&!this.view.isAnimating()||(this.dirty=!0),this.frame++,Si("trace","Scene.render()"),!0)}},{key:"render",value:function(t){var e=this,n=t.main,r=t.selection,i=this.gl;if(Object.keys(this.lights).forEach((function(t){return e.lights[t].update()})),n&&(this.render_count=this.renderPass(),this.last_main_render=this.frame),r){if(this.view.panning||this.view.user_input_active)return void this.selection.clearPendingRequests();(this.last_selection_render<this.last_main_render||this.selection.has_dirty_buffer)&&(this.selection.bind(),this.renderPass("selection_program",{allow_blend:!1}),i.bindFramebuffer(i.FRAMEBUFFER,null),i.viewport(0,0,this.canvas.width,this.canvas.height),i.clearColor.apply(i,Rr(this.background.color)),this.last_selection_render=this.frame,this.selection.has_dirty_buffer=!1),this.selection.read(this.tile_manager.getRenderableTiles()),this.selection.has_dirty_buffer&&this.render({main:!1,selection:r})}return this.render_count_changed=!1,this.render_count!==this.last_render_count&&(this.render_count_changed=!0),this.last_render_count=this.render_count,!0}},{key:"renderPass",value:function(t,e){var n=this,r=0<arguments.length&&void 0!==t?t:"program",i=(1<arguments.length&&void 0!==e?e:{}).allow_blend,o=this.gl;i=null==i||i,this.clearFrame();for(var a,s=au.sortByBlendOrderWithinLayers(this.tile_manager.getActiveStyles().map((function(t){return n.styles[t]})).filter((function(t){return t}))),l=0,u=0,c=0;c<s.length;c++){var h,f,p=s[c],d=u-(h=parseInt(p.name));(p.clean_depth||d)&&(this.render_states.depth_write.value.depth_write?o.clear(o.DEPTH_BUFFER_BIT):(o.depthMask(!0),o.clear(o.DEPTH_BUFFER_BIT),o.depthMask(!1)),d&&(u=h)),p.blend!==a&&(f=Object.assign({},au.render_states[p.blend],{blend:i&&p.blend}),this.setRenderState(f));var v="translucent"===p.blend&&"program"===r;v&&(this.gl.colorMask(!1,!1,!1,!1),this.renderStyle(p.name,r),this.gl.colorMask(!0,!0,!0,!0),this.gl.depthFunc(this.gl.EQUAL),this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilFunc(this.gl.EQUAL,this.gl.ZERO,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)),l+=this.renderStyle(p.name,r),v&&(this.gl.disable(this.gl.STENCIL_TEST),this.gl.depthFunc(this.gl.LESS)),a=p.blend}return l}},{key:"renderStyle",value:function(t,e){for(var n,r=this,i=this.styles[t],o=!0,a=0,s=this.tile_manager.getRenderableTiles(),l=Math.max.apply(Math,Rr(s.map((function(e){return e.meshes[t]?Math.max.apply(Math,Rr(e.meshes[t].map((function(t){return t.variant.order})))):-1})))),u=0;u<l+1;u++){var c=function(l){for(var u=0;u<s.length;u++){var c=s[u];if(null!=c.meshes[t]&&c.shouldProxyForStyle(t))for(var h=c.meshes[t].filter((function(t){return t.variant.order===l})),f=0,p=h.length;f<p;f+=1){var d=h[f];if(!0===o&&(o=!1,!(n=r.setupStyle(i,e))))return{v:0};r.view.setupTile(c,n),r.selection.setupDiscards(n),i.render(d)&&r.requestRedraw(),a+=d.geometry_count}}}(u);if("object"===yr(c))return c.v}return a}},{key:"setupStyle",value:function(t,e){var n;try{if(!(n=t.getProgram(e)))return}catch(e){return void this.trigger("warning",{type:"styles",message:"Error compiling style ".concat(t.name),style:t,shader_errors:t.program&&t.program.shader_errors})}for(var r in n.use(),t.setup(),this.view.setupProgram(n),this.lights)this.lights[r].setupProgram(n);return n}},{key:"clearFrame",value:function(){this.initialized&&(this.render_states.depth_write.set({depth_write:!0}),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT))}},{key:"setRenderState",value:function(t){var e,n,r=0<arguments.length&&void 0!==t?t:{},i=r.depth_test,o=r.depth_write,a=r.cull_face,s=r.blend;this.initialized&&(e=this.render_states,i=!1!==i&&e.defaults.depth_test,o=!1!==o&&e.defaults.depth_write,a=!1!==a&&e.defaults.culling,s=null!=s?s:e.defaults.blending,n=this.gl,e.depth_test.set({depth_test:i}),e.depth_write.set({depth_write:o}),e.culling.set({cull:a,face:e.defaults.culling_face}),s&&"opaque"!==s?"overlay"===s||"inlay"===s||"translucent"===s?e.blending.set({blend:!0,src:n.SRC_ALPHA,dst:n.ONE_MINUS_SRC_ALPHA,src_alpha:n.ONE,dst_alpha:n.ONE_MINUS_SRC_ALPHA}):"add"===s?e.blending.set({blend:!0,src:n.ONE,dst:n.ONE}):"multiply"===s&&e.blending.set({blend:!0,src:n.ZERO,dst:n.SRC_COLOR}):e.blending.set({blend:!1}))}},{key:"getFeatureAt",value:function(t,e,n){var r,i=e.radius,o=e.top_most_only;this.initialized?(r={x:t.x/this.view.size.css.width,y:t.y/this.view.size.css.height},i=0<i?{x:i/this.view.size.css.width,y:i/this.view.size.css.height}:null,this.selection.getFeatureAt(r,{radius:i,top_most_only:o},n)):Si("debug","Scene.getFeatureAt() called before scene was initialized")}},{key:"queryFeatures",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.filter,r=e.unique,i=void 0===r||r,o=e.group_by,a=void 0===o?null:o,s=e.visible,l=void 0===s?null:s,u=e.geometry,c=void 0!==u&&u,h=(n=Ai.serializeWithFunctions(n),this.tile_manager.getRenderableTiles().map((function(t){return t.id})));return hi.postMessage(this._workers,"self.queryFeatures",{filter:n,visible:l,geometry:c,tile_ids:h}).then((function(t){var e=[],n={},r={},o=(i="string"==typeof i?[i]:i)&&function(t){return JSON.stringify(Array.isArray(i)?Ll(t,i):t)},s=(a=("string"==typeof a||Array.isArray(a))&&a)&&function(t){return Array.isArray(a)?JSON.stringify(Ll(t,a)):t[a]};return t.forEach((function(t){return t.forEach((function(t){if(o){var i=o(t);if(n[i])return;n[i]=!0}var a;s?(a=s(t.properties),r[a]=r[a]||[],r[a].push(t)):e.push(t)}))})),s?r:e}))}},{key:"loadScene",value:function(t,e){var n=this,r=0<arguments.length&&void 0!==t?t:null,i=1<arguments.length&&void 0!==e?e:{},o=i.base_path,a=i.file_type;return this.config_source=r||this.config_source,"string"==typeof this.config_source?this.base_path=Ii(o||this.config_source):this.base_path=Ii(o),this.config_path=this.base_path,Yp.loadScene(this.config_source,{path:this.base_path,type:a}).then((function(t){var e=t.config,r=t.bundle;return n.config=e,n.config_bundle=r,n.config}))}},{key:"createDataSources",value:function(){var t=this,e=[],n=Object.keys(this.sources),r=0;for(var i in this.config.sources){var o=this.config.sources[i],a=this.sources[i];try{var s=Object.assign({},o,{name:i,id:r++});if(this.sources[i]=Li.create(s,this.sources),!this.sources[i])throw{}}catch(n){delete this.sources[i];var l="Could not create data source: ".concat(n.message);Si("warn","Scene: ".concat(l),o),this.trigger("warning",{type:"sources",source:o,message:l})}Li.sameConfig(this.sources[i],a)||e.push(i)}for(var u in n.forEach((function(n){t.config.sources[n]||(delete t.sources[n],e.push(n))})),0<e.length&&this.tile_manager.removeTiles((function(t){return-1<e.indexOf(t.source.name)})),this.config.layers){var c=this.config.layers[u];!1!==c.enabled&&c.data&&this.sources[c.data.source]&&(this.sources[c.data.source].builds_geometry_tiles=!0)}}},{key:"loadTextures",value:function(){var t=this;return this.textureManager.createFromObject(this.gl,this.config.textures).then((function(){return t.textureManager.createDefault(t.gl)}))}},{key:"updateStyles",value:function(){if(!this.initialized&&!this.initializing)throw new Error("Scene.updateStyles() called before scene was initialized");for(var t in this.styles=this.style_manager.build(this.config.styles),this.style_manager.initStyles(this),this.styles)this.styles[t].setGL(this.gl);this.dirty=!0}},{key:"createLights",value:function(){for(var t in this.lights={},this.config.lights){var e;this.config.lights[t]&&"object"===yr(this.config.lights[t])&&((e=this.config.lights[t]).name=t.replace("-","_"),e.visible=!1!==e.visible,e.visible&&(this.lights[e.name]=Ql.create(this.view,e)))}Ql.inject(this.lights)}},{key:"setBackground",value:function(){var t,e=this.config.scene.background;this.background={},e&&e.color&&(this.background.color=_o.parseColor(e.color)),this.background.color||(this.background.color=[0,0,0,0]),1===this.background.color[3]?this.canvas.style.backgroundColor="rgba(".concat(this.background.color.map((function(t){return Math.floor(255*t)})).join(", "),")"):this.canvas.style.backgroundColor="transparent",(t=this.gl).clearColor.apply(t,Rr(this.background.color))}},{key:"setIntrospection",value:function(t){var e=this;return t!==this.introspection?(this.introspection=t||!1,this.updating++,this.updateConfig({normalize:!1}).then((function(){return e.updating--}))):Promise.resolve()}},{key:"updateConfig",value:function(e){var n=0<arguments.length&&void 0!==e?e:{},r=n.load_event,i=void 0!==r&&r,o=n.serialize_funcs,a=n.normalize,s=void 0===a||a;n.fade_in,this.generation=++t.generation,this.updating++,this.config=Yp.applyGlobalProperties(this.config),s?Yp.normalize(this.config,this.config_bundle):(Yp.hoistStyleShaderUniformTextures(this.config,this.config_bundle,{include_globals:!0}),Yp.normalizeTextures(this.config,this.config_bundle)),this.trigger(i?"load":"update",{config:this.config}),this.style_manager.init(),this.createLights(),this.createDataSources(),this.loadTextures(),this.setBackground(),Bc.loadFonts(this.config.fonts),this.updateStyles();var l=this.syncConfigToWorker({serialize_funcs:o});return this.updating--,this.view.updateBounds(),this.requestRedraw(),l}},{key:"syncConfigToWorker",value:function(t){var e=(0<arguments.length&&void 0!==t?t:{}).serialize_funcs,n=void 0===e||e?Ai.serializeWithFunctions(this.config):JSON.stringify(this.config);return hi.postMessage(this._workers,"self.updateConfig",{config:n,generation:this.generation,introspection:this.introspection},Rl)}},{key:"createListeners",value:function(){var t=this;this.listeners={},this.listeners.view={move:function(){return t.trigger("move")}},this.view.subscribe(this.listeners.view),this.listeners.texture={update:function(){return t.dirty=!0},warning:function(e){return t.trigger("warning",Object.assign({type:"textures"},e))}},this.textureManager.subscribe(this.listeners.texture),this.listeners.scene_loader={error:function(e){return t.trigger("error",Object.assign({type:"scene"},e))}},Yp.subscribe(this.listeners.scene_loader)}},{key:"destroyListeners",value:function(){this.unsubscribeAll(),this.view.unsubscribe(this.listeners.view),this.textureManager.unsubscribe(this.listeners.texture),Yp.unsubscribe(this.listeners.scene_loader),this.listeners=null}},{key:"resetFeatureSelection",value:function(){this.selection?this._workers&&hi.postMessage(this._workers,"self.resetFeatureSelection"):this.selection=new Wl(this.gl,this.id)}},{key:"updateViewComplete",value:function(){(this.render_count_changed||this.generation!==this.last_complete_generation)&&this.tile_manager.isReady()&&(this.last_complete_generation=this.generation,this.trigger("view_complete"))}},{key:"resetViewComplete",value:function(){this.last_complete_generation=null}},{key:"screenshot",value:function(t){var e=(0<arguments.length&&void 0!==t?t:{}).background,n=void 0===e?"white":e;return this.requestRedraw(),this.media_capture.screenshot({background:n})}},{key:"pixelRatio",value:function(){return Ai.device_pixel_ratio}},{key:"startVideoCapture",value:function(){return this.requestRedraw(),this.media_capture.startVideoCapture()}},{key:"stopVideoCapture",value:function(){return this.media_capture.stopVideoCapture()}},{key:"_profile",value:function(t){console.profile("main thread: ".concat(t)),hi.postMessage(this._workers,"self.profile",t)}},{key:"_profileEnd",value:function(t){console.profileEnd("main thread: ".concat(t)),hi.postMessage(this._workers,"self.profileEnd",t)}},{key:"getCameraMatrix",value:function(){return this.view.lookAtManipulator.getCameraMatrix()}},{key:"animated",get:function(){var t=this;return void 0!==this.config.scene.animated?this.config.scene.animated:this.tile_manager.getActiveStyles().some((function(e){return t.styles[e]&&t.styles[e].animated}))}}],[{key:"create",value:function(e,n){return new t(e,1<arguments.length&&void 0!==n?n:{})}}]),t}();sd.id=0,sd.generation=0;var ld=function(){Er(e,Io);var t=jr(e);function e(n,r,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};mr(this,e);var a=Math.pow(2,o.coords.z),s=Math.abs(Math.floor(o.coords.x/a)),l=Math.abs(a*s-Math.abs(o.coords.x)),u=o.coords;return o.coords={x:l,y:u.y,z:u.z},t.call(this,n,r,i,o)}return _r(e,[{key:"load",value:function(t){var n=this;if(!t||!t.uid)return Ir(Sr(e.prototype),"load",this).call(this,t);var r=t.coords,i=new Uint8Array([0,0,0,0]);return this.loading=new Promise((function(e,o){var a=H.map.DataModel.invoke(t.uid,"requestTileAsPromise",[r.x,r.y,r.z])||null;a?a.then((function(e){var r=e.data;n.loaded=!0,!r||r instanceof ArrayBuffer||"IMG"!==r.tagName.toUpperCase()&&"CANVAS"!==r.tagName.toUpperCase()?n.setData(1,1,i,{filtering:"nearest"}):n.setElement(r,t)}),(function(){n.loaded=!1})).then(e,(function(t){return o(t)})):o(new Error("Unable to invoke on target "+t.uid))})),this.loading}}]),e}();Ro.register(ld,(function(t){return t&&t.uid}));var ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",cd=[62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],hd="undefined"!=typeof BigInt?BigInt:Number;function fd(t){var e=t;return e&hd(1)&&(e=~e),+(e>>=hd(1)).toString()}function pd(t){for(var e="",n=hd(t);31<n;){var r=n&hd(31)|hd(32);e+=ud[r],n>>=hd(5)}return e+ud[n]}function dd(t){var e=hd(t),n=e<0;return e<<=hd(1),n&&(e=~e),pd(e)}var vd={encode:function(t){var e=t.precision,n=void 0===e?5:e,r=t.thirdDim,i=void 0===r?0:r,o=t.thirdDimPrecision,a=void 0===o?0:o,s=t.polyline,l=Math.pow(10,n),u=Math.pow(10,a),c=function(t,e,n){if(t<0||15<t)throw new Error("precision out of range. Should be between 0 and 15");if(n<0||15<n)throw new Error("thirdDimPrecision out of range. Should be between 0 and 15");if(e<0||7<e||4===e||5===e)throw new Error("thirdDim should be between 0, 1, 2, 3, 6 or 7");var r=n<<7|e<<4|t;return pd(1)+pd(r)}(n,i,a),h=[],f=hd(0),p=hd(0),d=hd(0);return s.forEach((function(t){var e=hd(Math.round(t[0]*l));h.push(dd(e-f)),f=e;var n,r=hd(Math.round(t[1]*l));h.push(dd(r-p)),p=r,i&&(n=hd(Math.round(t[2]*u)),h.push(dd(n-d)),d=n)})),[].concat(Rr(c),h).join("")},decode:function(t){for(var e=function(t){var e=hd(0),n=hd(0),r=[];if(t.split("").forEach((function(t){var i,o=hd((i=t.charCodeAt(0),cd[i-45]));e|=(o&hd(31))<<n,(o&hd(32))===hd(0)?(r.push(e),e=hd(0),n=hd(0)):n+=hd(5)})),0<n)throw new Error("Invalid encoding");return r}(t),n=function(t,e){if(1!==+t.toString())throw new Error("Invalid format version");var n=+e.toString();return{precision:15&n,thirdDim:n>>4&7,thirdDimPrecision:n>>7&15}}(e[0],e[1]),r=Math.pow(10,n.precision),i=Math.pow(10,n.thirdDimPrecision),o=n.thirdDim,a=0,s=0,l=0,u=[],c=2;c<e.length;)a+=fd(e[c])/r,s+=fd(e[c+1])/r,o?(l+=fd(e[c+2])/i,u.push([a,s,l]),c+=3):(u.push([a,s]),c+=2);if(c!==e.length)throw new Error("Invalid encoding. Premature ending reached");return kr(kr({},n),{},{polyline:u})},ABSENT:0,LEVEL:1,ALTITUDE:2,ELEVATION:3};self.H=self.H||{},self.H.gl={DataSource:Li,Geo:ei,MathUtils:Qr,Scene:sd,Task:Co,Tile:ea,WorkerBroker:hi,log:Si,SceneLoader:Yp,yaml:Ep,flexpolyline:vd}}()}(),this.H=this.H||{},this.H.venues=function(t){function e(t,e){void 0===e&&(e={});var n,r=e.insertAt;t&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(e=document.createElement("style")).type="text/css","top"===r&&n.firstChild?n.insertBefore(e,n.firstChild):n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)))}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function p(t,e,n){return(p=f()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&h(r,n.prototype),r}).apply(null,arguments)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){var e=f();return function(){var n,r=c(t);return n=e?(n=c(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!=typeof n&&"function"!=typeof n?d(r):n}}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e(".H_l_right .venues-ui__drawings .trigger.button--active .arrow {\n  transform: rotate(90deg); }\n\n.H_l_right .venues-ui__drawings .drawings {\n  right: 45px;\n  left: initial; }\n");var x=function(){u(e,H.map.Feature);var t=v(e);function e(n){var i;return r(this,e),(i=t.call(this)).id=n.id,i.model=n,i}return o(e,[{key:"getData",value:function(){return this.model}},{key:"getAddress",value:function(){return this.model.getInternalAddress()}},{key:"getCenter",value:function(){var t=(e=y(this.model.getCenter(),2))[0],e=e[1];return new H.geo.Point(e,t)}},{key:"getId",value:function(){return this.model.getId()}},{key:"getName",value:function(){return this.model.getDisplayName()}},{key:"toGeoJSON",value:function(){return this.model.toJSON()}},{key:"getLevel",value:function(){return this.getParentEventTarget()}},{key:"getVenue",value:function(){return this.getLevel().getDrawing().getParentEventTarget()}}]),e}(),w=function(){u(e,H.map.Feature);var t=v(e);function e(n){var i;return r(this,e),(i=t.call(this)).id=n.id,i.model=n,i}return o(e,[{key:"getData",value:function(){return this.model}},{key:"getBoundingBox",value:function(){return p(H.geo.Rect,m(this.model.getBoundingBox()))}},{key:"getCenter",value:function(){var t=(e=y(this.model.getCenter(),2))[0],e=e[1];return new H.geo.Point(e,t)}},{key:"getId",value:function(){return this.model.getId()}},{key:"getName",value:function(){return this.model.getDisplayName()}},{key:"getLevel",value:function(t){return this.getLevels().find((function(e){return e.id===t}))}},{key:"getLevels",value:function(){var t=this.getData().getLevels().map((function(t){return t.getId()}));return this.getVenue().getLevels().filter((function(e){return-1!==t.indexOf(e.id)}))}},{key:"getMainLevel",value:function(){return this.getLevel(this.model.getMainLevel().getId())}},{key:"getVenue",value:function(){return this.getParentEventTarget()}}]),e}(),k=function(){u(e,H.map.Feature);var t=v(e);function e(n){var i;return r(this,e),(i=t.call(this)).id=n.id,i.model=n,i}return o(e,[{key:"getGeometry",value:function(t){return this.getGeometries().find((function(e){return e.id===t}))}},{key:"getGeometries",value:function(){var t=this.getData().getGeometries().map((function(t){return t.getId()}));return this.getDrawing().getVenue().getGeometries().filter((function(e){return-1!==t.indexOf(e.id)}))}},{key:"getData",value:function(){return this.model}},{key:"getId",value:function(){return this.model.getId()}},{key:"getName",value:function(){return this.model.getDisplayName()}},{key:"getShortName",value:function(){return this.model.getShortName()}},{key:"getZIndex",value:function(){return this.model.getZIndex()}},{key:"isMain",value:function(){return this.model.isMain()}},{key:"getDrawing",value:function(){return this.getParentEventTarget()}},{key:"getVenue",value:function(){return this.getDrawing().getParentEventTarget()}}]),e}();function E(t,e,n,r){for(var i,o=r,a=n-e>>1,s=n-e,l=t[e],u=t[e+1],c=t[n],h=t[n+1],f=e+3;f<n;f+=3){var p=function(t,e,n,r,i,o){var a,s=i-n,l=o-r;return 0===s&&0===l||(1<(a=((t-n)*s+(e-r)*l)/(s*s+l*l))?(n=i,r=o):0<a&&(n+=s*a,r+=l*a)),(s=t-n)*s+(l=e-r)*l}(t[f],t[f+1],l,u,c,h);o<p?(i=f,o=p):p!==o||(p=Math.abs(f-a))<s&&(i=f,s=p)}r<o&&(3<i-e&&E(t,e,i,r),t[i+2]=o,3<n-i&&E(t,i,n,r))}function S(t,e,n,r){return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)T(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)T(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)T(t,e[r][i])}(r={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),r}function T(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function A(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)O(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)O(i[u],s);else if("LineString"===o)M(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)s=[],M(i[u],s,a,!1),t.push(S(l,"LineString",s,e.properties));return}C(i,s,a,!1)}else if("Polygon"===o)C(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"!==o)throw new Error("Input data is not a valid GeoJSON object.");for(u=0;u<e.geometry.geometries.length;u++)A(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}for(u=0;u<i.length;u++){var c=[];C(i[u],c,a,!0),s.push(c)}}t.push(S(l,o,s,e.properties))}}function O(t,e){e.push(j(t[0])),e.push(I(t[1])),e.push(0)}function M(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=j(t[s][0]),u=I(t[s][1]);e.push(l),e.push(u),e.push(0),0<s&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,E(e,0,c,n),e[2+c]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function C(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];M(t[i],o,n,r),e.push(o)}}function j(t){return t/360+.5}function I(t){return t=Math.sin(t*Math.PI/180),(t=.5-.25*Math.log((1+t)/(1-t))/Math.PI)<0?0:1<t?1:t}function P(t,e,n,r,i,o,a,s){if(r/=e,(n/=e)<=o&&a<r)return t;if(a<n||r<=o)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],h=c.geometry,f=c.type,p=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(n<=p&&d<r)l.push(c);else if(!(d<n||r<=p)){var v=[];if("Point"===f||"MultiPoint"===f)!function(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];n<=a&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}(h,v,n,r,i);else if("LineString"===f)R(h,v,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)N(h,v,n,r,i,!1);else if("Polygon"===f)N(h,v,n,r,i,!0);else if("MultiPolygon"===f)for(var g=0;g<h.length;g++){var y=[];N(h[g],y,n,r,i,!0),y.length&&v.push(y)}if(v.length)if(s.lineMetrics&&"LineString"===f)for(g=0;g<v.length;g++)l.push(S(c.id,f,v[g],c.tags));else"LineString"!==f&&"MultiLineString"!==f||(1===v.length?(f="LineString",v=v[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===v.length?"Point":"MultiPoint"),l.push(S(c.id,f,v,c.tags))}}return l.length?l:null}function R(t,e,n,r,i,o,a){for(var s,l,u=L(t),c=0===i?z:F,h=t.start,f=0;f<t.length-3;f+=3){var p=t[f],d=t[f+1],v=t[f+2],g=t[f+3],y=t[f+4],m=0===i?p:d,b=0===i?g:y,_=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(d-y,2))),m<n?n<b&&(l=c(u,p,d,g,y,n),a&&(u.start=h+s*l)):r<m?b<r&&(l=c(u,p,d,g,y,r),a&&(u.start=h+s*l)):D(u,p,d,v),b<n&&n<=m&&(l=c(u,p,d,g,y,n),_=!0),r<b&&m<=r&&(l=c(u,p,d,g,y,r),_=!0),!o&&_&&(a&&(u.end=h+s*l),e.push(u),u=L(t)),a&&(h+=s)}var x=t.length-3;p=t[x],d=t[1+x],v=t[2+x];n<=(m=0===i?p:d)&&m<=r&&D(u,p,d,v),x=u.length-3,o&&3<=x&&(u[x]!==u[0]||u[1+x]!==u[1])&&D(u,u[0],u[1],u[2]),u.length&&e.push(u)}function L(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function N(t,e,n,r,i,o){for(var a=0;a<t.length;a++)R(t[a],e,n,r,i,o,!1)}function D(t,e,n,r){t.push(e),t.push(n),t.push(r)}function z(t,e,n,r,i,o){return e=(o-e)/(r-e),t.push(o),t.push(n+(i-n)*e),t.push(1),e}function F(t,e,n,r,i,o){return n=(o-n)/(i-n),t.push(e+(r-e)*n),t.push(o),t.push(1),n}function B(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=U(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(U(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(U(o.geometry[s][u],e));i.push(l)}n.push(S(o.id,a,i,o.tags))}return n}function U(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function V(t,e){if(t.transformed)return t;for(var n,r=1<<t.z,i=t.x,o=t.y,a=0;a<t.features.length;a++){var s=t.features[a],l=s.geometry,u=s.type;if(s.geometry=[],1===u)for(n=0;n<l.length;n+=2)s.geometry.push(G(l[n],l[n+1],e,r,i,o));else for(n=0;n<l.length;n++){for(var c=[],h=0;h<l[n].length;h+=2)c.push(G(l[n][h],l[n][h+1],e,r,i,o));s.geometry.push(c)}}return t.transformed=!0,t}function G(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function q(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,function(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)Y(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Y(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Y(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var h in c={},e.tags)c[h]=e.tags[h];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}r={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c},null!==e.id&&(r.id=e.id),t.features.push(r)}}(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,h=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function Y(t,e,n,r,i,o){var a=r*r;if(0<r&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(0<n===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function W(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(e.maxZoom<0||24<e.maxZoom)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r,i,o,a,s=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)A(n,t.features[r],e,r);else"Feature"===t.type?A(n,t,e):A(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(this.stats={},this.total=0),t=P(a=r=s,1,-1-(o=(i=e).buffer/i.extent),o,0,-1,2,i),e=P(r,1,1-o,2+o,0,-1,2,i),(t||e)&&(a=P(r,1,-o,1+o,0,-1,2,i)||[],t&&(a=B(t,1).concat(a)),e&&(a=a.concat(B(e,-1)))),(s=a).length&&this.splitTile(s,0,0,0),n&&s.length}function Z(t,e,n){return 32*((1<<t)*n+e)+t}function X(t){for(var e,n=[],r=[],i=0,o=t.coordinates.length;i<o;i+=1){var a=t.coordinates[i],s=function(t){return 0<(t=function(t){for(var e=0,n=t.length,r=0;r<n-1;r+=1){var i=t[r],o=t[r+1];e+=i[0]*o[1]-o[0]*i[1]}return e+(t[n-1][0]*t[0][1]-t[0][0]*t[n-1][1])}(t))?st:t<0?lt:void 0}(a);null!==s&&(s===(e=e||s)&&r.length&&(n.push(r),r=[]),r.push(a))}return 0<r.length&&n.push(r),1===n.length?(t.type=J,t.coordinates=n[0]):1<n.length?(t.type=tt,t.coordinates=n):t=null,t}function K(t,e,n,r,i){var o;return i=(o=n,n=r,r=i,e=1<<(i=e),(i=[])[0]=((t=t)[0]/r+o)/e,i[1]=(t[1]/r+n)/e,e=n={x:i[0],y:i[1]}).x,n=e.y,e=360*(i-.5),i=Math.exp(Math.PI*(.5-n)/.25)-1,n=Math.exp(Math.PI*(.5-n)/.25)+1,[e,180*Math.asin(i/n)/Math.PI]}W.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},W.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c,h,f,p,d,v,g,y,m=1<<e,b=Z(e,n,r),_=this.tiles[b];if(_||(_=this.tiles[b]=q(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u&&(y="z"+e,this.stats[y]=(this.stats[y]||0)+1,this.total++)),_.source=t,i){if(e===l.maxZoom||e===i)continue;var x=1<<i-e;if(n!==Math.floor(o/x)||r!==Math.floor(a/x))continue}else if(e===l.indexMaxZoom||_.numPoints<=l.indexMaxPoints)continue;_.source=null,0!==t.length&&(h=.5-(c=.5*l.buffer/l.extent),f=1+c,g=p=d=v=null,y=P(t,m,n-c,n+(b=.5+c),0,_.minX,_.maxX,l),x=P(t,m,n+h,n+f,0,_.minX,_.maxX,l),t=null,y&&(g=P(y,m,r-c,r+b,1,_.minY,_.maxY,l),p=P(y,m,r+h,r+f,1,_.minY,_.maxY,l),y=null),x&&(d=P(x,m,r-c,r+b,1,_.minY,_.maxY,l),v=P(x,m,r+h,r+f,1,_.minY,_.maxY,l),x=null),s.push(g||[],e+1,2*n,2*r),s.push(p||[],e+1,2*n,2*r+1),s.push(d||[],e+1,2*n+1,2*r),s.push(v||[],e+1,2*n+1,2*r+1))}},W.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent;if(r.debug,t<0||24<t)return null;if(r=Z(t,e=(e%(r=1<<t)+r)%r,n),this.tiles[r])return V(this.tiles[r],i);for(var o,a=t,s=e,l=n;!o&&0<a;)a--,s=Math.floor(s/2),l=Math.floor(l/2),o=this.tiles[Z(a,s,l)];return o&&o.source?(this.splitTile(o.source,a,s,l,t,e,n),this.tiles[r]?V(this.tiles[r],i):null):null};var $="Point",J="Polygon",Q="MultiLineString",tt="MultiPolygon",et="#e0e0e0",nt="#829DB4",rt=1,it=13,ot={fillColor:"#F2F285",outlineColor:"#0088BF",outlineWidth:1.2},at={FOOTPRINT:"FOOTPRINT",ICON:"ICON",TEXT:"TEXT",VECTOR:"VECTOR"},st="CW",lt="CCW";function ut(t){var e=void 0===(o=t.addressList)?[]:o,n=void 0===(i=t.geometries)?[]:i,i=void 0===(o=t.entity)?null:o,o=void 0===(o=t.name)?"":o;t=void 0===(t=t.icon)?"":t;r(this,ut),this.addressList=e,this.geometries=n,this.icon=t,this.entity=i,this.name=o}var ct,ht,ft=(function(t){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==n(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){function i(t){return(i="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}var o=r(1),a=(r=r(7)).get,s=(r.deepValue,r.isArray);(function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}})(l.prototype,[{key:"setCollection",value:function(t){return this.list=t}},{key:"_processKeys",value:function(t){if(this._keyWeights={},this._keyNames=[],t.length&&"string"==typeof t[0])for(var e=0,n=t.length;e<n;e+=1){var r=t[e];this._keyWeights[r]=1,this._keyNames.push(r)}else{for(var i=0,o=0,a=t.length;o<a;o+=1){var s=t[o];if(!s.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var l=s.name;if(this._keyNames.push(l),!s.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');if((s=s.weight)<0||1<s)throw new Error('"weight" property in key must bein the range of [0, 1)');i+=this._keyWeights[l]=s}if(1<i)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{limit:!1};return this._log('---------\nSearch pattern: "'.concat(t,'"')),t=(e=this._prepareSearchers(t)).tokenSearchers,e=e.fullSearcher,e=this._search(t,e),this._computeScore(e),this.options.shouldSort&&this._sort(e),n.limit&&"number"==typeof n.limit&&(e=e.slice(0,n.limit)),this._format(e)}},{key:"_prepareSearchers",value:function(t){t=0<arguments.length&&void 0!==t?t:"";var e=[];if(this.options.tokenize)for(var n=t.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)e.push(new o(n[r],this.options));return{tokenSearchers:e,fullSearcher:new o(t,this.options)}}},{key:"_search",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:[],r=1<arguments.length?e:void 0,i=this.list,o={},a=[];if("string"==typeof i[0]){for(var s=0,l=i.length;s<l;s+=1)this._analyze({key:"",value:i[s],record:s,index:s},{resultMap:o,results:a,tokenSearchers:n,fullSearcher:r});return a}for(var u=0,c=i.length;u<c;u+=1)for(var h=i[u],f=0,p=this._keyNames.length;f<p;f+=1){var d=this._keyNames[f];this._analyze({key:d,value:this.options.getFn(h,d),record:h,index:u},{resultMap:o,results:a,tokenSearchers:n,fullSearcher:r})}return a}},{key:"_analyze",value:function(t,e){var n=this,r=t.key,i=void 0===(l=t.arrayIndex)?-1:l,o=t.value,a=t.record,l=t.index,u=void 0===(t=e.tokenSearchers)?[]:t,c=e.fullSearcher,h=void 0===(t=e.resultMap)?{}:t,f=void 0===(e=e.results)?[]:e;!function t(e,i,o,a){if(null!=i)if("string"==typeof i){var l=!1,p=-1,d=0;n._log("\nKey: ".concat(""===r?"--":r));var v=c.search(i);if(n._log('Full text: "'.concat(i,'", score: ').concat(v.score)),n.options.tokenize){for(var g=i.split(n.options.tokenSeparator),y=g.length,m=[],b=0,_=u.length;b<_;b+=1){var x=u[b];n._log('\nPattern: "'.concat(x.pattern,'"'));for(var w=!1,k=0;k<y;k+=1){var E=g[k],S=x.search(E),T={};S.isMatch?(T[E]=S.score,w=l=!0,m.push(S.score)):(T[E]=1,n.options.matchAllTokens||m.push(1)),n._log('Token: "'.concat(E,'", score: ').concat(T[E]))}w&&(d+=1)}p=m[0];for(var A=m.length,O=1;O<A;O+=1)p+=m[O];p/=A,n._log("Token score average:",p)}var M=v.score;-1<p&&(M=(M+p)/2),n._log("Score average:",M);var C=!n.options.tokenize||!n.options.matchAllTokens||d>=u.length;n._log("\nCheck Matches: ".concat(C)),(l||v.isMatch)&&C&&(M={key:r,arrayIndex:e,value:i,score:M},n.options.includeMatches&&(M.matchedIndices=v.matchedIndices),(v=h[a])?v.output.push(M):(h[a]={item:o,output:[M]},f.push(h[a])))}else if(s(i))for(var j=0,I=i.length;j<I;j+=1)t(j,i[j],o,a)}(i,o,a,l)}},{key:"_computeScore",value:function(t){this._log("\n\nComputing score:\n");for(var e=this._keyWeights,n=!!Object.keys(e).length,r=0,i=t.length;r<i;r+=1){for(var o=t[r],a=o.output,s=a.length,l=1,u=0;u<s;u+=1){var c=(f=a[u]).key,h=n?e[c]:1,f=0===f.score&&e&&0<e[c]?Number.EPSILON:f.score;l*=Math.pow(f,h)}o.score=l,this._log(o)}}},{key:"_sort",value:function(t){this._log("\n\nSorting...."),t.sort(this.options.sortFn)}},{key:"_format",value:function(t){var e,n=[];this.options.verbose&&(e=[],this._log("\n\nOutput:\n\n",JSON.stringify(t,(function(t,n){if("object"===i(n)&&null!==n){if(-1!==e.indexOf(n))return;e.push(n)}return n}),2)),e=null);var r=[];this.options.includeMatches&&r.push((function(t,e){var n=t.output;e.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o,a=n[r];0!==a.matchedIndices.length&&(o={indices:a.matchedIndices,value:a.value},a.key&&(o.key=a.key),a.hasOwnProperty("arrayIndex")&&-1<a.arrayIndex&&(o.arrayIndex=a.arrayIndex),e.matches.push(o))}})),this.options.includeScore&&r.push((function(t,e){e.score=t.score}));for(var o=0,a=t.length;o<a;o+=1){var s=t[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),r.length){for(var l={item:s.item},u=0,c=r.length;u<c;u+=1)r[u](s,l);n.push(l)}else n.push(s.item)}return n}},{key:"_log",value:function(){var t;this.options.verbose&&(t=console).log.apply(t,arguments)}}]),r=l;function l(t,e){var n=void 0===(f=e.location)?0:f,r=void 0===(_=e.distance)?100:_,i=void 0===(p=e.threshold)?.6:p,o=void 0===(y=e.maxPatternLength)?32:y,s=void 0!==(d=e.caseSensitive)&&d,u=void 0===(b=e.tokenSeparator)?/ +/g:b,c=void 0!==(v=e.findAllMatches)&&v,h=void 0===(m=e.minMatchCharLength)?1:m,f=void 0===(g=e.id)?null:g,p=void 0===(_=e.keys)?[]:_,d=void 0===(y=e.shouldSort)||y,v=void 0===(b=e.getFn)?a:b,g=void 0===(m=e.sortFn)?function(t,e){return t.score-e.score}:m,y=void 0!==(_=e.tokenize)&&_,m=void 0!==(b=e.matchAllTokens)&&b,b=void 0!==(_=e.includeMatches)&&_,_=void 0!==(_=e.includeScore)&&_;e=void 0!==(e=e.verbose)&&e;!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.options={location:n,distance:r,threshold:i,maxPatternLength:o,isCaseSensitive:s,tokenSeparator:u,findAllMatches:c,minMatchCharLength:h,id:f,keys:p,includeMatches:b,includeScore:_,shouldSort:d,getFn:v,sortFn:g,verbose:e,tokenize:y,matchAllTokens:m},this.setCollection(t),this._processKeys(p)}t.exports=r},function(t,e,n){var r=n(2),i=n(3),o=n(6);(function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}})(a.prototype,[{key:"search",value:function(t){var e=(l=this.options).isCaseSensitive,n=l.includeMatches;if(e||(t=t.toLowerCase()),this.pattern===t){var o={isMatch:!0,score:0};return n&&(o.matchedIndices=[[0,t.length-1]]),o}var a=this.options,s=a.maxPatternLength,l=a.tokenSeparator;return this.pattern.length>s?r(t,this.pattern,l):(o=(e=this.options).location,a=e.distance,s=e.threshold,l=e.findAllMatches,e=e.minMatchCharLength,i(t,this.pattern,this.patternAlphabet,{location:o,distance:a,threshold:s,findAllMatches:l,minMatchCharLength:e,includeMatches:n}))}}]),n=a;function a(t,e){var n=void 0===(h=e.location)?0:h,r=void 0===(l=e.distance)?100:l,i=void 0===(c=e.threshold)?.6:c,s=void 0===(u=e.maxPatternLength)?32:u,l=void 0!==(h=e.isCaseSensitive)&&h,u=void 0===(c=e.tokenSeparator)?/ +/g:c,c=void 0!==(h=e.findAllMatches)&&h,h=void 0===(h=e.minMatchCharLength)?1:h;e=void 0!==(e=e.includeMatches)&&e;!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.options={location:n,distance:r,threshold:i,maxPatternLength:s,isCaseSensitive:l,tokenSeparator:u,findAllMatches:c,includeMatches:e,minMatchCharLength:h},this.pattern=l?t:t.toLowerCase(),this.pattern.length<=s&&(this.patternAlphabet=o(this.pattern))}t.exports=n},function(t,e){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;t.exports=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:/ +/g,i=(r=new RegExp(e.replace(n,"\\$&").replace(r,"|")),t.match(r)),o=[];if(r=!!i)for(var a=0,s=i.length;a<s;a+=1){var l=i[a];o.push([t.indexOf(l),l.length-1])}return{score:r?.5:1,isMatch:r,matchedIndices:o}}},function(t,e,n){var r=n(4),i=n(5);t.exports=function(t,e,n,o){for(var a=void 0===(c=o.location)?0:c,s=void 0===(l=o.distance)?100:l,l=void 0===(c=o.threshold)?.6:c,u=void 0!==(c=o.findAllMatches)&&c,c=void 0===(c=o.minMatchCharLength)?1:c,h=(o=void 0!==(o=o.includeMatches)&&o,a),f=t.length,p=l,d=t.indexOf(e,h),v=e.length,g=[],y=0;y<f;y+=1)g[y]=0;-1!==d&&(l=r(e,{errors:0,currentLocation:d,expectedLocation:h,distance:s}),p=Math.min(l,p),-1!==(d=t.lastIndexOf(e,h+v))&&(j=r(e,{errors:0,currentLocation:d,expectedLocation:h,distance:s}),p=Math.min(j,p))),d=-1;for(var m=[],b=1,_=v+f,x=1<<(v<=31?v-1:30),w=0;w<v;w+=1){for(var k=0,E=_;k<E;)r(e,{errors:w,currentLocation:h+E,expectedLocation:h,distance:s})<=p?k=E:_=E,E=Math.floor((_-k)/2+k);_=E;var S=Math.max(1,h-E+1),T=u?f:Math.min(h+E,f)+v,A=Array(T+2);A[T+1]=(1<<w)-1;for(var O=T;S<=O;--O){var M=O-1,C=n[t.charAt(M)];if(C&&(g[M]=1),A[O]=(A[O+1]<<1|1)&C,0!==w&&(A[O]|=(m[O+1]|m[O])<<1|1|m[O+1]),A[O]&x&&(b=r(e,{errors:w,currentLocation:M,expectedLocation:h,distance:s}))<=p){if(p=b,(d=M)<=h)break;S=Math.max(1,2*h-d)}}if(r(e,{errors:w+1,currentLocation:h,expectedLocation:h,distance:s})>p)break;m=A}var j={isMatch:0<=d,score:0===b?.001:b};return o&&(j.matchedIndices=i(g,c)),j}},function(t,e){t.exports=function(t,e){var n=void 0===(r=e.errors)?0:r,r=void 0===(i=e.currentLocation)?0:i,i=void 0===(i=e.expectedLocation)?0:i;e=void 0===(e=e.distance)?100:e,t=n/t.length,r=Math.abs(i-r);return e?t+r/e:r?1:t}},function(t,e){t.exports=function(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=[],i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===i?i=o:s||-1===i||((t=o-1)-i+1>=n&&r.push([i,t]),i=-1)}return e[o-1]&&n<=o-i&&r.push([i,o-1]),r}},function(t,e){t.exports=function(t){for(var e={},n=t.length,r=0;r<n;r+=1)e[t.charAt(r)]=0;for(var i=0;i<n;i+=1)e[t.charAt(i)]|=1<<n-i-1;return e}},function(t,e){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null==t?"":function(){if("string"==typeof t)return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}()}function i(t){return"string"==typeof t}function o(t){return"number"==typeof t}t.exports={get:function(t,e){var a=[];return function t(e,s){if(s){var l=s.indexOf("."),u=s,c=null;-1!==l&&(u=s.slice(0,l),c=s.slice(l+1));var h=e[u];if(null!=h)if(c||!i(h)&&!o(h))if(n(h))for(var f=0,p=h.length;f<p;f+=1)t(h[f],c);else c&&t(h,c);else a.push(r(h))}else a.push(e)}(t,e),a},isArray:n,isString:i,isNum:o,toString:r}}])}(ct={exports:{}}),ct.exports),pt=(ht=ft)&&ht.__esModule&&Object.prototype.hasOwnProperty.call(ht,"default")?ht.default:ht,dt=(ft.Fuse,{keys:[{name:"name",weight:.6},{name:"addressList",weight:.4}],threshold:.2}),vt=function(){function t(e){r(this,t),this.fuseSearch=null,this.levels_=null,this.searchListEntities_=[],this.searchListIcons_=[],this.searchList_=[],this.venueModel=e,this.init()}return o(t,[{key:"init",value:function(){var t=this.venueModel.getGeometries().reduce((function(t,e){return t[e.getId()]=e,t}),{});this.initEntityList(this.venueModel.entities),this.initIconList(t),this.levels_=this.venueModel.getLevels().map((function(t){return{levelId:t.getId(),levelName:t.getName(),drawingId:t.getDrawing().getId(),drawingName:t.getDrawing().getName()}})),t=[].concat(m(this.searchListEntities_),m(this.searchListIcons_)),this.searchList_=t.sort((function(t,e){return t.name.localeCompare(e.name)})),this.fuseSearch_=new pt(this.searchList_,dt)}},{key:"initEntityList",value:function(t){t=(0<arguments.length&&void 0!==t?t:[]).map((function(t){return new ut({geometries:t.getGeometries(),addressList:t.getInternalAddress()||[],name:t.getName()||"",entity:t})})),this.searchListEntities_=t}},{key:"initIconList",value:function(t){t=0<arguments.length&&void 0!==t?t:{},this.searchListIcons_=Object.values(t).filter((function(t){return t.getIcon()})).map((function(t){var e=t.getIcon();return new ut({geometries:[t],icon:e.getSVG(),name:e.ar||""})}))}},{key:"all",value:function(){return this.searchList_}},{key:"allIconTypes",value:function(){var t=this.searchListIcons_.reduce((function(t,e){return t[e.name]=e.name,t}),{});return Object.keys(t)}},{key:"find",value:function(t){return""===(t=0<arguments.length&&void 0!==t?t:"")?this.searchList_:this.fuseSearch_.search(t)}},{key:"groupByLevel",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.searchList_;return this.levels_?m(this.levels_.flatMap((function(t){return l(l({},t),{},{results:e.filter((function(e){return n=t,0<(e=e).geometries.length&&e.geometries.find((function(t){return Number(t.getLevel().getId())===Number(n.levelId)}));var n}))})}))):[]}}]),t}(),gt="Point",yt="LineString",mt="Polygon",bt="MultiPoint",_t="MultiLineString",xt="MultiPolygon",wt=Object.freeze({STANDARD:"STANDARD",FLATTEN:"FLATTEN",OUTDOOR_MAIN:"OUTDOOR_MAIN",INDOOR_MAIN:"INDOOR_MAIN",NO_OUTDOORS:"NO_OUTDOORS",FLATTEN_INDOOR_MAIN:"FLATTEN_INDOOR_MAIN",FLATTEN_OUTDOOR_COPY:"FLATTEN_OUTDOOR_COPY"}),kt=Object.freeze({THEME:"THEME",THEME_MAP:"THEME_MAP",PRESETS:"PRESETS",SDK_STRINGS:"SDK_STRINGS",ICON_FILE:"ICON_FILE",INPUT_COLORS:"INPUT_COLORS",BASE_MAP_INFO:"BASE_MAP_INFO",CONFIG_PROFILE:"CONFIG_PROFILE",NAV_THEME:"NAV_THEME",NAV_NAME_THEME:"NAV_NAME_THEME",NAV_PROP_MAP:"NAV_PROP_MAP",NAV_STRINGS:"NAV_STRINGS",NAV_THEME_MAP:"NAV_THEME_MAP",NAV_NAME_THEME_MAP:"NAV_NAME_THEME_MAP",V4_THEME_FAMILY:"V4_THEME_FAMILY",V4_MAPTYPE_THEME:"V4_MAPTYPE_THEME",ICON:"ICON",MARKER:"MARKER",PERMISSIONS:"PERMISSIONS",NAICS_ARRAY:"NAICS_ARRAY",NAICS_MAP:"NAICS_MAP"}),Et=Object.freeze((a(ke={},kt.THEME,"themeUrls"),a(ke,kt.THEME_MAP,"themeMapUrl"),a(ke,kt.PRESETS,"presetsUrl"),a(ke,kt.SDK_STRINGS,"stringsUrl"),ke)),St=Object.freeze((a(Re={},kt.THEME,"themeOverrides"),a(Re,kt.THEME_MAP,"themeMapOverrides"),a(Re,kt.PRESETS,"presetOverrides"),a(Re,kt.SDK_STRINGS,"stringsOverrides"),a(Re,kt.INPUT_COLORS,"inputColorOverrides"),Re)),Tt=(Object.freeze((a(Ot={},kt.THEME,["Modern","Standard","Factory","Navteq","TheBase","Westfield_noLabels","Westfield","TDM_noLabel"]),a(Ot,kt.SDK_STRINGS,["Standard","SDK","sdk/standard"]),a(Ot,kt.V4_THEME_FAMILY,["modern","standard"]),a(Ot,kt.V4_MAPTYPE_THEME,["Airport Terminal","Airport","Casino","College Building","College Campus","Convention","General","Hospital","Outdoor","Retail","School Building","School Campus","Shopping Mall","Traffic","Train Station"]),a(Ot,kt.NAV_THEME,["Factory","MapEditor"]),a(Ot,kt.ICON,["Multicolor","Standard","TheBase","Factory"]),Ot)),Object.freeze((a(ke={},kt.THEME,"Modern"),a(ke,kt.THEME_MAP,"Standard"),a(ke,kt.PRESETS,"Standard"),a(ke,kt.SDK_STRINGS,"Standard"),a(ke,kt.ICON_FILE,"Standard"),a(ke,kt.INPUT_COLORS,"Standard"),a(ke,kt.BASE_MAP_INFO,"Standard"),a(ke,kt.CONFIG_PROFILE,"factory"),a(ke,kt.NAV_THEME,"Factory"),a(ke,kt.NAV_NAME_THEME,"FactoryName"),a(ke,kt.NAV_PROP_MAP,"Standard"),a(ke,kt.NAV_STRINGS,"Standard"),a(ke,kt.NAV_THEME_MAP,"Standard"),a(ke,kt.NAV_NAME_THEME_MAP,"StandardName"),a(ke,kt.V4_THEME_FAMILY,"Standard"),a(ke,kt.V4_MAPTYPE_THEME,"Standard"),a(ke,kt.ICON,"Multicolor"),a(ke,kt.MARKER,"Standard"),ke))),At=Object.freeze({GEO_JSON:"GEO_JSON",V5_MAP:"V5_MAP",V5_NAV:"V5_NAV",V5_INFO:"V5_INFO",KML:"KML",SVG:"SVG",PNG:"PNG"}),Ot=Object.freeze((a(Re={},At.V5_MAP,{COMMUNITY_MAP:"COMMUNITY_MAP",COMMUNITY_DIRECTORY:"COMMUNITY_DIRECTORY",COMMUNITY_DETAIL:"COMMUNITY_DETAIL",LEVEL_GEOMETRY:"LEVEL_GEOMETRY",DRAWING_ENTITY:"DRAWING_ENTITY"}),a(Re,At.GEO_JSON,{COMMUNITY_MAP:"COMMUNITY_MAP",COMMUNITY_ENTITY:"COMMUNITY_ENTITY",PATH_LEVEL_GEOMETRY:"PATH_LEVEL_GEOMETRY",GEOJSON_LEVEL_GEOMETRY:"GEOJSON_LEVEL_GEOMETRY"}),a(Re,At.V5_NAV,{JSON_NAV:"JSON_NAV",BINARY_NAV:"BINARY_NAV",JSON_ENHANCED_NAV:"JSON_ENHANCED_NAV",BINARY_ENHANCED_NAV:"BINARY_ENHANCED_NAV"}),a(Re,At.V5_INFO,{GEOMETRY_INFO:"GEOMETRY_INFO"}),a(Re,At.SVG,{PLAIN:"PLAIN",PRETTY:"PRETTY",PRETTY_HORIZONTAL_LABEL:"PRETTY_HORIZONTAL_LABEL"}),a(Re,At.KML,{RASTER:"RASTER",VECTOR:"VECTOR",RASTER_HORIZONTAL:"RASTER_HORIZONTAL",VECTOR_HORIZONTAL:"VECTOR_HORIZONTAL"}),a(Re,At.PNG,{LOW_RESOLUTION:"LOW_RESOLUTION",HIGH_RESOLUTION:"HIGH_RESOLUTION",LOW_RESOLUTION_GEO:"LOW_RESOLUTION_GEO",HIGH_RESOLUTION_GEO:"HIGH_RESOLUTION_GEO",LOW_RESOLUTION_HORIZONTAL:"LOW_RESOLUTION_HORIZONTAL",HIGH_RESOLUTION_HORIZONTAL:"HIGH_RESOLUTION_HORIZONTAL",LOW_RESOLUTION_HORIZONTAL_GEO:"LOW_RESOLUTION_HORIZONTAL_GEO",HIGH_RESOLUTION_HORIZONTAL_GEO:"HIGH_RESOLUTION_HORIZONTAL_GEO"}),Re));function Mt(){}function Ct(){Ct.init.call(this)}function jt(t){return void 0===t._maxListeners?Ct.defaultMaxListeners:t._maxListeners}function It(t,e,n,r){var i,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener||n),i=t._events),o=i[e]):(i=t._events=new Mt,t._eventsCount=0),o?("function"==typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(r=jt(t))&&0<r&&o.length>r&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,console.warn)):(o=i[e]=n,++t._eventsCount),t}function Pt(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function Rt(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function Lt(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}Mt.prototype=Object.create(null),(Ct.EventEmitter=Ct).usingDomains=!1,Ct.prototype.domain=void 0,Ct.prototype._events=void 0,Ct.prototype._maxListeners=void 0,Ct.defaultMaxListeners=10,Ct.init=function(){this.domain=null,Ct.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Mt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ct.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Ct.prototype.getMaxListeners=function(){return jt(this)},Ct.prototype.emit=function(t,e,n,r){var i,o,a,s="error"===t,l=this._events;if(l)s=s&&null==l.error;else if(!s)return!1;if(u=this.domain,s){if(s=e,u)return(s=s||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,s.domain=u,s.domainThrown=!1,u.emit("error",s),!1;if(s instanceof Error)throw s;var u=new Error('Uncaught, unspecified "error" event. ('+s+")");throw u.context=s,u}if(!(i=l[t]))return!1;var c,h="function"==typeof i;switch(c=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var r=t.length,i=Lt(t,r),o=0;o<r;++o)i[o].call(n)}(i,h,this);break;case 2:!function(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=Lt(t,i),a=0;a<i;++a)o[a].call(n,r)}(i,h,this,e);break;case 3:!function(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,a=Lt(t,o),s=0;s<o;++s)a[s].call(n,r,i)}(i,h,this,e,n);break;case 4:!function(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var a=t.length,s=Lt(t,a),l=0;l<a;++l)s[l].call(n,r,i,o)}(i,h,this,e,n,r);break;default:for(o=new Array(c-1),a=1;a<c;a++)o[a-1]=arguments[a];!function(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=Lt(t,i),a=0;a<i;++a)o[a].apply(n,r)}(i,h,this,o)}return!0},Ct.prototype.addListener=function(t,e){return It(this,t,e,!1)},Ct.prototype.on=Ct.prototype.addListener,Ct.prototype.prependListener=function(t,e){return It(this,t,e,!0)},Ct.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Pt(this,t,e)),this},Ct.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Pt(this,t,e)),this},Ct.prototype.removeListener=function(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new Mt:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Mt,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,i);r.removeListener&&this.emit("removeListener",t,a||e)}return this},Ct.prototype.removeAllListeners=function(t){var e,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Mt,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new Mt:delete n[t]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Mt,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(;this.removeListener(t,e[e.length-1]),e[0];);return this},Ct.prototype.listeners=function(t){var e=this._events,n=e&&(n=e[t])?"function"==typeof n?[n.listener||n]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(n):[];return n},Ct.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Rt.call(t,e)},Ct.prototype.listenerCount=Rt,Ct.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var Nt="venues-ui-button--active",Dt="venues-ui-button",zt="venues-ui__drawings",Ft="data-drawing",Bt=function(){function t(e,n,i){var o=this;r(this,t),this.clickHandler=i,this.containerDiv=document.createElement("div"),this.containerDiv.setAttribute("class",zt);var a=document.createElement("div");a.setAttribute("class","trigger ".concat(Dt)),(i=document.createElement("div")).setAttribute("class","arrow arrow--down"),a.appendChild(i),a.addEventListener("click",(function(){a.classList.toggle(Nt),o.containerButtons.classList.toggle("drawings--open")})),this.containerDiv.appendChild(a),this.containerButtons=document.createElement("div"),this.containerButtons.setAttribute("class","drawings"),this.containerDiv.appendChild(this.containerButtons),n&&this.update(n),e.appendChild(this.containerDiv)}return o(t,[{key:"drawButton",value:function(t,e,n){var r=this,i=document.createElement("div");n=Number(n)===Number(t);i.setAttribute("class",n?"".concat(Dt," ").concat(Nt):Dt),i.innerHTML=e,i.setAttribute(Ft,t),i.addEventListener("click",(function(){r.switch(t),r.clickHandler(t)})),this.containerButtons.appendChild(i)}},{key:"switch",value:function(t){this.containerButtons.querySelectorAll(".".concat(zt," .").concat(Nt)).forEach((function(t){return t.setAttribute("class",Dt)})),(t=this.containerButtons.querySelector("[".concat(Ft,"='").concat(t,"']")))&&t.setAttribute("class","".concat(Dt," ").concat(Nt))}},{key:"update",value:function(t){var e=this;this.containerButtons.innerHTML="";var n=function(t){return t=t.getDrawings(),new Map(t.map((function(t){var e=t.getDisplayName()||t.getName();return[t.getId(),e]})))}(t);0<n.size&&n.forEach((function(n,r){return e.drawButton(r,n,t.getRootDrawing().getId())}))}}]),t}(),Ht="venues-ui-button--active",Ut="venues-ui-button",Vt="levels",Gt="data-level",qt="venues-ui__levels",Yt=function(){function t(e,n,i,o){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:4;r(this,t),this.clickHandler=o,this.levelButtonCount=a,this.currentScrollIndex=0,this.containerUI=document.createElement("div"),this.containerUI.setAttribute("class","".concat(qt)),this.containerButtons=document.createElement("div"),this.containerButtons.setAttribute("class",Vt),this.containerUI.appendChild(this.containerButtons),n&&this.update(n,i),e.appendChild(this.containerUI)}return o(t,[{key:"clear",value:function(){this.containerButtons.innerHTML="",this.buttonScrollUp&&(this.containerUI.removeChild(this.buttonScrollUp),this.buttonScrollUp=null),this.buttonScrollDown&&(this.containerUI.removeChild(this.buttonScrollDown),this.buttonScrollDown=null)}},{key:"drawLevelButton",value:function(t,e){var n=this,r=document.createElement("div");r.innerHTML=e,r.style.fontSize="".concat(Math.max(Math.min(28.8/e.length,11.52),10),"px"),r.style.display="block",r.setAttribute("class",Ut),r.setAttribute(Gt,t),r.addEventListener("click",(function(){n.switch(t),n.clickHandler(t)})),this.containerButtons.appendChild(r)}},{key:"drawScrollButtons",value:function(){var t=this;this.buttonScrollUp=document.createElement("div"),this.buttonScrollUp.setAttribute("class","".concat(Ut," ").concat(Ut,"--up"));var e=document.createElement("div");e.setAttribute("class","arrow arrow--up"),this.buttonScrollUp.appendChild(e),this.buttonScrollUp.addEventListener("click",(function(){return t.scroll(1)})),this.containerUI.insertBefore(this.buttonScrollUp,this.containerButtons),this.buttonScrollDown=document.createElement("div"),this.buttonScrollDown.setAttribute("class","".concat(Ut," ").concat(Ut,"--down")),(e=document.createElement("div")).setAttribute("class","arrow arrow--down"),this.buttonScrollDown.appendChild(e),this.buttonScrollDown.addEventListener("click",(function(){return t.scroll(-1)})),this.containerUI.appendChild(this.buttonScrollDown)}},{key:"scroll",value:function(t){var e,n=0<arguments.length&&void 0!==t?t:0,r=Array.from(this.containerButtons.querySelectorAll(".".concat(Ut))).reverse(),i=[];0<=n?(this.currentScrollIndex=Math.min(this.currentScrollIndex+n,r.length-this.levelButtonCount),t=Math.min(this.currentScrollIndex,r.length-this.levelButtonCount),e=Math.min(this.currentScrollIndex+this.levelButtonCount,r.length),i=r.slice(t,e)):n<0&&(this.currentScrollIndex=Math.max(this.currentScrollIndex+n,0),e=Math.max(0,this.currentScrollIndex),n=Math.min(r.length,this.currentScrollIndex+this.levelButtonCount),i=r.slice(e,n)),r.forEach((function(t){-1!==i.indexOf(t)?t.style.display="block":t.style.display="none"})),this.buttonScrollDown&&(0===this.currentScrollIndex?this.buttonScrollDown.setAttribute("disabled","disabled"):this.buttonScrollDown.removeAttribute("disabled")),this.buttonScrollUp&&(this.currentScrollIndex===r.length-this.levelButtonCount?this.buttonScrollUp.setAttribute("disabled","disabled"):this.buttonScrollUp.removeAttribute("disabled"))}},{key:"switch",value:function(t){this.containerButtons.querySelectorAll(".".concat(Ht)).forEach((function(t){return t.setAttribute("class",Ut)}));var e=this.containerButtons.querySelector(".".concat(qt," [").concat(Gt,"='").concat(t,"']"));e&&(t=Array.from(this.containerButtons.querySelectorAll(".".concat(Ut))).reverse(),e.setAttribute("class","".concat(Ut," ").concat(Ht)),((e=t.indexOf(e))<this.currentScrollIndex||e>=this.currentScrollIndex+4)&&this.scroll(e-this.currentScrollIndex))}},{key:"update",value:function(t,e){var n=this,r=(e=function(t){return new Map((0<arguments.length&&void 0!==t?t:[]).map((function(t){return[t.getZIndex(),t.getShortName()||t.getDisplayName()||t.getName()]})))}(function(t,e){return e!==wt.FLATTEN?t.getLevels():(t=t.getVenueModel().getLevelMapFlattenedByZIndex_(),Object.values(t).map((function(t){return t[0]})))}(t,e).sort((function(t,e){return e.getZIndex()-t.getZIndex()}))),t.getMainLevel().getZIndex());this.clear(),e.forEach((function(t,e){return n.drawLevelButton(e,t)})),e.size>this.levelButtonCount&&(e.size>this.levelButtonCount+1?this.currentScrollIndex=Math.min(Array.from(e).reverse().findIndex((function(t){return t[0]===r})),e.size-this.levelButtonCount):this.currentScrollIndex=0,this.drawScrollButtons(),this.scroll(0)),this.switch(r)}}]),t}(),Wt={VENUE_DATA_LOADED:"VENUE_DATA_LOADED",VENUE_MAP_DATA_LOADED:"VENUE_MAP_DATA_LOADED",VENUE_ENTITY_DATA_LOADED:"VENUE_ENTITY_DATA_LOADED",VENUE_DATA_MODEL_LOADED:"VENUE_DATA_MODEL_LOADED",VENUE_NAV_DATA_LOADED:"VENUE_NAV_DATA_LOADED",META_DATA_LOADED:"META_DATA_LOADED",META_DATA_MODEL_LOADED:"META_DATA_MODEL_LOADED",META_DATA_MODEL_UPDATED:"META_DATA_MODEL_UPDATED",VENUE_ICONS_LOADED:"VENUE_ICONS_LOADED"},Zt=(Object.freeze((a(ke={},Wt.VENUE_DATA_LOADED,{description:"event fired when all requested files along with metadata & overrides are loaded",emitTemplate:{}}),a(ke,Wt.VENUE_MAP_DATA_LOADED,{description:"event fired when requested levels, drawings & community files are loaded",emitTemplate:{}}),a(ke,Wt.VENUE_ENTITY_DATA_LOADED,{description:"event fired when requested entity data is loaded",emitTemplate:{}}),a(ke,Wt.VENUE_DATA_MODEL_LOADED,{description:"event fired when a map file is loaded",emitTemplate:{}}),a(ke,Wt.VENUE_NAV_DATA_LOADED,{description:"event fired when requested navigation product is loaded",emitTemplate:{}}),a(ke,Wt.META_DATA_LOADED,{description:"event fired when all requested meta files are loaded except icon & marker",emitTemplate:{}}),a(ke,Wt.META_DATA_MODEL_LOADED,{description:"event fired when a specific model is loaded except icon & marker",emitTemplate:{}}),a(ke,Wt.META_DATA_MODEL_UPDATED,{description:"event fired when a specific meta override is added or removed",emitTemplate:{}}),a(ke,Wt.VENUE_ICONS_LOADED,{description:"event fired when all icons of venue are loaded",emitTemplate:{}}),ke)),new Ct);function Xt(t,e){var n,r,i,o,a=0;Object.keys(e).forEach((function(s){for(n=e[s],null==(i=n.priority)&&(i=0),o=!1;!o;)a<t.length?null==(r=(r=t[a]).priority)&&(r=0):r=Number.MAX_VALUE,i<=r&&(t.splice(a,0,n),o=!0),a+=1}))}Zt.EVENT_NAME=Wt,Zt.on("newListener",(function(t){}));var Kt=Math.PI/180,$t=180/Math.PI,Jt=function(){function t(){r(this,t)}return o(t,null,[{key:"toRadians",value:function(t){return t*Kt}},{key:"toDegrees",value:function(t){return t*$t}},{key:"getInverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return(e=[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,0,0])[4]=-(e[0]*t[4]+e[2]*t[5]),e[5]=-(e[1]*t[4]+e[3]*t[5]),e}},{key:"applyTransformToPoint",value:function(t,e){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"transformProduct",value:function(t,e){var n=[0,0,0,0,0,0];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=e[1]*t[0]+e[3]*t[1],n[2]=e[0]*t[2]+e[2]*t[3],n[3]=e[1]*t[2]+e[3]*t[3],n[4]=e[0]*t[4]+e[2]*t[5]+e[4],n[5]=e[1]*t[4]+e[3]*t[5]+e[5],n}},{key:"convertLonLatToMerc",value:function(t){var e=t[0]*Kt;t=t[1]*Kt,t=Math.sin(t);return[.5+e/(2*Math.PI),.5-Math.log((1+t)/(1-t))/(4*Math.PI)]}},{key:"convertMercToLatLon",value:function(t){var e=2*Math.PI*(t[0]-.5);t=Math.atan(Math.sinh(2*Math.PI*(.5-t[1])));return[e/Kt,t/Kt]}},{key:"getTransformScale",value:function(t){return Math.sqrt(t[0]*t[3]-t[1]*t[2])}},{key:"getLonLatToMercTransform",value:function(e){var n=[1/360,0,0,-1/(360*Math.cos(e[1]*Kt)),0,0],r=t.applyTransformToPoint(n,e);e=t.convertLonLatToMerc(e);return n[4]=e[0]-r[0],n[5]=e[1]-r[1],n}},{key:"getNatToMercTransform",value:function(e){var n=[e[4],e[5]];n=t.getLonLatToMercTransform(n);return t.transformProduct(e,n)}},{key:"convertMxMy2LonLat",value:function(e,n){return e.length&&n.length?t.applyTransformToPoint(e,n):[]}},{key:"convertLonLat2MxMy",value:function(e,n){return e.length&&n.length?(e=t.getInverseTransform(e),t.applyTransformToPoint(e,n)):[]}},{key:"getFlattenedQuadraticBezierCurve",value:function(t,e,n,r){var i=[],o=3<arguments.length&&void 0!==r?r:10;o<1&&(o=6);for(var a=0;a<=o;a+=1){var s=(1-(c=a/o))*(1-c),l=2*c*(1-c),u=c*c,c=s*t[0]+l*e[0]+u*n[0];u=s*t[1]+l*e[1]+u*n[1];i.push([c,u])}return i}},{key:"getFlattenedCubicBezierCurve",value:function(t,e,n,r,i){var o=[],a=4<arguments.length&&void 0!==i?i:10;a<1&&(a=6);for(var s=0;s<=a;s+=1){var l=(1-(f=s/a))*(1-f)*(1-f),u=3*f*(1-f)*(1-f),c=3*f*f*(1-f),h=f*f*f,f=l*t[0]+u*e[0]+c*n[0]+h*r[0];h=l*t[1]+u*e[1]+c*n[1]+h*r[1];o.push([f,h])}return o}},{key:"getRectangularCoordinatesOfLabelArea",value:function(e,n,r){var i=!(2<arguments.length&&void 0!==r)||r,o=(u=y(e,6))[0],a=u[1],s=u[2],l=u[3],u=(r=u[5],t.getDeltaLonLatForMeterAtGivenLonLat(o,a));e=e[4];return i?(r&&(e*=-1),null!=n&&(e=(e+=n<0?2*Math.PI+n:n)<0?2*Math.PI+e:e)):e=0,t.getRectVerticesFromSignatureRectRepresentation([o,a],{xLength:s,yLength:l},e,u)}},{key:"getRotatedPoint",value:function(t,e,n,r){var i=!(2<arguments.length&&void 0!==n)||n,o=3<arguments.length&&void 0!==r?r:[0,0],a=Math.cos(e);n=Math.sin(e),r=t[0]-o[0],e=t[1]-o[1],t=[];return[(t=i?[r*a+e*n,e*a-r*n]:[r*a-e*n,e*a+r*n])[0]+o[0],t[1]+o[1]]}},{key:"getRectVerticesFromSignatureRectRepresentation",value:function(e,n,r,i,o){var a=n.xLength,s=(n=n.yLength,!(4<arguments.length&&void 0!==o)||o),l=(e=y(e,2))[0],u=e[1],c=a/2,h=n/2,f=(i=y(i,2))[0],p=i[1];return[[1,1],[-1,1],[-1,-1],[1,-1]].map((function(t){return[t[0]*c,t[1]*h]})).map((function(e){return t.getRotatedPoint(e,r,s)})).map((function(t){return[t[0]*f,t[1]*p]})).map((function(t){return[t[0]+l,t[1]+u]}))}},{key:"getScaleFactorForRectInSpace",value:function(t,e,n,r){return(r=e/r)<(n=t/n)?r:n}},{key:"getDeltaLonLatForMeterAtGivenLonLat",value:function(t,e){return[1/6371e3*(180/Math.PI)/Math.cos(e*Math.PI/180),1/6371e3*(180/Math.PI)]}},{key:"getBoundingBoxVertices",value:function(t){var e=0<arguments.length&&void 0!==t?t:[];t=[[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY]];return e.reduce((function(t,e){return[[Math.min(e[0],t[0][0]),Math.min(e[1],t[0][1])],[Math.max(e[0],t[1][0]),Math.max(e[1],t[1][1])]]}),t)}},{key:"isPointInBoundingBox",value:function(t,e){if(t&&e){var n=(o=y(t,2))[0],r=o[1],i=y(e,2),o=(t=y(i[0],2))[0];e=t[1],i=(t=y(i[1],2))[0],t=t[1];return n<=i&&o<=n&&r<=t&&e<=r}}},{key:"isPointOnLineSegment",value:function(t,e,n){var r=(o=y(t,2))[0],i=o[1],o=(t=(a=y(e,2))[0],a[1]),a=(e=y(n,2))[0];e=(o-i)*((n=e[1])-i)<=0;return t===a?t===r&&e:i-n==(n-o)/(a-t)*(r-a)&&e}},{key:"rayIntersectLineSegment",value:function(t,e,n){var r=(o=y(t,2))[0],i=o[1],o=(t=y(e,2))[0];e=t[1],n=(t=y(n,2))[0],t=t[1];return o!==n&&(0<=(o=(r-o)/(n-o))&&o<1&&i<(t-e)*o+e)}},{key:"isPointInPolygon",value:function(e,n){var r=(e=y(e,2))[0],i=e[1];if((e=n.length)<3)return!1;var o=0,a=n[e-1];return n.forEach((function(e){t.rayIntersectLineSegment([r,i],a,e)&&(o+=1),a=e})),o%2!=0}},{key:"isPointOnLineString",value:function(e,n){var r=(e=y(e,2))[0],i=e[1],o=n.length;if(o<2)return!1;for(var a=n[o-1],s=0;s<o;s+=1){var l=n[s];if(t.isPointOnLineSegment([r,i],a,l))return!0;a=n[s]}return!1}},{key:"getAreaOfPolygon",value:function(t){var e=t.length;if(e<3)return null;var n=0,r=t[e-1];return t.forEach((function(t){var e,i,o,a;n+=.5*(i=t,a=(o=y(r,2))[0],e=o[1],i=(o=y(i,2))[0],a*o[1]-e*i),r=t})),n}},{key:"getDistanceBetweenPoints",value:function(t,e){t=(n=y(t,2))[0];var n=n[1];t-=(e=y(e,2))[0],e=n-e[1];return Math.sqrt(t*t+e*e)}}]),t}(),Qt=function(){function t(){r(this,t)}return o(t,null,[{key:"get",value:function(t,e){return fetch(t,1<arguments.length&&void 0!==e?e:{method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(new Error("Call failed for ".concat(t," : ").concat(e.status," ").concat(e.statusText)))}))}}]),t}(),te=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];r(this,t),e&&Object.assign(this,e),this.splitIconGeomBasisGeomType_=n,this.splitIconGeomBasisGeomType_&&this.splitMultiGeom()}return o(t,[{key:"flattenIconShape",value:function(t){var e,n=0<arguments.length&&void 0!==t&&t;this.isFlattened||(e=[],(t=this.g)&&t.forEach((function(t){var n,r=[];t.shp&&t.shp.forEach((function(t){var e,i=y(t,7),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],h=i[6];switch(o){case 0:case 1:r.push(t),n=[a,s];break;case 2:e=Jt.getFlattenedQuadraticBezierCurve(n,[a,s],[l,u]),n=[l,u];break;case 3:e=Jt.getFlattenedCubicBezierCurve(n,[a,s],[l,u],[c,h]),n=[c,h];break;case 4:r.push(t),n=void 0}e&&(e.splice(0,2),e.forEach((function(t){r.push([1].concat(m(t)))})))})),e.push(l(l({},t),{shp:r}))})),n&&(this.g_original=t),this.g=e,this.isFlattened=!0)}},{key:"splitMultiGeom",value:function(){var e=this;if(this.isIconGeomSplittedBasisGeomType)return this.isIconWithHole;this.splitIconGeomBasisGeomType_||(this.splitIconGeomBasisGeomType_=!0);var n=this.g,r=[],i=[],o=!1,a=!0,s=-1;return!!n&&(n.forEach((function(n){var u,c=[],h=[];3===n.gt||(n.shp.forEach((function(t){var e=y(t,7),o=e[0],f=e[1],p=e[2],d=e[3],v=e[4],g=e[5],b=e[6],_=null;switch(o){case 0:c.push([f,p]),u=[f,p],a||1!==s&&0!==s||r.push(l(l({},n),{},{st:2},{gt:s,shp:i})),s=0,a=!(i=[]),i.push(t);break;case 1:c.push([f,p]),u=[f,p],2===s||0!==s&&1!==s||(s=1,i.push(t));break;case 2:(_=Jt.getFlattenedQuadraticBezierCurve(u,[f,p],[d,v],15)).splice(0,2),c.push.apply(c,m(_)),u=[d,v],2===s||0!==s&&1!==s||(s=1,i.push(t));break;case 3:(_=Jt.getFlattenedCubicBezierCurve(u,[f,p],[d,v],[g,b],15)).splice(0,2),c.push.apply(c,m(_)),u=[g,b],2===s||0!==s&&1!==s||(s=1,i.push(t));break;case 4:i.push(t),s=2,a=!0,2<c.length&&h.push({shp:i,area:Jt.getAreaOfPolygon(c),points:c,children:[]}),u=void 0,c=[]}}),e),t.getLinkedParentChildPolygonArray(h).forEach((function(t){var e=[];e.push.apply(e,m(t.shp)),t.children.forEach((function(t){o=!0,e.push.apply(e,m(t.shp))})),r.push(l(l({},n),{},{st:2},{gt:2,shp:e}))})))}),this),this.g=r,this.isIconGeomSplittedBasisGeomType=!0,this.isIconWithHole=o,this.isIconWithHole)}},{key:"getIconWithOriginTranslatedToIconCenter",value:function(){var e=new t(this,this.splitIconGeomBasisGeomType_),n=Number.parseInt(e.w,10)/2*1,r=Number.parseInt(e.h,10)/2*1;return e.g=[],this.g&&this.g.forEach((function(t){var i=[];t.shp&&t.shp.forEach((function(t){var e=y(t,7),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6];switch(o){case 0:case 1:i.push([o,a-n,s-r]);break;case 2:i.push([o,a-n,s-r,l-n,u-r]);break;case 3:i.push([o,a-n,s-r,l-n,u-r,c-n,h-r]);break;case 4:i.push(t)}})),e.g.push(l(l({},t),{shp:i}))})),e}},{key:"getTransformedIconThatFitsInLabelArea",value:function(e,n,r){var i=1<arguments.length&&void 0!==n?n:0,o=(n=!(2<arguments.length&&void 0!==r)||r,r=new t(this,this.splitIconGeomBasisGeomType_),t.getParamForTransformedIconThatFitsInLabelArea(r,e,i,n));n=o.scaleFactor;r.w=n,r.h=n;var a=[];return r.g&&r.g.forEach((function(e){var n=[];e.shp&&e.shp.forEach((function(e){var r=(c=y(e,7))[0],i=c[1],a=c[2],s=c[3],l=c[4],u=c[5],c=c[6],h=(a=y(t.getTransformedIconPointThatFitsInLabelArea([i,a],o),2))[0],f=a[1],p=(l=y(t.getTransformedIconPointThatFitsInLabelArea([s,l],o),2))[0],d=l[1],v=(c=y(t.getTransformedIconPointThatFitsInLabelArea([u,c],o),2))[0],g=c[1];switch(r){case 0:case 1:n.push([r,h,f]);break;case 2:n.push([r,h,f,p,d]);break;case 3:n.push([r,h,f,p,d,v,g]);break;case 4:n.push(e)}})),a.push(l(l({},e),{shp:n}))})),r.g=a,r}},{key:"getSVG",value:function(t){var e,n,r='<?xml version="1.0" encoding="utf-8"?>',i=this.w||50,o=this.h||50,s=this.g;if(r+='<svg viewBox="0 0 '.concat(i," ").concat(o,'" xmlns="http://www.w3.org/2000/svg" width="').concat(i,'" height="').concat(o,'">'),r+="<g>",s&&0<s.length)for(var l=0;l<s.length;l+=1){r+="<path ",s[l].gw&&(r+=' stroke-width="'.concat(s[l].gw,'"')),t?r+=' fill="'.concat(t,'"'):s[l].os&&s[l].os.m?r+=' fill="'.concat(s[l].os.m,'"'):r+=0===l?' fill="#006BB7"':' fill="#ffffff"',r+=' d="';for(var u=0;u<s[l].shp.length;u+=1)for(var c=0;c<s[l].shp[u].length;c+=1)r+=0===c?(e=s[l].shp[u][c],void 0,(a(n={},0,"M"),a(n,1,"L"),a(n,2,"Q"),a(n,3,"C"),a(n,4,"Z"),n)[e]):s[l].shp[u][c],0===c||c+1===s[l].shp[u][c].length?r+="":r+=" ";r+='" ></path>'}return(r+="</g>")+"</svg>"}}],[{key:"getParamForTransformedIconThatFitsInLabelArea",value:function(t,e,n,r){var i=2<arguments.length&&void 0!==n?n:0,o=!(3<arguments.length&&void 0!==r)||r,a=(l=y(e,5))[0],s=l[1],l=(n=l[2],r=l[3],e=l[4],(o?0:e)+i);e=(o=y(Jt.getDeltaLonLatForMeterAtGivenLonLat(a,s),2))[0],i=o[1];return{labelCenterX:a,labelCenterY:s,iconWidth:t=(o=[Number.parseInt(t.w,10),Number.parseInt(t.h,10)])[0],iconHeight:o=o[1],deltaLonPerMeter:e,deltaLatPerMeter:i,scaleFactor:Jt.getScaleFactorForRectInSpace(n,r,t,o),effectiveRotation:l}}},{key:"getTransformedIconPointThatFitsInLabelArea",value:function(t,e){var n=(u=y(t,2))[0],r=u[1];if(void 0===n||void 0===r||null===n||null===r)return[];var i=e.labelCenterX,o=e.labelCenterY,a=e.iconWidth,s=e.iconHeight,l=e.deltaLonPerMeter,u=(t=e.deltaLatPerMeter,e.scaleFactor);e=e.effectiveRotation,n=n,r=r;return n-=+a/2,r-=+s/2,r*=-1,l=n*=u*l,t=r*=u*t,n=l*Math.cos(e)+t*Math.sin(e),r=t*Math.cos(e)-l*Math.sin(e),[n+=i,r+=o]}},{key:"getWebGLSuitableCoordinatesOfIconSubGeom",value:function(t){var e,n=t.st,r=t.gt,i=t.shp,o=[];if(2!==n||!i||!r)return o;switch(r){case 2:i.forEach((function(t){var n=y(t,3),r=(t=n[0],n[1]),i=n[2];switch(t){case 0:(e=[]).push([r,i]);break;case 1:e.push([r,i]);break;case 4:o.push(e)}}));break;case 1:i.forEach((function(t){t=(e=y(t,3))[1];var e=e[2];o.push([t,e])}))}return o}},{key:"getLinkedParentChildPolygonArray",value:function(t){var e=[];t.sort((function(t,e){return Math.abs(e.area)-Math.abs(t.area)}));for(var n=0;n<t.length;n+=1){for(var r=null,i=t[n],o=i.points[0],a=n-1;0<=a;--a){var s=t[a];if(i.area*s.area<0&&(Jt.isPointInPolygon(o,s.points)||Jt.isPointOnLineString(o,s.points))){r=s;break}}(r?r.children:e).push(i)}return e}}]),t}(),ee=Object.freeze({TEXT:"",ICON:"icon:",IMAGE:"icon:"}),ne=Object.freeze({VALUE:"<value>",SHORT:"<short>",LONG:"<long>",FULL:"<full>"}),re=Object.freeze({NONE:0,TEXT:1,ICON:2,IMAGE:3}),ie=Zt.EVENT_NAME,oe=["resetBaseMetaFileRules_","updateOverridableComponents"],ae=function(){function t(e,n,i){if(r(this,t),!e)throw new Error("one should not instantiate object of this class without apt payload");var o=function(t){var e=[];return oe.forEach((function(n){t[n]||e.push(n)})),0<e.length?e:null}(this);if(o)throw new Error("function definition missing in the implementation ".concat(o.join()));this.metaFileIdentifier=n,this.metaInformation_=i,this.basedata_=l({},e),this.baseOverrides_=[],this.customOverrides_=[],this.resetBaseMetaFileRules_()}return o(t,[{key:"applyOverride",value:function(t,e,n){var r=!(1<arguments.length&&void 0!==e)||e;e=2<arguments.length&&void 0!==n&&n;t&&(e||(r?this.customOverrides_:this.baseOverrides_).push(t),this.updateOverridableComponents(t),n=this.getMetaInformation(),!e&&n&&n.config.emitEventOnOverrideUpdate&&(t={applyOverride:!0,metaFileIdentifier:this.metaFileIdentifier,isCustomOverride:r,metaInformation:n,overrideJson:t},Zt.emit(ie.META_DATA_MODEL_UPDATED,t)))}},{key:"undoOverride",value:function(){var t,e,n=this;0!==this.customOverrides_.length&&(e=this.customOverrides_.pop(),this.resetBaseMetaFileRules_(),this.baseOverrides_.forEach((function(t){return n.applyOverride(t,!1,!0)})),this.customOverrides_.forEach((function(t){return n.applyOverride(t,!0,!0)})),(t=this.getMetaInformation())&&t.config.emitEventOnOverrideUpdate&&(e={metaFileIdentifier:this.metaFileIdentifier,undoOverride:!0,metaInformation:t,overrideJson:e},Zt.emit(ie.META_DATA_MODEL_UPDATED,e)))}},{key:"getMetaInformation",value:function(){return this.metaInformation_}},{key:"basedata_",get:function(){return this.basedata__},set:function(t){this.basedata__||(this.basedata__=t)}}]),t}(),se=kt.PRESETS,le=function(){u(e,ae);var t=v(e);function e(n,i){return r(this,e),t.call(this,n,se,i)}return o(e,[{key:"resetBaseMetaFileRules_",value:function(){this.property_trees=null,this.named_groups=null,this.named_keys=null,this.updateOverridableComponents(this.basedata_)}},{key:"updateOverridableComponents",value:function(t){this.property_trees=t.property_trees,this.named_groups=t.named_groups,this.named_keys=t.named_keys}},{key:"getPropertyTree",value:function(t){var e,n=this,r=(t=this.property_trees[t],[]);return t.forEach((function(t){switch(t.input){case"named_group":e=n.getNamedGroup(n.getKeyKey(t)),r=[].concat(m(r),m(e));break;case"named_key":var i;(e=n.getKeyName(t))?((i=n.getNamedKey(e)).k=n.getKeyKey(t),i.name=e,r.push(i)):r.push(n.getNamedKey(n.getKeyKey(t)));break;default:r.push(t)}}),this),r}},{key:"getNamedGroup",value:function(t){return this.named_groups[t]}},{key:"getNamedKey",value:function(t){return this.named_keys[t]}}],[{key:"getMetaFileIdentifier",value:function(){return se}}]),e}(),ue=kt.SDK_STRINGS,ce=function(){u(e,ae);var t=v(e);function e(n,i){return r(this,e),t.call(this,n,ue,i)}return o(e,[{key:"resetBaseMetaFileRules_",value:function(){this.stringsTable={},this.updateOverridableComponents(this.basedata_)}},{key:"updateOverridableComponents",value:function(t){t&&this.updateTranslationsStringMap(t.translations)}},{key:"updateTranslationsStringMap",value:function(t){var e=this;t&&Object.keys(t).forEach((function(n){e.addToStringsTable(n,t[n])}),this)}},{key:"addToStringsTable",value:function(t,e){this.stringsTable[t]=e}},{key:"translate",value:function(t,e){var n,r=e;return!this.stringsTable||(n=this.stringsTable[t])&&(r=n.en||n.en||(0<(t=Object.keys(n)).length?n[t.pop()]:e)),r}}],[{key:"getMetaFileIdentifier",value:function(){return ue}}]),e}(),he=kt.THEME,fe=function(){u(e,ae);var t=v(e);function e(n,i){return r(this,e),t.call(this,n,he,i)}return o(e,[{key:"resetBaseMetaFileRules_",value:function(){var t=this.basedata_;this.ft=t.ft,this.name=t.nm,this.iurl=t.iurl,this.styleMap={},this.iconInfoMap={},this.labelStyleMap={},this.markerMap={},this.updateOverridableComponents(t)}},{key:"updateOverridableComponents",value:function(t){t&&(this.updateStyleMap(t.s),this.updateIconInfoMap(t.i,t.iurl),this.updateLabelStyleMap(t.l),this.updateMarkerMap(t.m))}},{key:"updateStyleMap",value:function(t){this.styleMap=l(l({},this.styleMap),t)}},{key:"updateIconInfoMap",value:function(t,e){var n=this;t&&Object.keys(t).forEach((function(r){var i=t[r],o=e||n.iurl;o&&i.rurl&&(i.url=o+i.rurl),n.iconInfoMap[r]=i}),this)}},{key:"updateLabelStyleMap",value:function(t){this.labelStyleMap=l(l({},this.labelStyleMap),t)}},{key:"updateMarkerMap",value:function(t){this.markerMap=l(l({},this.markerMap),t)}},{key:"getStyleMap",value:function(){return this.styleMap}},{key:"getGeometryStyle",value:function(t){return this.styleMap?this.styleMap[t]:null}},{key:"getGeometryDefaultStyle",value:function(){return this.styleMap?this.styleMap.Object:null}},{key:"getLabelStyle",value:function(t){return this.labelStyleMap?this.labelStyleMap[t]:null}},{key:"getLabelDefaultStyle",value:function(){return this.labelStyleMap?this.labelStyleMap.default:null}},{key:"getMarker",value:function(t){return this.markerMap&&t?this.markerMap[t]:null}},{key:"getIconInfo",value:function(t){return this.iconInfoMap&&t?this.iconInfoMap[t]:null}}],[{key:"getMetaFileIdentifier",value:function(){return he}}]),e}(),pe=function(){function t(){r(this,t)}return o(t,null,[{key:"createShortAddress",value:function(t){return t&&Array.isArray(t)?t[1]:null}},{key:"createLongAddress",value:function(t){return t&&Array.isArray(t)?t[0]+" "+t[1]:null}},{key:"createFullAddress",value:function(t){return t&&Array.isArray(t)?(3===t.length?t[2]+" ":"")+(t[0]+" ")+t[1]:null}}]),t}(),de=kt.THEME_MAP,ve=function(){u(e,ae);var t=v(e);function e(n,i){return r(this,e),t.call(this,n,de,i)}return o(e,[{key:"resetBaseMetaFileRules_",value:function(){var t=this.basedata_;this.ft=t.ft,this.styleTreeList=[],this.labelTreeList=[],this.updateOverridableComponents(t)}},{key:"updateOverridableComponents",value:function(t){this.updateLabelTreeList(t.label),this.updateStyleTreeList(t.style)}},{key:"updateLabelTreeList",value:function(t){t&&Xt(this.labelTreeList,t)}},{key:"updateStyleTreeList",value:function(t){t&&Xt(this.styleTreeList,t)}}],[{key:"getMetaFileIdentifier",value:function(){return de}},{key:"extractThemeMapPayload",value:function(t){return{labelType:t.lt,labelRef:t.r,styleName:t.n}}},{key:"getGeomStyleLookupTag",value:function(t,e){return(t=t?t.styleName:null)===ne.VALUE?e:t}},{key:"getLabelRefConstructed",value:function(t,e,n){var r=t;switch(t){case ne.VALUE:r=n;break;case ne.SHORT:r=pe.createShortAddress(e);break;case ne.LONG:r=pe.createLongAddress(e);break;case ne.FULL:r=pe.createFullAddress(e)}return r}},{key:"getLabelInfoConstructed",value:function(t,e,n,r){var i={lt:t,entry:n};switch(t){case re.NONE:break;case re.TEXT:n.trans?i.ar=e:i.r=e;break;case re.ICON:i.iconIdentifier=e,r?i=l(l({},r),i):i.error=!0;break;case re.IMAGE:i.url=e;break;default:i=null}return i}}]),e}(),ge=kt.THEME,ye=kt.THEME_MAP,me=kt.PRESETS,be=kt.SDK_STRINGS,_e=function(){function t(){r(this,t),this.config=Object.seal({emitEventOnOverrideUpdate:!0}),this.iconCache={},this.imageCache={},this.releaseSettings_={}}return o(t,[{key:"instantiateMetaFileAccessor_",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];switch(t){case ge:this[ge]=p(fe,n.concat([this]));break;case ye:this[ye]=p(ve,n.concat([this]));break;case me:this[me]=p(le,n.concat([this]));break;case be:this[be]=p(ce,n.concat([this]));break;default:return null}return this[t]}},{key:"applyOverride",value:function(t,e){this[t]&&this[t].applyOverride(e)}},{key:"undoOverride",value:function(t){this[t]&&this[t].undoOverride()}},{key:"getTheme",value:function(){return this[ge]||{}}},{key:"getThemeMap",value:function(){return this[ye]||{}}},{key:"getPresets",value:function(){return this[me]||{}}},{key:"getStrings",value:function(){return this[be]||{}}},{key:"getIcon",value:function(t){return t&&t.iconIdentifier?this.iconCache[t.iconIdentifier]:null}},{key:"getImage",value:function(t){return this.imageCache[t]}},{key:"extractGeomStyle",value:function(t){var e=t.valueEntry;t=t.value,e=ve.extractThemeMapPayload(e),t=ve.getGeomStyleLookupTag(e,t);return this.getTheme()?this.getTheme().getGeometryStyle(t):null}},{key:"getStyle",value:function(t,e){var n=this,r=1<arguments.length&&void 0!==e&&e,i=this.getThemeMap().styleTreeList,o=this.processValueEntry_.bind(this);if(null===i||0===i.length||!this.getTheme())return null;e=this.getTheme().getGeometryDefaultStyle();var a=this.extractGeomStyle.bind(this),s=t.getAddress(),l=t.getEntities(),u=null,c=null,h={};return l&&0<l.length?i.find((function(e){return c=l.find((function(n){return u=o({geometry:t,entity:n,address:s,valueEntry:e,value:void 0,returnValueFunction:a,valueEntryIdentified:h})}),n)}),this):i.find((function(e){return u=o({geometry:t,entity:c,address:s,valueEntry:e,value:void 0,returnValueFunction:a,valueEntryIdentified:h})}),this),u||r||(u=e),u?JSON.parse(JSON.stringify(u)):void 0}},{key:"getLabelValue",value:function(t){var e=t.address,n=t.valueEntry,r=t.value,i=(t=(i=ve.extractThemeMapPayload(n)).labelType,i.labelRef);e=ve.getLabelRefConstructed(i,e,r),r=t===re.ICON?this.getTheme().getIconInfo(e):null;return(r=ve.getLabelInfoConstructed(t,e,n,r))?JSON.parse(JSON.stringify(r)):void 0}},{key:"convertLabelToText",value:function(t){if(t){var e,n=t.r,r=t.ar;t=t.lt;if(n)return n;if(r){switch(t){case re.TEXT:e=ee.TEXT+r;break;case re.ICON:e=ee.ICON+r;break;case re.IMAGE:e=ee.IMAGE+r;break;default:return null}return this.getStrings().translate(e,r)}}return null}},{key:"getLabelStyle",value:function(t,e){var n,r=1<arguments.length&&void 0!==e&&e,i=this.getTheme(),o=i.getLabelDefaultStyle(),a={};return t&&(n=t.t,e=t.zmin,t=t.l,n&&(a.t=n),e&&(a.zmin=e),(t=i.getLabelStyle(t))&&(a=l(l({},a),t))),a||r||(a=o),a}},{key:"getLabelConstantsSet_",value:function(){var t=this.getThemeMap().labelTreeList,e=this.processValueEntry_.bind(this);return null==t||0===t.length?{isInsufficientInput:!0}:{labelTreeList:t,returnValueFunction:this.getLabelValue.bind(this),processValueEntry:e}}},{key:"getGeometryLabelInfo",value:function(t){var e=this,n=this.getLabelConstantsSet_(),r=n.isInsufficientInput,i=n.labelTreeList,o=n.returnValueFunction,a=n.processValueEntry;if(r)return null;var s=t.getAddress(),l=null;return i.find((function(n){return(l=a({geometry:t,address:s,valueEntry:n,returnValueFunction:o}))&&(l.r=e.convertLabelToText(l)),l})),l?JSON.parse(JSON.stringify(l)):void 0}},{key:"getEntityLabelInfo",value:function(t){var e=this.getLabelConstantsSet_(),n=e.isInsufficientInput,r=e.labelTreeList,i=e.returnValueFunction,o=e.processValueEntry;if(n)return null;var a=null;return r.find((function(e){return a=o({entity:t,valueEntry:e,returnValueFunction:i})})),a?JSON.parse(JSON.stringify(a)):void 0}},{key:"getLabelInfo",value:function(t){var e=this,n=this.getLabelConstantsSet_(),r=n.isInsufficientInput,i=n.labelTreeList,o=n.returnValueFunction,a=n.processValueEntry;if(r)return null;var s,l,u=t.getAddress(),c=t.getEntities(),h=null;return c&&1<c.length?(s=null,i.find((function(n){var r,i=null,l=!1;return c.forEach((function(t){r=a({entity:t,valueEntry:n,returnValueFunction:o}),(i=e.convertLabelToText(r))&&0<i.length&&(s?s+=", "+i:(s=i,l=!0))}),e),l||(r=a({geometry:t,address:u,valueEntry:n,returnValueFunction:o}),(i=e.convertLabelToText(r))&&0<i.length&&(s?s+=", "+i:s=i,l=!0)),l&&(h={lt:e.TEXT_LABEL_TYPE,r:s}),l}),this)):(l=c?c[0]:null,i.find((function(n){return(h=a({geometry:t,entity:l,address:u,valueEntry:n,returnValueFunction:o}))&&(h.r=e.convertLabelToText(h)),h}),this)),h?JSON.parse(JSON.stringify(h)):void 0}},{key:"processValueEntry_",value:function(t){var e=this,n=t.geometry,r=t.entity,i=t.address,o=t.valueEntry,a=t.value,s=t.returnValueFunction,l=null;return void 0!==(t=o.ks)&&t.find((function(t){var o;if(t.gk&&n?(a=t.gk,o=n.properties[a]):t.ek&&r?(a=t.ek,o=r.properties[a]):t.ak&&i&&(a=t.ak)===i[0]&&(o=y(i,2)[1]),void 0!==o){if(t.v){var a=t.v[o];if(void 0!==a&&void 0!==(l=e.processValueEntry_({geometry:n,entity:r,address:i,valueEntry:a,value:o,returnValueFunction:s})))return!0}if(void 0!==(l=s({geometry:n,entity:r,address:i,valueEntry:t,value:o})))return!0}return!1}),this)?l:s?s({geometry:n,entity:r,address:i,valueEntry:o,value:a}):l}},{key:"setIcon",value:function(t,e){t&&e&&(this.iconCache[t]=e)}},{key:"setReleaseSettings_",value:function(t){this.releaseSettings_=t}}]),t}(),xe=(Re={NODES_LB:"mfs.micello.com",US_1:"mfs-us-1.micello.com",US_2:"mfs-us-2.micello.com",AU_1:"mfs-au-1.micello.com",AU_2:"mfs-au-2.micello.com",EU_1:"mfs-eu-1.micello.com",SG_1:"mfs-sg-1.micello.com",HUB:"mfs-hub-master.micello.com",PREVIEW:"preview.micello.com/mfs",FACTORY:"factory-mfs.micello.com",CIT:"integration.mfs.hub.venues.ext.here.com",STG:"alpha.mfs.hub.venues.ext.here.com"}).HUB,we=Object.freeze({MFILE:"MFILE",MVAR:"MVAR",MPATH:"MPATH",MKEY:"MKEY",MPATTERN:"MPATTERN",MPACKAGE:"MPACKAGE"}),ke=(Object.freeze((a(ke={},we.MFILE,"/mfile"),a(ke,we.MVAR,"/mvar"),a(ke,we.MPATH,"/mpath"),a(ke,we.MKEY,"/mkey"),a(ke,we.MPATTERN,"/mpattern"),a(ke,we.MPACKAGE,"/mpackage"),ke)),Object.freeze(Object.values(Re).reduce((function(t,e){return l(l({},t),{},a({},e,{key:null}))}),{}))),Ee=Object.freeze({apiKey:null,dataApiType:"MFS",fileHost:xe,queryParamMap:ke}),Se=At.GEO_JSON,Te=(Re=Ot[Se]).COMMUNITY_MAP,Ae=Re.COMMUNITY_ENTITY,Oe=Re.GEOJSON_LEVEL_GEOMETRY,Me=function(){function t(e){r(this,t),this.baseApi=e}return o(t,[{key:"getBaseAPI",value:function(){return this.baseApi}},{key:"getCommunityMap",value:function(t,e,n){return this.baseApi.fetch(this.baseApi.getMapProductFileUrl(t,Se,Te,null,e,n))}},{key:"getCommunityEntity",value:function(t,e,n){return this.baseApi.fetch(this.baseApi.getMapProductFileUrl(t,Se,Ae,null,e,n))}},{key:"getGeoJsonLevelGeometry",value:function(t,e,n,r){return e="/".concat(e),this.baseApi.fetch(this.baseApi.getMapProductFileUrl(t,Se,Oe,e,n,r))}}]),t}(),Ce=Object.freeze({MAP:"MAP",META:"META",CUSTOMER:"CUSTOMER"}),je=Object.freeze((a(ke={},Ce.MAP,"/map"),a(ke,Ce.META,"/meta"),a(ke,Ce.CUSTOMER,"/customer"),ke)),Ie=Object.freeze({METACONFIG:"METACONFIG",OVERRIDES:"OVERRIDES",DATAHOSTS:"DATAHOSTS"}),Pe=Object.freeze((a(Ot={},Ie.METACONFIG,"/metaConfig"),a(Ot,Ie.OVERRIDES,"/overrides"),a(Ot,Ie.DATAHOSTS,"/map/dataHosts"),Ot)),Re=Object.freeze({V4:"V4",V5:"V5"}),Le=(Object.freeze((a(ke={},Re.V4,"/v4"),a(ke,Re.V5,"/v5"),ke)),Object.freeze((a(Ot={},kt.THEME,"/theme/v5"),a(Ot,kt.THEME_MAP,"/thememap/v5"),a(Ot,kt.PRESETS,"/presets/v5"),a(Ot,kt.SDK_STRINGS,"/strings/v5"),a(Ot,kt.ICON_FILE,"/iconfile/v5"),a(Ot,kt.INPUT_COLORS,"/miceditor/inputcolors"),a(Ot,kt.BASE_MAP_INFO,"/miceditor/basemapinfo"),a(Ot,kt.CONFIG_PROFILE,"/miceditor/configprofile"),a(Ot,kt.NAV_THEME,"/navtheme/v5"),a(Ot,kt.NAV_NAME_THEME,"/navtheme/v5"),a(Ot,kt.NAV_PROP_MAP,"/navpropmap/v5"),a(Ot,kt.NAV_STRINGS,"/strings/v5/nav"),a(Ot,kt.NAV_THEME_MAP,"/navthememap/v5"),a(Ot,kt.NAV_NAME_THEME_MAP,"/navthememap/v5"),a(Ot,kt.V4_THEME_FAMILY,"/theme/v4"),a(Ot,kt.V4_MAPTYPE_THEME,"/theme/v4"),a(Ot,kt.ICON,"/theme/icon/v5"),a(Ot,kt.MARKER,"/theme/marker"),a(Ot,kt.PERMISSIONS,"/auth/stringroles"),a(Ot,kt.NAICS_ARRAY,"/naics/2012/array"),a(Ot,kt.NAICS_MAP,"/naics/2012/map"),Ot))),Ne=Object.freeze((a(Re={},At.GEO_JSON,"/geojson"),a(Re,At.V5_MAP,"/v5_map"),a(Re,At.V5_NAV,"/v5_nav"),a(Re,At.V5_INFO,"/v5_info"),a(Re,At.KML,"/kml"),a(Re,At.SVG,"/svg"),a(Re,At.PNG,"/png"),Re)),De=Object.freeze((a(ke={},At.V5_MAP,{COMMUNITY_MAP:"/com-map",COMMUNITY_DIRECTORY:"/com-dir",COMMUNITY_DETAIL:"/com-detail",LEVEL_GEOMETRY:"/level-geom",DRAWING_ENTITY:"/drawing-entity"}),a(ke,At.GEO_JSON,{COMMUNITY_MAP:"/com-map",COMMUNITY_ENTITY:"/com-entity",PATH_LEVEL_GEOMETRY:"/path-level-geom",GEOJSON_LEVEL_GEOMETRY:"/geojson-level-geom"}),a(ke,At.V5_NAV,{JSON_NAV:"/json",BINARY_NAV:"/bin",JSON_ENHANCED_NAV:"/json-enh",BINARY_ENHANCED_NAV:"/bin-enh"}),a(ke,At.V5_NAV,{JSON_NAV:"/json",BINARY_NAV:"/bin",JSON_ENHANCED_NAV:"/json-enh",BINARY_ENHANCED_NAV:"/bin-enh"}),a(ke,At.V5_INFO,{GEOMETRY_INFO:"/geom-info"}),a(ke,At.SVG,{PLAIN:"/plain",PRETTY:"/pretty",PRETTY_HORIZONTAL_LABEL:"/pretty"}),a(ke,At.KML,{RASTER:"/raster",RASTER_HORIZONTAL:"/raster",VECTOR:"/vector",VECTOR_HORIZONTAL:"/vector"}),a(ke,At.PNG,{LOW_RESOLUTION:"/lo-res",HIGH_RESOLUTION:"/high-res",LOW_RESOLUTION_GEO:"/lo-res-geo",HIGH_RESOLUTION_GEO:"/high-res-geo",LOW_RESOLUTION_HORIZONTAL:"/lo-res",HIGH_RESOLUTION_HORIZONTAL:"/high-res",LOW_RESOLUTION_HORIZONTAL_GEO:"/lo-res-geo",HIGH_RESOLUTION_HORIZONTAL_GEO:"/high-res-geo"}),ke)),ze=Object.freeze({venueId:null,language:"-",mapVersion:"-",entityVersion:"-",fileVersion:null,themeName:Tt[kt.THEME]}),Fe=Object.freeze({MFILE:"MFILE",MPATH:"MPATH",MVAR:"MVAR"}),Be=Object.freeze((a(Ot={},Fe.MFILE,"/mfile"),a(Ot,Fe.MPATH,"/mpath"),a(Ot,Fe.MVAR,"/mvar"),Ot)),He=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.productAPI={},this.hostConfig_=e,this.isHostCustom=!1}return o(t,[{key:"getBaseUrl",value:function(t){return t=!(0<arguments.length&&void 0!==t)||t,(t="".concat(this.hostConfig_.fileHost).concat(t?"/ms/v1":"")).startsWith("https://")||t.startsWith("http://")||(t="https://".concat(t)),t}},{key:"getFileServiceBaseUrl",value:function(t){if(t=0<arguments.length&&void 0!==t?t:Fe.MFILE,Fe[t])return"".concat(this.getBaseUrl()).concat(Be[t])}},{key:"getGlobalMetaBaseUrl",value:function(t){var e=je[Ce.META];t=this.getFileServiceBaseUrl(t);return"".concat(t).concat(e)}},{key:"getVenueMapBaseUrl",value:function(t){var e=this.getFileServiceBaseUrl(t);t=je[Ce.MAP];return"".concat(e).concat(t)}},{key:"getGlobalMetaFileUrl",value:function(t,e,n,r){e=1<arguments.length&&void 0!==e?e:Tt[t];var i=2<arguments.length?n:void 0,o=(r=3<arguments.length?r:void 0,this.getGlobalMetaBaseUrl(r)),a=Le[t],s=null===e||""===e?"":"/".concat(e);switch(t){case kt.THEME:case kt.THEME_MAP:case kt.PRESETS:case kt.SDK_STRINGS:case kt.ICON_FILE:case kt.INPUT_COLORS:case kt.BASE_MAP_INFO:case kt.CONFIG_PROFILE:case kt.NAV_THEME:case kt.NAV_NAME_THEME:case kt.NAV_PROP_MAP:case kt.NAV_STRINGS:case kt.NAV_THEME_MAP:case kt.NAV_NAME_THEME_MAP:case kt.V4_THEME_FAMILY:o+="".concat(a).concat(s);break;case kt.ICON:case kt.MARKER:case kt.V4_MAPTYPE_THEME:o+=0<s.length&&i&&0<i.length?"".concat(a).concat(s,"/").concat(i):"".concat(a);break;case kt.PERMISSIONS:case kt.NAICS_ARRAY:case kt.NAICS_MAP:o+="".concat(a)}return o}},{key:"getGeoJsonApi",value:function(){return this.productAPI[At.GEO_JSON]||(this.productAPI[At.GEO_JSON]=new Me(this)),this.productAPI[At.GEO_JSON]}},{key:"getMapProductUrlPath",value:function(t,e,n,r){return e=!(1<arguments.length&&void 0!==e)||e,n=2<arguments.length?n:void 0,r=3<arguments.length?r:void 0,r=this.getVersionedVenueUrl(t,e,r),n&&(r+="".concat(Ne[n])),r}},{key:"getMapProductFileUrl",value:function(t,e,n,r,i,o){var a=De[At[e]][n];i=this.getMapProductUrlPath(t,!0,e,i);return n&&(i+="".concat(a)),r&&(i+="".concat(r)),!o&&0!==o||(i+="/fv/".concat(o)),i}},{key:"getMetaConfigUrl",value:function(t,e){var n=Pe[Ie.METACONFIG];return(e=this.getVersionedVenueUrl(t,!0,e))+"".concat(n)}},{key:"getMetaFileUrl",value:function(t,e,r){var i;if(r=2<arguments.length&&void 0!==r?r:Tt[e],t)return"object"===n(t[e=Et[e]])&&t[e][r]?i=new URL(t[e][r]):"string"==typeof t[e]&&(i=new URL(t[e])),i?this.isHostCustom?"".concat(this.getBaseUrl(!1)).concat(i.pathname):i.toString():null}},{key:"getMetaOverrideFileUrls",value:function(t,e,n,r){return r=3<arguments.length&&void 0!==r?r:Tt[n],e&&e.communityOverrides&&e.communityOverrides[t]?(n=St[n],n=e.communityOverrides[t][n]||{},Array.isArray(n)?n:n[r]||[]):[]}},{key:"getVersionedVenueUrl",value:function(e,n,r){return r=2<arguments.length?r:void 0,(r=1<arguments.length&&void 0!==n&&!n?"":this.getFileServiceBaseUrl(r))+t.getVersionedVenuePathSegment(e)}},{key:"getNormalizedUrl",value:function(t){if(this.isHostCustom){var e=new URL(t);return"".concat(this.getBaseUrl(!1)).concat(e.pathname)}return t}},{key:"getMetaConfig",value:function(t){var e=this;if(!t)return null;var r={venueId:t.cid};Object.values(Et).forEach((function(e){t[e]&&("string"==typeof t[e]?r[e]=t[e]:(r[e]={},Object.keys(t[e]).forEach((function(n){r[e][n]=t[e][n]}))))}));var i={},o=t.communityOverrides[r.venueId];return Object.keys(o).forEach((function(t){var r;Array.isArray(o[t])?i[t]=o[t].map((function(t){return"".concat(e.getFileServiceBaseUrl()).concat(t)})):"object"===n(o[t])&&(r={},Object.keys(o[t]).forEach((function(n){Array.isArray(o[t][n])&&(r[n]=o[t][n].map((function(t){return"".concat(e.getFileServiceBaseUrl()).concat(t)})))})),i[t]=r)})),r.communityOverrides=a({},r.venueId,i),l(l({},t),r)}}],[{key:"getVersionedVenuePathSegment",value:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:"-";e=2<arguments.length&&void 0!==n?n:"-",n=je[Ce.MAP];return"".concat(n,"/").concat(t,"/mv/").concat(r,"/ev/").concat(e)}},{key:"getVenueConfig",value:function(t){return(t=l(l({},ze),t)).mapVersion=Number(t.mapVersion)||"-",t.entityVersion=Number(t.entityVersion)||"-",t.fileVersion=Number(t.fileVersion)||null,t.venueId=Number(t.venueId),t}}]),t}(),Ue=function(){u(e,He);var t=v(e);function e(n){var i;return r(this,e),(i=t.call(this,n)).setAndUpdateHostConfig_(n),n.fileHost&&(i.isHostCustom=!0),i}return o(e,[{key:"setAndUpdateHostConfig_",value:function(t){var e=t.apiKey,n=(t=t.fileHost,{});Object.keys(Ee.queryParamMap).forEach((function(t){n[t]={key:e}})),t&&(n[t]={key:e}),this.hostConfig_={apiKey:e,dataApiType:"MFS",fileHost:t||xe,queryParamMap:l(l({},n),Ee.QUERY_PARAM_MAP_DEFAULT)}}},{key:"addServer",value:function(t,e){t=-1<t.indexOf("://")?t.split("://")[1]:t;var n=this.hostConfig_.queryParamMap[t]?l(l({},this.hostConfig_.queryParamMap[t]),e):e;Object.keys(n).forEach((function(t){null!==n[t]&&void 0!==n[t]&&""!==n[t]||delete n[t]})),this.hostConfig_.queryParamMap[t]=n}},{key:"appendQueryParams",value:function(t){var n=this.hostConfig_.queryParamMap,r=-1<t.indexOf("://")?t.split("://")[1]:t;n=n[y(Object.keys(n).filter((function(t){return r.startsWith(t)})).sort((function(t,e){return e.length-t.length})),1)[0]];return e.appendParamList(t,n)}},{key:"fetch",value:function(t,e,n,r){return r=3<arguments.length&&void 0!==r&&r,t.startsWith("http://")&&(t=t.replace(/http:\/\//gm,"https://")),r||(t=this.appendQueryParams(t)),Qt.get(t,e,n)}},{key:"getMapProductFileUrl",value:function(t,n,r,i,o,a){return g(c(e.prototype),"getMapProductFileUrl",this).call(this,t,n,r,i,o,a)}},{key:"getGlobalMetaFileUrl",value:function(t,n,r,i,o){return o=4<arguments.length&&void 0!==o?o:0,r=g(c(e.prototype),"getGlobalMetaFileUrl",this).call(this,t,n,r,i),i&&i===we.MPATH&&(r=e.appendParamList(r,{fvhistory:o})),r}}],[{key:"appendParamList",value:function(t,e){if(!e||"object"!==n(e))return t;var r=t.split("?"),i=y(r,2)[1],o=void 0===i?"":i;return Object.keys(e).filter((function(t){return-1===o.indexOf("".concat(t,"="))})).forEach((function(t){o+="&".concat(t,"=").concat(e[t])})),0<(o=o.startsWith("&")?o.substr(1):o).length?"".concat(r[0],"?").concat(o):t}}]),e}(),Ve=function(){function t(){r(this,t)}return o(t,null,[{key:"isPointOnGeoJSONLineString",value:function(t,e){var n=!1;if(e&&1<e.length)for(var r,i,o=1;o<e.length;o+=1)if(r=e[o-1],i=e[o],Jt.isPointOnLineSegment(t,r,i)){n=!0;break}return n}},{key:"isPointOnGeoJSONMultiLineString",value:function(e,n){for(var r=!1,i=0;i<n.length;i+=1)if(t.isPointOnGeoJSONLineString(e,n[i])){r=!0;break}return r}},{key:"isPointInsideGeoJSONPolygon",value:function(t,e){var n=!1;if(Jt.isPointInPolygon(t,e[0])&&(n=!0),n)for(var r=1;r<e.length;r+=1)if(Jt.isPointInPolygon(t,e[r])){n=!1;break}return n}},{key:"isPointInsideGeoJSONMultiPolygon",value:function(e,n){for(var r=n.length,i=0;i<r;i+=1)if(t.isPointInsideGeoJSONPolygon(e,n[i]))return!0;return!1}},{key:"convertIntAddressToGeometryAddressListFormat",value:function(t){if(t&&"string"==typeof t){var e=[];return t.split(" ").forEach((function(t){e.push.apply(e,m(t.split(" ")))})),e}return null}},{key:"getGeometriesByLonLat",value:function(t,e,n){for(var r=2<arguments.length&&void 0!==n&&n,i=[],o=e.filter((function(e){return Jt.isPointInBoundingBox(t,e.getBoundingBox())})),a=0;a<o.length;a+=1){var s=o[a];if(s.isPointInsideGeometry(t,!0)&&(i.push(s),!r))break}return i.sort((function(t,e){return e.getZIndex()-t.getZIndex()}))}}]),t}(),Ge=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0;r(this,t),this.venueModel=i,this.id=e,this.properties=l({geometry:[],int_address:[]},n)}return o(t,[{key:"getId",value:function(){return this.id}},{key:"getGeometries",value:function(){var t=this;return this.properties.geometry.filter((function(t){return y(t,2)[1]})).map((function(e){return e=y(e,1)[0],t.venueModel.getGeometryById(e)}))}},{key:"getInternalAddress",value:function(){return this.properties.int_address||[]}},{key:"getName",value:function(){return(Array.isArray(this.properties.name)?this.properties.name[0]:this.properties.name)||""}},{key:"getProperties",value:function(){return this.properties}},{key:"getLabelInfo",value:function(){return this.venueModel.metaInformation_.getEntityLabelInfo(this)}}]),t}(),qe=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0;r(this,t),this.id=e.id,this.properties=e.properties||{},this.labelArea=e.label_area||[],this.geometry=e.geometry||{},this.location=e.location||{},this.level=n,this.zIndex=i,this.state_={isHighlighted:!1,highlightedStyle:{}}}return o(t,[{key:"getId",value:function(){return this.id}},{key:"getProperties",value:function(){return this.properties}},{key:"getAddress",value:function(){return Ve.convertIntAddressToGeometryAddressListFormat(this.getInternalAddress())}},{key:"getInternalAddress",value:function(){return this.properties.int_address||""}},{key:"getCenter",value:function(){return this.location.coordinates||[]}},{key:"getCoordinates",value:function(){return this.geometry.coordinates||[]}},{key:"getDisplayName",value:function(){return this.properties.display_name||""}},{key:"getName",value:function(){return this.properties.name||""}},{key:"getStyle",value:function(){return this.getMetaInformation_().getStyle(this)}},{key:"getIcon",value:function(){return this.getMetaInformation_().getIcon(this.getLabelInfo())}},{key:"getLabelArea",value:function(){return this.labelArea||[]}},{key:"getLabelInfo",value:function(){return this.getMetaInformation_().getLabelInfo(this)}},{key:"getLabelStyle",value:function(){return l({fill:"#333333"},this.getMetaInformation_().getLabelStyle(this.getStyle()))}},{key:"getGeometryLabelInfo",value:function(){return this.getMetaInformation_().getGeometryLabelInfo(this)}},{key:"getEntities",value:function(){var t=this;return(this.properties.entities||[]).map((function(e){return t.level.getDrawing().getVenueModel().getEntityById(e)}))}},{key:"getLevel",value:function(){return this.level}},{key:"getType",value:function(){return this.geometry.type}},{key:"getZIndex",value:function(){return this.zIndex}},{key:"getBoundingBox",value:function(){var t=this.getType(),e=this.getCoordinates(),n=[];switch(t){case gt:n=[e,e];break;case bt:case yt:n=e;break;case _t:case mt:n=e.reduce((function(t,e){return t.concat(e)}),[]);break;case xt:n=e.reduce((function(t,e){return t.concat(e)}),[]).reduce((function(t,e){return t.concat(e)}),[])}return Jt.getBoundingBoxVertices(n)}},{key:"isIcon",value:function(){var t=this.getLabelInfo();return t&&t.lt===re.ICON}},{key:"isPointInsideGeometry",value:function(t,e){var n,r=1<arguments.length&&void 0!==e&&e,i=!1;switch(this.getType()){case gt:n=this.getLabelArea()&&Jt.getRectangularCoordinatesOfLabelArea(this.getLabelArea()),i=Jt.isPointInPolygon(t,n);break;case bt:break;case yt:i=r&&Ve.isPointOnGeoJSONLineString(t,this.getCoordinates());break;case _t:i=r&&Ve.isPointOnGeoJSONMultiLineString(t,this.getCoordinates());break;case mt:i=Ve.isPointInsideGeoJSONPolygon(t,this.getCoordinates());break;case xt:i=Ve.isPointInsideGeoJSONMultiPolygon(t,this.getCoordinates())}return i}},{key:"highlight",value:function(t,e){t=!(0<arguments.length&&void 0!==t)||t,e=1<arguments.length?e:void 0,this.state_.isHighlighted=t,this.state_.highlightedStyle=t?e:{}}},{key:"isHighlighted",value:function(){return Boolean(this.state_.isHighlighted)}},{key:"getHighlightedStyle",value:function(){return this.state_.highlightedStyle||{}}},{key:"toJSON",value:function(){return l({},this.geometry)}},{key:"getMetaInformation_",value:function(){return this.getLevel()?this.getLevel().getDrawing().getVenueModel().metaInformation_:null}}]),t}(),Ye=function(){function t(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length?arguments[3]:void 0;r(this,t),this.id=e,this.properties=l({},i),this.zIndexCount=0,this.geometries=o.map((function(t){return n.zIndexCount+=1,new qe(t,n,n.zIndexCount)})),this.drawing=a}return o(t,[{key:"getId",value:function(){return this.id}},{key:"getProperties",value:function(){return this.properties}},{key:"getName",value:function(){return this.properties.name||""}},{key:"getDisplayName",value:function(){return this.properties.display_name||""}},{key:"getDrawing",value:function(){return this.drawing}},{key:"getShortName",value:function(){return this.properties["short name"]||""}},{key:"getZIndex",value:function(){return Number(this.properties.zlevel)}},{key:"getFeatureCollectionArray",value:function(){return this.getGeometries().map((function(t){return t.toJSON()}))}},{key:"getGeometryById",value:function(t){return this.geometries.find((function(e){return e.getId()===t}))}},{key:"getGeometries",value:function(t){return 0<arguments.length&&void 0!==t&&t?this.geometries.sort((function(t,e){return e.getZIndex()-t.getZIndex()})):this.geometries.sort((function(t,e){return t.getZIndex()-e.getZIndex()}))}},{key:"getGeometriesByAddress",value:function(t){return this.geometries.filter((function(e){return e.getInternalAddress()===t}))}},{key:"isMain",value:function(){return Boolean(this.properties.main)}}]),t}(),We=function(){function t(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],s=4<arguments.length?arguments[4]:void 0;r(this,t),this.venueModel=s,this.levels=a.map((function(t){return new Ye(t.id,t.properties,t.features,n)})),this.id=e,this.properties=i,this.frame_=o}return o(t,[{key:"getId",value:function(){return this.id}},{key:"getProperties",value:function(){return this.properties}},{key:"isRoot",value:function(){return Boolean(this.properties.is_root)}},{key:"getDisplayName",value:function(){return this.properties.display_name||""}},{key:"getName",value:function(){return this.properties.name||""}},{key:"getBoundingBox",value:function(){var t=(n=this.frame_).height,e=n.width,n=n.transform;t=(e=y(Jt.getBoundingBoxVertices([Jt.convertMxMy2LonLat(n,[0,0]),Jt.convertMxMy2LonLat(n,[0,t]),Jt.convertMxMy2LonLat(n,[e,0]),Jt.convertMxMy2LonLat(n,[e,t])]),2))[0];return[(e=e[1])[1],t[0],t[1],e[0]]}},{key:"getCenter",value:function(){var t=this.frame_;if(t)return Jt.convertMxMy2LonLat(t.transform,[t.width/2,t.height/2])}},{key:"getGeometryById",value:function(t,e){return e?e.getGeometryById(t):this.getGeometries().find((function(e){return e.getId()===t}))}},{key:"getGeometries",value:function(){return this.levels.flatMap((function(t){return t.getGeometries()}))}},{key:"getLevelById",value:function(t){return this.levels.find((function(e){return e.getId()===t}))}},{key:"getLevelByZIndex",value:function(t){return this.levels.find((function(e){return e.getZIndex()===t}))}},{key:"getLevels",value:function(){return this.levels}},{key:"getMainLevel",value:function(){return this.levels.find((function(t){return t.isMain()}))}},{key:"getVenueModel",value:function(){return this.venueModel}}]),t}(),Ze=wt.STANDARD,Xe=function(){function t(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new _e;r(this,t),this.metaInformation_=a,this.id=n.id,this.location=n.location||{},this.properties=l({},n.properties),this.drawings=(n.drawings||[]).map((function(t){var n=t.levels.map((function(t){var e=t.id;return o.find((function(t){return t.id===e}))}));return new We(t.id,t.properties,t.ref_frame,n,e)})),this.entities=(i.entities||[]).map((function(t){return new Ge(t.id,t.properties,e)}))}return o(t,[{key:"getDisplaySettings",value:function(){return this.metaInformation_.releaseSettings_.displayOptions.display||Ze}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.properties.name}},{key:"getBoundingBox",value:function(){var t,e=Jt.getBoundingBoxVertices(this.getDrawings().flatMap((function(t){var e=y(t.getBoundingBox(),4);t=e[0];return[[e[1],e[2]],[e[3],t]]})));e=(t=y(e,2))[0];return[(t=t[1])[1],e[0],e[1],t[0]]}},{key:"getCenter",value:function(){return this.location.coordinates}},{key:"getEntityById",value:function(t){return this.entities.find((function(e){return e.id===t}))}},{key:"getGeometryById",value:function(t){return this.getGeometries().find((function(e){return e.getId()===t}))}},{key:"getGeometries",value:function(){return this.getLevels().sort((function(t,e){return t.getZIndex()-e.getZIndex()})).flatMap((function(t){return t.getGeometries()}))}},{key:"getGeometriesByLonLat",value:function(t,e,n){var r=this;n=!(2<arguments.length&&void 0!==n)||n;return 0===(e=(1<arguments.length&&void 0!==e?e:[]).map((function(t){return r.getLevelById(t)}))).length&&(e=this.drawings.filter((function(e){return e=e.getBoundingBox(),Jt.isPointInBoundingBox(t,e)})).flatMap((function(t){return t.getLevels()}))),Ve.getGeometriesByLonLat(t,e.flatMap((function(t){return t.getGeometries(!0)})),n)}},{key:"getDrawingById",value:function(t){return this.drawings.find((function(e){return e.getId()===t}))}},{key:"getDrawings",value:function(){return this.drawings}},{key:"getRootDrawing",value:function(){return this.drawings.find((function(t){return t.isRoot()}))}},{key:"getLevelById",value:function(t){return this.getLevels().find((function(e){return e.getId()===t}))}},{key:"getLevelsByZIndex",value:function(t){var e=0<arguments.length&&void 0!==t?t:0;return this.getLevels().filter((function(t){return Number(t.getZIndex())===Number(e)}))}},{key:"getLevels",value:function(){return this.drawings.flatMap((function(t){return t.getLevels()}))}},{key:"getLevelMapFlattenedByZIndex_",value:function(){return this.getLevels().reduce((function(t,e){var n=e.getZIndex();return(t=t)[n]||(t[n]=[]),t[n].push(e),t}),{})}},{key:"getIconsInformation",value:function(){var t=new Map;return this.getGeometries().filter((function(t){return t.isIcon()})).forEach((function(e){e=e.getLabelInfo(),t.set(e.iconIdentifier,e)})),Array.from(t.values())}}]),t}(),Ke="vfs.venue.maps.api.here.com",$e=function(){u(e,He);var t=v(e);function e(n){var i=n.apiKey,o=n.fileHost;n=n.token;return r(this,e),n=t.call(this,{apiKey:i,fileHost:o||Ke,token:n}),o&&(n.isHostCustom=!0),n}return o(e,[{key:"fetch",value:function(t,e,n){var r=(o=this.hostConfig_).apiKey,i=o.token,o=l({method:"GET",headers:{}},e);return(e=t).startsWith("http://")&&(e=e.replace(/http:\/\//gm,"https://")),i?(t="Bearer ",i=i.startsWith(t)?i:"".concat(t).concat(i),o.headers instanceof Headers?o.headers.append("Authorization",i):o.headers.Authorization=i):r&&(e="".concat(e,"?apiKey=").concat(r)),Qt.get(e,o,n)}}]),e}(),Je={isIconsEnabled:!0,isMetaEnabled:!0,metaOptions:{},iconOptions:{}},Qe=Object.keys(Et).map((function(t){return{identifier:t,name:void 0,url:void 0}})),tn=function(){function t(e){var n=e.apiKey,i=e.baseUrl,o=e.token;e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];r(this,t),o={apiKey:n,fileHost:i,token:o},this.dataApi_=new(e?Ue:$e)(o)}return o(t,[{key:"load",value:function(t,e){var n=this,r=(e=1<arguments.length&&void 0!==e?e:{},(e=l(l({},Je),e)).isIconsEnabled),i=e.isMetaEnabled,o=e.iconOptions,a=e.metaOptions;return Promise.resolve().then((function(){return i?n.getMeta_(t,a).catch((function(t){return Promise.resolve()})):new _e})).then((function(e){return n.getVenue_(t,e)})).then((function(e){if(Zt.emit(Wt.VENUE_MAP_DATA_LOADED,{data:e}),r){var i=e.getIconsInformation();return n.getIcons_(t,e.metaInformation_,i,o).then((function(){return e}))}return e}))}},{key:"getVenue_",value:function(t,e){var n=this;return this.getCommunityMap_(t).then((function(e){return Promise.all([Promise.resolve(e),n.getCommunityEntity_(t),n.getLevels_(t,e.drawings.flatMap((function(t){return t.levels.map((function(t){return t.id}))})))])})).then((function(t){var n=(r=y(t,3))[0],r=(t=r[1],r[2]);return new Xe(n,t,void 0===r?[]:r,e)}))}},{key:"getCommunityMap_",value:function(t){return this.dataApi_.getGeoJsonApi().getCommunityMap(t).catch((function(e){return Promise.reject(new Error("Community map load failed for venue id ".concat(t,' with error "\n ').concat(e.message,'"')))}))}},{key:"getCommunityEntity_",value:function(t){return this.dataApi_.getGeoJsonApi().getCommunityEntity(t).catch((function(e){return Promise.reject(new Error("Community Entity failed for venue id ".concat(t,' with error "').concat(e.message,'"')))}))}},{key:"getLevels_",value:function(t,e){var n=this;e=1<arguments.length&&void 0!==e?e:[];return Promise.all(e.map((function(e){return n.dataApi_.getGeoJsonApi().getGeoJsonLevelGeometry(t,e).catch((function(t){return Promise.reject(new Error("Level load failed for level id ".concat(e,' with error: "').concat(t.message,'"')))}))})))}},{key:"getIcon_",value:function(t,e,n,r){var i=2<arguments.length&&void 0!==n?n:{},o=3<arguments.length&&void 0!==r&&r,a=i.iconIdentifier;r=i.url;return a&&r?this.dataApi_.fetch(this.dataApi_.getNormalizedUrl(r)).then((function(t){return t=new te(l(l({},i),t),o),e.setIcon(a,t),t})):Promise.reject(new Error("Issue with icon data, iconIdentifier and url should be available: ".concat(i)))}},{key:"getIcons_",value:function(t,e,n,r){var i=this,o=(n=2<arguments.length&&void 0!==n?n:[],(3<arguments.length&&void 0!==r?r:{}).isMultiObjectToSplit);return Promise.all(n.map((function(n){return i.getIcon_(t,e,n,o).catch((function(t){return Promise.resolve(n)}))}))).catch((function(t){return Promise.resolve()}))}},{key:"getMeta_",value:function(t,e,n){var r=this,i=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length&&void 0!==n?n:Qe,a=new _e;return Promise.resolve().then((function(){return r.getMetaConfig_(t,i).then((function(t){return a.releaseSettings_=t.settings,r.dataApi_.getMetaConfig(t)}))})).then((function(e){return r.getMetaFiles_(e,a,o).then((function(){return r.getMetaOverrides_(t,e,a,o)}))})).then((function(){return a}))}},{key:"getMetaConfig_",value:function(t){return t=this.dataApi_.getMetaConfigUrl(t),this.dataApi_.fetch(t).catch((function(t){return Promise.reject(t)}))}},{key:"getMetaFiles_",value:function(t,e,n,r){var i=this,o=(n=2<arguments.length&&void 0!==n?n:[],!(3<arguments.length&&void 0!==r)||r);return Promise.all(n.map((function(n){var r=n.identifier,a=n.name;return!(n=n.url)&&o&&(n=i.dataApi_.getMetaFileUrl(t,r,a)),n=n||i.dataApi_.getGlobalMetaFileUrl(r,a),i.dataApi_.fetch(n).then((function(t){return e.instantiateMetaFileAccessor_(r,t),t})).catch((function(t){return Promise.resolve()}))})))}},{key:"getMetaOverrides_",value:function(t,e,n,r){var i=this;r=3<arguments.length&&void 0!==r?r:[];return Promise.all(r.map((function(r){var o=r.identifier,a=r.name;r=o,a=a,a=t&&e&&i.dataApi_.getMetaOverrideFileUrls(t,e,r,a)||[];return Promise.all(a.map((function(t){return i.dataApi_.fetch(t).then((function(t){return n[o]&&n[o].applyOverride(t,!1),Promise.resolve()})).catch((function(t){return Promise.resolve()}))})))})))}}]),t}(),en="https://meta-indoor-routing.api-gateway.ls.hereapi.com",nn=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),!e.apiKey&&!e.token)throw new Error("API key or Token is missing");this.config_=l({baseUrl:en},e)}return o(t,[{key:"calculateRoute",value:function(t){var e=void 0===(i=t.origin)?{}:i,r=void 0===(o=t.destination)?{}:o,i=function(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};for(var n,r={},i=Object.keys(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}(t,["origin","destination"]);if(!e.coordinates||!r.coordinates)throw new Error("Waypoint coordinates are missing");var o=function(t){var e=t.coordinates,n=t.venueId;t=t.levelId,e=e.join(",");return n&&t?e.concat(";indoorMapId=",n,";levelId=",t):e},a=(t=new URL("".concat(this.config_.baseUrl,"/v1/routes")),new URLSearchParams({origin:o(e),destination:o(r),apiKey:this.config_.apiKey}));return Object.entries(i).forEach((function(t){t=(e=y(t,2))[0];var e=e[1];a.append(t,"object"===n(e)?JSON.stringify(e):e)})),t.search=a,fetch(t,{headers:{"X-Api-Key":this.config_.apiKey}}).then((function(t){return t.json()}))}}]),t}(),rn=function(){u(e,H.map.Feature);var t=v(e);function e(n){var i;if(r(this,e),i=t.call(this),!(n instanceof Xe))throw new Error("It is mandatory to provide valid instance of venueModel");return i.venueModel=n,i.search_=new vt(n),i.status_={activeDrawingId:n.getRootDrawing().getId(),activeLevelIndex:n.getRootDrawing().getMainLevel().getZIndex()},i.mapObjectStore_=i.getDefaultMapObjectsStore_(),i.drawings=n.getDrawings().map((function(t){return(t=new w(t)).setParentEventTarget(d(i)),t})),i.levels=n.getLevels().map((function(t){var e=new k(t);return e.setParentEventTarget(i.drawings.find((function(t){return t.getId()===e.getData().getDrawing().getId()}))),e})),i.geometries=n.getGeometries().map((function(t){var e=new x(t);return e.setParentEventTarget(i.levels.find((function(t){return t.getId()===e.getData().getLevel().getId()}))),e})),i}return o(e,[{key:"getData",value:function(){return this.venueModel}},{key:"getBoundingBox",value:function(){return p(H.geo.Rect,m(this.venueModel.getBoundingBox()))}},{key:"getCenter",value:function(){var t=(e=y(this.venueModel.getCenter(),2))[0],e=e[1];return new H.geo.Point(e,t)}},{key:"getId",value:function(){return this.venueModel.getId()}},{key:"getName",value:function(){return this.venueModel.getName()}},{key:"getDrawing",value:function(t){return this.drawings.find((function(e){return e.getId()===t}))}},{key:"getDrawings",value:function(){return this.drawings}},{key:"getLevel",value:function(t){return this.levels.find((function(e){return e.getId()===t}))}},{key:"getLevels",value:function(){return this.levels}},{key:"getGeometry",value:function(t){return this.geometries.find((function(e){return e.getId()===t}))}},{key:"getGeometries",value:function(){return this.geometries}},{key:"getActiveLevels",value:function(){var t=this;return this.getData().getDisplaySettings()===wt.FLATTEN?this.venueModel.getLevelsByZIndex(this.status_.activeLevelIndex).map((function(e){return t.getLevel(e.getId())})):[this.venueModel.getDrawingById(this.status_.activeDrawingId).getLevelByZIndex(this.status_.activeLevelIndex)].map((function(e){return t.getLevel(e.getId())}))}},{key:"getActiveDrawing",value:function(){return this.getDrawing(this.status_.activeDrawingId)}},{key:"setActiveDrawing",value:function(t){if(this.status_.activeDrawingId!==t){var n=this.venueModel.getDrawingById(t);if(!n)throw new Error("Drawing ".concat(t," was not found"));var r=this.status_.activeDrawingId;this.status_.activeDrawingId=t,this.setActiveLevelIndex(n.getMainLevel().getZIndex()),this.dispatchEvent(new H.util.ChangeEvent(e.EVENTS.DRAWING_CHANGE,t,r))}}},{key:"getActiveLevelIndex",value:function(){return this.status_.activeLevelIndex}},{key:"setActiveLevelIndex",value:function(t){var n;this.venueModel.getLevelsByZIndex(t)&&(n=this.status_.activeLevelIndex,this.status_.activeLevelIndex=t,this.dispatchEvent(new H.util.ChangeEvent(e.EVENTS.LEVEL_CHANGE,t,n)))}},{key:"isActive",value:function(){var t=this.getParentEventTarget();return!!t&&this===t.activeVenue}},{key:"getHighlightedGeometries",value:function(){var t=this;return this.venueModel.getGeometries().filter((function(t){return t.isHighlighted()})).map((function(e){return t.getGeometry(e.getId())}))}},{key:"setHighlightedGeometries",value:function(t,n,r){var i=!(0<arguments.length&&void 0!==t)||t,o=(n=1<arguments.length&&void 0!==n?n:[],r=2<arguments.length&&void 0!==r?r:{},(r=l(l({},ot),r)).fillColor),a=r.outlineColor,s=r.outlineWidth;n.forEach((function(t){t.getData().highlight(i,{m:o,o:a,w:s})})),this.dispatchEvent(e.EVENTS.GEOMETRY_HIGHLIGHT)}},{key:"getMapObjects",value:function(t,e){return t=0<arguments.length&&void 0!==t?t:this.getActiveLevelIndex(),e=1<arguments.length&&void 0!==e?e:this.getActiveDrawing(),this.mapObjectStore_[t][e.getId()]}},{key:"setMapObjects",value:function(t,e,n){t=0<arguments.length&&void 0!==t?t:[],e=1<arguments.length&&void 0!==e?e:this.getActiveLevelIndex(),n=2<arguments.length&&void 0!==n?n:this.getActiveDrawing(),this.mapObjectStore_[e]&&this.mapObjectStore_[e][n.getId()]&&(this.mapObjectStore_[e][n.getId()]=m(t)),this.updateMapObjectsVisibility_()}},{key:"search",value:function(t){var e=this;t=0<arguments.length&&void 0!==t?t:"";return this.search_.find(t).flatMap((function(t){return t.geometries.map((function(t){return e.getGeometry(t.getId())}))}))}},{key:"updateMapObjectsVisibility_",value:function(){Object.values(this.mapObjectStore_).forEach((function(t){Object.values(t).forEach((function(t){return t.forEach((function(t){return t.setVisibility(!1)}))}))})),this.isActive()&&this.mapObjectStore_[this.getActiveLevelIndex()][this.getActiveDrawing().getId()].forEach((function(t){return t.setVisibility(!0)}))}},{key:"getDefaultMapObjectsStore_",value:function(){var t=this,e=this.getData().getDisplaySettings()===wt.FLATTEN;return this.venueModel.getLevels().reduce((function(n,r){var i=r.getZIndex();return(n=l({},n))[i]||(n[i]={}),n[i][r.getDrawing().getId()]=[],e&&(n[i][t.venueModel.getRootDrawing().getId()]=[]),n}),{})}}]),e}();function on(t,e,n){return n===gn.ObjectType.SEGMENT_START_MARKER?0===t?fn:dn:n===gn.ObjectType.SEGMENT_FINISH_MARKER?1===e.length||t===e.length-1?pn:vn:"indoor"===e[t].departure.place.type?cn:hn}rn.EVENTS={ACTIVE_VENUE_CHANGE:"activevenuechange",DRAWING_CHANGE:"drawingchange",LEVEL_CHANGE:"levelchange",GEOMETRY_HIGHLIGHT:"geometryhighlight"};var an=function(){function t(){r(this,t)}return o(t,null,[{key:"getIconLayer",value:function(t){return{type:"FeatureCollection",features:(0<arguments.length&&void 0!==t?t:[]).flatMap((function(t){return t.getData().getGeometries()})).filter((function(t){return t.isIcon()&&t.getIcon()})).map((function(t){var e=(i=y(t.getLabelArea(),2))[0],n=i[1],r=t.getLevel(),i=t.getIcon().getSVG();return{type:"Feature",properties:{id:t.getId(),geometryId:t.getId(),levelId:r.getId(),name:t.getDisplayName(),venueId:r.getDrawing().getVenueModel().getId(),url:i?"data:image/svg+xml;utf8,".concat(encodeURIComponent(i)):""},geometry:{type:$,coordinates:[e,n]}}}))}}},{key:"getLabelLayer",value:function(t){return{type:"FeatureCollection",features:(0<arguments.length&&void 0!==t?t:[]).flatMap((function(t){return t.getData().getGeometries()})).filter((function(t){return t.getDisplayName()&&!t.isIcon()})).map((function(t){var e=(i=y(t.getLabelArea(),2))[0],n=i[1],r=(o=t.getLabelStyle()).fill,i=o.zmin,o=t.getLevel();return{type:"Feature",properties:{id:t.getId(),geometryId:t.getId(),levelId:o.getId(),venueId:o.getDrawing().getVenueModel().getId(),name:t.getDisplayName(),minZoom:i||15,textFillColor:r.toLowerCase()},geometry:{type:$,coordinates:[e,n]}}}))}}},{key:"getGeometryLayer",value:function(t){return{type:"FeatureCollection",features:(0<arguments.length&&void 0!==t?t:[]).flatMap((function(t){return t.getData().getGeometries()})).filter((function(t){return t.getType()!==$})).map((function(t){var e=(c=t.getHighlightedStyle()||{}).m,n=c.o,r=c.w,i=(h=l({},t.getStyle())).m,o=h.o,a=h.w,s=et,u=nt,c=rt,h=t.getLevel();return{type:"Feature",properties:{id:t.getId(),fillColor:(e||i||s).toLowerCase(),geometryId:t.getId(),levelId:h.getId(),venueId:h.getDrawing().getVenueModel().getId(),outlineColor:(n||o||u).toLowerCase(),outlineWidth:Number(((r||a||c)/3).toFixed(2)),zIndex:t.getZIndex()},geometry:{type:t.getType(),coordinates:t.getCoordinates()}}}))}}},{key:"getFootprintLayer",value:function(t){return{type:"FeatureCollection",features:t.flatMap((function(t){var e=t.getData().getRootDrawing().getMainLevel().getId(),n=t.getLevel(e).getData().getGeometries().filter((function(t){return t.getType()===J}));return[{type:"Feature",properties:{isFootprint:!0,levelId:e,venueId:t.getId(),zIndex:1},geometry:{type:"MultiPolygon",coordinates:n.map((function(t){return t.getCoordinates()}))}},{type:"Feature",properties:{isFootprint:!0,levelId:e,venueId:t.getId(),zIndex:2,venueName:t.getName()},geometry:{type:"Point",coordinates:t.getCenter().toGeoJSON().coordinates.slice(0,2)}}]}))}}}]),t}(),sn=function(){function t(){r(this,t)}return o(t,null,[{key:"getIconsTextures",value:function(t){var e={},n={},r=(0<arguments.length&&void 0!==t?t:[]).reduce((function(t,e){var n=e.properties.name;return t[n]||(t[n]=[]),t[n].push(e),t}),{});return Object.keys(r).forEach((function(t){var i="texture".concat(t),o="sprite".concat(t),s=r[t][0].properties.url;e[i]={url:s,sprites:a({},o,[0,0,50,50])},r[t].forEach((function(t){t=t.properties,n["icon".concat(t.name)]={filter:{name:t.name,$zoom:{min:18}},draw:{points:{interactive:!0,priority:1,size:[[15,"5%"],[16,"10%"],[17,"15%"],[18,"25%"],[19,"35%"],[20,"40%"],[21,"50%"]],texture:i,sprite:o}}}}))})),{textures:e,iconLayers:n}}},{key:"getFootprintLayer",value:function(){return{data:{source:"venues",layer:at.FOOTPRINT},draw:{polygons:{interactive:!0,color:"#AF91B4",order:2},lines:{color:"#613F8E",width:"2px",order:1},points:{color:"[0, 0, 0, 0]",size:"0px",order:3,priority:1,text:{anchor:"center",collide:!1,font:{fill:"black",size:"16px"},text_source:"function() { return feature.venueName }"}}}}}},{key:"getGeometryLayer",value:function(){return{data:{source:"venues",layer:at.VECTOR},draw:{polygons:{interactive:!0,color:"function() { return feature.fillColor }",order:"function() { return feature.zIndex }"},lines:{color:"function() { return feature.outlineColor }",order:"function() { return feature.zIndex }",width:"function() { return feature.outlineWidth }"}}}}},{key:"getTextLayer",value:function(){return{filter:{$zoom:{min:18}},data:{source:"venues",layer:at.TEXT},draw:{points:{filter:"function() { return $zoom > feature.minZoom }",color:"[0, 0, 0, 0]",size:"0px",offset:["0px","-10px"],priority:2,text:{font:{fill:"function() { return feature.textFillColor }",size:it},text_source:"function() { return feature.name }"}}}}}},{key:"getIconLayer",value:function(t){return l({data:{source:"venues",layer:at.ICON}},t)}},{key:"getStyle",value:function(e){e=(n=t.getIconsTextures(0<arguments.length&&void 0!==e?e:[])).textures;var n=n.iconLayers;n={venue_footprints:t.getFootprintLayer(),venue_geometries:t.getGeometryLayer(),venue_labels:t.getTextLayer(),venue_icons:t.getIconLayer(n)},e=H.gl.yaml.safeDump({sources:{venues:{max_zoom:24,type:"GeoJSONTileSource"}},layers:n,textures:e});return new H.map.Style(e)}}]),t}(),ln={type:"FeatureCollection",features:[]},un={extent:4096,indexMaxZoom:0,maxZoom:24,tolerance:3},cn=(Re=function(){u(e,H.map.provider.RemoteTileProvider);var t=v(e);function e(n){return r(this,e),(n=t.call(this,n)).venues=[],n.activeVenue=null,n.dataLayers_={},n.tileIndexes_={},n.addEventListener(rn.EVENTS.ACTIVE_VENUE_CHANGE,n.activeVenueChangeHandler_,void 0,d(n)),n}return o(e,[{key:"setStyle",value:function(t){return this.setStyleInternal(t)}},{key:"getStyle",value:function(){return this.getStyleInternal()}},{key:"isFeatureVisible_",value:function(t,e){var n=t.properties;return this.activeVenue&&n.venueId===this.activeVenue.getId()?e!==at.FOOTPRINT&&this.activeVenue.getActiveLevels().some((function(t){return t.id===n.levelId})):!0===n.isFootprint&&e===at.FOOTPRINT}},{key:"requestInternal",value:function(t,e,n,r){function i(r){for(var i=0;i<r.length;i+=1)r[i]=r[i].map((function(r){return K(r,n,t,e,un.extent)}))}var o=this,a={};return Object.keys(this.tileIndexes_).forEach((function(r){var s=o.tileIndexes_[r].getTile(n,t,e);a[r]=s?function(t){var e=[],n=t&&t.features;if(n)for(var r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.type,s=void 0,l=!1;switch(a){case 1:s={type:"MultiPoint",coordinates:o.geometry.map((function(t){return t.slice()}))};break;case 2:case 3:s={type:Q,coordinates:o.geometry.map((function(t){return t.map((function(t){return t.slice()}))}))},3===a&&null==(s=X(s))&&(l=!0);break;default:l=!0}l||e.push({geometry:s,id:o.id,properties:o.tags,type:"Feature"})}return{type:"FeatureCollection",features:e}}(s):ln,a[r].features=a[r].features.filter((function(t){return o.isFeatureVisible_(t,r)}));for(var l=0;l<a[r].features.length;l+=1){var u=a[r].features[l],c=u.geometry.type;if(c===J||c===Q)i(u.geometry.coordinates);else if(c===tt)u.geometry.coordinates.map(i);else for(var h=u.geometry.coordinates,f=0;f<h.length;f+=1)h[f]=K(h[f],n,t,e,un.extent)}})),r(a),{cancel:function(){}}}},{key:"getActiveVenue",value:function(){return this.activeVenue}},{key:"getVenue",value:function(t){return t?this.venues.find((function(e){return e.getId()===Number(t)})):this.activeVenue}},{key:"setActiveVenue",value:function(t){var e=this.activeVenue;this.activeVenue=t,this.dispatchEvent(new H.util.ChangeEvent(rn.EVENTS.ACTIVE_VENUE_CHANGE,t,e)),this.reload()}},{key:"addVenue",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e;if(!(t instanceof rn))throw new Error("Invalid argument");if(e=t.getId(),this.getVenue(e))throw new Error("Please invoke provider.removeVenue to remove old instance of venue ".concat(e," before adding new"));t.setParentEventTarget(this),this.venues.push(t),n||(this.reloadData_(),this.reloadStyle_())}},{key:"addVenues",value:function(t){var e=this;0<(t=0<arguments.length&&void 0!==t?t:[]).length&&(t.forEach((function(t){t instanceof rn&&e.addVenue(t,!0)})),this.reloadData_(),this.reloadStyle_())}},{key:"removeVenue",value:function(t){var e;t instanceof rn&&-1<this.venues.indexOf(t)&&(e=t.getId(),this.activeVenue&&this.activeVenue.getId()===e&&this.setActiveVenue(null),this.venues.splice(this.venues.indexOf(t),1),this.reloadData_(),this.reloadStyle_(),this.reload())}},{key:"getFeatureProxy",value:function(t,e,n){var r=t.geometryId;t=t.venueId,t=this.getVenue(t);return r?n(t.getGeometries().find((function(t){return t.id===r}))):t&&n(t),!0}},{key:"addVenueEventListeners_",value:function(t){t&&(t.addEventListener(rn.EVENTS.GEOMETRY_HIGHLIGHT,this.geometryHighlightHandler_,void 0,this),t.addEventListener(rn.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),t.addEventListener(rn.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this))}},{key:"removeVenueEventListeners_",value:function(t){t&&(t.removeEventListener(rn.EVENTS.GEOMETRY_HIGHLIGHT,this.geometryHighlightHandler_,void 0,this),t.removeEventListener(rn.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),t.removeEventListener(rn.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this))}},{key:"activeVenueChangeHandler_",value:function(t){var e=t.oldValue;t=t.newValue;e&&(this.removeVenueEventListeners_(e),e.updateMapObjectsVisibility_()),t&&(this.addVenueEventListeners_(t),t.updateMapObjectsVisibility_())}},{key:"drawingChangeHandler_",value:function(){this.reload()}},{key:"levelChangeHandler_",value:function(){this.activeVenue&&(this.activeVenue.updateMapObjectsVisibility_(),this.reload())}},{key:"geometryHighlightHandler_",value:function(){this.reloadData_([at.VECTOR]),this.reload()}},{key:"createDataLayers_",value:function(t){var e=this,n=(t=0<arguments.length&&void 0!==t?t:Object.keys(at),at.FOOTPRINT),r=at.ICON,i=at.TEXT,o=at.VECTOR;t.forEach((function(t){switch(t){case o:e.dataLayers_[o]=an.getGeometryLayer(e.venues);break;case n:e.dataLayers_[n]=an.getFootprintLayer(e.venues);break;case r:e.dataLayers_[r]=an.getIconLayer(e.venues);break;case i:e.dataLayers_[i]=an.getLabelLayer(e.venues);break;default:throw new Error("Unsupported Layer ".concat(t))}}))}},{key:"createTileIndexes_",value:function(t){var e=this;(0<arguments.length&&void 0!==t?t:Object.keys(at)).forEach((function(t){e.tileIndexes_[t]=new W(e.dataLayers_[t],un)}))}},{key:"reloadData_",value:function(t){t=0<arguments.length&&void 0!==t?t:Object.keys(at),this.createDataLayers_(t),this.createTileIndexes_(t)}},{key:"reloadStyle_",value:function(){var t=this.dataLayers_[at.ICON]?this.dataLayers_[at.ICON].features:[];t=sn.getStyle(t);this.setStyle(t)}},{key:"providesGeoJSON",value:function(){return!0}}]),e}(),new H.map.SpatialStyle({strokeColor:"#1ab4bf",lineWidth:3})),hn=new H.map.SpatialStyle({strokeColor:"#1ab4bf",lineWidth:3}),fn=new H.map.Icon("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDQwIDUwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImIiIGQ9Ik0zNC4yNSAzMS42NTJBMTkuMDE1IDE5LjAxNSAwIDAgMCAzOSAxOS4wNkMzOSA4LjU0OSAzMC40NzggMCAyMCAwUzEgOC41NSAxIDE5LjA1OWMwIDQuODIzIDEuNzk1IDkuMjMzIDQuNzUgMTIuNTkzTDE5Ljk3NSA0NiAzNC4yNSAzMS42NTJ6Ii8+PHBhdGggaWQ9ImEiIGQ9Ik0zNC4yNSAzMS42NTJBMTkuMDE1IDE5LjAxNSAwIDAgMCAzOSAxOS4wNkMzOSA4LjU0OSAzMC40NzggMCAyMCAwUzEgOC41NSAxIDE5LjA1OWMwIDQuODIzIDEuNzk1IDkuMjMzIDQuNzUgMTIuNTkzTDE5Ljk3NSA0NiAzNC4yNSAzMS42NTJ6Ii8+PG1hc2sgaWQ9ImMiIHdpZHRoPSIzOCIgaGVpZ2h0PSI0NiIgeD0iMCIgeT0iMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZWxsaXBzZSBjeD0iMjAiIGN5PSI0NS4xNiIgZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjOTc5Nzk3IiBzdHJva2Utd2lkdGg9Ii4yNSIgcng9IjMuNSIgcnk9IjMuNSIvPjx1c2UgZmlsbD0iIzAxQjZCMiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBmaWxsPSIjMzIzMjMyIiBmaWxsLW9wYWNpdHk9Ii41IiBkPSJNMTEuODEgMzcuNjZoMTYuMzhsLTguMiA4eiIvPjx1c2Ugc3Ryb2tlPSIjNDE2QTg2IiBzdHJva2Utd2lkdGg9Ii41IiBtYXNrPSJ1cmwoI2MpIiB4bGluazpocmVmPSIjYSIvPjxlbGxpcHNlIGN4PSIxOS44MSIgY3k9IjE5LjE5IiBmaWxsPSIjRkZGIiByeD0iNC44MSIgcnk9IjQuODEiLz48L2c+PC9zdmc+"),pn=new H.map.Icon("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDQwIDUwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0zNC4yNSAzMS42NTJBMTkuMDE1IDE5LjAxNSAwIDAgMCAzOSAxOS4wNkMzOSA4LjU0OSAzMC40NzggMCAyMCAwUzEgOC41NSAxIDE5LjA1OWMwIDQuODIzIDEuNzk1IDkuMjMzIDQuNzUgMTIuNTkzTDE5Ljk3NSA0NiAzMi44MyAzMy4xMDRjLjQwNy0uMzc0IDEuNDE5LTEuNDUyIDEuNDE5LTEuNDUyeiIvPjxtYXNrIGlkPSJjIiB3aWR0aD0iMzgiIGhlaWdodD0iNDYiIHg9IjAiIHk9IjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PGVsbGlwc2UgaWQ9ImIiIGN4PSIxOS44MDciIGN5PSIxOS4xNjgiIHJ4PSIxMi4zNjMiIHJ5PSIxMi4xOTciLz48bWFzayBpZD0iZCIgd2lkdGg9IjI1LjcyNSIgaGVpZ2h0PSIyNS4zOTQiIHg9Ii0uNSIgeT0iLS41Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi45NDQgNi40NzFoMjUuNzI1djI1LjM5NEg2Ljk0NHoiLz48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxlbGxpcHNlIGN4PSIyMCIgY3k9IjQ1LjE2IiBmaWxsPSIjRkZGIiBzdHJva2U9IiM5Nzk3OTciIHN0cm9rZS13aWR0aD0iLjI1IiByeD0iMy41IiByeT0iMy41Ii8+PHVzZSBmaWxsPSIjMzIzMjMyIiB4bGluazpocmVmPSIjYSIvPjxwYXRoIGZpbGw9IiM3RDdEN0QiIGQ9Ik0xMi4wMTEgMzcuODA1aDE1Ljk3OGwtNy45MTYgOHoiLz48dXNlIHN0cm9rZT0iIzdDN0M3QyIgc3Ryb2tlLXdpZHRoPSIuNSIgbWFzaz0idXJsKCNlKSIgeGxpbms6aHJlZj0iI2EiLz48dXNlIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSIuNSIgbWFzaz0idXJsKCNjKSIgeGxpbms6aHJlZj0iI2EiLz48ZWxsaXBzZSBmaWxsPSIjRkZGIiBjeD0iMTkuODA3IiBjeT0iMTkuMTY4IiByeD0iMTIuMzYzIiByeT0iMTIuMTk3Ii8+PHBhdGggZmlsbD0iIzMyMzIzMiIgZD0iTTYuODEyIDYuOTQ4aDYuNDV2Ni4zNjRoLTYuNDV6bTAgMTIuNzI3aDYuNDV2Ni4zNjRoLTYuNDV6bTYuNDUtNi4zNjNoNi40NXY2LjM2NGgtNi40NXptMCAxMi43MjdoNi40NXY2LjM2NGgtNi40NXptNi40NS0xOS4wOTFoNi40NXY2LjM2NGgtNi40NXptMCAxMi43MjdoNi40NXY2LjM2NGgtNi40NXptNi40NS02LjM2M2g2LjQ1djYuMzY0aC02LjQ1em0wIDEyLjcyN2g2LjQ1djYuMzY0aC02LjQ1eiIvPjx1c2Ugc3Ryb2tlPSIjRkZGIiBtYXNrPSJ1cmwoI2QpIiB4bGluazpocmVmPSIjYiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48L3N2Zz4="),dn=null,vn=null,gn=function(){function t(e,n){r(this,t),this.indoorMapObjects_=null,this.outdoorMapObjects_=null,this.createRouteObjects_(e,n)}return o(t,[{key:"createRouteObjects_",value:function(e,n){var r=this,i=void 0===(e=e.sections)?[]:e,o=1<arguments.length&&void 0!==n?n:on;this.indoorMapObjects_={},this.outdoorMapObjects_=new H.map.Group;for(var a=function(e){var n=i[e],a=(f=n.departure.place,f.id),s=f.type,u=H.util.flexiblePolyline.decode(n.polyline).polyline,c=void 0,h=void 0,f=o(e,i,t.ObjectType.SEGMENT_START_MARKER);f&&(c=new H.map.Marker(n.departure.place.location,{icon:f})),f=o(e,i,t.ObjectType.SEGMENT_FINISH_MARKER),f&&(h=new H.map.Marker(n.arrival.place.location,{icon:f}));var p,d=o(e,i,t.ObjectType.SEGMENT_POLYLINE);"indoor"===s?(s=function(t){t=0<arguments.length&&void 0!==t?t:[];var e=new Map,n=new H.geo.LineString,r=y(t[0],3)[2];return e.set(r,[n]),t.forEach((function(t){t[2]!==r&&(r=t[2],n=new H.geo.LineString,e.has(r)?e.get(r).push(n):e.set(r,[n])),n.pushLatLngAlt.apply(n,m(t))})),e}(u),p=Array.from(s.keys()).reduce((function(t,e){return t[e]||(t[e]=new H.map.Group),t}),{}),d&&s.forEach((function(t,e){t.forEach((function(t){1<t.getPointCount()&&(t=new H.map.Polyline(t,{style:d}),p[e].addObject(t))}))})),c&&p[n.departure.place.location.lvl].addObject(c),h&&p[n.arrival.place.location.lvl].addObject(h),r.indoorMapObjects_[a]=l(l({},r.indoorMapObjects_[a]||{}),p)):(d&&(u=new H.geo.LineString(u.flatMap((function(t){return[t[0],t[1],0]}))),u=new H.map.Polyline(u,{style:d}),r.outdoorMapObjects_.addObject(u)),c&&r.outdoorMapObjects_.addObject(c),h&&r.outdoorMapObjects_.addObject(h))},s=0;s<i.length;s++)a(s)}},{key:"getIndoorObjects",value:function(){return this.indoorMapObjects_}},{key:"getOutdoorObjects",value:function(){return this.outdoorMapObjects_}}]),t}();gn.ObjectType={SEGMENT_START_MARKER:1,SEGMENT_FINISH_MARKER:2,SEGMENT_POLYLINE:3};var yn=function(){u(e,H.service.Service);var t=v(e);function e(n){var i;r(this,e),i=t.call(this,e,n);var o={apiKey:n.apikey,baseUrl:n.baseUrl&&n.baseUrl.getHost(),token:n.token},a={apiKey:o.apiKey,token:o.token};o.apiKey||(o.apiKey=i.getUrl().getQuery().apikey);var s=n.useLegacy||!1;return i.venueService_=new tn(o,s),a.apiKey||(a.apiKey=i.getUrl().getQuery().apikey),n.routingBaseUrl&&(a.baseUrl=n.routingBaseUrl),i.routingService_=new nn(a),i}return o(e,[{key:"loadVenue",value:function(t,e){return e=1<arguments.length&&void 0!==e?e:{},this.venueService_.load(t,e).then((function(t){return new rn(t)}))}},{key:"calculateRoute",value:function(t){return this.routingService_.calculateRoute(t)}}]),e}();return yn.CONFIG_KEY="venues",H.service.Platform.prototype.getVenuesService=function(t){return this.createService(yn,t)},ke=function(){u(e,H.ui.Control);var t=v(e);function e(n){var i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,e),(i=t.call(this)).provider_=null,i.levelSelectorUI_=null,i.setAlignment(o&&o.alignment||H.ui.LayoutAlignment.RIGHT_BOTTOM),i.addClass("venues-ui"),n instanceof rn&&i.setVenue(n),i}return o(e,[{key:"renderInternal",value:function(t,n){g(c(e.prototype),"renderInternal",this).call(this,t,n),this.createLevelSelectorUI_(t),this.venue&&this.setVenue(this.venue)}},{key:"setVenue",value:function(t){t instanceof rn&&(this.removeEventListeners_(),this.venue=t,this.provider_=t.getParentEventTarget(),this.update_(),this.addEventListeners_())}},{key:"createLevelSelectorUI_",value:function(t){var e=this;t.innerHTML="",this.levelSelectorUI_=null,this.levelSelectorUI_=new Yt(t,null,null,(function(t){return e.venue.setActiveLevelIndex(t)}))}},{key:"update_",value:function(){var t,e;this.levelSelectorUI_&&(t=this.venue.getActiveDrawing().getData(),e=this.venue.getData().getDisplaySettings(),this.levelSelectorUI_.update(t,e),this.levelChangeHandler_())}},{key:"addEventListeners_",value:function(){this.venue&&(this.venue.addEventListener(rn.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),this.venue.addEventListener(rn.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this)),this.provider_&&this.provider_.addEventListener(rn.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"removeEventListeners_",value:function(){this.venue&&(this.venue.removeEventListener(rn.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),this.venue.removeEventListener(rn.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this)),this.provider_&&this.provider_.removeEventListener(rn.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"levelChangeHandler_",value:function(){this.levelSelectorUI_.switch(this.venue.getActiveLevelIndex())}},{key:"drawingChangeHandler_",value:function(){this.update_()}},{key:"activeVenueChangeHandler_",value:function(t){this.setVenue(t.newValue)}}]),e}(),Ot=function(){u(e,H.ui.Control);var t=v(e);function e(n){var i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,e),(i=t.call(this)).provider_=null,i.drawingSelectorUI_=null,i.addClass("venues-ui"),i.setAlignment(o&&o.alignment||H.ui.LayoutAlignment.RIGHT_BOTTOM),n instanceof rn&&i.setVenue(n),i}return o(e,[{key:"renderInternal",value:function(t,n){g(c(e.prototype),"renderInternal",this).call(this,t,n),this.createDrawingSelectorUI_(t),this.venue&&this.setVenue(this.venue)}},{key:"setVenue",value:function(t){t instanceof rn&&(this.removeEventListeners_(),this.venue=t,this.provider_=t.getParentEventTarget(),this.drawingSelectorUI_&&this.drawingSelectorUI_.update(t.getData()),this.addEventListeners_())}},{key:"createDrawingSelectorUI_",value:function(t){var e=this;t.innerHTML="",this.drawingSelectorUI_=null,this.drawingSelectorUI_=new Bt(t,null,(function(t){return e.venue.setActiveDrawing(t)}))}},{key:"addEventListeners_",value:function(){this.venue&&this.venue.addEventListener(rn.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this),this.provider_&&this.provider_.addEventListener(rn.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"removeEventListeners_",value:function(){this.venue&&this.venue.removeEventListener(rn.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this),this.provider_&&this.provider_.removeEventListener(rn.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"drawingChangeHandler_",value:function(){this.drawingSelectorUI_.switch(this.venue.getActiveDrawing().id)}},{key:"activeVenueChangeHandler_",value:function(t){this.setVenue(t.newValue)}}]),e}(),ke=Object.freeze({__proto__:null,DrawingControl:Ot,LevelControl:ke}),e(".venues-ui * {\n  font-family: 'Fira Sans', 'Helvetica Neue', Helvetica, sans-serif;\n  color: #0F1621; }\n\n.venues-ui .arrow {\n  display: block;\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\n  background-position: center; }\n  .venues-ui .arrow--up {\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg width='13px' height='9px' viewBox='0 0 13 9' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='VenueMap_Facilities_Detail' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Floorplan-Switcher' transform='translate(-426.000000, -584.000000)' fill='%23383C45'%3E%3Cg id='Map-Controls-Copy' transform='translate(417.753906, 572.000000)'%3E%3Cg id='Chevron,-Dark' transform='translate(15.000000, 16.499023) rotate(-180.000000) translate(-15.000000, -16.499023) translate(9.000000, 12.749023)'%3E%3Cpath d='M6.0105,7.5 L4.1895,5.76404817 L0.1695,1.90510321 C0.057,1.79759174 0,1.68291284 0,1.56106651 C0,1.44065367 0.057,1.32597477 0.1695,1.2184633 L1.2465,0.16771789 C1.347,0.0587729358 1.47,0.00430045872 1.617,0.00430045872 C1.764,0.00430045872 1.887,0.0587729358 1.986,0.166284404 L6.009,3.98365826 L10.023,0.161983945 C10.122,0.0530389908 10.236,0 10.3695,0 C10.503,0 10.62,0.0530389908 10.7205,0.161983945 L11.841,1.21129587 C12.0525,1.43922018 12.0525,1.67144495 11.8425,1.89793578 L7.827,5.76118119 L6.0105,7.5 Z' id='Fill-3'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"); }\n  .venues-ui .arrow--down {\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg width='13px' height='9px' viewBox='0 0 13 9' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='VenueMap_Facilities_Detail' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Floorplan-Switcher' transform='translate(-347.000000, -704.000000)' fill='%23383C45'%3E%3Cg id='Map-Controls' transform='translate(338.251953, 572.000000)'%3E%3Cg id='Chevron,-Dark' transform='translate(9.000000, 132.746094)'%3E%3Cpath d='M6.0105,7.5 L4.1895,5.76404817 L0.1695,1.90510321 C0.057,1.79759174 0,1.68291284 0,1.56106651 C0,1.44065367 0.057,1.32597477 0.1695,1.2184633 L1.2465,0.16771789 C1.347,0.0587729358 1.47,0.00430045872 1.617,0.00430045872 C1.764,0.00430045872 1.887,0.0587729358 1.986,0.166284404 L6.009,3.98365826 L10.023,0.161983945 C10.122,0.0530389908 10.236,0 10.3695,0 C10.503,0 10.62,0.0530389908 10.7205,0.161983945 L11.841,1.21129587 C12.0525,1.43922018 12.0525,1.67144495 11.8425,1.89793578 L7.827,5.76118119 L6.0105,7.5 Z' id='Fill-3'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"); }\n\n.venues-ui .venues-ui-button {\n  display: block;\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  font-size: 16px;\n  font-weight: 600;\n  background-color: #fff;\n  border: none;\n  border-bottom: 1px solid #9FA2A6;\n  cursor: pointer;\n  overflow: hidden;\n  color: #6e737a;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n  .venues-ui .venues-ui-button:hover, .venues-ui .venues-ui-button--active {\n    background-color: #f0f0f0;\n    color: #0F1621; }\n\n@keyframes fade {\n  0% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n.venues-ui__drawings .drawings {\n  position: absolute;\n  top: 0;\n  right: 45px;\n  display: none;\n  opacity: 0;\n  border-radius: 5px;\n  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6); }\n  .venues-ui__drawings .drawings--open {\n    display: block;\n    opacity: 1;\n    animation: fade 1s; }\n  .venues-ui__drawings .drawings .venues-ui-button {\n    width: auto;\n    padding: 0 10px; }\n    .venues-ui__drawings .drawings .venues-ui-button:first-of-type {\n      border-top-left-radius: 5px;\n      border-top-right-radius: 5px; }\n    .venues-ui__drawings .drawings .venues-ui-button:last-of-type {\n      border-bottom-left-radius: 5px;\n      border-bottom-right-radius: 5px; }\n\n.venues-ui__drawings .trigger {\n  border-radius: 5px;\n  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6); }\n  .venues-ui__drawings .trigger .arrow {\n    transform: rotate(0);\n    transition: 0.4s; }\n  .venues-ui__drawings .trigger.venues-ui-button--active .arrow {\n    transform: rotate(90deg);\n    transition: 0.4s; }\n\n.venues-ui__levels {\n  border-radius: 5px;\n  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6); }\n  .venues-ui__levels .levels {\n    overflow: hidden; }\n  .venues-ui__levels .venues-ui-button--up + .levels .venues-ui-button {\n    border-radius: 0; }\n  .venues-ui__levels .venues-ui-button:first-of-type {\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px; }\n  .venues-ui__levels .venues-ui-button:last-of-type {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px; }\n  .venues-ui__levels .venues-ui-button[disabled=disabled] .arrow {\n    opacity: 0.5; }\n\n.venues-ui__directory {\n  position: absolute;\n  top: 10px;\n  right: 60px;\n  bottom: calc(100% - 45px);\n  width: 350px;\n  overflow: hidden;\n  background: white;\n  border-radius: 5px;\n  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6); }\n  .venues-ui__directory.active {\n    bottom: 10px; }\n  .venues-ui__directory .directory__list {\n    top: 80px;\n    bottom: 20px;\n    position: absolute;\n    overflow-y: scroll;\n    right: 10px;\n    left: 10px;\n    font-size: 12px; }\n    .venues-ui__directory .directory__list svg {\n      width: 25px;\n      height: 25px; }\n  .venues-ui__directory .directory__heading {\n    margin: 8px;\n    font-size: 15px;\n    font-weight: normal;\n    cursor: pointer; }\n  .venues-ui__directory .directory__input {\n    margin: 10px; }\n    .venues-ui__directory .directory__input input {\n      width: 100%;\n      padding: 5px 0; }\n  .venues-ui__directory .directory__trigger {\n    position: absolute;\n    right: 10px;\n    top: 15px;\n    width: 10px;\n    height: 10px; }\n    .venues-ui__directory .directory__trigger .arrow {\n      transform: rotate(0);\n      transition: 0.4s; }\n    .venues-ui__directory .directory__trigger--active .arrow {\n      transform: rotate(-180deg);\n      transition: 0.4s; }\n"),t.Drawing=w,t.Geometry=x,t.Level=k,t.Provider=Re,t.Route=gn,t.Service=yn,t.Venue=rn,t.ui=ke,Object.defineProperty(t,"__esModule",{value:!0}),t}({})}).call(self),__webpack_exports__.a=H}).call(this,__webpack_require__(85),__webpack_require__(170)(module))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t){return r.forwardRef(t)}},function(t,e,n){var r=n(60),i=n(201),o=n(202),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(89),i=n(93);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(29),i=(n(13),["a","b","article","aside","blockquote","button","caption","cite","circle","code","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","img","input","kbd","label","li","main","mark","nav","ol","p","path","pre","q","rect","s","svg","section","select","strong","small","span","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","ul"]);function o(t){return Object(r.f)(t,["styleConfig","size","variant","colorScheme"])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var r=n(39),i=n(29),o=n(145),a=(n(111),n(1)),s=n(52),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=Object(s.a)((function(t){return l.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),c=n(56),h=n(20),f=n(28),p=n(35),d=u,v=function(t){return"theme"!==t},g=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?d:v},y=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},m=function t(e,n){var r,i,o=e.__emotion_real===e,s=o&&e.__emotion_base||e;void 0!==n&&(r=n.label,i=n.target);var l=y(e,n,o),u=l||g(s),d=!u("as");return function(){var v=arguments,m=o&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)m.push.apply(m,v);else{0,m.push(v[0][0]);for(var b=v.length,_=1;_<b;_++)m.push(v[_],v[0][_])}var x=Object(h.f)((function(t,e,n){var r=d&&t.as||s,o="",c=[],v=t;if(null==t.theme){for(var y in v={},t)v[y]=t[y];v.theme=Object(a.useContext)(h.b)}"string"===typeof t.className?o=Object(f.a)(e.registered,c,t.className):null!=t.className&&(o=t.className+" ");var b=Object(p.a)(m.concat(c),e.registered,v);Object(f.b)(e,b,"string"===typeof r);o+=e.key+"-"+b.name,void 0!==i&&(o+=" "+i);var _=d&&void 0===l?g(r):u,x={};for(var w in t)d&&"as"===w||_(w)&&(x[w]=t[w]);return x.className=o,x.ref=n,Object(a.createElement)(r,x)}));return x.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=s,x.__emotion_styles=m,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(e,r){return t(e,Object(c.a)({},n,r,{shouldForwardProp:y(x,r,!0)})).apply(void 0,m)},x}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){m[t]=m(t)}));var b=m,_=n(11),x=new Set([].concat(Object(_.a)(r.propNames),["textStyle","layerStyle","apply","isTruncated","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),w=new Set(["htmlWidth","htmlHeight","htmlSize"]),k=function(t){return w.has(t)||!x.has(t)},E=n(48);function S(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var T=function(t,e){var n=null!=e?e:{},a=n.baseStyle,s=S(n,["baseStyle"]);s.shouldForwardProp||(s.shouldForwardProp=k);var l=function(t){var e=t.baseStyle;return function(t){var n=t.css,a=t.__css,s=t.sx,l=S(t,["theme","css","__css","sx"]),u=Object(i.d)(l,(function(t,e){return Object(r.isStyleProp)(e)})),c=Object(o.b)(e,t),h=Object.assign({},a,c,Object(i.a)(u),s),f=Object(r.css)(h)(t.theme);return n?[f,n]:f}}({baseStyle:a});return b(t,s)(l)};E.a.forEach((function(t){T[t]=T(t)}))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){"use strict";e.a=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},function(t,e,n){"use strict";e.a=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var r=t(n);return e.set(n,r),r}}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return f}));var r=n(29),i=function(t){return t+":focus &, "+t+"[data-focus] &"},o=function(t){return t+":active &, "+t+"[data-active] &"},a=function(t){return t+":disabled &, "+t+"[data-disabled] &"},s=function(t){return t+":invalid &, "+t+"[data-invalid] &"},l=function(t){return t+":checked &, "+t+"[data-checked] &"},u=function(t){return c(t,"[role=group]","[data-group]",".group")},c=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(t).join(", ")},h={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible",_disabled:"&[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:u((function(t){return t+":hover &, "+t+"[data-hover] &"})),_groupFocus:u(i),_groupActive:u(o),_groupDisabled:u(a),_groupInvalid:u(s),_groupChecked:u(l),_placeholder:"&::placeholder",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &",_mediaDark:"@media (prefers-color-scheme: dark)",_dark:".chakra-ui-dark &, [data-theme=dark] &, &[data-theme=dark]",_light:".chakra-ui-light &, [data-theme=light] &, &[data-theme=light]"},f=Object(r.e)(h)},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},,function(t,e,n){var r=n(190),i=n(191),o=n(192),a=n(193),s=n(194);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(51);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(30).Symbol;t.exports=r},function(t,e,n){var r=n(40)(Object,"create");t.exports=r},function(t,e,n){var r=n(214);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(134),i=n(246),o=n(46);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(45),i=n(41);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(65);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d}));var r=n(11),i=n(99),o=n.n(i),a=n(29),s=n(15),l=n(55);function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var c=o()({},s.a,s.b,s.c,s.f,s.i,s.e,s.m,s.h,s.g,s.k,s.l,s.d,s.n,s.r,s.o,s.p,s.j,s.q),h=Object.assign({},s.n,s.i,s.f,s.g,s.l),f=(Object(a.e)(h),[].concat(Object(r.a)(Object(a.e)(c)),Object(r.a)(l.a))),p=u({},c,l.b),d=function(t){return t in p}},function(t,e,n){"use strict";n.d(e,"config",(function(){return L})),n.d(e,"useSpring",(function(){return Pt}));var r=n(36),i=n(11),o=n(5),a=n(19),s=n(14),l=n(6),u=n(9),c=n(10),h=n(107),f=n(18),p=n.n(f),d=n(22),v=n(4),g=n(12),y=n(0);n.d(e,"Globals",(function(){return y.b}));var m=n(1),b=n(17);n(121),n(122);function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function x(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return y.s.fun(t)?t.apply(void 0,n):t}var w=function(t,e){return!0===t||!!(e&&t&&(y.s.fun(t)?t(e):Object(y.y)(t).includes(e)))},k=function(t,e){return y.s.obj(t)?e&&t[e]:t},E=function(t,e){return!0===t.default?t[e]:t.default?t.default[e]:void 0},S=function(t){return t},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=A;t.default&&!0!==t.default&&(t=t.default,n=Object.keys(t));var r,i={},o=Object(g.a)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=e(t[a],a);y.s.und(s)||(i[a]=s)}}catch(l){o.e(l)}finally{o.f()}return i},A=["config","onProps","onStart","onChange","onPause","onResume","onRest"],O={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function M(t){var e=function(t){var e={},n=0;if(Object(y.l)(t,(function(t,r){O[r]||(e[r]=t,n++)})),n)return e}(t);if(e){var n={to:e};return Object(y.l)(t,(function(t,r){return r in e||(n[r]=t)})),n}return _({},t)}function C(t){return t=Object(y.q)(t),y.s.arr(t)?t.map(C):Object(y.t)(t)?y.b.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function j(t){for(var e in t)return!0;return!1}function I(t){return y.s.fun(t)||y.s.arr(t)&&y.s.obj(t[0])}function P(t,e){var n;null==(n=t.ref)||n.delete(t),null==e||e.delete(t)}function R(t,e){var n;e&&t.ref!==e&&(null==(n=t.ref)||n.delete(t),e.add(t),t.ref=e)}var L={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},N=_({},L.default,{mass:1,damping:1,easing:function(t){return t},clamp:!1}),D=function t(){Object(v.a)(this,t),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,N)};function z(t,e){if(y.s.und(e.decay)){var n=!y.s.und(e.tension)||!y.s.und(e.friction);!n&&y.s.und(e.frequency)&&y.s.und(e.damping)&&y.s.und(e.mass)||(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}var F=[],B=function t(){Object(v.a)(this,t),this.changed=!1,this.values=F,this.toValues=null,this.fromValues=F,this.to=void 0,this.from=void 0,this.config=new D,this.immediate=!1};function H(t,e){var n=e.key,r=e.props,i=e.defaultProps,o=e.state,a=e.actions;return new Promise((function(e,s){var l,u,c,h=w(null!=(l=r.cancel)?l:null==i?void 0:i.cancel,n);if(h)v();else{y.s.und(r.pause)||(o.paused=w(r.pause,n));var f=null==i?void 0:i.pause;!0!==f&&(f=o.paused||w(f,n)),u=x(r.delay||0,n),f?(o.resumeQueue.add(d),a.pause()):(a.resume(),d())}function p(){o.resumeQueue.add(d),o.timeouts.delete(c),c.cancel(),u=c.time-y.w.now()}function d(){u>0?(c=y.w.setTimeout(v,u),o.pauseQueue.add(p),o.timeouts.add(c)):v()}function v(){o.pauseQueue.delete(p),o.timeouts.delete(c),t<=(o.cancelId||0)&&(h=!0);try{a.start(_({},r,{callId:t,cancel:h}),e)}catch(n){s(n)}}}))}var U=function(t,e){return 1==e.length?e[0]:e.some((function(t){return t.cancelled}))?q(t.get()):e.every((function(t){return t.noop}))?V(t.get()):G(t.get(),e.every((function(t){return t.finished})))},V=function(t){return{value:t,noop:!0,finished:!0,cancelled:!1}},G=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:t,finished:e,cancelled:n}},q=function(t){return{value:t,cancelled:!0,finished:!1}};function Y(t,e,n,r){var i=e.callId,o=e.parentId,a=e.onRest,s=n.asyncTo,l=n.promise;return o||t!==s||e.reset?n.promise=Object(d.a)(p.a.mark((function u(){var c,h,f,v,m,b,x,w;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.asyncId=i,n.asyncTo=t,c=T(e,(function(t,e){return"onRest"===e?void 0:t})),v=new Promise((function(t,e){return h=t,f=e})),m=function(t){var e=i<=(n.cancelId||0)&&q(r)||i!==n.asyncId&&G(r,!1);if(e)throw t.result=e,f(t),t},b=function(t,e){var o=new Z,a=new X;return Object(d.a)(p.a.mark((function s(){var l,u;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!y.b.skipAnimation){s.next=5;break}throw W(n),a.result=G(r,!1),f(a),a;case 5:return m(o),(l=y.s.obj(t)?_({},t):_({},e,{to:t})).parentId=i,Object(y.l)(c,(function(t,e){y.s.und(l[e])&&(l[e]=t)})),s.next=11,r.start(l);case 11:if(u=s.sent,m(o),!n.paused){s.next=16;break}return s.next=16,new Promise((function(t){n.resumeQueue.add(t)}));case 16:return s.abrupt("return",u);case 17:case"end":return s.stop()}}),s)})))()},!y.b.skipAnimation){u.next=9;break}return W(n),u.abrupt("return",G(r,!1));case 9:return u.prev=9,w=y.s.arr(t)?function(){var t=Object(d.a)(p.a.mark((function t(e){var n,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(g.a)(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return i=r.value,t.next=7,b(i);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()(t):Promise.resolve(t(b,r.stop.bind(r))),u.next=13,Promise.all([w.then(h),v]);case 13:x=G(r.get(),!0,!1),u.next=27;break;case 16:if(u.prev=16,u.t0=u.catch(9),!(u.t0 instanceof Z)){u.next=22;break}x=u.t0.result,u.next=27;break;case 22:if(!(u.t0 instanceof X)){u.next=26;break}x=u.t0.result,u.next=27;break;case 26:throw u.t0;case 27:return u.prev=27,i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0),u.finish(27);case 30:return y.s.fun(a)&&y.w.batchedUpdates((function(){a(x,r,r.item)})),u.abrupt("return",x);case 32:case"end":return u.stop()}}),u,null,[[9,16,27,30]])})))():l}function W(t,e){Object(y.m)(t.timeouts,(function(t){return t.cancel()})),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var Z=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t;return Object(v.a)(this,n),(t=e.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,t}return n}(Object(h.a)(Error)),X=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t;return Object(v.a)(this,n),(t=e.call(this,"SkipAnimationSignal")).result=void 0,t}return n}(Object(h.a)(Error)),K=function(t){return t instanceof J},$=1,J=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).id=$++,t.key=void 0,t._priority=0,t}return Object(l.a)(n,[{key:"priority",get:function(){return this._priority},set:function(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}},{key:"get",value:function(){var t=Object(b.e)(this);return t&&t.getValue()}},{key:"to",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return y.b.to(this,e)}},{key:"interpolate",value:function(){Object(y.j)();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return y.b.to(this,e)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(t){1==t&&this._attach()}},{key:"observerRemoved",value:function(t){0==t&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(y.d)(this,{type:"change",parent:this,value:t,idle:e})}},{key:"_onPriorityChange",value:function(t){this.idle||y.o.sort(this),Object(y.d)(this,{type:"priority",parent:this,priority:t})}}]),n}(y.a),Q=Symbol.for("SpringPhase"),tt=function(t){return(1&t[Q])>0},et=function(t){return(2&t[Q])>0},nt=function(t){return(4&t[Q])>0},rt=function(t,e){return e?t[Q]|=3:t[Q]&=-3},it=function(t,e){return e?t[Q]|=4:t[Q]&=-5},ot=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;if(Object(v.a)(this,n),(i=e.call(this)).key=void 0,i.animation=new B,i.queue=void 0,i.defaultProps={},i._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!y.s.und(t)||!y.s.und(r)){var o=y.s.obj(t)?_({},t):_({},r,{from:t});y.s.und(o.default)&&(o.default=!0),i.start(o)}return i}return Object(l.a)(n,[{key:"idle",get:function(){return!(et(this)||this._state.asyncTo)||nt(this)}},{key:"goal",get:function(){return Object(y.q)(this.animation.to)}},{key:"velocity",get:function(){var t=Object(b.e)(this);return t instanceof b.c?t.lastVelocity||0:t.getPayload().map((function(t){return t.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return tt(this)}},{key:"isAnimating",get:function(){return et(this)}},{key:"isPaused",get:function(){return nt(this)}},{key:"advance",value:function(t){var e=this,n=!0,r=!1,i=this.animation,o=i.config,a=i.toValues,s=Object(b.g)(i.to);!s&&Object(y.r)(i.to)&&(a=Object(y.y)(Object(y.q)(i.to))),i.values.forEach((function(l,u){if(!l.done){var c=l.constructor==b.b?1:s?s[u].lastPosition:a[u],h=i.immediate,f=c;if(!h){if(f=l.lastPosition,o.tension<=0)return void(l.done=!0);var p,d=l.elapsedTime+=t,v=i.fromValues[u],g=null!=l.v0?l.v0:l.v0=y.s.arr(o.velocity)?o.velocity[u]:o.velocity;if(y.s.und(o.duration))if(o.decay){var m=!0===o.decay?.998:o.decay,_=Math.exp(-(1-m)*d);f=v+g/(1-m)*(1-_),h=Math.abs(l.lastPosition-f)<.1,p=g*_}else{p=null==l.lastVelocity?g:l.lastVelocity;for(var x=o.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v))),w=o.restVelocity||x/10,k=o.clamp?0:o.bounce,E=!y.s.und(k),S=v==c?l.v0>0:v<c,T=Math.ceil(t/1),A=0;A<T&&(Math.abs(p)>w||!(h=Math.abs(c-f)<=x));++A){E&&(f==c||f>c==S)&&(p=-p*k,f=c),f+=1*(p+=1*((1e-6*-o.tension*(f-c)+.001*-o.friction*p)/o.mass))}}else{var O=1;o.duration>0&&(e._memoizedDuration!==o.duration&&(e._memoizedDuration=o.duration,l.durationProgress>0&&(l.elapsedTime=o.duration*l.durationProgress,d=l.elapsedTime+=t)),O=(O=(o.progress||0)+d/e._memoizedDuration)>1?1:O<0?0:O,l.durationProgress=O),p=((f=v+o.easing(O)*(c-v))-l.lastPosition)/t,h=1==O}l.lastVelocity=p,Number.isNaN(f)&&(console.warn("Got NaN while animating:",e),h=!0)}s&&!s[u].done&&(h=!1),h?l.done=!0:n=!1,l.setValue(f,o.round)&&(r=!0)}}));var l=Object(b.e)(this),u=l.getValue();if(n){var c=Object(y.q)(i.to);u===c&&!r||o.decay?r&&o.decay&&this._onChange(u):(l.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(u)}},{key:"set",value:function(t){var e=this;return y.w.batchedUpdates((function(){e._stop(),e._focus(t),e._set(t)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var t=this;if(et(this)){var e=this.animation,n=e.to,r=e.config;y.w.batchedUpdates((function(){t._onStart(),r.decay||t._set(n,!1),t._stop()}))}return this}},{key:"update",value:function(t){return(this.queue||(this.queue=[])).push(t),this}},{key:"start",value:function(t,e){var n,r=this;return y.s.und(t)?(n=this.queue||[],this.queue=[]):n=[y.s.obj(t)?t:_({},e,{to:t})],Promise.all(n.map((function(t){return r._update(t)}))).then((function(t){return U(r,t)}))}},{key:"stop",value:function(t){var e=this,n=this.animation.to;return this._focus(this.get()),W(this._state,t&&this._lastCallId),y.w.batchedUpdates((function(){return e._stop(n,t)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(t){"change"==t.type?this._start():"priority"==t.type&&(this.priority=t.priority+1)}},{key:"_prepareNode",value:function(t){var e=this.key||"",n=t.to,r=t.from;(null==(n=y.s.obj(n)?n[e]:n)||I(n))&&(n=void 0),null==(r=y.s.obj(r)?r[e]:r)&&(r=void 0);var i={to:n,from:r};if(!tt(this)){if(t.reverse){var o=[r,n];n=o[0],r=o[1]}r=Object(y.q)(r),y.s.und(r)?Object(b.e)(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(t,e){var n=this,r=_({},t),i=this.key,o=this.defaultProps;r.default&&Object.assign(o,T(r,(function(t,e){return/^on/.test(e)?k(t,i):t}))),ft(this,r,"onProps"),pt(this,"onProps",r,this);var a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return H(++this._lastCallId,{key:i,props:r,defaultProps:o,state:s,actions:{pause:function(){nt(n)||(it(n,!0),Object(y.n)(s.pauseQueue),pt(n,"onPause",G(n,at(n,n.animation.to)),n))},resume:function(){nt(n)&&(it(n,!1),et(n)&&n._resume(),Object(y.n)(s.resumeQueue),pt(n,"onResume",G(n,at(n,n.animation.to)),n))},start:this._merge.bind(this,a)}}).then((function(t){if(r.loop&&t.finished&&(!e||!t.noop)){var i=st(r);if(i)return n._update(i,!0)}return t}))}},{key:"_merge",value:function(t,e,n){var r=this;if(e.cancel)return this.stop(!0),n(q(this));var i=!y.s.und(t.to),o=!y.s.und(t.from);if(i||o){if(!(e.callId>this._lastToId))return n(q(this));this._lastToId=e.callId}var a=this.key,s=this.defaultProps,l=this.animation,u=l.to,c=l.from,h=t.to,f=void 0===h?u:h,p=t.from,d=void 0===p?c:p;if(!o||i||e.default&&!y.s.und(f)||(f=d),e.reverse){var v=[d,f];f=v[0],d=v[1]}var g=!Object(y.u)(d,c);g&&(l.from=d),d=Object(y.q)(d);var m=!Object(y.u)(f,u);m&&this._focus(f);var k=I(e.to),E=l.config,S=E.decay,T=E.velocity;(i||o)&&(E.velocity=0),e.config&&!k&&function(t,e,n){for(var r in n&&(z(n=_({},n),e),e=_({},n,e)),z(t,e),Object.assign(t,e),N)null==t[r]&&(t[r]=N[r]);var i=t.mass,o=t.frequency,a=t.damping;y.s.und(o)||(o<.01&&(o=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/o,2)*i,t.friction=4*Math.PI*a*i/o)}(E,x(e.config,a),e.config!==s.config?x(s.config,a):void 0);var A=Object(b.e)(this);if(!A||y.s.und(f))return n(G(this,!0));var O=y.s.und(e.reset)?o&&!e.default:!y.s.und(d)&&w(e.reset,a),M=O?d:this.get(),j=C(f),P=y.s.num(j)||y.s.arr(j)||Object(y.t)(j),R=!k&&(!P||w(s.immediate||e.immediate,a));if(m){var L=Object(b.f)(f);if(L!==A.constructor){if(!R)throw Error("Cannot animate between ".concat(A.constructor.name," and ").concat(L.name,', as the "to" prop suggests'));A=this._set(j)}}var D=A.constructor,F=Object(y.r)(f),B=!1;if(!F){var H=O||!tt(this)&&g;(m||H)&&(F=!(B=Object(y.u)(C(M),j))),(Object(y.u)(l.immediate,R)||R)&&Object(y.u)(E.decay,S)&&Object(y.u)(E.velocity,T)||(F=!0)}if(B&&et(this)&&(l.changed&&!O?F=!0:F||this._stop(u)),!k&&((F||Object(y.r)(u))&&(l.values=A.getPayload(),l.toValues=Object(y.r)(f)?null:D==b.b?[1]:Object(y.y)(j)),l.immediate!=R&&(l.immediate=R,R||O||this._set(u)),F)){var U=l.onRest;Object(y.k)(ht,(function(t){return ft(r,e,t)}));var W=G(this,at(this,u));Object(y.n)(this._pendingCalls,W),this._pendingCalls.add(n),l.changed&&y.w.batchedUpdates((function(){l.changed=!O,null==U||U(W,r),O?x(s.onRest,W):null==l.onStart||l.onStart(W,r)}))}O&&this._set(M),k?n(Y(e.to,e,this._state,this)):F?this._start():et(this)&&!m?this._pendingCalls.add(n):n(V(M))}},{key:"_focus",value:function(t){var e=this.animation;t!==e.to&&(Object(y.p)(this)&&this._detach(),e.to=t,Object(y.p)(this)&&this._attach())}},{key:"_attach",value:function(){var t=0,e=this.animation.to;Object(y.r)(e)&&(Object(y.c)(e,this),K(e)&&(t=e.priority+1)),this.priority=t}},{key:"_detach",value:function(){var t=this.animation.to;Object(y.r)(t)&&Object(y.x)(t,this)}},{key:"_set",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object(y.q)(t);if(!y.s.und(r)){var i=Object(b.e)(this);if(!i||!Object(y.u)(r,i.getValue())){var o=Object(b.f)(r);i&&i.constructor==o?i.setValue(r):Object(b.h)(this,o.create(r)),i&&y.w.batchedUpdates((function(){e._onChange(r,n)}))}}return Object(b.e)(this)}},{key:"_onStart",value:function(){var t=this.animation;t.changed||(t.changed=!0,pt(this,"onStart",G(this,at(this,t.to)),this))}},{key:"_onChange",value:function(t,e){e||(this._onStart(),x(this.animation.onChange,t,this)),x(this.defaultProps.onChange,t,this),Object(a.a)(Object(s.a)(n.prototype),"_onChange",this).call(this,t,e)}},{key:"_start",value:function(){var t=this.animation;Object(b.e)(this).reset(Object(y.q)(t.to)),t.immediate||(t.fromValues=t.values.map((function(t){return t.lastPosition}))),et(this)||(rt(this,!0),nt(this)||this._resume())}},{key:"_resume",value:function(){y.b.skipAnimation?this.finish():y.o.start(this)}},{key:"_stop",value:function(t,e){if(et(this)){rt(this,!1);var n=this.animation;Object(y.k)(n.values,(function(t){t.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Object(y.d)(this,{type:"idle",parent:this});var r=e?q(this.get()):G(this.get(),at(this,null!=t?t:n.to));Object(y.n)(this._pendingCalls,r),n.changed&&(n.changed=!1,pt(this,"onRest",r,this))}}}]),n}(J);function at(t,e){var n=C(e),r=C(t.get());return Object(y.u)(r,n)}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.to,r=x(e);if(r){var i=!0!==r&&M(r),o=(i||t).reverse,a=!i||i.reset;return lt(_({},t,{loop:e,default:!1,pause:void 0,to:!o||I(n)?n:void 0,from:a?t.from:void 0,reset:a},i))}}function lt(t){var e=t=M(t),n=e.to,r=e.from,i=new Set;return y.s.obj(n)&&ct(n,i),y.s.obj(r)&&ct(r,i),t.keys=i.size?Array.from(i):null,t}function ut(t){var e=lt(t);return y.s.und(e.default)&&(e.default=T(e)),e}function ct(t,e){Object(y.l)(t,(function(t,n){return null!=t&&e.add(n)}))}var ht=["onStart","onRest","onChange","onPause","onResume"];function ft(t,e,n){t.animation[n]=e[n]!==E(e,n)?k(e[n],t.key):void 0}function pt(t,e){for(var n,r,i,o,a,s,l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];null==(i=(o=t.animation)[e])||(n=i).call.apply(n,[o].concat(u)),null==(a=(s=t.defaultProps)[e])||(r=a).call.apply(r,[s].concat(u))}var dt=["onStart","onChange","onRest"],vt=1,gt=function(){function t(e,n){Object(v.a)(this,t),this.id=vt++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(_({default:!0},e))}return Object(l.a)(t,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(t){return t.idle}))}},{key:"item",get:function(){return this._item},set:function(t){this._item=t}},{key:"get",value:function(){var t={};return this.each((function(e,n){return t[n]=e.get()})),t}},{key:"set",value:function(t){for(var e in t){var n=t[e];y.s.und(n)||this.springs[e].set(n)}}},{key:"update",value:function(t){return t&&this.queue.push(lt(t)),this}},{key:"start",value:function(t){var e=this.queue;return t?e=Object(y.y)(t).map(lt):this.queue=[],this._flush?this._flush(this,e):(Et(this,e),yt(this,e))}},{key:"stop",value:function(t,e){if(t!==!!t&&(e=t),e){var n=this.springs;Object(y.k)(Object(y.y)(e),(function(e){return n[e].stop(!!t)}))}else W(this._state,this._lastAsyncId),this.each((function(e){return e.stop(!!t)}));return this}},{key:"pause",value:function(t){if(y.s.und(t))this.start({pause:!0});else{var e=this.springs;Object(y.k)(Object(y.y)(t),(function(t){return e[t].pause()}))}return this}},{key:"resume",value:function(t){if(y.s.und(t))this.start({pause:!1});else{var e=this.springs;Object(y.k)(Object(y.y)(t),(function(t){return e[t].resume()}))}return this}},{key:"each",value:function(t){Object(y.l)(this.springs,t)}},{key:"_onFrame",value:function(){var t=this,e=this._events,n=e.onStart,r=e.onChange,i=e.onRest,a=this._active.size>0,s=this._changed.size>0;(a&&!this._started||s&&!this._started)&&(this._started=!0,Object(y.m)(n,(function(e){var n=Object(o.a)(e,2),r=n[0],i=n[1];i.value=t.get(),r(i,t,t._item)})));var l=!a&&this._started,u=s||l&&i.size?this.get():null;s&&r.size&&Object(y.m)(r,(function(e){var n=Object(o.a)(e,2),r=n[0],i=n[1];i.value=u,r(i,t,t._item)})),l&&(this._started=!1,Object(y.m)(i,(function(e){var n=Object(o.a)(e,2),r=n[0],i=n[1];i.value=u,r(i,t,t._item)})))}},{key:"eventObserved",value:function(t){if("change"==t.type)this._changed.add(t.parent),t.idle||this._active.add(t.parent);else{if("idle"!=t.type)return;this._active.delete(t.parent)}y.w.onFrame(this._onFrame)}}]),t}();function yt(t,e){return Promise.all(e.map((function(e){return mt(t,e)}))).then((function(e){return U(t,e)}))}function mt(t,e,n){return bt.apply(this,arguments)}function bt(){return(bt=Object(d.a)(p.a.mark((function t(e,n,r){var i,o,a,s,l,u,c,h,f,d,v,g,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.keys,o=n.to,a=n.from,s=n.loop,l=n.onRest,u=n.onResolve,c=y.s.obj(n.default)&&n.default,s&&(n.loop=!1),!1===o&&(n.to=null),!1===a&&(n.from=null),(h=y.s.arr(o)||y.s.fun(o)?o:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):Object(y.k)(dt,(function(t){var r=n[t];if(y.s.fun(r)){var i=e._events[t];n[t]=function(t){var e=t.finished,n=t.cancelled,o=i.get(r);o?(e||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:e||!1,cancelled:n||!1})},c&&(c[t]=n[t])}})),f=e._state,n.pause===!f.paused?(f.paused=n.pause,Object(y.n)(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0),d=(i||Object.keys(e.springs)).map((function(t){return e.springs[t].start(n)})),v=!0===n.cancel||!0===E(n,"cancel"),(h||v&&f.asyncId)&&d.push(H(++e._lastAsyncId,{props:n,state:f,actions:{pause:y.v,resume:y.v,start:function(t,n){v?(W(f,e._lastAsyncId),n(q(e))):(t.onRest=l,n(Y(h,t,f,e)))}}})),!f.paused){t.next=15;break}return t.next=15,new Promise((function(t){f.resumeQueue.add(t)}));case 15:return t.t0=U,t.t1=e,t.next=19,Promise.all(d);case 19:if(t.t2=t.sent,g=(0,t.t0)(t.t1,t.t2),!s||!g.finished||r&&g.noop){t.next=26;break}if(!(m=st(n,s,o))){t.next=26;break}return Et(e,[m]),t.abrupt("return",mt(e,m,!0));case 26:return u&&y.w.batchedUpdates((function(){return u(g,e,e.item)})),t.abrupt("return",g);case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _t(t,e){var n=_({},t.springs);return e&&Object(y.k)(Object(y.y)(e),(function(t){y.s.und(t.keys)&&(t=lt(t)),y.s.obj(t.to)||(t=_({},t,{to:void 0})),kt(n,t,(function(t){return wt(t)}))})),xt(t,n),n}function xt(t,e){Object(y.l)(e,(function(e,n){t.springs[n]||(t.springs[n]=e,Object(y.c)(e,t))}))}function wt(t,e){var n=new ot;return n.key=t,e&&Object(y.c)(n,e),n}function kt(t,e,n){e.keys&&Object(y.k)(e.keys,(function(r){(t[r]||(t[r]=n(r)))._prepareNode(e)}))}function Et(t,e){Object(y.k)(e,(function(e){kt(t.springs,e,(function(e){return wt(e,t)}))}))}function St(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var Tt,At,Ot=["children"],Mt=function(t){var e=t.children,n=St(t,Ot),r=Object(m.useContext)(Ct),i=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=Object(y.B)((function(){return{pause:i,immediate:o}}),[i,o]);var a=Ct.Provider;return m.createElement(a,{value:n},e)},Ct=(Tt=Mt,At={},Object.assign(Tt,m.createContext(At)),Tt.Provider._context=Tt,Tt.Consumer._context=Tt,Tt);Mt.Provider=Ct.Provider,Mt.Consumer=Ct.Consumer;var jt=function(){var t=[],e=function(e){Object(y.i)();var r=[];return Object(y.k)(t,(function(t,i){if(y.s.und(e))r.push(t.start());else{var o=n(e,t,i);o&&r.push(t.start(o))}})),r};e.current=t,e.add=function(e){t.includes(e)||t.push(e)},e.delete=function(e){var n=t.indexOf(e);~n&&t.splice(n,1)},e.pause=function(){var e=arguments;return Object(y.k)(t,(function(t){return t.pause.apply(t,Object(i.a)(e))})),this},e.resume=function(){var e=arguments;return Object(y.k)(t,(function(t){return t.resume.apply(t,Object(i.a)(e))})),this},e.set=function(e){Object(y.k)(t,(function(t){return t.set(e)}))},e.start=function(e){var n=this,r=[];return Object(y.k)(t,(function(t,i){if(y.s.und(e))r.push(t.start());else{var o=n._getProps(e,t,i);o&&r.push(t.start(o))}})),r},e.stop=function(){var e=arguments;return Object(y.k)(t,(function(t){return t.stop.apply(t,Object(i.a)(e))})),this},e.update=function(e){var n=this;return Object(y.k)(t,(function(t,r){return t.update(n._getProps(e,t,r))})),this};var n=function(t,e,n){return y.s.fun(t)?t(n,e):t};return e._getProps=n,e};function It(t,e,n){var r=arguments,o=y.s.fun(e)&&e;o&&!n&&(n=[]);var a=Object(m.useMemo)((function(){return o||3==r.length?jt():void 0}),[]),s=Object(m.useRef)(0),l=Object(y.z)(),u=Object(m.useMemo)((function(){return{ctrls:[],queue:[],flush:function(t,e){var n=_t(t,e);return s.current>0&&!u.queue.length&&!Object.keys(n).some((function(e){return!t.springs[e]}))?yt(t,e):new Promise((function(r){xt(t,n),u.queue.push((function(){r(yt(t,e))})),l()}))}}}),[]),c=Object(m.useRef)(Object(i.a)(u.ctrls)),h=[],f=Object(y.D)(t)||0;function p(t,n){for(var r=t;r<n;r++){var i=c.current[r]||(c.current[r]=new gt(null,u.flush)),a=o?o(r,i):e[r];a&&(h[r]=ut(a))}}Object(m.useMemo)((function(){Object(y.k)(c.current.slice(t,f),(function(t){P(t,a),t.stop(!0)})),c.current.length=t,p(f,t)}),[t]),Object(m.useMemo)((function(){p(0,Math.min(f,t))}),n);var d=c.current.map((function(t,e){return _t(t,h[e])})),v=Object(m.useContext)(Mt),g=Object(y.D)(v),b=v!==g&&j(v);Object(y.A)((function(){s.current++,u.ctrls=c.current;var t=u.queue;t.length&&(u.queue=[],Object(y.k)(t,(function(t){return t()}))),Object(y.k)(c.current,(function(t,e){null==a||a.add(t),b&&t.start({default:v});var n=h[e];n&&(R(t,n.ref),t.ref?t.queue.push(n):t.start(n))}))})),Object(y.C)((function(){return function(){Object(y.k)(u.ctrls,(function(t){return t.stop(!0)}))}}));var x=d.map((function(t){return _({},t)}));return a?[x,a]:x}function Pt(t,e){var n=y.s.fun(t),r=It(1,n?t:[t],n?e||[]:e),i=Object(o.a)(r,2),a=Object(o.a)(i[0],1),s=a[0],l=i[1];return n||2==arguments.length?[s,l]:s}var Rt;!function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"}(Rt||(Rt={}));var Lt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,o){var a;Object(v.a)(this,n),(a=e.call(this)).key=void 0,a.idle=!0,a.calc=void 0,a._active=new Set,a.source=t,a.calc=y.f.apply(void 0,Object(i.a)(o));var s=a._get(),l=Object(b.f)(s);return Object(b.h)(Object(r.a)(a),l.create(s)),a}return Object(l.a)(n,[{key:"advance",value:function(t){var e=this._get(),n=this.get();Object(y.u)(e,n)||(Object(b.e)(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&Dt(this._active)&&zt(this)}},{key:"_get",value:function(){var t=y.s.arr(this.source)?this.source.map(y.q):Object(y.y)(Object(y.q)(this.source));return this.calc.apply(this,Object(i.a)(t))}},{key:"_start",value:function(){var t=this;this.idle&&!Dt(this._active)&&(this.idle=!1,Object(y.k)(Object(b.g)(this),(function(t){t.done=!1})),y.b.skipAnimation?(y.w.batchedUpdates((function(){return t.advance()})),zt(this)):y.o.start(this))}},{key:"_attach",value:function(){var t=this,e=1;Object(y.k)(Object(y.y)(this.source),(function(n){Object(y.r)(n)&&Object(y.c)(n,t),K(n)&&(n.idle||t._active.add(n),e=Math.max(e,n.priority+1))})),this.priority=e,this._start()}},{key:"_detach",value:function(){var t=this;Object(y.k)(Object(y.y)(this.source),(function(e){Object(y.r)(e)&&Object(y.x)(e,t)})),this._active.clear(),zt(this)}},{key:"eventObserved",value:function(t){"change"==t.type?t.idle?this.advance():(this._active.add(t.parent),this._start()):"idle"==t.type?this._active.delete(t.parent):"priority"==t.type&&(this.priority=Object(y.y)(this.source).reduce((function(t,e){return Math.max(t,(K(e)?e.priority:0)+1)}),0))}}]),n}(J);function Nt(t){return!1!==t.idle}function Dt(t){return!t.size||Array.from(t).every(Nt)}function zt(t){t.idle||(t.idle=!0,Object(y.k)(Object(b.g)(t),(function(t){t.done=!0})),Object(y.d)(t,{type:"idle",parent:t}))}y.b.assign({createStringInterpolator:y.g,to:function(t,e){return new Lt(t,e)}});y.o.advance},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(163)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(70),i=n(73),o=n(38),a=n(71);function s(t){return Object(r.a)(t)||Object(i.a)(t)||Object(o.a)(t)||Object(a.a)()}},function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(11);function r(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}()},function(t,e){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=e.length)return!1;for(l=s;0!==l--;)if(!a(t[l],e[l]))return!1;return!0}if(r&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!e.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!a(l.value[1],e.get(l.value[0])))return!1;return!0}if(i&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!e.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if((s=t.length)!=e.length)return!1;for(l=s;0!==l--;)if(t[l]!==e[l])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(e,u[l]))return!1;if(n&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!a(t[u[l]],e[u[l]]))return!1;return!0}return t!==t&&e!==e}t.exports=function(t,e){try{return a(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=r({},n(80).a,{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem"},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}});e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"}},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function i(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return Wn(t,e,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=v()),t._pf}function y(t){if(null==t._isValid){var e=g(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=d(NaN);return null!=t?p(g(e),t):g(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var b=r.momentProperties=[],_=!1;function x(t,e){var n,r,i;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=g(e)),u(e._locale)||(t._locale=e._locale),b.length>0)for(n=0;n<b.length;n++)u(i=e[r=b[n]])||(t[r]=i);return t}function w(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function k(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function E(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,o,a,l=[];for(o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}E(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var T,A={};function O(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),A[t]||(E(e),A[t]=!0)}function M(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){var e,n;for(n in t)s(t,n)&&(M(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(t,e){var n,r=p({},t);for(n in e)s(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},p(r[n],t[n]),p(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&a(t[n])&&(r[n]=p({},r[n]));return r}function I(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return M(r)?r.call(e,n):r}function L(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},F={};function B(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(F[t]=i),e&&(F[e[0]]=function(){return L(i.apply(this,arguments),e[1],e[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function H(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,n,r=t.match(N);for(e=0,n=r.length;e<n;e++)F[r[e]]?r[e]=F[r[e]]:r[e]=H(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=M(r[i])?r[i].call(e,t):r[i];return o}}function V(t,e){return t.isValid()?(e=G(e,t.localeData()),z[e]=z[e]||U(e),z[e](t)):t.localeData().invalidDate()}function G(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(D.lastIndex=0;n>=0&&D.test(t);)t=t.replace(D,r),D.lastIndex=0,n-=1;return t}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(N).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var W="Invalid date";function Z(){return this._invalidDate}var X="%d",K=/\d{1,2}/;function $(t){return this._ordinal.replace("%d",t)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(t,e,n,r){var i=this._relativeTime[n];return M(i)?i(t,e,n,r):i.replace(/%d/i,t)}function tt(t,e){var n=this._relativeTime[t>0?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)}var et={};function nt(t,e){var n=t.toLowerCase();et[n]=et[n+"s"]=et[e]=t}function rt(t){return"string"===typeof t?et[t]||et[t.toLowerCase()]:void 0}function it(t){var e,n,r={};for(n in t)s(t,n)&&(e=rt(n))&&(r[e]=t[n]);return r}var ot={};function at(t,e){ot[t]=e}function st(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:ot[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}function lt(t){return t%4===0&&t%100!==0||t%400===0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ct(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ut(e)),n}function ht(t,e){return function(n){return null!=n?(pt(this,t,n),r.updateOffset(this,e),this):ft(this,t)}}function ft(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&lt(t.year())&&1===t.month()&&29===t.date()?(n=ct(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Qt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function dt(t){return M(this[t=rt(t)])?this[t]():this}function vt(t,e){if("object"===typeof t){var n,r=st(t=it(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(M(this[t=rt(t)]))return this[t](e);return this}var gt,yt=/\d/,mt=/\d\d/,bt=/\d{3}/,_t=/\d{4}/,xt=/[+-]?\d{6}/,wt=/\d\d?/,kt=/\d\d\d\d?/,Et=/\d\d\d\d\d\d?/,St=/\d{1,3}/,Tt=/\d{1,4}/,At=/[+-]?\d{1,6}/,Ot=/\d+/,Mt=/[+-]?\d+/,Ct=/Z|[+-]\d\d:?\d\d/gi,jt=/Z|[+-]\d\d(?::?\d\d)?/gi,It=/[+-]?\d+(\.\d{1,3})?/,Pt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Rt(t,e,n){gt[t]=M(e)?e:function(t,r){return t&&n?n:e}}function Lt(t,e){return s(gt,t)?gt[t](e._strict,e._locale):new RegExp(Nt(t))}function Nt(t){return Dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i})))}function Dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}gt={};var zt={};function Ft(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=ct(t)}),n=0;n<t.length;n++)zt[t[n]]=r}function Bt(t,e){Ft(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function Ht(t,e,n){null!=e&&s(zt,t)&&zt[t](e,n._a,n,t)}var Ut,Vt=0,Gt=1,qt=2,Yt=3,Wt=4,Zt=5,Xt=6,Kt=7,$t=8;function Jt(t,e){return(t%e+e)%e}function Qt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Jt(e,12);return t+=(e-n)/12,1===n?lt(t)?29:28:31-n%7%2}Ut=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),B("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),nt("month","M"),at("month",8),Rt("M",wt),Rt("MM",wt,mt),Rt("MMM",(function(t,e){return e.monthsShortRegex(t)})),Rt("MMMM",(function(t,e){return e.monthsRegex(t)})),Ft(["M","MM"],(function(t,e){e[Gt]=ct(t)-1})),Ft(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[Gt]=i:g(n).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,re=Pt,ie=Pt;function oe(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ne).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function ae(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ne.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Ut.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ut.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Ut.call(this._shortMonthsParse,a))||-1!==(i=Ut.call(this._longMonthsParse,a))?i:null:-1!==(i=Ut.call(this._longMonthsParse,a))||-1!==(i=Ut.call(this._shortMonthsParse,a))?i:null}function le(t,e,n){var r,i,o;if(this._monthsParseExact)return se.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ue(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=ct(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Qt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ce(t){return null!=t?(ue(this,t),r.updateOffset(this,!0),this):ft(this,"Month")}function he(){return Qt(this.year(),this.month())}function fe(t){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(t){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function de(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=Dt(r[e]),i[e]=Dt(i[e]);for(e=0;e<24;e++)o[e]=Dt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ve(t){return lt(t)?366:365}B("Y",0,0,(function(){var t=this.year();return t<=9999?L(t,4):"+"+t})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),at("year",1),Rt("Y",Mt),Rt("YY",wt,mt),Rt("YYYY",Tt,_t),Rt("YYYYY",At,xt),Rt("YYYYYY",At,xt),Ft(["YYYYY","YYYYYY"],Vt),Ft("YYYY",(function(t,e){e[Vt]=2===t.length?r.parseTwoDigitYear(t):ct(t)})),Ft("YY",(function(t,e){e[Vt]=r.parseTwoDigitYear(t)})),Ft("Y",(function(t,e){e[Vt]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return ct(t)+(ct(t)>68?1900:2e3)};var ge=ht("FullYear",!0);function ye(){return lt(this.year())}function me(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function be(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function _e(t,e,n){var r=7+e-n;return-(7+be(t,0,r).getUTCDay()-e)%7+r-1}function xe(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+_e(t,r,i);return s<=0?a=ve(o=t-1)+s:s>ve(t)?(o=t+1,a=s-ve(t)):(o=t,a=s),{year:o,dayOfYear:a}}function we(t,e,n){var r,i,o=_e(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+ke(i=t.year()-1,e,n):a>ke(t.year(),e,n)?(r=a-ke(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function ke(t,e,n){var r=_e(t,e,n),i=_e(t+1,e,n);return(ve(t)-r+i)/7}function Ee(t){return we(t,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),at("week",5),at("isoWeek",5),Rt("w",wt),Rt("ww",wt,mt),Rt("W",wt),Rt("WW",wt,mt),Bt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=ct(t)}));var Se={dow:0,doy:6};function Te(){return this._week.dow}function Ae(){return this._week.doy}function Oe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Me(t){var e=we(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ce(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function je(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ie(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("d",0,"do","day"),B("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),B("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),B("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),at("day",11),at("weekday",11),at("isoWeekday",11),Rt("d",wt),Rt("e",wt),Rt("E",wt),Rt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Rt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Rt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Bt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t})),Bt(["d","e","E"],(function(t,e,n,r){e[r]=ct(t)}));var Pe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ne=Pt,De=Pt,ze=Pt;function Fe(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ie(n,this._week.dow):t?n[t.day()]:n}function Be(t){return!0===t?Ie(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function He(t){return!0===t?Ie(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ue(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Ut.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Ut.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Ut.call(this._weekdaysParse,a))||-1!==(i=Ut.call(this._shortWeekdaysParse,a))||-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Ut.call(this._shortWeekdaysParse,a))||-1!==(i=Ut.call(this._weekdaysParse,a))||-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ut.call(this._minWeekdaysParse,a))||-1!==(i=Ut.call(this._weekdaysParse,a))||-1!==(i=Ut.call(this._shortWeekdaysParse,a))?i:null}function Ve(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Ue.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Ge(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ce(t,this.localeData()),this.add(t-e,"d")):e}function qe(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ye(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=je(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function We(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ne),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ze(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=De),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xe(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ze),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ke(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=Dt(this.weekdaysMin(n,"")),i=Dt(this.weekdaysShort(n,"")),o=Dt(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);a.sort(t),s.sort(t),l.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $e(){return this.hours()%12||12}function Je(){return this.hours()||24}function Qe(t,e){B(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,$e),B("k",["kk",2],0,Je),B("hmm",0,0,(function(){return""+$e.apply(this)+L(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+$e.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),nt("hour","h"),at("hour",13),Rt("a",tn),Rt("A",tn),Rt("H",wt),Rt("h",wt),Rt("k",wt),Rt("HH",wt,mt),Rt("hh",wt,mt),Rt("kk",wt,mt),Rt("hmm",kt),Rt("hmmss",Et),Rt("Hmm",kt),Rt("Hmmss",Et),Ft(["H","HH"],Yt),Ft(["k","kk"],(function(t,e,n){var r=ct(t);e[Yt]=24===r?0:r})),Ft(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Ft(["h","hh"],(function(t,e,n){e[Yt]=ct(t),g(n).bigHour=!0})),Ft("hmm",(function(t,e,n){var r=t.length-2;e[Yt]=ct(t.substr(0,r)),e[Wt]=ct(t.substr(r)),g(n).bigHour=!0})),Ft("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Yt]=ct(t.substr(0,r)),e[Wt]=ct(t.substr(r,2)),e[Zt]=ct(t.substr(i)),g(n).bigHour=!0})),Ft("Hmm",(function(t,e,n){var r=t.length-2;e[Yt]=ct(t.substr(0,r)),e[Wt]=ct(t.substr(r))})),Ft("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Yt]=ct(t.substr(0,r)),e[Wt]=ct(t.substr(r,2)),e[Zt]=ct(t.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=ht("Hours",!0);function on(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:P,longDateFormat:q,invalidDate:W,ordinal:X,dayOfMonthOrdinalParse:K,relativeTime:J,months:te,monthsShort:ee,week:Se,weekdays:Pe,weekdaysMin:Le,weekdaysShort:Re,meridiemParse:nn},ln={},un={};function cn(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function hn(t){return t?t.toLowerCase().replace("_","-"):t}function fn(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=hn(t[o]).split("-")).length,n=(n=hn(t[o+1]))?n.split("-"):null;e>0;){if(r=pn(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&cn(i,n)>=e-1)break;e--}o++}return an}function pn(e){var n=null;if(void 0===ln[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=an._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),dn(n)}catch(r){ln[e]=null}return ln[e]}function dn(t,e){var n;return t&&((n=u(e)?yn(t):vn(t,e))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),an._abbr}function vn(t,e){if(null!==e){var n,r=sn;if(e.abbr=t,null!=ln[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[t]._config;else if(null!=e.parentLocale)if(null!=ln[e.parentLocale])r=ln[e.parentLocale]._config;else{if(null==(n=pn(e.parentLocale)))return un[e.parentLocale]||(un[e.parentLocale]=[]),un[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ln[t]=new I(j(r,e)),un[t]&&un[t].forEach((function(t){vn(t.name,t.config)})),dn(t),ln[t]}return delete ln[t],null}function gn(t,e){if(null!=e){var n,r,i=sn;null!=ln[t]&&null!=ln[t].parentLocale?ln[t].set(j(ln[t]._config,e)):(null!=(r=pn(t))&&(i=r._config),e=j(i,e),null==r&&(e.abbr=t),(n=new I(e)).parentLocale=ln[t],ln[t]=n),dn(t)}else null!=ln[t]&&(null!=ln[t].parentLocale?(ln[t]=ln[t].parentLocale,t===dn()&&dn(t)):null!=ln[t]&&delete ln[t]);return ln[t]}function yn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return an;if(!o(t)){if(e=pn(t))return e;t=[t]}return fn(t)}function mn(){return T(ln)}function bn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[Gt]<0||n[Gt]>11?Gt:n[qt]<1||n[qt]>Qt(n[Vt],n[Gt])?qt:n[Yt]<0||n[Yt]>24||24===n[Yt]&&(0!==n[Wt]||0!==n[Zt]||0!==n[Xt])?Yt:n[Wt]<0||n[Wt]>59?Wt:n[Zt]<0||n[Zt]>59?Zt:n[Xt]<0||n[Xt]>999?Xt:-1,g(t)._overflowDayOfYear&&(e<Vt||e>qt)&&(e=qt),g(t)._overflowWeeks&&-1===e&&(e=Kt),g(t)._overflowWeekday&&-1===e&&(e=$t),g(t).overflow=e),t}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,An={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function On(t){var e,n,r,i,o,a,s=t._i,l=_n.exec(s)||xn.exec(s);if(l){for(g(t).iso=!0,e=0,n=kn.length;e<n;e++)if(kn[e][1].exec(l[1])){i=kn[e][0],r=!1!==kn[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=En.length;e<n;e++)if(En[e][1].exec(l[3])){o=(l[2]||" ")+En[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!wn.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Bn(t)}else t._isValid=!1}function Mn(t,e,n,r,i,o){var a=[Cn(t),ee.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Cn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function jn(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function In(t,e,n){return!t||Re.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(t,e,n){if(t)return An[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(t){var e,n=Tn.exec(jn(t._i));if(n){if(e=Mn(n[4],n[3],n[2],n[5],n[6],n[7]),!In(n[1],e,t))return;t._a=e,t._tzm=Pn(n[8],n[9],n[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Ln(t){var e=Sn.exec(t._i);null===e?(On(t),!1===t._isValid&&(delete t._isValid,Rn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Nn(t,e,n){return null!=t?t:null!=e?e:n}function Dn(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function zn(t){var e,n,r,i,o,a=[];if(!t._d){for(r=Dn(t),t._w&&null==t._a[qt]&&null==t._a[Gt]&&Fn(t),null!=t._dayOfYear&&(o=Nn(t._a[Vt],r[Vt]),(t._dayOfYear>ve(o)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=be(o,0,t._dayOfYear),t._a[Gt]=n.getUTCMonth(),t._a[qt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Yt]&&0===t._a[Wt]&&0===t._a[Zt]&&0===t._a[Xt]&&(t._nextDay=!0,t._a[Yt]=0),t._d=(t._useUTC?be:me).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Yt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(g(t).weekdayMismatch=!0)}}function Fn(t){var e,n,r,i,o,a,s,l,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=Nn(e.GG,t._a[Vt],we(Zn(),1,4).year),r=Nn(e.W,1),((i=Nn(e.E,1))<1||i>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,u=we(Zn(),o,a),n=Nn(e.gg,t._a[Vt],u.year),r=Nn(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>ke(n,o,a)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(s=xe(n,r,i,o,a),t._a[Vt]=s.year,t._dayOfYear=s.dayOfYear)}function Bn(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],g(t).empty=!0;var e,n,i,o,a,s,l=""+t._i,u=l.length,c=0;for(i=G(t._f,t._locale).match(N)||[],e=0;e<i.length;e++)o=i[e],(n=(l.match(Lt(o,t))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&g(t).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),c+=n.length),F[o]?(n?g(t).empty=!1:g(t).unusedTokens.push(o),Ht(o,n,t)):t._strict&&!n&&g(t).unusedTokens.push(o);g(t).charsLeftOver=u-c,l.length>0&&g(t).unusedInput.push(l),t._a[Yt]<=12&&!0===g(t).bigHour&&t._a[Yt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Yt]=Hn(t._locale,t._a[Yt],t._meridiem),null!==(s=g(t).era)&&(t._a[Vt]=t._locale.erasConvertYear(s,t._a[Vt])),zn(t),bn(t)}else Rn(t);else On(t)}function Hn(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Un(t){var e,n,r,i,o,a,s=!1;if(0===t._f.length)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,a=!1,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Bn(e),y(e)&&(a=!0),o+=g(e).charsLeftOver,o+=10*g(e).unusedTokens.length,g(e).score=o,s?o<r&&(r=o,n=e):(null==r||o<r||a)&&(r=o,n=e,a&&(s=!0));p(t,n||e)}function Vn(t){if(!t._d){var e=it(t._i),n=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),zn(t)}}function Gn(t){var e=new w(bn(qn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function qn(t){var e=t._i,n=t._f;return t._locale=t._locale||yn(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new w(bn(e)):(h(e)?t._d=e:o(n)?Un(t):n?Bn(t):Yn(t),y(t)||(t._d=null),t))}function Yn(t){var e=t._i;u(e)?t._d=new Date(r.now()):h(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Ln(t):o(e)?(t._a=f(e.slice(0),(function(t){return parseInt(t,10)})),zn(t)):a(e)?Vn(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Wn(t,e,n,r,i){var s={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&l(t)||o(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,Gn(s)}function Zn(t,e,n,r){return Wn(t,e,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Xn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Zn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),Kn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Zn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function $n(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Zn();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Jn(){return $n("isBefore",[].slice.call(arguments,0))}function Qn(){return $n("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(t){var e,n,r=!1;for(e in t)if(s(t,e)&&(-1===Ut.call(er,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<er.length;++n)if(t[er[n]]){if(r)return!1;parseFloat(t[er[n]])!==ct(t[er[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Ar(NaN)}function or(t){var e=it(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=nr(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function ar(t){return t instanceof or}function sr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function lr(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&ct(t[r])!==ct(e[r]))&&a++;return a+o}function ur(t,e){B(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+L(~~(t/60),2)+e+L(~~t%60,2)}))}ur("Z",":"),ur("ZZ",""),Rt("Z",jt),Rt("ZZ",jt),Ft(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=hr(jt,t)}));var cr=/([\+\-]|\d\d)/gi;function hr(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(cr)||["-",0,0])[1]+ct(n[2]))?0:"+"===n[0]?r:-r}function fr(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(k(t)||h(t)?t.valueOf():Zn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Zn(t).local()}function pr(t){return-Math.round(t._d.getTimezoneOffset())}function dr(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=hr(jt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=pr(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Ir(this,Ar(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function vr(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function gr(t){return this.utcOffset(0,t)}function yr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pr(this),"m")),this}function mr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=hr(Ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function br(t){return!!this.isValid()&&(t=t?Zn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return x(e,this),(e=qn(e))._a?(t=e._isUTC?d(e._a):Zn(e._a),this._isDSTShifted=this.isValid()&&lr(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wr(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ar(t,e){var n,r,i,o=t,a=null;return ar(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(a=Sr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:ct(a[qt])*n,h:ct(a[Yt])*n,m:ct(a[Wt])*n,s:ct(a[Zt])*n,ms:ct(sr(1e3*a[Xt]))*n}):(a=Tr.exec(t))?(n="-"===a[1]?-1:1,o={y:Or(a[2],n),M:Or(a[3],n),w:Or(a[4],n),d:Or(a[5],n),h:Or(a[6],n),m:Or(a[7],n),s:Or(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Cr(Zn(o.from),Zn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new or(o),ar(t)&&s(t,"_locale")&&(r._locale=t._locale),ar(t)&&s(t,"_isValid")&&(r._isValid=t._isValid),r}function Or(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Mr(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Cr(t,e){var n;return t.isValid()&&e.isValid()?(e=fr(e,t),t.isBefore(e)?n=Mr(t,e):((n=Mr(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function jr(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ir(this,Ar(n,r),t),this}}function Ir(t,e,n,i){var o=e._milliseconds,a=sr(e._days),s=sr(e._months);t.isValid()&&(i=null==i||i,s&&ue(t,ft(t,"Month")+s*n),a&&pt(t,"Date",ft(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||s))}Ar.fn=or.prototype,Ar.invalid=ir;var Pr=jr(1,"add"),Rr=jr(-1,"subtract");function Lr(t){return"string"===typeof t||t instanceof String}function Nr(t){return k(t)||h(t)||Lr(t)||c(t)||zr(t)||Dr(t)||null===t||void 0===t}function Dr(t){var e,n,r=a(t)&&!l(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<o.length;e+=1)n=o[e],i=i||s(t,n);return r&&i}function zr(t){var e=o(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&Lr(t)})).length),e&&n}function Fr(t){var e,n,r=a(t)&&!l(t),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=o[e],i=i||s(t,n);return r&&i}function Br(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hr(t,e){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(t=arguments[0],e=void 0):Fr(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Zn(),i=fr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(M(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Zn(n)))}function Ur(){return new w(this)}function Vr(t,e){var n=k(t)?t:Zn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Gr(t,e){var n=k(t)?t:Zn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function qr(t,e,n,r){var i=k(t)?t:Zn(t),o=k(e)?e:Zn(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Yr(t,e){var n,r=k(t)?t:Zn(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Wr(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Zr(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xr(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=fr(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=rt(e)){case"year":o=Kr(this,r)/12;break;case"month":o=Kr(this,r);break;case"quarter":o=Kr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ut(o)}function Kr(t,e){if(t.date()<e.date())return-Kr(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(t+e+n+r)}function ti(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)}function ei(t,e){return this.isValid()&&(k(t)&&t.isValid()||Zn(t).isValid())?Ar({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ni(t){return this.from(Zn(),t)}function ri(t,e){return this.isValid()&&(k(t)&&t.isValid()||Zn(t).isValid())?Ar({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ii(t){return this.to(Zn(),t)}function oi(t){var e;return void 0===t?this._locale._abbr:(null!=(e=yn(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function si(){return this._locale}var li=1e3,ui=60*li,ci=60*ui,hi=3506328*ci;function fi(t,e){return(t%e+e)%e}function pi(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-hi:new Date(t,e,n).valueOf()}function di(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-hi:Date.UTC(t,e,n)}function vi(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?di:pi,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=fi(e+(this._isUTC?0:this.utcOffset()*ui),ci);break;case"minute":e=this._d.valueOf(),e-=fi(e,ui);break;case"second":e=this._d.valueOf(),e-=fi(e,li)}return this._d.setTime(e),r.updateOffset(this,!0),this}function gi(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?di:pi,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ci-fi(e+(this._isUTC?0:this.utcOffset()*ui),ci)-1;break;case"minute":e=this._d.valueOf(),e+=ui-fi(e,ui)-1;break;case"second":e=this._d.valueOf(),e+=li-fi(e,li)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function mi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function _i(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function wi(){return this.isValid()?this.toISOString():null}function ki(){return y(this)}function Ei(){return p({},g(this))}function Si(){return g(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ai(t,e){var n,i,o,a=this._eras||yn("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}}return a}function Oi(t,e,n){var r,i,o,a,s,l=this.eras();for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[r];break;case"NNNN":if(o===t)return l[r];break;case"NNNNN":if(s===t)return l[r]}else if([o,a,s].indexOf(t)>=0)return l[r]}function Mi(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Ci(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function ji(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function Ii(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function Pi(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-r(o[t].since).year())*n+o[t].offset;return this.year()}function Ri(t){return s(this,"_erasNameRegex")||Hi.call(this),t?this._erasNameRegex:this._erasRegex}function Li(t){return s(this,"_erasAbbrRegex")||Hi.call(this),t?this._erasAbbrRegex:this._erasRegex}function Ni(t){return s(this,"_erasNarrowRegex")||Hi.call(this),t?this._erasNarrowRegex:this._erasRegex}function Di(t,e){return e.erasAbbrRegex(t)}function zi(t,e){return e.erasNameRegex(t)}function Fi(t,e){return e.erasNarrowRegex(t)}function Bi(t,e){return e._eraYearOrdinalRegex||Ot}function Hi(){var t,e,n=[],r=[],i=[],o=[],a=this.eras();for(t=0,e=a.length;t<e;++t)r.push(Dt(a[t].name)),n.push(Dt(a[t].abbr)),i.push(Dt(a[t].narrow)),o.push(Dt(a[t].name)),o.push(Dt(a[t].abbr)),o.push(Dt(a[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Ui(t,e){B(0,[t,t.length],0,e)}function Vi(t){return Xi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(t){return Xi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qi(){return ke(this.year(),1,4)}function Yi(){return ke(this.isoWeekYear(),1,4)}function Wi(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function Zi(){var t=this.localeData()._week;return ke(this.weekYear(),t.dow,t.doy)}function Xi(t,e,n,r,i){var o;return null==t?we(this,r,i).year:(e>(o=ke(t,r,i))&&(e=o),Ki.call(this,t,e,n,r,i))}function Ki(t,e,n,r,i){var o=xe(t,e,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $i(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Rt("N",Di),Rt("NN",Di),Rt("NNN",Di),Rt("NNNN",zi),Rt("NNNNN",Fi),Ft(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?g(n).era=i:g(n).invalidEra=t})),Rt("y",Ot),Rt("yy",Ot),Rt("yyy",Ot),Rt("yyyy",Ot),Rt("yo",Bi),Ft(["y","yy","yyy","yyyy"],Vt),Ft(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Vt]=n._locale.eraYearOrdinalParse(t,i):e[Vt]=parseInt(t,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ui("gggg","weekYear"),Ui("ggggg","weekYear"),Ui("GGGG","isoWeekYear"),Ui("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),at("weekYear",1),at("isoWeekYear",1),Rt("G",Mt),Rt("g",Mt),Rt("GG",wt,mt),Rt("gg",wt,mt),Rt("GGGG",Tt,_t),Rt("gggg",Tt,_t),Rt("GGGGG",At,xt),Rt("ggggg",At,xt),Bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=ct(t)})),Bt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),B("Q",0,"Qo","quarter"),nt("quarter","Q"),at("quarter",7),Rt("Q",yt),Ft("Q",(function(t,e){e[Gt]=3*(ct(t)-1)})),B("D",["DD",2],"Do","date"),nt("date","D"),at("date",9),Rt("D",wt),Rt("DD",wt,mt),Rt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Ft(["D","DD"],qt),Ft("Do",(function(t,e){e[qt]=ct(t.match(wt)[0])}));var Ji=ht("Date",!0);function Qi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),at("dayOfYear",4),Rt("DDD",St),Rt("DDDD",bt),Ft(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=ct(t)})),B("m",["mm",2],0,"minute"),nt("minute","m"),at("minute",14),Rt("m",wt),Rt("mm",wt,mt),Ft(["m","mm"],Wt);var to=ht("Minutes",!1);B("s",["ss",2],0,"second"),nt("second","s"),at("second",15),Rt("s",wt),Rt("ss",wt,mt),Ft(["s","ss"],Zt);var eo,no,ro=ht("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),nt("millisecond","ms"),at("millisecond",16),Rt("S",St,yt),Rt("SS",St,mt),Rt("SSS",St,bt),eo="SSSS";eo.length<=9;eo+="S")Rt(eo,Ot);function io(t,e){e[Xt]=ct(1e3*("0."+t))}for(eo="S";eo.length<=9;eo+="S")Ft(eo,io);function oo(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}no=ht("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var so=w.prototype;function lo(t){return Zn(1e3*t)}function uo(){return Zn.apply(null,arguments).parseZone()}function co(t){return t}so.add=Pr,so.calendar=Hr,so.clone=Ur,so.diff=Xr,so.endOf=gi,so.format=ti,so.from=ei,so.fromNow=ni,so.to=ri,so.toNow=ii,so.get=dt,so.invalidAt=Si,so.isAfter=Vr,so.isBefore=Gr,so.isBetween=qr,so.isSame=Yr,so.isSameOrAfter=Wr,so.isSameOrBefore=Zr,so.isValid=ki,so.lang=ai,so.locale=oi,so.localeData=si,so.max=Kn,so.min=Xn,so.parsingFlags=Ei,so.set=vt,so.startOf=vi,so.subtract=Rr,so.toArray=_i,so.toObject=xi,so.toDate=bi,so.toISOString=Jr,so.inspect=Qr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(so[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),so.toJSON=wi,so.toString=$r,so.unix=mi,so.valueOf=yi,so.creationData=Ti,so.eraName=Ci,so.eraNarrow=ji,so.eraAbbr=Ii,so.eraYear=Pi,so.year=ge,so.isLeapYear=ye,so.weekYear=Vi,so.isoWeekYear=Gi,so.quarter=so.quarters=$i,so.month=ce,so.daysInMonth=he,so.week=so.weeks=Oe,so.isoWeek=so.isoWeeks=Me,so.weeksInYear=Wi,so.weeksInWeekYear=Zi,so.isoWeeksInYear=qi,so.isoWeeksInISOWeekYear=Yi,so.date=Ji,so.day=so.days=Ge,so.weekday=qe,so.isoWeekday=Ye,so.dayOfYear=Qi,so.hour=so.hours=rn,so.minute=so.minutes=to,so.second=so.seconds=ro,so.millisecond=so.milliseconds=no,so.utcOffset=dr,so.utc=gr,so.local=yr,so.parseZone=mr,so.hasAlignedHourOffset=br,so.isDST=_r,so.isLocal=wr,so.isUtcOffset=kr,so.isUtc=Er,so.isUTC=Er,so.zoneAbbr=oo,so.zoneName=ao,so.dates=S("dates accessor is deprecated. Use date instead.",Ji),so.months=S("months accessor is deprecated. Use month instead",ce),so.years=S("years accessor is deprecated. Use year instead",ge),so.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),so.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var ho=I.prototype;function fo(t,e,n,r){var i=yn(),o=d().set(r,e);return i[n](o,t)}function po(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return fo(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fo(t,r,n,"month");return i}function vo(t,e,n,r){"boolean"===typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var i,o=yn(),a=t?o._week.dow:0,s=[];if(null!=n)return fo(e,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=fo(e,(i+a)%7,r,"day");return s}function go(t,e){return po(t,e,"months")}function yo(t,e){return po(t,e,"monthsShort")}function mo(t,e,n){return vo(t,e,n,"weekdays")}function bo(t,e,n){return vo(t,e,n,"weekdaysShort")}function _o(t,e,n){return vo(t,e,n,"weekdaysMin")}ho.calendar=R,ho.longDateFormat=Y,ho.invalidDate=Z,ho.ordinal=$,ho.preparse=co,ho.postformat=co,ho.relativeTime=Q,ho.pastFuture=tt,ho.set=C,ho.eras=Ai,ho.erasParse=Oi,ho.erasConvertYear=Mi,ho.erasAbbrRegex=Li,ho.erasNameRegex=Ri,ho.erasNarrowRegex=Ni,ho.months=oe,ho.monthsShort=ae,ho.monthsParse=le,ho.monthsRegex=pe,ho.monthsShortRegex=fe,ho.week=Ee,ho.firstDayOfYear=Ae,ho.firstDayOfWeek=Te,ho.weekdays=Fe,ho.weekdaysMin=He,ho.weekdaysShort=Be,ho.weekdaysParse=Ve,ho.weekdaysRegex=We,ho.weekdaysShortRegex=Ze,ho.weekdaysMinRegex=Xe,ho.isPM=en,ho.meridiem=on,dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===ct(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",dn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",yn);var xo=Math.abs;function wo(){var t=this._data;return this._milliseconds=xo(this._milliseconds),this._days=xo(this._days),this._months=xo(this._months),t.milliseconds=xo(t.milliseconds),t.seconds=xo(t.seconds),t.minutes=xo(t.minutes),t.hours=xo(t.hours),t.months=xo(t.months),t.years=xo(t.years),this}function ko(t,e,n,r){var i=Ar(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Eo(t,e){return ko(this,t,e,1)}function So(t,e){return ko(this,t,e,-1)}function To(t){return t<0?Math.floor(t):Math.ceil(t)}function Ao(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*To(Mo(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=ut(o/1e3),l.seconds=t%60,e=ut(t/60),l.minutes=e%60,n=ut(e/60),l.hours=n%24,a+=ut(n/24),s+=i=ut(Oo(a)),a-=To(Mo(i)),r=ut(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Oo(t){return 4800*t/146097}function Mo(t){return 146097*t/4800}function Co(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=rt(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+Oo(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Mo(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function jo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ct(this._months/12):NaN}function Io(t){return function(){return this.as(t)}}var Po=Io("ms"),Ro=Io("s"),Lo=Io("m"),No=Io("h"),Do=Io("d"),zo=Io("w"),Fo=Io("M"),Bo=Io("Q"),Ho=Io("y");function Uo(){return Ar(this)}function Vo(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function Go(t){return function(){return this.isValid()?this._data[t]:NaN}}var qo=Go("milliseconds"),Yo=Go("seconds"),Wo=Go("minutes"),Zo=Go("hours"),Xo=Go("days"),Ko=Go("months"),$o=Go("years");function Jo(){return ut(this.days()/7)}var Qo=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ea(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function na(t,e,n,r){var i=Ar(t).abs(),o=Qo(i.as("s")),a=Qo(i.as("m")),s=Qo(i.as("h")),l=Qo(i.as("d")),u=Qo(i.as("M")),c=Qo(i.as("w")),h=Qo(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=e,f[3]=+t>0,f[4]=r,ea.apply(null,f)}function ra(t){return void 0===t?Qo:"function"===typeof t&&(Qo=t,!0)}function ia(t,e){return void 0!==ta[t]&&(void 0===e?ta[t]:(ta[t]=e,"s"===t&&(ta.ss=e-1),!0))}function oa(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(i=t),"object"===typeof e&&(o=Object.assign({},ta,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=na(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function sa(t){return(t>0)-(t<0)||+t}function la(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,a,s,l=aa(this._milliseconds)/1e3,u=aa(this._days),c=aa(this._months),h=this.asSeconds();return h?(t=ut(l/60),e=ut(t/60),l%=60,t%=60,n=ut(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=sa(this._months)!==sa(h)?"-":"",a=sa(this._days)!==sa(h)?"-":"",s=sa(this._milliseconds)!==sa(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?a+u+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+r+"S":"")):"P0D"}var ua=or.prototype;return ua.isValid=rr,ua.abs=wo,ua.add=Eo,ua.subtract=So,ua.as=Co,ua.asMilliseconds=Po,ua.asSeconds=Ro,ua.asMinutes=Lo,ua.asHours=No,ua.asDays=Do,ua.asWeeks=zo,ua.asMonths=Fo,ua.asQuarters=Bo,ua.asYears=Ho,ua.valueOf=jo,ua._bubble=Ao,ua.clone=Uo,ua.get=Vo,ua.milliseconds=qo,ua.seconds=Yo,ua.minutes=Wo,ua.hours=Zo,ua.days=Xo,ua.weeks=Jo,ua.months=Ko,ua.years=$o,ua.humanize=oa,ua.toISOString=la,ua.toString=la,ua.toJSON=la,ua.locale=oi,ua.localeData=si,ua.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",la),ua.lang=ai,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Rt("x",Mt),Rt("X",It),Ft("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Ft("x",(function(t,e,n){n._d=new Date(ct(t))})),r.version="2.29.1",i(Zn),r.fn=so,r.min=Jn,r.max=Qn,r.now=tr,r.utc=d,r.unix=lo,r.months=go,r.isDate=h,r.locale=dn,r.invalid=m,r.duration=Ar,r.isMoment=k,r.weekdays=mo,r.parseZone=uo,r.localeData=yn,r.isDuration=ar,r.monthsShort=yo,r.weekdaysMin=_o,r.defineLocale=vn,r.updateLocale=gn,r.locales=mn,r.weekdaysShort=bo,r.normalizeUnits=rt,r.relativeTimeRounding=ra,r.relativeTimeThreshold=ia,r.calendarFormat=Br,r.prototype=so,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(50)(t))},function(t,e,n){"use strict";function r(t,e){return function(n){return"dark"===n.colorMode?e:t}}function i(t){var e=t.orientation,n=t.vertical,r=t.horizontal;return e?"vertical"===e?n:r:{}}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))},,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(58),i=n(195),o=n(196),a=n(197),s=n(198),l=n(199);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},function(t,e,n){var r=n(40)(n(30),"Map");t.exports=r},function(t,e,n){var r=n(45),i=n(33);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(206),i=n(213),o=n(215),a=n(216),s=n(217);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(126);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(227),i=n(41),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(30),i=n(229),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l}).call(this,n(50)(t))},function(t,e,n){var r=n(231),i=n(232),o=n(233),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(34),i=n(65),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){(function(t,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[o]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[a]=c["[object Map]"]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var h="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=h||f||Function("return this")(),d=e&&!e.nodeType&&e,v=d&&"object"==typeof n&&n&&!n.nodeType&&n,g=v&&v.exports===d,y=g&&h.process,m=function(){try{var t=v&&v.require&&v.require("util").types;return t||y&&y.binding&&y.binding("util")}catch(e){}}(),b=m&&m.isTypedArray;function _(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var x,w,k=Array.prototype,E=Function.prototype,S=Object.prototype,T=p["__core-js_shared__"],A=E.toString,O=S.hasOwnProperty,M=function(){var t=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),C=S.toString,j=A.call(Object),I=RegExp("^"+A.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=g?p.Buffer:void 0,R=p.Symbol,L=p.Uint8Array,N=P?P.allocUnsafe:void 0,D=(x=Object.getPrototypeOf,w=Object,function(t){return x(w(t))}),z=Object.create,F=S.propertyIsEnumerable,B=k.splice,H=R?R.toStringTag:void 0,U=function(){try{var t=pt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),V=P?P.isBuffer:void 0,G=Math.max,q=Date.now,Y=pt(p,"Map"),W=pt(Object,"create"),Z=function(){function t(){}return function(e){if(!St(e))return{};if(z)return z(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function X(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function J(t){var e=this.__data__=new K(t);this.size=e.size}function Q(t,e){var n=_t(t),r=!n&&bt(t),i=!n&&!r&&wt(t),o=!n&&!r&&!i&&At(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!O.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||dt(u,l))||s.push(u);return s}function tt(t,e,n){(void 0!==n&&!mt(t[e],n)||void 0===n&&!(e in t))&&rt(t,e,n)}function et(t,e,n){var r=t[e];O.call(t,e)&&mt(r,n)&&(void 0!==n||e in t)||rt(t,e,n)}function nt(t,e){for(var n=t.length;n--;)if(mt(t[n][0],e))return n;return-1}function rt(t,e,n){"__proto__"==e&&U?U(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}X.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},X.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},X.prototype.get=function(t){var e=this.__data__;if(W){var n=e[t];return n===r?void 0:n}return O.call(e,t)?e[t]:void 0},X.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:O.call(e,t)},X.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=W&&void 0===e?r:e,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(t){var e=this.__data__,n=nt(e,t);return!(n<0)&&(n==e.length-1?e.pop():B.call(e,n,1),--this.size,!0)},K.prototype.get=function(t){var e=this.__data__,n=nt(e,t);return n<0?void 0:e[n][1]},K.prototype.has=function(t){return nt(this.__data__,t)>-1},K.prototype.set=function(t,e){var n=this.__data__,r=nt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},$.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(Y||K),string:new X}},$.prototype.delete=function(t){var e=ft(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return ft(this,t).get(t)},$.prototype.has=function(t){return ft(this,t).has(t)},$.prototype.set=function(t,e){var n=ft(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},J.prototype.clear=function(){this.__data__=new K,this.size=0},J.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},J.prototype.get=function(t){return this.__data__.get(t)},J.prototype.has=function(t){return this.__data__.has(t)},J.prototype.set=function(t,e){var n=this.__data__;if(n instanceof K){var r=n.__data__;if(!Y||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $(r)}return n.set(t,e),this.size=n.size,this};var it,ot=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[it?a:++r];if(!1===e(i[s],s,i))break}return t};function at(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":H&&H in Object(t)?function(t){var e=O.call(t,H),n=t[H];try{t[H]=void 0;var r=!0}catch(o){}var i=C.call(t);r&&(e?t[H]=n:delete t[H]);return i}(t):function(t){return C.call(t)}(t)}function st(t){return Tt(t)&&at(t)==o}function lt(t){return!(!St(t)||function(t){return!!M&&M in t}(t))&&(kt(t)?I:l).test(function(t){if(null!=t){try{return A.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}function ut(t){if(!St(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=vt(t),n=[];for(var r in t)("constructor"!=r||!e&&O.call(t,r))&&n.push(r);return n}function ct(t,e,n,r,i){t!==e&&ot(e,(function(o,a){if(i||(i=new J),St(o))!function(t,e,n,r,i,o,a){var l=gt(t,n),u=gt(e,n),c=a.get(u);if(c)return void tt(t,n,c);var h=o?o(l,u,n+"",t,e,a):void 0,f=void 0===h;if(f){var p=_t(u),d=!p&&wt(u),v=!p&&!d&&At(u);h=u,p||d||v?_t(l)?h=l:Tt(g=l)&&xt(g)?h=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(l):d?(f=!1,h=function(t,e){if(e)return t.slice();var n=t.length,r=N?N(n):new t.constructor(n);return t.copy(r),r}(u,!0)):v?(f=!1,h=function(t,e){var n=e?function(t){var e=new t.constructor(t.byteLength);return new L(e).set(new L(t)),e}(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(u,!0)):h=[]:function(t){if(!Tt(t)||at(t)!=s)return!1;var e=D(t);if(null===e)return!0;var n=O.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==j}(u)||bt(u)?(h=l,bt(l)?h=function(t){return function(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;for(;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?rt(n,s,l):et(n,s,l)}return n}(t,Ot(t))}(l):St(l)&&!kt(l)||(h=function(t){return"function"!=typeof t.constructor||vt(t)?{}:Z(D(t))}(u))):f=!1}var g;f&&(a.set(u,h),i(h,u,r,o,a),a.delete(u));tt(t,n,h)}(t,e,a,n,ct,r,i);else{var l=r?r(gt(t,a),o,a+"",t,e,i):void 0;void 0===l&&(l=o),tt(t,a,l)}}),Ot)}function ht(t,e){return yt(function(t,e,n){return e=G(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=G(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),_(t,this,s)}}(t,e,jt),t+"")}function ft(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function pt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return lt(n)?n:void 0}function dt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&u.test(t))&&t>-1&&t%1==0&&t<e}function vt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||S)}function gt(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var yt=function(t){var e=0,n=0;return function(){var r=q(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(U?function(t,e){return U(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:jt);function mt(t,e){return t===e||t!==t&&e!==e}var bt=st(function(){return arguments}())?st:function(t){return Tt(t)&&O.call(t,"callee")&&!F.call(t,"callee")},_t=Array.isArray;function xt(t){return null!=t&&Et(t.length)&&!kt(t)}var wt=V||function(){return!1};function kt(t){if(!St(t))return!1;var e=at(t);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Et(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function St(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tt(t){return null!=t&&"object"==typeof t}var At=b?function(t){return function(e){return t(e)}}(b):function(t){return Tt(t)&&Et(t.length)&&!!c[at(t)]};function Ot(t){return xt(t)?Q(t,!0):ut(t)}var Mt,Ct=(Mt=function(t,e,n,r){ct(t,e,n,r)},ht((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=Mt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!St(n))return!1;var r=typeof e;return!!("number"==r?xt(n)&&dt(e,n.length):"string"==r&&e in n)&&mt(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Mt(t,a,n,i)}return t})));function jt(t){return t}n.exports=Ct}).call(this,n(85),n(50)(t))},function(t,e,n){"use strict";var r=n(101),i=n.n(r);e.a=function(t,e){return i()(t,e)}},function(t,e,n){"use strict";var r=n(167),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(e),v=l(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=f(n,y);try{u(e,y,m)}catch(b){}}}}return e}},function(t,e,n){"use strict";var r=n(75),i="-ms-",o="-moz-",a="-webkit-",s="comm",l="rule",u="decl",c=Math.abs,h=String.fromCharCode;function f(t){return t.trim()}function p(t,e,n){return t.replace(e,n)}function d(t,e){return t.indexOf(e)}function v(t,e){return 0|t.charCodeAt(e)}function g(t,e,n){return t.slice(e,n)}function y(t){return t.length}function m(t){return t.length}function b(t,e){return e.push(t),t}function _(t,e){return t.map(e).join("")}var x=1,w=1,k=0,E=0,S=0,T="";function A(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:x,column:w,length:a,return:""}}function O(t,e,n){return A(t,e.root,e.parent,n,e.props,e.children,0)}function M(){return S=E>0?v(T,--E):0,w--,10===S&&(w=1,x--),S}function C(){return S=E<k?v(T,E++):0,w++,10===S&&(w=1,x++),S}function j(){return v(T,E)}function I(){return E}function P(t,e){return g(T,t,e)}function R(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(t){return x=w=1,k=y(T=t),E=0,[]}function N(t){return T="",t}function D(t){return f(P(E-1,B(91===t?t+2:40===t?t+1:t)))}function z(t){for(;(S=j())&&S<33;)C();return R(t)>2||R(S)>3?"":" "}function F(t,e){for(;--e&&C()&&!(S<48||S>102||S>57&&S<65||S>70&&S<97););return P(t,I()+(e<6&&32==j()&&32==C()))}function B(t){for(;C();)switch(S){case t:return E;case 34:case 39:return B(34===t||39===t?t:S);case 40:41===t&&B(t);break;case 92:C()}return E}function H(t,e){for(;C()&&t+S!==57&&(t+S!==84||47!==j()););return"/*"+P(e,E-1)+"*"+h(47===t?t:C())}function U(t){for(;!R(j());)C();return P(t,E)}function V(t){return N(G("",null,null,null,[""],t=L(t),0,[0],t))}function G(t,e,n,r,i,o,a,s,l){for(var u=0,c=0,f=a,d=0,v=0,g=0,m=1,_=1,x=1,w=0,k="",E=i,S=o,T=r,A=k;_;)switch(g=w,w=C()){case 34:case 39:case 91:case 40:A+=D(w);break;case 9:case 10:case 13:case 32:A+=z(g);break;case 92:A+=F(I()-1,7);continue;case 47:switch(j()){case 42:case 47:b(Y(H(C(),I()),e,n),l);break;default:A+="/"}break;case 123*m:s[u++]=y(A)*x;case 125*m:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+c:v>0&&y(A)-f&&b(v>32?W(A+";",r,n,f-1):W(p(A," ","")+";",r,n,f-2),l);break;case 59:A+=";";default:if(b(T=q(A,e,n,u,c,i,s,k,E=[],S=[],f),o),123===w)if(0===c)G(A,e,T,T,E,o,f,s,S);else switch(d){case 100:case 109:case 115:G(t,T,T,r&&b(q(t,T,T,0,0,i,s,k,i,E=[],f),S),i,S,f,s,r?E:S);break;default:G(A,T,T,T,[""],S,f,s,S)}}u=c=v=0,m=x=1,k=A="",f=a;break;case 58:f=1+y(A),v=g;default:if(m<1)if(123==w)--m;else if(125==w&&0==m++&&125==M())continue;switch(A+=h(w),w*m){case 38:x=c>0?1:(A+="\f",-1);break;case 44:s[u++]=(y(A)-1)*x,x=1;break;case 64:45===j()&&(A+=D(C())),d=j(),c=y(k=A+=U(I())),w++;break;case 45:45===g&&2==y(A)&&(m=0)}}return o}function q(t,e,n,r,i,o,a,s,u,h,d){for(var v=i-1,y=0===i?o:[""],b=m(y),_=0,x=0,w=0;_<r;++_)for(var k=0,E=g(t,v+1,v=c(x=a[_])),S=t;k<b;++k)(S=f(x>0?y[k]+" "+E:p(E,/&\f/g,y[k])))&&(u[w++]=S);return A(t,e,n,0===i?l:s,u,h,d)}function Y(t,e,n){return A(t,e,n,s,h(S),g(t,2,-2),0)}function W(t,e,n,r){return A(t,e,n,u,g(t,0,r),g(t,r+1,-1),r)}function Z(t,e){switch(function(t,e){return(((e<<2^v(t,0))<<2^v(t,1))<<2^v(t,2))<<2^v(t,3)}(t,e)){case 5103:return a+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return a+t+o+t+i+t+t;case 6828:case 4268:return a+t+i+t+t;case 6165:return a+t+i+"flex-"+t+t;case 5187:return a+t+p(t,/(\w+).+(:[^]+)/,a+"box-$1$2"+i+"flex-$1$2")+t;case 5443:return a+t+i+"flex-item-"+p(t,/flex-|-self/,"")+t;case 4675:return a+t+i+"flex-line-pack"+p(t,/align-content|flex-|-self/,"")+t;case 5548:return a+t+i+p(t,"shrink","negative")+t;case 5292:return a+t+i+p(t,"basis","preferred-size")+t;case 6060:return a+"box-"+p(t,"-grow","")+a+t+i+p(t,"grow","positive")+t;case 4554:return a+p(t,/([^-])(transform)/g,"$1"+a+"$2")+t;case 6187:return p(p(p(t,/(zoom-|grab)/,a+"$1"),/(image-set)/,a+"$1"),t,"")+t;case 5495:case 3959:return p(t,/(image-set\([^]*)/,a+"$1$`$1");case 4968:return p(p(t,/(.+:)(flex-)?(.*)/,a+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a+t+t;case 4095:case 3583:case 4068:case 2532:return p(t,/(.+)-inline(.+)/,a+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(y(t)-1-e>6)switch(v(t,e+1)){case 109:if(45!==v(t,e+4))break;case 102:return p(t,/(.+:)(.+)-([^]+)/,"$1"+a+"$2-$3$1"+o+(108==v(t,e+3)?"$3":"$2-$3"))+t;case 115:return~d(t,"stretch")?Z(p(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==v(t,e+1))break;case 6444:switch(v(t,y(t)-3-(~d(t,"!important")&&10))){case 107:return p(t,":",":"+a)+t;case 101:return p(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a+(45===v(t,14)?"inline-":"")+"box$3$1"+a+"$2$3$1"+i+"$2box$3")+t}break;case 5936:switch(v(t,e+11)){case 114:return a+t+i+p(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return a+t+i+p(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return a+t+i+p(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return a+t+i+t+t}return t}function X(t,e){for(var n="",r=m(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function K(t,e,n,r){switch(t.type){case"@import":case u:return t.return=t.return||t.value;case s:return"";case l:t.value=t.props.join(",")}return y(n=X(t.children,r))?t.return=t.value+"{"+n+"}":""}function $(t){return function(e){e.root||(e=e.return)&&t(e)}}n(53),n(52);var J=function(t,e){return N(function(t,e){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===j()&&(e[n]=1),t[n]+=U(E-1);break;case 2:t[n]+=D(r);break;case 4:if(44===r){t[++n]=58===j()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=h(r)}}while(r=C());return t}(L(t),e))},Q=new WeakMap,tt=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Q.get(n))&&!r){Q.set(t,!0);for(var i=[],o=J(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},et=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},nt=[function(t,e,n,r){if(!t.return)switch(t.type){case u:t.return=Z(t.value,t.length);break;case"@keyframes":return X([O(p(t.value,"@","@"+a),t,"")],r);case l:if(t.length)return _(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return X([O(p(e,/:(read-\w+)/,":-moz-$1"),t,"")],r);case"::placeholder":return X([O(p(e,/:(plac\w+)/,":"+a+"input-$1"),t,""),O(p(e,/:(plac\w+)/,":-moz-$1"),t,""),O(p(e,/:(plac\w+)/,i+"input-$1"),t,"")],r)}return""}))}}];e.a=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||nt;var o,a,s={},l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;l.push(t)}));var u=[tt,et];var c,h=[K,$((function(t){c.insert(t)}))],f=function(t){var e=m(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}(u.concat(i,h));a=function(t,e,n,r){c=n,X(V(t?t+"{"+e.styles+"}":e.styles),f),r&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new r.a({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(l),p}},function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return y}));var r=n(5),i=n(8),o=n(301),a=n(39),s=n(29),l=n(145),u=n(299),c=n(20),h=n(42),f=n(1),p=function(t){var e=t.cssVarsRoot,n=void 0===e?":host, :root":e,r=t.theme,o=t.children,s=f.useMemo((function(){return Object(a.toCSSVar)(r)}),[r]);return f.createElement(c.c,{theme:s},f.createElement(h.a,{styles:function(t){return Object(i.a)({},n,t.__cssVars)}}),o)};function d(){var t=f.useContext(c.b);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var v=Object(u.a)({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),g=Object(r.a)(v,2),y=(g[0],g[1],function(){var t=Object(o.b)().colorMode;return f.createElement(h.a,{styles:function(e){var n=Object(s.c)(e,"styles.global"),r=Object(l.b)(n,{theme:e,colorMode:t});if(r){var i=Object(a.css)(r)(e);return i}}})})},function(t,e,n){t.exports=n(171)},function(t,e,n){var r=n(132),i=n(131),o=n(135),a=n(46),s=n(63),l=n(64),u=Object.prototype.hasOwnProperty,c=o((function(t,e){if(s(e)||a(e))i(e,l(e),t);else for(var n in e)u.call(e,n)&&r(t,n,e[n])}));t.exports=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f}));var r=n(1),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};function l(t){return t&&t.map((function(t,e){return r.createElement(t.tag,a({key:e},t.attr),l(t.child))}))}function u(t){return function(e){return r.createElement(c,a({attr:a({},t.attr)},e),l(t.child))}}function c(t){var e=function(e){var n,i=t.size||e.size||"1em";e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className);var o=t.attr,l=t.title,u=s(t,["attr","title"]);return r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,o,u,{className:n,style:a({color:t.color||e.color},e.style,t.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),t.children)};return void 0!==o?r.createElement(o.Consumer,null,(function(t){return e(t)})):e(i)}function h(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function f(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(14),i=n(47);var o=n(77);function a(t,e,n){return(a=Object(o.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Object(i.a)(o,n.prototype),o}).apply(null,arguments)}function s(t){var e="function"===typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,t)})(t)}},function(t,e){},function(t,e){},function(t,e){},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,n.apply(this,arguments)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(23);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(23),i=n(176),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=n(116)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){s.headers[t]=r.merge(o)})),t.exports=s}).call(this,n(86))},function(t,e,n){"use strict";var r=n(23),i=n(177),o=n(179),a=n(113),s=n(180),l=n(183),u=n(184),c=n(117);t.exports=function(t){return new Promise((function(e,n){var h=t.data,f=t.headers;r.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";f.Authorization="Basic "+btoa(d+":"+v)}var g=s(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p};i(e,n,o),p=null}},p.onabort=function(){p&&(n(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=(t.withCredentials||u(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(m){if("json"!==t.responseType)throw m}"function"===typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),n(t),p=null)})),h||(h=null),p.send(h)}))}},function(t,e,n){"use strict";var r=n(178);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";var r=n(23);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=l(void 0,t[i])):n[i]=l(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=l(void 0,e[t]))})),r.forEach(o,u),r.forEach(a,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=l(void 0,t[i])):n[i]=l(void 0,e[i])})),r.forEach(s,(function(r){r in e?n[r]=l(t[r],e[r]):r in t&&(n[r]=l(void 0,t[r]))}));var c=i.concat(o).concat(a).concat(s),h=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return r.forEach(h,u),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";n.d(e,"animated",(function(){return O}));var r=n(6),i=n(5),o=n(4),a=n(9),s=n(10),l=n(68);n.o(l,"config")&&n.d(e,"config",(function(){return l.config})),n.o(l,"useSpring")&&n.d(e,"useSpring",(function(){return l.useSpring}));var u=n(69),c=n(0),h=n(17);function f(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var p=["style","children","scrollTop","scrollLeft"],d=/^--/;function v(t,e){return null==e||"boolean"===typeof e||""===e?"":"number"!==typeof e||0===e||d.test(t)||y.hasOwnProperty(t)&&y[t]?(""+e).trim():e+"px"}var g={};var y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","Ms","Moz","O"];y=Object.keys(y).reduce((function(t,e){return m.forEach((function(n){return t[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(n,e)]=t[e]})),t}),y);var b=["x","y","z"],_=/^(matrix|translate|scale|rotate|skew)/,x=/^(translate)/,w=/^(rotate|skew)/,k=function(t,e){return c.s.num(t)&&0!==t?t+e:t},E=function t(e,n){return c.s.arr(e)?e.every((function(e){return t(e,n)})):c.s.num(e)?e===n:parseFloat(e)===n},S=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){Object(o.a)(this,n);var r=t.x,a=t.y,s=t.z,l=f(t,b),u=[],h=[];return(r||a||s)&&(u.push([r||0,a||0,s||0]),h.push((function(t){return["translate3d(".concat(t.map((function(t){return k(t,"px")})).join(","),")"),E(t,0)]}))),Object(c.l)(l,(function(t,e){if("transform"===e)u.push([t||""]),h.push((function(t){return[t,""===t]}));else if(_.test(e)){if(delete l[e],c.s.und(t))return;var n=x.test(e)?"px":w.test(e)?"deg":"";u.push(Object(c.y)(t)),h.push("rotate3d"===e?function(t){var e=Object(i.a)(t,4),r=e[0],o=e[1],a=e[2],s=e[3];return["rotate3d(".concat(r,",").concat(o,",").concat(a,",").concat(k(s,n),")"),E(s,0)]}:function(t){return["".concat(e,"(").concat(t.map((function(t){return k(t,n)})).join(","),")"),E(t,e.startsWith("scale")?1:0)]})}})),u.length&&(l.transform=new T(u,h)),e.call(this,l)}return n}(h.a),T=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this))._value=null,i.inputs=t,i.transforms=r,i}return Object(r.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var t=this,e="",n=!0;return Object(c.k)(this.inputs,(function(r,o){var a=Object(c.q)(r[0]),s=t.transforms[o](c.s.arr(a)?a:r.map(c.q)),l=Object(i.a)(s,2),u=l[0],h=l[1];e+=" "+u,n=n&&h})),n?"none":e}},{key:"observerAdded",value:function(t){var e=this;1==t&&Object(c.k)(this.inputs,(function(t){return Object(c.k)(t,(function(t){return Object(c.r)(t)&&Object(c.c)(t,e)}))}))}},{key:"observerRemoved",value:function(t){var e=this;0==t&&Object(c.k)(this.inputs,(function(t){return Object(c.k)(t,(function(t){return Object(c.r)(t)&&Object(c.x)(t,e)}))}))}},{key:"eventObserved",value:function(t){"change"==t.type&&(this._value=null),Object(c.d)(this,t)}}]),n}(c.a),A=["scrollTop","scrollLeft"];l.Globals.assign({batchedUpdates:u.unstable_batchedUpdates,createStringInterpolator:c.g,colors:c.e});var O=Object(h.d)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;var n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,r=e,i=r.style,o=r.children,a=r.scrollTop,s=r.scrollLeft,l=f(r,p),u=Object.values(l),c=Object.keys(l).map((function(e){return n||t.hasAttribute(e)?e:g[e]||(g[e]=e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})))}));for(var h in void 0!==o&&(t.textContent=o),i)if(i.hasOwnProperty(h)){var y=v(h,i[h]);d.test(h)?t.style.setProperty(h,y):t.style[h]=y}c.forEach((function(e,n){t.setAttribute(e,u[n])})),void 0!==a&&(t.scrollTop=a),void 0!==s&&(t.scrollLeft=s)},createAnimatedStyle:function(t){return new S(t)},getComponentProps:function(t){return f(t,A)}}).animated},function(t,e){},function(t,e){},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(85))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(91),i=n(51);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e,n){var r=n(40),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(30).Uint8Array;t.exports=r},function(t,e,n){var r=n(129)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(132),i=n(91);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):r(n,u,c)}return n}},function(t,e,n){var r=n(91),i=n(51),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(134),i=n(236),o=n(46);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(235),i=n(92),o=n(34),a=n(94),s=n(96),l=n(95),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&l(t),p=n||c||h||f,d=p?r(t.length,String):[],v=d.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||d.push(g);return d}},function(t,e,n){var r=n(238),i=n(245);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}},function(t,e,n){var r=n(249),i=n(273),o=n(97),a=n(34),s=n(284);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(251),i=n(41);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(252),i=n(255),o=n(256);t.exports=function(t,e,n,a,s,l){var u=1&n,c=t.length,h=e.length;if(c!=h&&!(u&&h>c))return!1;var f=l.get(t),p=l.get(e);if(f&&p)return f==e&&p==t;var d=-1,v=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++d<c;){var y=t[d],m=e[d];if(a)var b=u?a(m,y,d,e,t,l):a(y,m,d,t,e,l);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||s(y,t,n,a,l)))return g.push(e)}))){v=!1;break}}else if(y!==m&&!s(y,m,n,a,l)){v=!1;break}}return l.delete(t),l.delete(e),v}},function(t,e,n){var r=n(33);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(142),i=n(66);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(34),i=n(98),o=n(275),a=n(278);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var r=n(13);function i(t){return Object(r.h)(t)&&t.reference?t.reference:String(t)}var o=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(i).join(" "+t+" ").replace(/calc/g,"")},a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc("+o.apply(void 0,["+"].concat(e))+")"},s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc("+o.apply(void 0,["-"].concat(e))+")"},l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc("+o.apply(void 0,["*"].concat(e))+")"},u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc("+o.apply(void 0,["/"].concat(e))+")"},c=function(t){var e=i(t);return null==e||Number.isNaN(parseFloat(e))?l(e,-1):String(e).startsWith("-")?String(e).slice(1):"-"+e},h=Object.assign((function(t){return{add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return h(a.apply(void 0,[t].concat(n)))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return h(s.apply(void 0,[t].concat(n)))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return h(l.apply(void 0,[t].concat(n)))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return h(u.apply(void 0,[t].concat(n)))},negate:function(){return h(c(t))},toString:function(){return t.toString()}}}),{add:a,subtract:s,multiply:l,divide:u,negate:c});function f(t){var e=function(t,e){return void 0===e&&(e="-"),t.replace(/\s+/g,e)}(t.toString());return e.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?e.replace(".","\\."):t}function p(t,e){return"var("+f(t)+(e?", "+e:"")+")"}function d(t,e){return void 0===e&&(e=""),"--"+function(t,e){return void 0===e&&(e=""),[e,f(t)].filter(Boolean).join("-")}(t,e)}function v(t,e,n){var r=d(t,n);return{variable:r,reference:p(r,e)}}var g=n(11),y=n(5),m=n(74),b=n(29);function _(t){return null==t?t:function(t){var e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}(t).unitless||Object(r.g)(t)?t+"px":t}var x=function(t,e){return parseInt(t[1],10)>parseInt(e[1],10)?1:-1},w=function(t){return Object(b.b)(Object.entries(t).sort(x))};function k(t){var e=w(t);return Object.assign(Object.values(e),e)}function E(t,e){var n=[];return t&&n.push("@media screen and (min-width: "+_(t)+")"),n.length>0&&e&&n.push("and"),e&&n.push("@media screen and (max-width: "+_(e)+")"),n.join(" ")}function S(t){var e;if(!t)return null;t.base=null!=(e=t.base)?e:"0px";var n=k(t),i=Object.entries(t).sort(x).map((function(t,e,n){var i,o=Object(y.a)(t,2),a=o[0],s=o[1],l=null!=(i=n[e+1])?i:[],u=Object(y.a)(l,2)[1];return{breakpoint:a,minW:s,maxW:u=parseFloat(u)>0?function(t){var e;if(!t)return t;var n=(t=null!=(e=_(t))?e:t).endsWith("px")?-1:-.0635;return Object(r.g)(t)?""+(t+n):t.replace(/([0-9]+\.?[0-9]*)/,(function(t){return""+(parseFloat(t)+n)}))}(u):void 0,maxWQuery:E(null,u),minWQuery:E(s),minMaxQuery:E(s,u)}})),o=function(t){var e=Object.keys(w(t));return new Set(e)}(t),a=Array.from(o.values());return{keys:o,normalized:n,isResponsive:function(t){var e=Object.keys(t);return e.length>0&&e.every((function(t){return o.has(t)}))},asObject:w(t),asArray:k(t),details:i,media:[null].concat(Object(g.a)(n.map((function(t){return E(t)})).slice(1))),toArrayValue:function(t){if(!Object(r.h)(t))throw new Error("toArrayValue: value must be an object");for(var e=a.map((function(e){var n;return null!=(n=t[e])?n:null}));null===Object(m.a)(e);)e.pop();return e},toObjectValue:function(t){if(!Array.isArray(t))throw new Error("toObjectValue: value must be an array");return t.reduce((function(t,e,n){var r=a[n];return null!=r&&null!=e&&(t[r]=e),t}),{})}}}var T=n(8),A=n(72);function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function M(t,e){var n={cssMap:{},cssVars:{}};return function(t,e){(function t(n,i){return void 0===i&&(i=[]),Object(r.c)(n)?n.map((function(e,n){return t(e,[].concat(Object(g.a)(i),[String(n)]))})):Object(r.h)(n)?Object.fromEntries(Object.entries(n).map((function(e){var n=Object(y.a)(e,2),r=n[0];return[r,t(n[1],[].concat(Object(g.a)(i),[r]))]}))):e(n,i)})(t)}(t,(function(t,r){var i,o=Object(y.a)(r,1)[0],a=(null!=(i=C[o])?i:C.defaultHandler)(r,t,e),s=a.cssVars,l=a.cssMap;Object.assign(n.cssVars,s),Object.assign(n.cssMap,l)})),n}var C={space:function(t,e,n){var r=C.defaultHandler(t,e,n),i=Object(A.a)(t),o=i[0]+".-"+i.slice(1).join("."),a=v(t.join("-"),void 0,n.cssVarPrefix),s=a.variable,l=a.reference,u=h.negate(e),c=h.negate(l);return{cssVars:r.cssVars,cssMap:O({},r.cssMap,Object(T.a)({},o,{value:""+u,var:""+s,varRef:c}))}},defaultHandler:function(t,e,n){var r=t.join("."),i=v(t.join("-"),void 0,n.cssVarPrefix),o=i.variable,a=i.reference;return{cssVars:Object(T.a)({},o,e),cssMap:Object(T.a)({},r,{value:e,var:o,varRef:a})}}};var j=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function I(t){return function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["__cssMap","__cssVars","__breakpoints"])}function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function R(t){var e,n=I(t),r=M(function(t){var e=j;return Object(b.g)(t,e)}(n),{cssVarPrefix:null==(e=n.config)?void 0:e.cssVarPrefix}),i=r.cssMap,o=r.cssVars;return Object.assign(n,{__cssVars:P({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},o),__cssMap:i,__breakpoints:S(n.breakpoints)}),n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(12),i=n(5),o=n(13),a=n(145),s=n(99),l=n.n(s),u=n(55),c=n(67),h=function(t,e){return t.startsWith("--")&&Object(o.i)(e)&&!Object(o.d)(e)},f=function(t,e){var n,r;if(null==e)return e;var o=function(e){var n,r;return null==(n=t.__cssMap)||null==(r=n[e])?void 0:r.varRef},a=function(t){var e;return null!=(e=o(t))?e:t},s=e.split(",").map((function(t){return t.trim()})),l=Object(i.a)(s,2),u=l[0],c=l[1];return e=null!=(n=null!=(r=o(u))?r:a(c))?n:a(e)};function p(t){var e=t.configs,n=void 0===e?{}:e,i=t.pseudos,s=void 0===i?{}:i,u=t.theme;return function t(e,i){void 0===i&&(i=!1);var c=Object(a.b)(e,u),p=function(t){return function(e){if(!e.__breakpoints)return t;var n=e.__breakpoints,r=n.isResponsive,i=n.toArrayValue,s=n.media,l={};for(var u in t){var c=Object(a.b)(t[u],e);if(null!=c)if(c=Object(o.h)(c)&&r(c)?i(c):c,Array.isArray(c))for(var h=c.slice(0,s.length).length,f=0;f<h;f+=1){var p=null==s?void 0:s[f];p?(l[p]=l[p]||{},null!=c[f]&&(l[p][u]=c[f])):l[u]=c[f]}else l[u]=c}return l}}(c)(u),d={};for(var v in p){var g,y,m,b,_,x=p[v],w=Object(a.b)(x,u);v in s&&(v=s[v]),h(v,w)&&(w=f(u,w));var k=n[v];if(!0===k&&(k={property:v}),Object(o.h)(w)){var E;d[v]=null!=(E=d[v])?E:{},d[v]=l()({},d[v],t(w,!0))}else{var S=null!=(g=null==(y=k)||null==y.transform?void 0:y.transform(w,u,c))?g:w;S=null!=(m=k)&&m.processResult?t(S,!0):S;var T=Object(a.b)(null==(b=k)?void 0:b.property,u);if(!i&&null!=(_=k)&&_.static){var A=Object(a.b)(k.static,u);d=l()({},d,A)}if(T&&Array.isArray(T)){var O,M=Object(r.a)(T);try{for(M.s();!(O=M.n()).done;){d[O.value]=S}}catch(C){M.e(C)}finally{M.f()}}else T?"&"===T&&Object(o.h)(S)?d=l()({},d,S):d[T]=S:Object(o.h)(S)?d=l()({},d,S):d[v]=S}}return d}}var d=function(t){return function(e){return p({theme:e,pseudos:u.b,configs:c.c})(t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n(13);function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object(r.f)(t)?t.apply(void 0,n):t}function o(t){var e;return function(){if(t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e=t.apply(this,r),t=null}return e}}var a=function(){},s=o((function(t){return function(){var e=t.condition,n=t.message;e&&r.a&&console.warn(n)}}));o((function(t){return function(){var e=t.condition,n=t.message;e&&r.a&&console.error(n)}})),r.b||"function"===typeof queueMicrotask&&queueMicrotask},function(t,e,n){var r=n(189),i=n(135)((function(t,e,n){r(t,e,n)}));t.exports=i},function(t,e,n){var r=n(248)(n(287));t.exports=r},,function(t,e,n){"use strict";n.d(e,"theme",(function(){return s}));var r=n(151),i=n(152),o=n(150);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=a({direction:"ltr"},i.a,{components:r.a,styles:o.a,config:{useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"}});e.default=s},function(t,e,n){"use strict";var r=n(82),i={global:function(t){return{body:{fontFamily:"body",color:Object(r.a)("gray.800","whiteAlpha.900")(t),bg:Object(r.a)("white","gray.800")(t),transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:Object(r.a)("gray.400","whiteAlpha.400")(t)},"*, *::before, &::after":{borderColor:Object(r.a)("gray.200","whiteAlpha.300")(t),wordWrap:"break-word"}}}};e.a=i},function(t,e,n){"use strict";var r={parts:["container","button","panel","icon"],baseStyle:{container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"1rem",_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:4,py:2},panel:{pt:2,px:4,pb:5},icon:{fontSize:"1.25em"}}},i=n(27),o=n.n(i),a=n(29),s=n(13),l=function(t,e,n){var r=Object(a.c)(t,"colors."+e,e);return o()(r).isValid()?r:n},u=function(t){return function(e){var n=l(e,t);return o()(n).isDark()?"dark":"light"}},c=function(t,e){return function(n){var r=l(n,t);return o()(r).setAlpha(e).toRgbString()}};function h(t,e){return void 0===t&&(t="1rem"),void 0===e&&(e="rgba(255, 255, 255, 0.15)"),{backgroundImage:"linear-gradient(\n    45deg,\n    "+e+" 25%,\n    transparent 25%,\n    transparent 50%,\n    "+e+" 50%,\n    "+e+" 75%,\n    transparent 75%,\n    transparent\n  )",backgroundSize:t+" "+t}}function f(t){var e=o.a.random().toHexString();return!t||Object(s.e)(t)?e:t.string&&t.colors?function(t,e){var n=0;if(0===t.length)return e[0];for(var r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%e.length+e.length)%e.length,e[n]}(t.string,t.colors):t.string&&!t.colors?function(t){var e=0;if(0===t.length)return e.toString();for(var n=0;n<t.length;n+=1)e=t.charCodeAt(n)+((e<<5)-e),e&=e;for(var r="#",i=0;i<3;i+=1){r+=("00"+(e>>8*i&255).toString(16)).substr(-2)}return r}(t.string):t.colors&&!t.string?function(t){return t[Math.floor(Math.random()*t.length)]}(t.colors):e}var p=n(82);function d(t){var e=t.theme,n=t.colorScheme,r=l(e,n+".100",n),i=c(n+".200",.16)(e);return Object(p.a)(r,i)(t)}var v={parts:["container","title","description","icon"],baseStyle:{container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,marginEnd:2},description:{lineHeight:6},icon:{flexShrink:0,marginEnd:3,w:5,h:6}},variants:{subtle:function(t){var e=t.colorScheme;return{container:{bg:d(t)},icon:{color:Object(p.a)(e+".500",e+".200")(t)}}},"left-accent":function(t){var e=t.colorScheme;return{container:{paddingStart:3,borderStartWidth:"4px",borderStartColor:Object(p.a)(e+".500",e+".200")(t),bg:d(t)},icon:{color:Object(p.a)(e+".500",e+".200")(t)}}},"top-accent":function(t){var e=t.colorScheme;return{container:{pt:2,borderTopWidth:"4px",borderTopColor:Object(p.a)(e+".500",e+".200")(t),bg:d(t)},icon:{color:Object(p.a)(e+".500",e+".200")(t)}}},solid:function(t){var e=t.colorScheme;return{container:{bg:Object(p.a)(e+".500",e+".200")(t),color:Object(p.a)("white","gray.900")(t)}}}},defaultProps:{variant:"subtle",colorScheme:"blue"}},g=n(79);function y(t){return{transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:Object(p.a)("white","gray.800")(t)}}function m(t){return{bg:Object(p.a)("gray.200","whiteAlpha.400")(t)}}function b(t){var e=t.name,n=t.theme,r=e?f({string:e}):"gray.400",i=function(t){return function(e){return"dark"===u(t)(e)}}(r)(n),o="white";return i||(o="gray.800"),{bg:r,color:o,borderColor:Object(p.a)("white","gray.800")(t),verticalAlign:"top"}}function _(t){var e=g.a[t];return{container:{width:t,height:t,fontSize:"calc("+(null!=e?e:t)+" / 2.5)"},excessLabel:{width:t,height:t},label:{fontSize:"calc("+(null!=e?e:t)+" / 2.5)",lineHeight:"100%"!==t?null!=e?e:t:void 0}}}var x={parts:["container","excessLabel","badge","label"],baseStyle:function(t){return{badge:y(t),excessLabel:m(t),container:b(t)}},sizes:{"2xs":_("4"),xs:_("6"),sm:_("8"),md:_("12"),lg:_("16"),xl:_("24"),"2xl":_("32"),full:_("100%")},defaultProps:{size:"md"}};var w={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variants:{solid:function(t){var e=t.colorScheme,n=t.theme,r=c(e+".500",.6)(n);return{bg:Object(p.a)(e+".500",r)(t),color:Object(p.a)("white","whiteAlpha.800")(t)}},subtle:function(t){var e=t.colorScheme,n=t.theme,r=c(e+".200",.16)(n);return{bg:Object(p.a)(e+".100",r)(t),color:Object(p.a)(e+".800",e+".200")(t)}},outline:function(t){var e=t.colorScheme,n=t.theme,r=c(e+".200",.8)(n),i=l(n,e+".500"),o=Object(p.a)(i,r)(t);return{color:o,boxShadow:"inset 0 0 0px 1px "+o}}},defaultProps:{variant:"subtle",colorScheme:"gray"}},k={parts:["container","item","link","separator"],baseStyle:{link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}}};function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function S(t){var e=t.colorScheme,n=t.theme;if("gray"===e)return{color:Object(p.a)("inherit","whiteAlpha.900")(t),_hover:{bg:Object(p.a)("gray.100","whiteAlpha.200")(t)},_active:{bg:Object(p.a)("gray.200","whiteAlpha.300")(t)}};var r=c(e+".200",.12)(n),i=c(e+".200",.24)(n);return{color:Object(p.a)(e+".600",e+".200")(t),bg:"transparent",_hover:{bg:Object(p.a)(e+".50",r)(t)},_active:{bg:Object(p.a)(e+".100",i)(t)}}}var T={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}};var A={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:S,outline:function(t){var e=t.colorScheme,n=Object(p.a)("gray.200","whiteAlpha.300")(t);return E({border:"1px solid",borderColor:"gray"===e?n:"currentColor"},S(t))},solid:function(t){var e=t.colorScheme;if("gray"===e){var n=Object(p.a)("gray.100","whiteAlpha.200")(t);return{bg:n,_hover:{bg:Object(p.a)("gray.200","whiteAlpha.300")(t),_disabled:{bg:n}},_active:{bg:Object(p.a)("gray.300","whiteAlpha.400")(t)}}}var r=T[e]||{},i=r.bg,o=void 0===i?e+".500":i,a=r.color,s=void 0===a?"white":a,l=r.hoverBg,u=void 0===l?e+".600":l,c=r.activeBg,h=void 0===c?e+".700":c,f=Object(p.a)(o,e+".200")(t);return{bg:f,color:Object(p.a)(s,"gray.800")(t),_hover:{bg:Object(p.a)(u,e+".300")(t),_disabled:{bg:f}},_active:{bg:Object(p.a)(h,e+".400")(t)}}},link:function(t){var e=t.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Object(p.a)(e+".500",e+".200")(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Object(p.a)(e+".700",e+".500")(t)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0}},sizes:{lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}};function O(t){var e=t.colorScheme;return{w:"100%",transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Object(p.a)(e+".500",e+".200")(t),borderColor:Object(p.a)(e+".500",e+".200")(t),color:Object(p.a)("white","gray.900")(t),_hover:{bg:Object(p.a)(e+".600",e+".300")(t),borderColor:Object(p.a)(e+".600",e+".300")(t)},_disabled:{borderColor:Object(p.a)("gray.200","transparent")(t),bg:Object(p.a)("gray.200","whiteAlpha.300")(t),color:Object(p.a)("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Object(p.a)(e+".500",e+".200")(t),borderColor:Object(p.a)(e+".500",e+".200")(t),color:Object(p.a)("white","gray.900")(t)},_disabled:{bg:Object(p.a)("gray.100","whiteAlpha.100")(t),borderColor:Object(p.a)("gray.100","transparent")(t)},_focus:{boxShadow:"outline"},_invalid:{borderColor:Object(p.a)("red.500","red.300")(t)}}}var M={userSelect:"none",_disabled:{opacity:.4}},C={transitionProperty:"transform",transitionDuration:"normal"},j={parts:["container","control","label","icon"],baseStyle:function(t){return{icon:C,control:O(t),label:M}},sizes:{sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps:{size:"md",colorScheme:"blue"}};var I={baseStyle:function(t){return{borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:Object(p.a)("blackAlpha.100","whiteAlpha.100")(t)},_active:{bg:Object(p.a)("blackAlpha.200","whiteAlpha.200")(t)},_focus:{boxShadow:"outline"}}},sizes:{lg:{w:"40px",h:"40px",fontSize:"16px"},md:{w:"32px",h:"32px",fontSize:"12px"},sm:{w:"24px",h:"24px",fontSize:"10px"}},defaultProps:{size:"md"}},P={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:w.variants,defaultProps:w.defaultProps},R={baseStyle:{w:"100%",mx:"auto",maxW:"60ch",px:"1rem"}},L={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},N={bg:"blackAlpha.600",zIndex:"modal"};function D(t){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t.isCentered?"center":"flex-start",overflow:"inside"===t.scrollBehavior?"hidden":"auto"}}function z(t){var e=t.scrollBehavior;return{borderRadius:"md",bg:Object(p.a)("white","gray.700")(t),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:"inside"===e?"calc(100% - 7.5rem)":void 0,boxShadow:Object(p.a)("lg","dark-lg")(t)}}var F={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},B={position:"absolute",top:2,insetEnd:3};function H(t){return{px:6,py:2,flex:1,overflow:"inside"===t.scrollBehavior?"auto":void 0}}var U={px:6,py:4};function V(t){return"full"===t?{dialog:{maxW:"100vw",minH:"100vh"}}:{dialog:{maxW:t}}}var G={parts:["overlay","dialogContainer","dialog","header","closeButton","body","footer"],baseStyle:function(t){return{overlay:N,dialogContainer:D(t),dialog:z(t),header:F,closeButton:B,body:H(t),footer:U}},sizes:{xs:V("xs"),sm:V("sm"),md:V("md"),lg:V("lg"),xl:V("xl"),"2xl":V("2xl"),"3xl":V("3xl"),"4xl":V("4xl"),"5xl":V("5xl"),"6xl":V("6xl"),full:V("full")},defaultProps:{size:"md"}};function q(){return(q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Y(t){return"full"===t?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}}}var W={bg:"blackAlpha.600",zIndex:"overlay"},Z={display:"flex",zIndex:"modal",justifyContent:"center"};function X(t){return q({},t.isFullHeight&&{height:"100vh"},{zIndex:"modal",maxH:"100vh",bg:Object(p.a)("white","gray.700")(t),color:"inherit",boxShadow:Object(p.a)("lg","dark-lg")(t)})}var K={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},$={position:"absolute",top:2,insetEnd:3},J={px:6,py:2,flex:1,overflow:"auto"},Q={px:6,py:4},tt={parts:G.parts,baseStyle:function(t){return{overlay:W,dialogContainer:Z,dialog:X(t),header:K,closeButton:$,body:J,footer:Q}},sizes:{xs:Y("xs"),sm:Y("md"),md:Y("lg"),lg:Y("2xl"),xl:Y("4xl"),full:Y("full")},defaultProps:{size:"xs"}},et={parts:["preview","input"],baseStyle:{preview:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal",width:"full",_focus:{boxShadow:"outline"},_placeholder:{opacity:.6}}}};function nt(t){return{marginStart:1,color:Object(p.a)("red.500","red.300")(t)}}function rt(t){return{mt:2,color:Object(p.a)("gray.500","whiteAlpha.600")(t),lineHeight:"normal",fontSize:"sm"}}var it={parts:["requiredIndicator","helperText"],baseStyle:function(t){return{requiredIndicator:nt(t),helperText:rt(t)}}},ot={baseStyle:{fontSize:"md",marginEnd:3,mb:2,fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},at={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},st={lg:{fontSize:"lg",px:4,h:12,borderRadius:"md"},md:{fontSize:"md",px:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",px:3,h:8,borderRadius:"sm"},xs:{fontSize:"xs",px:2,h:6,borderRadius:"sm"}};function lt(t){var e=t.focusBorderColor,n=t.errorBorderColor;return{focusBorderColor:e||Object(p.a)("blue.500","blue.300")(t),errorBorderColor:n||Object(p.a)("red.500","red.300")(t)}}var ut={parts:["field","addon"],baseStyle:{field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal"}},sizes:{lg:{field:st.lg,addon:st.lg},md:{field:st.md,addon:st.md},sm:{field:st.sm,addon:st.sm},xs:{field:st.xs,addon:st.xs}},variants:{outline:function(t){var e=t.theme,n=lt(t),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Object(p.a)("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:l(e,i),boxShadow:"0 0 0 1px "+l(e,i)},_focus:{zIndex:1,borderColor:l(e,r),boxShadow:"0 0 0 1px "+l(e,r)}},addon:{border:"1px solid",borderColor:Object(p.a)("inherit","whiteAlpha.50")(t),bg:Object(p.a)("gray.100","whiteAlpha.300")(t)}}},filled:function(t){var e=t.theme,n=lt(t),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:Object(p.a)("gray.100","whiteAlpha.50")(t),_hover:{bg:Object(p.a)("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:l(e,i)},_focus:{bg:"transparent",borderColor:l(e,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Object(p.a)("gray.100","whiteAlpha.50")(t)}}},flushed:function(t){var e=t.theme,n=lt(t),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:l(e,i),boxShadow:"0px 1px 0px 0px "+l(e,i)},_focus:{borderColor:l(e,r),boxShadow:"0px 1px 0px 0px "+l(e,r)}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent"}}},unstyled:{field:{bg:"transparent",px:0,height:"auto"},addon:{bg:"transparent",px:0,height:"auto"}}},defaultProps:{size:"md",variant:"outline"}};var ct={baseStyle:function(t){return{bg:Object(p.a)("gray.100","whiteAlpha")(t),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}}},ht={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}},ft={parts:["container","item","icon"],baseStyle:{container:{},item:{},icon:{marginEnd:"0.5rem",display:"inline",verticalAlign:"text-bottom"}}};function pt(t){return{bg:Object(p.a)("#fff","gray.700")(t),boxShadow:Object(p.a)("sm","dark-lg")(t),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}}function dt(t){return{py:"0.4rem",px:"0.8rem",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:Object(p.a)("gray.100","whiteAlpha.100")(t)},_active:{bg:Object(p.a)("gray.200","whiteAlpha.200")(t)},_expanded:{bg:Object(p.a)("gray.100","whiteAlpha.100")(t)},_disabled:{opacity:.4,cursor:"not-allowed"}}}var vt,gt={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},yt={opacity:.6},mt={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:.6},bt={transitionProperty:"common",transitionDuration:"normal"},_t={parts:["item","command","list","button","groupTitle","divider"],baseStyle:function(t){return{button:bt,list:pt(t),item:dt(t),groupTitle:gt,command:yt,divider:mt}}},xt=n(78);function wt(){return(wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var kt=ut.variants,Et=ut.defaultProps,St={"--number-input-stepper-width":"24px","--number-input-field-padding":"calc(var(--number-input-stepper-width) + 0.5rem)"},Tt=null==(vt=ut.baseStyle)?void 0:vt.field,At={width:"var(--number-input-stepper-width)"};function Ot(t){return{borderStart:"1px solid",borderStartColor:Object(p.a)("inherit","whiteAlpha.300")(t),color:Object(p.a)("inherit","whiteAlpha.800")(t),_active:{bg:Object(p.a)("gray.200","whiteAlpha.300")(t)},_disabled:{opacity:.4,cursor:"not-allowed"}}}function Mt(t){var e=ut.sizes[t],n={lg:"md",md:"md",sm:"sm",xs:"sm"},r=xt.a.fontSizes[e.field.fontSize];return{field:wt({},e.field,{paddingInlineEnd:"var(--number-input-field-padding)",verticalAlign:"top"}),stepper:{fontSize:"calc("+r+" * 0.75)",_first:{borderTopEndRadius:n[t]},_last:{borderBottomEndRadius:n[t],mt:"-1px",borderTopWidth:1}}}}var Ct={parts:["root","field","stepper","stepperGroup"],baseStyle:function(t){return{root:St,field:Tt,stepperGroup:At,stepper:Ot(t)}},sizes:{xs:Mt("xs"),sm:Mt("sm"),md:Mt("md"),lg:Mt("lg")},variants:kt,defaultProps:Et};function jt(){return(jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var It={baseStyle:jt({},ut.baseStyle.field,{textAlign:"center"}),sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},variants:{outline:function(t){return ut.variants.outline(t).field},flushed:function(t){return ut.variants.flushed(t).field},filled:function(t){return ut.variants.filled(t).field},unstyled:ut.variants.unstyled.field},defaultProps:ut.defaultProps},Pt={zIndex:10};function Rt(t){return{"--popover-bg":"colors."+Object(p.a)("white","gray.700")(t),bg:"var(--popover-bg)","--popper-arrow-bg":"var(--popover-bg)","--popper-arrow-shadow-color":"colors."+Object(p.a)("gray.200","whiteAlpha.300")(t),width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focus:{outline:0,boxShadow:"outline"}}}var Lt={px:3,py:2,borderBottomWidth:"1px"},Nt={px:3,py:2},Dt={px:3,py:2,borderTopWidth:"1px"},zt={parts:["popper","content","header","body","footer","arrow"],baseStyle:function(t){return{popper:Pt,content:Rt(t),header:Lt,body:Nt,footer:Dt,arrow:{}}}};function Ft(){return(Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Bt={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"};function Ht(t){return{bg:Object(p.a)("gray.100","whiteAlpha.300")(t)}}function Ut(t){return Ft({transitionProperty:"common",transitionDuration:"slow"},function(t){var e=t.colorScheme,n=t.theme,r=t.isIndeterminate,i=t.hasStripe,o=Object(p.a)(h(),h("1rem","rgba(0,0,0,0.1)"))(t),a=Object(p.a)(e+".500",e+".200")(t),s="linear-gradient(\n    to right,\n    transparent 0%,\n    "+l(n,a)+" 50%,\n    transparent 100%\n  )";return Ft({},!r&&i&&o,r?{bgImage:s}:{bgColor:a})}(t))}var Vt={parts:["track","filledTrack","label"],sizes:{xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},baseStyle:function(t){return{label:Bt,filledTrack:Ut(t),track:Ht(t)}},defaultProps:{size:"md",colorScheme:"blue"}};function Gt(){return(Gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function qt(t){var e=j.baseStyle(t).control;return Gt({},e,{borderRadius:"full",_checked:Gt({},e._checked,{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})}var Yt={parts:["container","control","label"],baseStyle:function(t){return{label:j.baseStyle(t).label,control:qt(t)}},sizes:{md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps:{size:"md",colorScheme:"blue"}},Wt=n(99);function Zt(){return(Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Xt(t){return Zt({},ut.baseStyle.field,{appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:Object(p.a)("white","gray.700")(t)}})}var Kt={width:"1.5rem",height:"100%",insetEnd:"0.5rem",position:"relative",color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:.5}},$t={parts:["field","icon"],baseStyle:function(t){return{field:Xt(t),icon:Kt}},sizes:n.n(Wt)()({},ut.sizes,{xs:{icon:{insetEnd:"0.25rem"}}}),variants:ut.variants,defaultProps:ut.defaultProps},Jt=n(42),Qt=function(t,e){return Object(Jt.b)({from:{borderColor:t,background:t},to:{borderColor:e,background:e}})},te={baseStyle:function(t){var e=Object(p.a)("gray.100","gray.800")(t),n=Object(p.a)("gray.400","gray.600")(t),r=t.startColor,i=void 0===r?e:r,o=t.endColor,a=void 0===o?n:o,s=t.speed,u=t.theme,c=l(u,i),h=l(u,a);return{opacity:.7,borderRadius:"2px",borderColor:c,background:h,animation:s+"s linear infinite alternate "+Qt(c,h)}}},ee={baseStyle:function(t){return{borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",insetStart:"1.5rem",bg:Object(p.a)("white","gray.700")(t)}}}};function ne(){return(ne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var re=function(t){var e=t.orientation;return ne({_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},Object(p.b)({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}}))};function ie(t){return{borderRadius:"sm",bg:Object(p.a)("gray.200","whiteAlpha.200")(t),_disabled:{bg:Object(p.a)("gray.300","whiteAlpha.300")(t)}}}function oe(t){return ne({zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{bg:"gray.300"}},function(t){return Object(p.b)({orientation:t.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})}(t))}function ae(t){var e=t.colorScheme;return{bg:Object(p.a)(e+".500",e+".200")(t)}}var se={parts:["container","thumb","track","filledTrack"],sizes:{lg:function(t){return{thumb:{w:"16px",h:"16px"},track:Object(p.b)({orientation:t.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},md:function(t){return{thumb:{w:"14px",h:"14px"},track:Object(p.b)({orientation:t.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},sm:function(t){return{thumb:{w:"10px",h:"10px"},track:Object(p.b)({orientation:t.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}}},baseStyle:function(t){return{container:re(t),track:ie(t),thumb:oe(t),filledTrack:ae(t)}},defaultProps:{size:"md",colorScheme:"blue"}},le={baseStyle:{width:"var(--spinner-size)",height:"var(--spinner-size)"},sizes:{xs:{"--spinner-size":"0.75rem"},sm:{"--spinner-size":"1rem"},md:{"--spinner-size":"1.5rem"},lg:{"--spinner-size":"2rem"},xl:{"--spinner-size":"3rem"}},defaultProps:{size:"md"}},ue={parts:["label","number","icon","helpText"],baseStyle:{label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:2},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"14px",h:"14px",verticalAlign:"middle"}},sizes:{md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps:{size:"md"}};function ce(t){var e=t.colorScheme;return{borderRadius:"full",p:"2px",width:"var(--slider-track-width)",height:"var(--slider-track-height)",transitionProperty:"common",transitionDuration:"fast",bg:Object(p.a)("gray.300","whiteAlpha.400")(t),_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:Object(p.a)(e+".500",e+".200")(t)}}}var he={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:"var(--slider-track-height)",height:"var(--slider-track-height)",_checked:{transform:"translateX(var(--slider-thumb-x))"}},fe={parts:["container","track","thumb"],baseStyle:function(t){return{container:{"--slider-track-diff":"calc(var(--slider-track-width) - var(--slider-track-height))","--slider-thumb-x":"var(--slider-track-diff)",_rtl:{"--slider-thumb-x":"calc(-1 * var(--slider-track-diff))"}},track:ce(t),thumb:he}},sizes:{sm:{container:{"--slider-track-width":"1.375rem","--slider-track-height":"0.75rem"}},md:{container:{"--slider-track-width":"1.875rem","--slider-track-height":"1rem"}},lg:{container:{"--slider-track-width":"2.875rem","--slider-track-height":"1.5rem"}}},defaultProps:{size:"md",colorScheme:"blue"}};function pe(){return(pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var de={"&[data-is-numeric=true]":{textAlign:"end"}},ve={parts:["table","thead","tbody","tr","th","td","caption"],baseStyle:{table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}},variants:{simple:function(t){var e=t.colorScheme;return{th:pe({color:Object(p.a)("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Object(p.a)(e+".100",e+".700")(t)},de),td:pe({borderBottom:"1px",borderColor:Object(p.a)(e+".100",e+".700")(t)},de),caption:{color:Object(p.a)("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},striped:function(t){var e=t.colorScheme;return{th:pe({color:Object(p.a)("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Object(p.a)(e+".100",e+".700")(t)},de),td:pe({borderBottom:"1px",borderColor:Object(p.a)(e+".100",e+".700")(t)},de),caption:{color:Object(p.a)("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Object(p.a)(e+".100",e+".700")(t)},td:{background:Object(p.a)(e+".100",e+".700")(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},unstyled:{}},sizes:{sm:{th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}},md:{th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}},lg:{th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}}},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}},ge=n(8);function ye(t){return{display:"vertical"===t.orientation?"flex":"block"}}function me(t){return{flex:t.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focus:{zIndex:1,boxShadow:"outline"}}}function be(t){var e=t.align,n=void 0===e?"start":e,r=t.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:"vertical"===r?"column":"row"}}var _e={p:4};var xe={parts:["root","tablist","tab","tabpanels","tabpanel","indicator"],baseStyle:function(t){return{root:ye(t),tab:me(t),tablist:be(t),tabpanel:_e}},sizes:{sm:{tab:{py:1,px:4,fontSize:"sm"}},md:{tab:{fontSize:"md",py:2,px:4}},lg:{tab:{fontSize:"lg",py:3,px:4}}},variants:{line:function(t){var e,n,r=t.colorScheme,i=t.orientation,o="vertical"===i?"borderStart":"borderBottom",a="vertical"===i?"marginStart":"marginBottom";return{tablist:(e={},Object(ge.a)(e,o,"2px solid"),Object(ge.a)(e,"borderColor","inherit"),e),tab:(n={},Object(ge.a)(n,o,"2px solid"),Object(ge.a)(n,"borderColor","transparent"),Object(ge.a)(n,a,"-2px"),Object(ge.a)(n,"_selected",{color:Object(p.a)(r+".600",r+".300")(t),borderColor:"currentColor"}),Object(ge.a)(n,"_active",{bg:Object(p.a)("gray.200","whiteAlpha.300")(t)}),Object(ge.a)(n,"_disabled",{opacity:.4,cursor:"not-allowed"}),n)}},enclosed:function(t){var e=t.colorScheme;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:Object(p.a)(e+".600",e+".300")(t),borderColor:"inherit",borderBottomColor:Object(p.a)("white","gray.800")(t)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"enclosed-colored":function(t){var e=t.colorScheme;return{tab:{border:"1px solid",borderColor:"inherit",bg:Object(p.a)("gray.50","whiteAlpha.50")(t),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:Object(p.a)("#fff","gray.800")(t),color:Object(p.a)(e+".600",e+".300")(t),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"soft-rounded":function(t){var e=t.colorScheme,n=t.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:l(n,e+".700"),bg:l(n,e+".100")}}}},"solid-rounded":function(t){var e=t.colorScheme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:Object(p.a)("gray.600","inherit")(t),_selected:{color:Object(p.a)("#fff","gray.800")(t),bg:Object(p.a)(e+".600",e+".300")(t)}}}},unstyled:{}},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}},we={parts:["container","label","closeButton"],variants:{subtle:function(t){return{container:w.variants.subtle(t)}},solid:function(t){return{container:w.variants.solid(t)}},outline:function(t){return{container:w.variants.outline(t)}}},baseStyle:{container:{fontWeight:"medium",lineHeight:1.2,outline:0,_focus:{boxShadow:"outline"}},label:{lineHeight:1.2},closeButton:{fontSize:"18px",w:"1.25rem",h:"1.25rem",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"0.375rem",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focus:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}},sizes:{sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2,borderRadius:"md"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",borderRadius:"md",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",borderRadius:"md",px:3}}},defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}};function ke(){return(ke=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ee=ke({},ut.baseStyle.field,{paddingY:"8px",minHeight:"80px",lineHeight:"short",verticalAlign:"top"}),Se={outline:function(t){return ut.variants.outline(t).field},flushed:function(t){return ut.variants.flushed(t).field},filled:function(t){return ut.variants.filled(t).field},unstyled:ut.variants.unstyled.field},Te={baseStyle:Ee,sizes:{xs:ut.sizes.xs.field,sm:ut.sizes.sm.field,md:ut.sizes.md.field,lg:ut.sizes.lg.field},variants:Se,defaultProps:{size:"md",variant:"outline"}};var Ae={baseStyle:function(t){return{"--tooltip-bg":"colors."+Object(p.a)("gray.700","gray.300")(t),px:"8px",py:"2px",bg:"var(--tooltip-bg)","--popper-arrow-bg":"var(--tooltip-bg)",color:Object(p.a)("whiteAlpha.900","gray.900")(t),borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"320px",zIndex:"tooltip"}}};function Oe(t){return{color:Object(p.a)("red.500","red.300")(t),mt:2,fontSize:"sm"}}function Me(t){return{marginEnd:"0.5em",color:Object(p.a)("red.500","red.300")(t)}}var Ce={parts:["text","icon"],baseStyle:function(t){return{text:Oe(t),icon:Me(t)}}};e.a={Accordion:r,Alert:v,Avatar:x,Badge:w,Breadcrumb:k,Button:A,Checkbox:j,CloseButton:I,Code:P,Container:R,Divider:L,Drawer:tt,Editable:et,Form:it,FormLabel:ot,Heading:at,Input:ut,Kbd:ct,Link:ht,List:ft,Menu:_t,Modal:G,NumberInput:Ct,PinInput:It,Popover:zt,Progress:Vt,Radio:Yt,Select:$t,Skeleton:te,SkipLink:ee,Slider:se,Spinner:le,Stat:ue,Switch:fe,Table:ve,Tabs:xe,Tag:we,Textarea:Te,Tooltip:Ae,FormError:Ce}},function(t,e,n){"use strict";var r={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},i=n(145);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a,s=(a={sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Object(i.c)({condition:!0,message:["[chakra-ui]: createBreakpoints(...) will be deprecated pretty soon","simply pass the breakpoints as an object. Remove the createBreakpoint(..) call"].join("")}),o({base:"0em"},a)),l={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},u={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},c={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},h=n(79),f=n(80),p={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}};function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var v=d({breakpoints:s,zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:u,blur:{none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},colors:l},n(78).a,{sizes:h.a,shadows:c,space:f.a,borders:r,transition:p});e.a=v},function(t,e,n){"use strict";n.d(e,"a",(function(){return ja}));var r=n(1),i=n.n(r),o=n(11),a=n(25),s=n(36),l=n(19),u=n(14),c=n(9),h=n(10),f=n(5),p=n(8),d=n(12),v=n(4),g=n(6);var y="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function m(t,e,n){var r=n||function(t){return Array.prototype.slice.call(t)},i=!1,o=[];return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=r(a),i||(i=!0,y.call(window,(function(){i=!1,t.apply(e,o)})))}}var b=function(t){return"start"===t?"left":"end"===t?"right":"center"},_=function(t,e,n){return"start"===t?e:"end"===t?n:(e+n)/2};function x(){}var w=function(){var t=0;return function(){return t++}}();function k(t){return null===t||"undefined"===typeof t}function E(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function S(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}var T=function(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)};function A(t,e){return T(t)?t:e}function O(t,e){return"undefined"===typeof t?e:t}var M=function(t,e){return"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t};function C(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function j(t,e,n,r){var i,o,a;if(E(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(S(t))for(o=(a=Object.keys(t)).length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function I(t,e){var n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function P(t){if(E(t))return t.map(P);if(S(t)){for(var e=Object.create(null),n=Object.keys(t),r=n.length,i=0;i<r;++i)e[n[i]]=P(t[n[i]]);return e}return t}function R(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function L(t,e,n,r){if(R(t)){var i=e[t],o=n[t];S(i)&&S(o)?N(i,o,r):e[t]=P(o)}}function N(t,e,n){var r=E(e)?e:[e],i=r.length;if(!S(t))return t;for(var o=(n=n||{}).merger||L,a=0;a<i;++a)if(S(e=r[a]))for(var s=Object.keys(e),l=0,u=s.length;l<u;++l)o(s[l],t,e,n);return t}function D(t,e){return N(t,e,{merger:z})}function z(t,e,n){if(R(t)){var r=e[t],i=n[t];S(r)&&S(i)?D(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=P(i))}}function F(t,e){var n=t.indexOf(".",e);return-1===n?t.length:n}function B(t,e){if(""===e)return t;for(var n=0,r=F(e,n);t&&r>n;)t=t[e.substr(n,r-n)],r=F(e,n=r+1);return t}function H(t){return t.charAt(0).toUpperCase()+t.slice(1)}var U=function(t){return"undefined"!==typeof t},V=function(t){return"function"===typeof t},G=Math.PI,q=2*G,Y=q+G,W=Number.POSITIVE_INFINITY,Z=G/180,X=G/2,K=G/4,$=2*G/3,J=Math.log10,Q=Math.sign;function tt(t){var e=Math.round(t);t=nt(t,e,t/1e3)?e:t;var n=Math.pow(10,Math.floor(J(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function et(t){return!isNaN(parseFloat(t))&&isFinite(t)}function nt(t,e,n){return Math.abs(t-e)<n}function rt(t,e,n){var r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function it(t){return t*(G/180)}function ot(t){return t*(180/G)}function at(t){if(T(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}}function st(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lt(t,e){return(t-e+Y)%q-G}function ut(t){return(t%q+q)%q}function ct(t,e,n,r){var i=ut(t),o=ut(e),a=ut(n),s=ut(o-i),l=ut(a-i),u=ut(i-o),c=ut(i-a);return i===o||i===a||r&&o===a||s>l&&u<c}function ht(t,e,n){return Math.max(e,Math.min(n,t))}var ft=function(t){return 0===t||1===t},pt=function(t,e,n){return-Math.pow(2,10*(t-=1))*Math.sin((t-e)*q/n)},dt=function(t,e,n){return Math.pow(2,-10*t)*Math.sin((t-e)*q/n)+1},vt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*X)},easeOutSine:function(t){return Math.sin(t*X)},easeInOutSine:function(t){return-.5*(Math.cos(G*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return ft(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){return ft(t)?t:pt(t,.075,.3)},easeOutElastic:function(t){return ft(t)?t:dt(t,.075,.3)},easeInOutElastic:function(t){var e=.1125;return ft(t)?t:t<.5?.5*pt(2*t,e,.45):.5+.5*dt(2*t-1,e,.45)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-vt.easeOutBounce(1-t)},easeOutBounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*vt.easeInBounce(2*t):.5*vt.easeOutBounce(2*t-1)+.5}},gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yt="0123456789ABCDEF",mt=function(t){return yt[15&t]},bt=function(t){return yt[(240&t)>>4]+yt[15&t]},_t=function(t){return(240&t)>>4===(15&t)};function xt(t){var e=function(t){return _t(t.r)&&_t(t.g)&&_t(t.b)&&_t(t.a)}(t)?mt:bt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function wt(t){return t+.5|0}var kt=function(t,e,n){return Math.max(Math.min(t,n),e)};function Et(t){return kt(wt(2.55*t),0,255)}function St(t){return kt(wt(255*t),0,255)}function Tt(t){return kt(wt(t/2.55)/100,0,1)}function At(t){return kt(wt(100*t),0,100)}var Ot=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var Mt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ct(t,e,n){var r=e*Math.min(n,1-n),i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function jt(t,e,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function It(t,e,n){var r,i=Ct(t,1,.5);for(e+n>1&&(e*=r=1/(e+n),n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Pt(t){var e,n,r,i=t.r/255,o=t.g/255,a=t.b/255,s=Math.max(i,o,a),l=Math.min(i,o,a),u=(s+l)/2;return s!==l&&(r=s-l,n=u>.5?r/(2-s-l):r/(s+l),e=60*(e=s===i?(o-a)/r+(o<a?6:0):s===o?(a-i)/r+2:(i-o)/r+4)+.5),[0|e,n||0,u]}function Rt(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(St)}function Lt(t,e,n){return Rt(Ct,t,e,n)}function Nt(t){return(t%360+360)%360}function Dt(t){var e,n=Mt.exec(t),r=255;if(n){n[5]!==e&&(r=n[6]?Et(+n[5]):St(+n[5]));var i=Nt(+n[2]),o=+n[3]/100,a=+n[4]/100;return{r:(e="hwb"===n[1]?function(t,e,n){return Rt(It,t,e,n)}(i,o,a):"hsv"===n[1]?function(t,e,n){return Rt(jt,t,e,n)}(i,o,a):Lt(i,o,a))[0],g:e[1],b:e[2],a:r}}}var zt,Ft={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ht(t){zt||((zt=function(){var t,e,n,r,i,o={},a=Object.keys(Bt),s=Object.keys(Ft);for(t=0;t<a.length;t++){for(r=i=a[t],e=0;e<s.length;e++)n=s[e],i=i.replace(n,Ft[n]);n=parseInt(Bt[r],16),o[i]=[n>>16&255,n>>8&255,255&n]}return o}()).transparent=[0,0,0,0]);var e=zt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Ut(t,e,n){if(t){var r=Pt(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Lt(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Vt(t,e){return t?Object.assign(e||{},t):t}function Gt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=St(t[3]))):(e=Vt(t,{r:0,g:0,b:0,a:1})).a=St(e.a),e}function qt(t){return"r"===t.charAt(0)?function(t){var e,n,r,i=Ot.exec(t),o=255;if(i){if(i[7]!==e){var a=+i[7];o=255&(i[8]?Et(a):255*a)}return e=+i[1],n=+i[3],r=+i[5],{r:e=255&(i[2]?Et(e):e),g:n=255&(i[4]?Et(n):n),b:r=255&(i[6]?Et(r):r),a:o}}}(t):Dt(t)}var Yt=function(){function t(e){if(Object(v.a)(this,t),e instanceof t)return e;var n,r=typeof e;"object"===r?n=Gt(e):"string"===r&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*gt[t[1]],g:255&17*gt[t[2]],b:255&17*gt[t[3]],a:5===n?17*gt[t[4]]:255}:7!==n&&9!==n||(e={r:gt[t[1]]<<4|gt[t[2]],g:gt[t[3]]<<4|gt[t[4]],b:gt[t[5]]<<4|gt[t[6]],a:9===n?gt[t[7]]<<4|gt[t[8]]:255})),e}(e)||Ht(e)||qt(e)),this._rgb=n,this._valid=!!n}return Object(g.a)(t,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var t=Vt(this._rgb);return t&&(t.a=Tt(t.a)),t},set:function(t){this._rgb=Gt(t)}},{key:"rgbString",value:function(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Tt(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):this._rgb;var t}},{key:"hexString",value:function(){return this._valid?xt(this._rgb):this._rgb}},{key:"hslString",value:function(){return this._valid?function(t){if(t){var e=Pt(t),n=e[0],r=At(e[1]),i=At(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Tt(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):this._rgb}},{key:"mix",value:function(t,e){var n=this;if(t){var r,i=n.rgb,o=t.rgb,a=e===r?.5:e,s=2*a-1,l=i.a-o.a,u=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;r=1-u,i.r=255&u*i.r+r*o.r+.5,i.g=255&u*i.g+r*o.g+.5,i.b=255&u*i.b+r*o.b+.5,i.a=a*i.a+(1-a)*o.a,n.rgb=i}return n}},{key:"clone",value:function(){return new t(this.rgb)}},{key:"alpha",value:function(t){return this._rgb.a=St(t),this}},{key:"clearer",value:function(t){return this._rgb.a*=1-t,this}},{key:"greyscale",value:function(){var t=this._rgb,e=wt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}},{key:"opaquer",value:function(t){return this._rgb.a*=1+t,this}},{key:"negate",value:function(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}},{key:"lighten",value:function(t){return Ut(this._rgb,2,t),this}},{key:"darken",value:function(t){return Ut(this._rgb,2,-t),this}},{key:"saturate",value:function(t){return Ut(this._rgb,1,t),this}},{key:"desaturate",value:function(t){return Ut(this._rgb,1,-t),this}},{key:"rotate",value:function(t){return function(t,e){var n=Pt(t);n[0]=Nt(n[0]+e),n=Lt(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}]),t}();function Wt(t){return new Yt(t)}var Zt=function(t){return t instanceof CanvasGradient||t instanceof CanvasPattern};function Xt(t){return Zt(t)?t:Wt(t)}function Kt(t){return Zt(t)?t:Wt(t).saturate(.5).darken(.1).hexString()}var $t=Object.create(null),Jt=Object.create(null);function Qt(t,e){if(!e)return t;for(var n=e.split("."),r=0,i=n.length;r<i;++r){var o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function te(t,e,n){return"string"===typeof e?N(Qt(t,e),n):N(Qt(t,""),e)}var ee=new(function(){function t(e){Object(v.a)(this,t),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(t){return t.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(t,e){return Kt(e.backgroundColor)},this.hoverBorderColor=function(t,e){return Kt(e.borderColor)},this.hoverColor=function(t,e){return Kt(e.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}return Object(g.a)(t,[{key:"set",value:function(t,e){return te(this,t,e)}},{key:"get",value:function(t){return Qt(this,t)}},{key:"describe",value:function(t,e){return te(Jt,t,e)}},{key:"override",value:function(t,e){return te($t,t,e)}},{key:"route",value:function(t,e,n,r){var i,o=Qt(this,t),a=Qt(this,n),s="_"+e;Object.defineProperties(o,(i={},Object(p.a)(i,s,{value:o[e],writable:!0}),Object(p.a)(i,e,{enumerable:!0,get:function(){var t=this[s],e=a[r];return S(t)?Object.assign({},e,t):O(t,e)},set:function(t){this[s]=t}}),i))}}]),t}())({_scriptable:function(t){return!t.startsWith("on")},_indexable:function(t){return"events"!==t},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function ne(t,e,n,r,i){var o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function re(t,e,n,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;var a,s,l,u,c,h=0,f=n.length;for(a=0;a<f;a++)if(void 0!==(u=n[a])&&null!==u&&!0!==E(u))h=ne(t,i,o,h,u);else if(E(u))for(s=0,l=u.length;s<l;s++)void 0===(c=u[s])||null===c||E(c)||(h=ne(t,i,o,h,c));t.restore();var p=o.length/2;if(p>n.length){for(a=0;a<p;a++)delete i[o[a]];o.splice(0,p)}return h}function ie(t,e,n){var r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function oe(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function ae(t,e,n,r){var i,o,a,s,l,u=e.pointStyle,c=e.rotation,h=e.radius,f=(c||0)*Z;if(u&&"object"===typeof u&&("[object HTMLImageElement]"===(i=u.toString())||"[object HTMLCanvasElement]"===i))return t.save(),t.translate(n,r),t.rotate(f),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void t.restore();if(!(isNaN(h)||h<=0)){switch(t.beginPath(),u){default:t.arc(n,r,h,0,q),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(f)*h,r-Math.cos(f)*h),f+=$,t.lineTo(n+Math.sin(f)*h,r-Math.cos(f)*h),f+=$,t.lineTo(n+Math.sin(f)*h,r-Math.cos(f)*h),t.closePath();break;case"rectRounded":s=h-(l=.516*h),o=Math.cos(f+K)*s,a=Math.sin(f+K)*s,t.arc(n-o,r-a,l,f-G,f-X),t.arc(n+a,r-o,l,f-X,f),t.arc(n+o,r+a,l,f,f+X),t.arc(n-a,r+o,l,f+X,f+G),t.closePath();break;case"rect":if(!c){s=Math.SQRT1_2*h,t.rect(n-s,r-s,2*s,2*s);break}f+=K;case"rectRot":o=Math.cos(f)*h,a=Math.sin(f)*h,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":f+=K;case"cross":o=Math.cos(f)*h,a=Math.sin(f)*h,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(f)*h,a=Math.sin(f)*h,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),f+=K,o=Math.cos(f)*h,a=Math.sin(f)*h,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=Math.cos(f)*h,a=Math.sin(f)*h,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(f)*h,r+Math.sin(f)*h)}t.fill(),e.borderWidth>0&&t.stroke()}}function se(t,e,n){return n=n||.5,t&&e&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function le(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ue(t){t.restore()}function ce(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){var o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function he(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function fe(t,e,n,r,i){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=E(e)?e:[e],u=s.strokeWidth>0&&""!==s.strokeColor;for(t.save(),t.font=i.string,pe(t,s),o=0;o<l.length;++o)a=l[o],u&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),k(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(a,n,r,s.maxWidth)),t.fillText(a,n,r,s.maxWidth),de(t,n,r,a,s),r+=i.lineHeight;t.restore()}function pe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),k(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function de(t,e,n,r,i){if(i.strikethrough||i.underline){var o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,c),t.lineTo(s,c),t.stroke()}}function ve(t,e){var n=e.x,r=e.y,i=e.w,o=e.h,a=e.radius;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-X,G,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,G,X,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,X,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-X,!0),t.lineTo(n+a.topLeft,r)}var ge=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ye=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function me(t,e){var n=(""+t).match(ge);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}function be(t,e){var n,r={},i=S(e),o=i?Object.keys(e):e,a=S(t)?i?function(n){return O(t[n],t[e[n]])}:function(e){return t[e]}:function(){return t},s=Object(d.a)(o);try{for(s.s();!(n=s.n()).done;){var l=n.value;r[l]=+a(l)||0}}catch(u){s.e(u)}finally{s.f()}return r}function _e(t){return be(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xe(t){return be(t,["topLeft","topRight","bottomLeft","bottomRight"])}function we(t){var e=_e(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ke(t,e){t=t||{},e=e||ee.font;var n=O(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));var r=O(t.style,e.style);r&&!(""+r).match(ye)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");var i={family:O(t.family,e.family),lineHeight:me(O(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:O(t.weight,e.weight),string:""};return i.string=function(t){return!t||k(t.size)||k(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Ee(t,e,n,r){var i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(void 0!==(a=t[i])&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==n&&E(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Se(t,e,n){n=n||function(n){return t[n]<e};for(var r,i=t.length-1,o=0;i-o>1;)n(r=o+i>>1)?o=r:i=r;return{lo:o,hi:i}}var Te=function(t,e,n){return Se(t,n,(function(r){return t[r][e]<n}))},Ae=function(t,e,n){return Se(t,n,(function(r){return t[r][e]>=n}))};var Oe=["push","pop","shift","splice","unshift"];function Me(t,e){var n=t._chartjs;if(n){var r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Oe.forEach((function(e){delete t[e]})),delete t._chartjs)}}function Ce(t){var e,n,r=new Set;for(e=0,n=t.length;e<n;++e)r.add(t[e]);return r.size===n?t:Array.from(r)}function je(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return t[0]};U(i)||(i=Ve("_fallback",t));var s=(e={},Object(p.a)(e,Symbol.toStringTag,"Object"),Object(p.a)(e,"_cacheable",!0),Object(p.a)(e,"_scopes",t),Object(p.a)(e,"_rootScopes",r),Object(p.a)(e,"_fallback",i),Object(p.a)(e,"_getTarget",a),Object(p.a)(e,"override",(function(e){return je([e].concat(Object(o.a)(t)),n,r,i)})),e);return new Proxy(s,{deleteProperty:function(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get:function(e,r){return Ne(e,r,(function(){return Ue(r,n,t,e)}))},getOwnPropertyDescriptor:function(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(t[0])},has:function(t,e){return Ge(t).includes(e)},ownKeys:function(t){return Ge(t)},set:function(t,e,n){return(t._storage||(t._storage=a()))[e]=n,delete t[e],delete t._keys,!0}})}function Ie(t,e,n,r){var i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Pe(t,r),setContext:function(e){return Ie(t,e,n,r)},override:function(i){return Ie(t.override(i),e,n,r)}};return new Proxy(i,{deleteProperty:function(e,n){return delete e[n],delete t[n],!0},get:function(t,e,n){return Ne(t,e,(function(){return function(t,e,n){var r=t._proxy,i=t._context,o=t._subProxy,a=t._descriptors,s=r[e];V(s)&&a.isScriptable(e)&&(s=function(t,e,n,r){var i=n._proxy,o=n._context,a=n._subProxy,s=n._stack;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t),e=e(o,a||r),s.delete(t),S(e)&&(e=Be(i._scopes,i,t,e));return e}(e,s,t,n));E(s)&&s.length&&(s=function(t,e,n,r){var i=n._proxy,o=n._context,a=n._subProxy,s=n._descriptors;if(U(o.index)&&r(t))e=e[o.index%e.length];else if(S(e[0])){var l=e,u=i._scopes.filter((function(t){return t!==l}));e=[];var c,h=Object(d.a)(l);try{for(h.s();!(c=h.n()).done;){var f=Be(u,i,t,c.value);e.push(Ie(f,o,a&&a[t],s))}}catch(p){h.e(p)}finally{h.f()}}return e}(e,s,t,a.isIndexable));Le(e,s)&&(s=Ie(s,i,o&&o[e],a));return s}(t,e,n)}))},getOwnPropertyDescriptor:function(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(t)},has:function(e,n){return Reflect.has(t,n)},ownKeys:function(){return Reflect.ownKeys(t)},set:function(e,n,r){return t[n]=r,delete e[n],!0}})}function Pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=t._scriptable,r=void 0===n?e.scriptable:n,i=t._indexable,o=void 0===i?e.indexable:i,a=t._allKeys,s=void 0===a?e.allKeys:a;return{allKeys:s,scriptable:r,indexable:o,isScriptable:V(r)?r:function(){return r},isIndexable:V(o)?o:function(){return o}}}var Re=function(t,e){return t?t+H(e):e},Le=function(t,e){return S(e)&&"adapters"!==t};function Ne(t,e,n){var r=t[e];return U(r)||(r=n(),U(r)&&(t[e]=r)),r}function De(t,e,n){return V(t)?t(e,n):t}var ze=function(t,e){return!0===t?e:"string"===typeof t?B(e,t):void 0};function Fe(t,e,n,r){var i,o=Object(d.a)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=ze(n,a);if(s){t.add(s);var l=De(s._fallback,n,s);if(U(l)&&l!==n&&l!==r)return l}else if(!1===s&&U(r)&&n!==r)return null}}catch(u){o.e(u)}finally{o.f()}return!1}function Be(t,e,n,r){var i=e._rootScopes,a=De(e._fallback,n,r),s=[].concat(Object(o.a)(t),Object(o.a)(i)),l=new Set;l.add(r);var u=He(l,s,n,a||n);return null!==u&&((!U(a)||a===n||null!==(u=He(l,s,a,u)))&&je(Array.from(l),[""],i,a,(function(){return function(t,e,n){var r=t._getTarget();e in r||(r[e]={});var i=r[e];if(E(i)&&S(n))return n;return i}(e,n,r)})))}function He(t,e,n,r){for(;n;)n=Fe(t,e,n,r);return n}function Ue(t,e,n,r){var i,o,a=Object(d.a)(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(i=Ve(Re(s,t),n),U(i))return Le(t,i)?Be(n,r,t,i):i}}catch(l){a.e(l)}finally{a.f()}}function Ve(t,e){var n,r=Object(d.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var o=i[t];if(U(o))return o}}}catch(a){r.e(a)}finally{r.f()}}function Ge(t){var e=t._keys;return e||(e=t._keys=function(t){var e,n=new Set,r=Object(d.a)(t);try{for(r.s();!(e=r.n()).done;){var i,o=e.value,a=Object(d.a)(Object.keys(o).filter((function(t){return!t.startsWith("_")})));try{for(a.s();!(i=a.n()).done;){var s=i.value;n.add(s)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){r.e(l)}finally{r.f()}return Array.from(n)}(t._scopes)),e}var qe=Number.EPSILON||1e-14,Ye=function(t,e){return e<t.length&&!t[e].skip&&t[e]},We=function(t){return"x"===t?"y":"x"};function Ze(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,s=st(o,i),l=st(a,o),u=s/(s+l),c=l/(s+l),h=r*(u=isNaN(u)?0:u),f=r*(c=isNaN(c)?0:c);return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}}function Xe(t,e,n){for(var r,i,o,a,s,l=t.length,u=Ye(t,0),c=0;c<l-1;++c)s=u,u=Ye(t,c+1),s&&u&&(nt(e[c],0,qe)?n[c]=n[c+1]=0:(r=n[c]/e[c],i=n[c+1]/e[c],(a=Math.pow(r,2)+Math.pow(i,2))<=9||(o=3/Math.sqrt(a),n[c]=r*o*e[c],n[c+1]=i*o*e[c])))}function Ke(t,e){for(var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=We(o),s=t.length,l=Ye(t,0),u=0;u<s;++u)if(r=i,i=l,l=Ye(t,u+1),i){var c=i[o],h=i[a];r&&(n=(c-r[o])/3,i["cp1".concat(o)]=c-n,i["cp1".concat(a)]=h-n*e[u]),l&&(n=(l[o]-c)/3,i["cp2".concat(o)]=c+n,i["cp2".concat(a)]=h+n*e[u])}}function $e(t,e,n){return Math.max(Math.min(t,n),e)}function Je(t,e,n,r,i){var o,a,s,l;if(e.spanGaps&&(t=t.filter((function(t){return!t.skip}))),"monotone"===e.cubicInterpolationMode)!function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=We(i),a=t.length,s=Array(a).fill(0),l=Array(a),u=Ye(t,0);for(e=0;e<a;++e)if(n=r,r=u,u=Ye(t,e+1),r){if(u){var c=u[i]-r[i];s[e]=0!==c?(u[o]-r[o])/c:0}l[e]=n?u?Q(s[e-1])!==Q(s[e])?0:(s[e-1]+s[e])/2:s[e-1]:s[e]}Xe(t,s,l),Ke(t,l,i)}(t,i);else{var u=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)l=Ze(u,s=t[o],t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}e.capBezierPoints&&function(t,e){var n,r,i,o,a,s=se(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&se(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=$e(i.cp1x,e.left,e.right),i.cp1y=$e(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=$e(i.cp2x,e.left,e.right),i.cp2y=$e(i.cp2y,e.top,e.bottom)))}(t,n)}function Qe(){return"undefined"!==typeof window&&"undefined"!==typeof document}function tn(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function en(t,e,n){var r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}var nn=function(t){return window.getComputedStyle(t,null)};var rn=["top","right","bottom","left"];function on(t,e,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var o=rn[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function an(t,e){var n=e.canvas,r=e.currentDevicePixelRatio,i=nn(n),o="border-box"===i.boxSizing,a=on(i,"padding"),s=on(i,"border","width"),l=function(t,e){var n,r,i=t.native||t,o=i.touches,a=o&&o.length?o[0]:i,s=a.offsetX,l=a.offsetY,u=!1;if(function(t,e,n){return(t>0||e>0)&&(!n||!n.shadowRoot)}(s,l,i.target))n=s,r=l;else{var c=e.getBoundingClientRect();n=a.clientX-c.left,r=a.clientY-c.top,u=!0}return{x:n,y:r,box:u}}(t,n),u=l.x,c=l.y,h=l.box,f=a.left+(h&&s.left),p=a.top+(h&&s.top),d=e.width,v=e.height;return o&&(d-=a.width+s.width,v-=a.height+s.height),{x:Math.round((u-f)/d*n.width/r),y:Math.round((c-p)/v*n.height/r)}}var sn=function(t){return Math.round(10*t)/10};function ln(t,e,n,r){var i=nn(t),o=on(i,"margin"),a=en(i.maxWidth,t,"clientWidth")||W,s=en(i.maxHeight,t,"clientHeight")||W,l=function(t,e,n){var r,i;if(void 0===e||void 0===n){var o=tn(t);if(o){var a=o.getBoundingClientRect(),s=nn(o),l=on(s,"border","width"),u=on(s,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,r=en(s.maxWidth,o,"clientWidth"),i=en(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||W,maxHeight:i||W}}(t,e,n),u=l.width,c=l.height;if("content-box"===i.boxSizing){var h=on(i,"border","width"),f=on(i,"padding");u-=f.width+h.width,c-=f.height+h.height}return u=Math.max(0,u-o.width),c=Math.max(0,r?Math.floor(u/r):c-o.height),u=sn(Math.min(u,a,l.maxWidth)),c=sn(Math.min(c,s,l.maxHeight)),u&&!c&&(c=sn(u/2)),{width:u,height:c}}function un(t,e,n){var r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;var a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}var cn=function(){var t=!1;try{var e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(n){}return t}();function hn(t,e){var n=function(t,e){return nn(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function fn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function pn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function dn(t,e,n,r){var i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=fn(t,i,n),s=fn(i,o,n),l=fn(o,e,n),u=fn(a,s,n),c=fn(s,l,n);return fn(u,c,n)}var vn=new Map;function gn(t,e,n){return function(t,e){e=e||{};var n=t+JSON.stringify(e),r=vn.get(n);return r||(r=new Intl.NumberFormat(t,e),vn.set(n,r)),r}(e,n).format(t)}function yn(t,e,n){return t?function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,n):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}}function mn(t,e){var n,r;"ltr"!==e&&"rtl"!==e||(r=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function bn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _n(t){return"angle"===t?{between:ct,compare:lt,normalize:ut}:{between:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(n,e)},compare:function(t,e){return t-e},normalize:function(t){return t}}}function xn(t){var e=t.start,n=t.end,r=t.count;return{start:e%r,end:n%r,loop:t.loop&&(n-e+1)%r===0,style:t.style}}function wn(t,e,n){if(!n)return[t];for(var r,i,o,a=n.property,s=n.start,l=n.end,u=e.length,c=_n(a),h=c.compare,f=c.between,p=c.normalize,d=function(t,e,n){var r,i,o=n.property,a=n.start,s=n.end,l=_n(o),u=l.between,c=l.normalize,h=e.length,f=t.start,p=t.end,d=t.loop;if(d){for(f+=h,p+=h,r=0,i=h;r<i&&u(c(e[f%h][o]),a,s);++r)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:d,style:t.style}}(t,e,n),v=d.start,g=d.end,y=d.loop,m=d.style,b=[],_=!1,x=null,w=function(){return _||f(s,o,r)&&0!==h(s,o)},k=function(){return!_||0===h(l,r)||f(l,o,r)},E=v,S=v;E<=g;++E)(i=e[E%u]).skip||(r=p(i[a]))!==o&&(_=f(r,s,l),null===x&&w()&&(x=0===h(r,s)?E:S),null!==x&&k()&&(b.push(xn({start:x,end:E,loop:y,count:u,style:m})),x=null),S=E,o=r);return null!==x&&b.push(xn({start:x,end:g,loop:y,count:u,style:m})),b}function kn(t,e){for(var n=[],r=t.segments,i=0;i<r.length;i++){var a=wn(r[i],t.points,e);a.length&&n.push.apply(n,Object(o.a)(a))}return n}function En(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){var i,o=Sn(t.options),a=n.length,s=[],l=e[0].start,u=l,c=Object(d.a)(e);try{for(c.s();!(i=c.n()).done;){var h=i.value,f=o,p=n[l%a],v=void 0;for(u=l+1;u<=h.end;u++){var g=n[u%a];Tn(v=Sn(r.setContext({type:"segment",p0:p,p1:g,p0DataIndex:(u-1)%a,p1DataIndex:u%a,datasetIndex:t._datasetIndex})),f)&&(s.push({start:l,end:u-1,loop:h.loop,style:f}),f=v,l=u-1),p=g,f=v}l<u-1&&(s.push({start:l,end:u-1,loop:h.loop,style:v}),l=u-1)}}catch(y){c.e(y)}finally{c.f()}return s}(t,e,n,r):e}function Sn(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Tn(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var An=new(function(){function t(){Object(v.a)(this,t),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return Object(g.a)(t,[{key:"_notify",value:function(t,e,n,r){var i=e.listeners[r],o=e.duration;i.forEach((function(r){return r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})}))}},{key:"_refresh",value:function(){var t=this;t._request||(t._running=!0,t._request=y.call(window,(function(){t._update(),t._request=null,t._running&&t._refresh()})))}},{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=this,n=0;e._charts.forEach((function(r,i){if(r.running&&r.items.length){for(var o,a=r.items,s=a.length-1,l=!1;s>=0;--s)(o=a[s])._active?(o._total>r.duration&&(r.duration=o._total),o.tick(t),l=!0):(a[s]=a[a.length-1],a.pop());l&&(i.draw(),e._notify(i,r,t,"progress")),a.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}})),e._lastDate=t,0===n&&(e._running=!1)}},{key:"_getAnims",value:function(t){var e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}},{key:"listen",value:function(t,e,n){this._getAnims(t).listeners[e].push(n)}},{key:"add",value:function(t,e){var n;e&&e.length&&(n=this._getAnims(t).items).push.apply(n,Object(o.a)(e))}},{key:"has",value:function(t){return this._getAnims(t).items.length>0}},{key:"start",value:function(t){var e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((function(t,e){return Math.max(t,e._duration)}),0),this._refresh())}},{key:"running",value:function(t){if(!this._running)return!1;var e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}},{key:"stop",value:function(t){var e=this._charts.get(t);if(e&&e.items.length){for(var n=e.items,r=n.length-1;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}}},{key:"remove",value:function(t){return this._charts.delete(t)}}]),t}()),On="transparent",Mn={boolean:function(t,e,n){return n>.5?e:t},color:function(t,e,n){var r=Xt(t||On),i=r.valid&&Xt(e||On);return i&&i.valid?i.mix(r,n).hexString():e},number:function(t,e,n){return t+(e-t)*n}},Cn=function(){function t(e,n,r,i){Object(v.a)(this,t);var o=n[r];i=Ee([e.to,i,o,e.from]);var a=Ee([e.from,o,i]);this._active=!0,this._fn=e.fn||Mn[e.type||typeof a],this._easing=vt[e.easing]||vt.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}return Object(g.a)(t,[{key:"active",value:function(){return this._active}},{key:"update",value:function(t,e,n){var r=this;if(r._active){r._notify(!1);var i=r._target[r._prop],o=n-r._start,a=r._duration-o;r._start=n,r._duration=Math.floor(Math.max(a,t.duration)),r._total+=o,r._loop=!!t.loop,r._to=Ee([t.to,e,i,t.from]),r._from=Ee([t.from,i,e])}}},{key:"cancel",value:function(){var t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}},{key:"tick",value:function(t){var e,n=this,r=t-n._start,i=n._duration,o=n._prop,a=n._from,s=n._loop,l=n._to;if(n._active=a!==l&&(s||r<i),!n._active)return n._target[o]=l,void n._notify(!0);r<0?n._target[o]=a:(e=r/i%2,e=s&&e>1?2-e:e,e=n._easing(Math.min(1,Math.max(0,e))),n._target[o]=n._fn(a,l,e))}},{key:"wait",value:function(){var t=this._promises||(this._promises=[]);return new Promise((function(e,n){t.push({res:e,rej:n})}))}},{key:"_notify",value:function(t){for(var e=t?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][e]()}}]),t}();ee.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var jn=Object.keys(ee.animation);ee.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(t){return"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}}),ee.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ee.describe("animations",{_fallback:"animation"}),ee.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(t){return 0|t}}}}});var In=function(){function t(e,n){Object(v.a)(this,t),this._chart=e,this._properties=new Map,this.configure(n)}return Object(g.a)(t,[{key:"configure",value:function(t){if(S(t)){var e=this._properties;Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];if(S(r)){var i,o={},a=Object(d.a)(jn);try{for(a.s();!(i=a.n()).done;){var s=i.value;o[s]=r[s]}}catch(l){a.e(l)}finally{a.f()}(E(r.properties)&&r.properties||[n]).forEach((function(t){t!==n&&e.has(t)||e.set(t,o)}))}}))}}},{key:"_animateOptions",value:function(t,e){var n=e.options,r=function(t,e){if(!e)return;var n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(t,e){for(var n=[],r=Object.keys(e),i=0;i<r.length;i++){var o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(t.options.$animations,n).then((function(){t.options=n}),(function(){})),i}},{key:"_createAnimations",value:function(t,e){var n,r=this._properties,i=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),l=Date.now();for(n=s.length-1;n>=0;--n){var u=s[n];if("$"!==u.charAt(0))if("options"!==u){var c=e[u],h=a[u],f=r.get(u);if(h){if(f&&h.active()){h.update(f,c,l);continue}h.cancel()}f&&f.duration?(a[u]=h=new Cn(f,t,u,c),i.push(h)):t[u]=c}else i.push.apply(i,Object(o.a)(this._animateOptions(t,e)))}return i}},{key:"update",value:function(t,e){if(0!==this._properties.size){var n=this._createAnimations(t,e);return n.length?(An.add(this._chart,n),!0):void 0}Object.assign(t,e)}}]),t}();function Pn(t,e){var n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Rn(t,e){var n,r,i=[],o=t._getSortedDatasetMetas(e);for(n=0,r=o.length;n<r;++n)i.push(o[n].index);return i}function Ln(t,e,n,r){var i,o,a,s,l=t.keys,u="single"===r.mode;if(null!==e){for(i=0,o=l.length;i<o;++i){if((a=+l[i])===n){if(r.all)continue;break}s=t.values[a],T(s)&&(u||0===e||Q(e)===Q(s))&&(e+=s)}return e}}function Nn(t,e){var n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Dn(t,e,n){var r=t[e]||(t[e]={});return r[n]||(r[n]={})}function zn(t,e,n){var r,i=Object(d.a)(e.getMatchingVisibleMetas("bar").reverse());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t[o.index];if(n&&a>0||!n&&a<0)return o.index}}catch(s){i.e(s)}finally{i.f()}return null}function Fn(t,e){for(var n,r=t.chart,i=t._cachedMeta,o=r._stacks||(r._stacks={}),a=i.iScale,s=i.vScale,l=i.index,u=a.axis,c=s.axis,h=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(a,s,i),f=e.length,p=0;p<f;++p){var d=e[p],v=d[u],g=d[c];(n=(d._stacks||(d._stacks={}))[c]=Dn(o,h,v))[l]=g,n._top=zn(n,s,!0),n._bottom=zn(n,s,!1)}}function Bn(t,e){var n=t.scales;return Object.keys(n).filter((function(t){return n[t].axis===e})).shift()}function Hn(t,e){var n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;var i,o=Object(d.a)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value._stacks;if(!a||void 0===a[r]||void 0===a[r][n])return;delete a[r][n]}}catch(s){o.e(s)}finally{o.f()}}}var Un=function(t){return"reset"===t||"none"===t},Vn=function(t,e){return e?t:Object.assign({},t)},Gn=function(){function t(e,n){Object(v.a)(this,t),this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}return Object(g.a)(t,[{key:"initialize",value:function(){var t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=Nn(e.vScale,e),t.addElements()}},{key:"updateIndex",value:function(t){this.index!==t&&Hn(this._cachedMeta),this.index=t}},{key:"linkScales",value:function(){var t=this,e=t.chart,n=t._cachedMeta,r=t.getDataset(),i=function(t,e,n,r){return"x"===t?e:"r"===t?r:n},o=n.xAxisID=O(r.xAxisID,Bn(e,"x")),a=n.yAxisID=O(r.yAxisID,Bn(e,"y")),s=n.rAxisID=O(r.rAxisID,Bn(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,o,a,s),c=n.vAxisID=i(l,a,o,s);n.xScale=t.getScaleForId(o),n.yScale=t.getScaleForId(a),n.rScale=t.getScaleForId(s),n.iScale=t.getScaleForId(u),n.vScale=t.getScaleForId(c)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(t){return this.chart.scales[t]}},{key:"_getOtherScale",value:function(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var t=this._cachedMeta;this._data&&Me(this._data,this),t._stacked&&Hn(t)}},{key:"_dataCheck",value:function(){var t,e,n=this,r=n.getDataset(),i=r.data||(r.data=[]),o=n._data;if(S(i))n._data=function(t){var e,n,r,i=Object.keys(t),o=new Array(i.length);for(e=0,n=i.length;e<n;++e)r=i[e],o[e]={x:r,y:t[r]};return o}(i);else if(o!==i){if(o){Me(o,n);var a=n._cachedMeta;Hn(a),a._parsed=[]}i&&Object.isExtensible(i)&&(e=n,(t=i)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Oe.forEach((function(e){var n="_onData"+H(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=r.apply(this,i);return t._chartjs.listeners.forEach((function(t){"function"===typeof t[n]&&t[n].apply(t,i)})),a}})})))),n._syncList=[],n._data=i}}},{key:"addElements",value:function(){var t=this,e=t._cachedMeta;t._dataCheck(),t.datasetElementType&&(e.dataset=new t.datasetElementType)}},{key:"buildOrUpdateElements",value:function(t){var e=this,n=e._cachedMeta,r=e.getDataset(),i=!1;e._dataCheck();var o=n._stacked;n._stacked=Nn(n.vScale,n),n.stack!==r.stack&&(i=!0,Hn(n),n.stack=r.stack),e._resyncElements(t),(i||o!==n._stacked)&&Fn(e,n._parsed)}},{key:"configure",value:function(){var t=this,e=t.chart.config,n=e.datasetScopeKeys(t._type),r=e.getOptionScopes(t.getDataset(),n,!0);t.options=e.createResolver(r,t.getContext()),t._parsing=t.options.parsing}},{key:"parse",value:function(t,e){var n,r,i,o=this,a=o._cachedMeta,s=o._data,l=a.iScale,u=a._stacked,c=l.axis,h=0===t&&e===s.length||a._sorted,f=t>0&&a._parsed[t-1];if(!1===o._parsing)a._parsed=s,a._sorted=!0,i=s;else{i=E(s[t])?o.parseArrayData(a,s,t,e):S(s[t])?o.parseObjectData(a,s,t,e):o.parsePrimitiveData(a,s,t,e);for(n=0;n<e;++n)a._parsed[n+t]=r=i[n],h&&((null===r[c]||f&&r[c]<f[c])&&(h=!1),f=r);a._sorted=h}u&&Fn(o,i)}},{key:"parsePrimitiveData",value:function(t,e,n,r){var i,o,a,s=t.iScale,l=t.vScale,u=s.axis,c=l.axis,h=s.getLabels(),f=s===l,d=new Array(r);for(i=0,o=r;i<o;++i){var v;a=i+n,d[i]=(v={},Object(p.a)(v,u,f||s.parse(h[a],a)),Object(p.a)(v,c,l.parse(e[a],a)),v)}return d}},{key:"parseArrayData",value:function(t,e,n,r){var i,o,a,s,l=t.xScale,u=t.yScale,c=new Array(r);for(i=0,o=r;i<o;++i)s=e[a=i+n],c[i]={x:l.parse(s[0],a),y:u.parse(s[1],a)};return c}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s,l=t.xScale,u=t.yScale,c=this._parsing,h=c.xAxisKey,f=void 0===h?"x":h,p=c.yAxisKey,d=void 0===p?"y":p,v=new Array(r);for(i=0,o=r;i<o;++i)s=e[a=i+n],v[i]={x:l.parse(B(s,f),a),y:u.parse(B(s,d),a)};return v}},{key:"getParsed",value:function(t){return this._cachedMeta._parsed[t]}},{key:"getDataElement",value:function(t){return this._cachedMeta.data[t]}},{key:"applyStack",value:function(t,e,n){var r=this.chart,i=this._cachedMeta,o=e[t.axis];return Ln({keys:Rn(r,!0),values:e._stacks[t.axis]},o,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(t,e,n,r){var i=n[e.axis],o=null===i?NaN:i,a=r&&n._stacks[e.axis];r&&a&&(r.values=a,t.min=Math.min(t.min,o),t.max=Math.max(t.max,o),o=Ln(r,i,this._cachedMeta.index,{all:!0})),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}},{key:"getMinMax",value:function(t,e){var n,r,i,o,a=this,s=a._cachedMeta,l=s._parsed,u=s._sorted&&t===s.iScale,c=l.length,h=a._getOtherScale(t),f=e&&s._stacked&&{keys:Rn(a.chart,!0),values:null},p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},d=function(t){var e=t.getUserBounds(),n=e.min,r=e.max,i=e.minDefined,o=e.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}(h),v=d.min,g=d.max;function y(){return i=l[n],r=i[t.axis],o=i[h.axis],!T(r)||v>o||g<o}for(n=0;n<c&&(y()||(a.updateRangeFromParsed(p,t,i,f),!u));++n);if(u)for(n=c-1;n>=0;--n)if(!y()){a.updateRangeFromParsed(p,t,i,f);break}return p}},{key:"getAllParsedValues",value:function(t){var e,n,r,i=this._cachedMeta._parsed,o=[];for(e=0,n=i.length;e<n;++e)r=i[e][t.axis],T(r)&&o.push(r);return o}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(t){var e=this,n=e._cachedMeta;e.configure(),e._cachedDataOpts={},e.update(t||"default"),n._clip=function(t){var e,n,r,i;return S(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(O(e.options.clip,function(t,e,n){if(!1===n)return!1;var r=Pn(t,n),i=Pn(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(n.xScale,n.yScale,e.getMaxOverflow())))}},{key:"update",value:function(t){}},{key:"draw",value:function(){var t,e=this,n=e._ctx,r=e.chart,i=e._cachedMeta,o=i.data||[],a=r.chartArea,s=[],l=e._drawStart||0,u=e._drawCount||o.length-l;for(i.dataset&&i.dataset.draw(n,a,l,u),t=l;t<l+u;++t){var c=o[t];c.hidden||(c.active?s.push(c):c.draw(n,a))}for(t=0;t<s.length;++t)s[t].draw(n,a)}},{key:"getStyle",value:function(t,e){var n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}},{key:"getContext",value:function(t,e,n){var r,i=this,o=i.getDataset();if(t>=0&&t<i._cachedMeta.data.length){var a=i._cachedMeta.data[t];(r=a.$context||(a.$context=function(t,e,n){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(i.getContext(),t,a))).parsed=i.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else(r=i.$context||(i.$context=function(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(i.chart.getContext(),i.index))).dataset=o,r.index=r.datasetIndex=i.index;return r.active=!!e,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(t){return this._resolveElementOptions(this.datasetElementType.id,t)}},{key:"resolveDataElementOptions",value:function(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}},{key:"_resolveElementOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,r=this,i="active"===e,o=r._cachedDataOpts,a=t+"-"+e,s=o[a],l=r.enableOptionSharing&&U(n);if(s)return Vn(s,l);var u=r.chart.config,c=u.datasetElementScopeKeys(r._type,t),h=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],f=u.getOptionScopes(r.getDataset(),c),p=Object.keys(ee.elements[t]),d=function(){return r.getContext(n,i)},v=u.resolveNamedOptions(f,p,d,h);return v.$shared&&(v.$shared=l,o[a]=Object.freeze(Vn(v,l))),v}},{key:"_resolveAnimations",value:function(t,e,n){var r,i=this,o=i.chart,a=i._cachedDataOpts,s="animation-".concat(e),l=a[s];if(l)return l;if(!1!==o.options.animation){var u=i.chart.config,c=u.datasetAnimationScopeKeys(i._type,e),h=u.getOptionScopes(i.getDataset(),c);r=u.createResolver(h,i.getContext(t,n,e))}var f=new In(o,r&&r.animations);return r&&r._cacheable&&(a[s]=Object.freeze(f)),f}},{key:"getSharedOptions",value:function(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}},{key:"includeOptions",value:function(t,e){return!e||Un(t)||this.chart._animationsDisabled}},{key:"updateElement",value:function(t,e,n,r){Un(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}},{key:"updateSharedOptions",value:function(t,e,n){t&&!Un(e)&&this._resolveAnimations(void 0,e).update(t,n)}},{key:"_setStyle",value:function(t,e,n,r){t.active=r;var i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(t,e,n){this._setStyle(t,n,"active",!1)}},{key:"setHoverStyle",value:function(t,e,n){this._setStyle(t,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}},{key:"_resyncElements",value:function(t){var e,n=this,r=n._data,i=n._cachedMeta.data,o=Object(d.a)(n._syncList);try{for(o.s();!(e=o.n()).done;){var a=Object(f.a)(e.value,3),s=a[0],l=a[1],u=a[2];n[s](l,u)}}catch(v){o.e(v)}finally{o.f()}n._syncList=[];var c=i.length,h=r.length,p=Math.min(h,c);p&&n.parse(0,p),h>c?n._insertElements(c,h-c,t):h<c&&n._removeElements(h,c-h)}},{key:"_insertElements",value:function(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,o=i._cachedMeta,a=o.data,s=t+e,l=function(t){for(t.length+=e,n=t.length-1;n>=s;n--)t[n]=t[n-e]};for(l(a),n=t;n<s;++n)a[n]=new i.dataElementType;i._parsing&&l(o._parsed),i.parse(t,e),r&&i.updateElements(a,t,e,"reset")}},{key:"updateElements",value:function(t,e,n,r){}},{key:"_removeElements",value:function(t,e){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(t,e);n._stacked&&Hn(n,r)}n.data.splice(t,e)}},{key:"_onDataPush",value:function(){var t=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-t,t])}},{key:"_onDataPop",value:function(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._syncList.push(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(t,e){this._syncList.push(["_removeElements",t,e]),this._syncList.push(["_insertElements",t,arguments.length-2])}},{key:"_onDataUnshift",value:function(){this._syncList.push(["_insertElements",0,arguments.length])}}]),t}();function qn(t){var e,n,r,i,o=function(t){if(!t._cache.$bar){for(var e=t.getMatchingVisibleMetas("bar"),n=[],r=0,i=e.length;r<i;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=Ce(n.sort((function(t,e){return t-e})))}return t._cache.$bar}(t),a=t._length,s=function(){32767!==r&&-32768!==r&&(U(i)&&(a=Math.min(a,Math.abs(r-i)||a)),i=r)};for(e=0,n=o.length;e<n;++e)r=t.getPixelForValue(o[e]),s();for(i=void 0,e=0,n=t.ticks.length;e<n;++e)r=t.getPixelForTick(e),s();return a}function Yn(t,e,n,r){return E(t)?function(t,e,n,r){var i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o),l=a,u=s;Math.abs(a)>Math.abs(s)&&(l=s,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Wn(t,e,n,r){var i,o,a,s,l=t.iScale,u=t.vScale,c=l.getLabels(),h=l===u,f=[];for(i=n,o=n+r;i<o;++i)s=e[i],(a={})[l.axis]=h||l.parse(c[i],i),f.push(Yn(s,a,u,i));return f}function Zn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Xn(t,e,n,r){var i=e.borderSkipped,o={};if(i){var a=function(t){var e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t),s=a.start,l=a.end,u=a.reverse,c=a.top,h=a.bottom;"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=h:(o[Kn(h,s,l,u)]=!0,i=c)),o[Kn(i,s,l,u)]=!0,t.borderSkipped=o}else t.borderSkipped=o}function Kn(t,e,n,r){var i,o,a;return r?(a=n,t=$n(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=$n(t,e,n),t}function $n(t,e,n){return"start"===t?e:"end"===t?n:t}Gn.defaults={},Gn.prototype.datasetElementType=null,Gn.prototype.dataElementType=null;var Jn=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"parsePrimitiveData",value:function(t,e,n,r){return Wn(t,e,n,r)}},{key:"parseArrayData",value:function(t,e,n,r){return Wn(t,e,n,r)}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s,l=t.iScale,u=t.vScale,c=this._parsing,h=c.xAxisKey,f=void 0===h?"x":h,p=c.yAxisKey,d=void 0===p?"y":p,v="x"===l.axis?f:d,g="x"===u.axis?f:d,y=[];for(i=n,o=n+r;i<o;++i)s=e[i],(a={})[l.axis]=l.parse(B(s,v),i),y.push(Yn(B(s,g),a,u,i));return y}},{key:"updateRangeFromParsed",value:function(t,e,r,i){Object(l.a)(Object(u.a)(n.prototype),"updateRangeFromParsed",this).call(this,t,e,r,i);var o=r._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t),o=i._custom,a=Zn(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}},{key:"initialize",value:function(){var t=this;t.enableOptionSharing=!0,Object(l.a)(Object(u.a)(n.prototype),"initialize",this).call(this),t._cachedMeta.stack=t.getDataset().stack}},{key:"update",value:function(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}},{key:"updateElements",value:function(t,e,n,r){var i=this,o="reset"===r,a=i.index,s=i._cachedMeta.vScale,l=s.getBasePixel(),u=s.isHorizontal(),c=i._getRuler(),h=i.resolveDataElementOptions(e,r),f=i.getSharedOptions(h),p=i.includeOptions(r,f);i.updateSharedOptions(f,r,h);for(var d=e;d<e+n;d++){var v=i.getParsed(d),g=o||k(v[s.axis])?{base:l,head:l}:i._calculateBarValuePixels(d),y=i._calculateBarIndexPixels(d,c),m=(v._stacks||{})[s.axis],b={horizontal:u,base:g.base,enableBorderRadius:!m||Zn(v._custom)||a===m._top||a===m._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};p&&(b.options=f||i.resolveDataElementOptions(d,t[d].active?"active":r)),Xn(b,b.options||t[d].options,m,a),i.updateElement(t[d],d,b,r)}}},{key:"_getStacks",value:function(t,e){var n,r,i=this._cachedMeta.iScale,o=i.getMatchingVisibleMetas(this._type),a=i.options.stacked,s=o.length,l=[];for(n=0;n<s;++n)if((r=o[n]).controller.options.grouped){if("undefined"!==typeof e){var u=r.controller.getParsed(e)[r.controller._cachedMeta.vScale.axis];if(k(u)||isNaN(u))continue}if((!1===a||-1===l.indexOf(r.stack)||void 0===a&&void 0===r.stack)&&l.push(r.stack),r.index===t)break}return l.length||l.push(void 0),l}},{key:"_getStackCount",value:function(t){return this._getStacks(void 0,t).length}},{key:"_getStackIndex",value:function(t,e,n){var r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var t,e,n=this,r=n.options,i=n._cachedMeta,o=i.iScale,a=[];for(t=0,e=i.data.length;t<e;++t)a.push(o.getPixelForValue(n.getParsed(t)[o.axis],t));var s=r.barThickness;return{min:s||qn(o),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:n._getStackCount(),scale:o,grouped:r.grouped,ratio:s?1:r.categoryPercentage*r.barPercentage}}},{key:"_calculateBarValuePixels",value:function(t){var e,n,r=this,i=r._cachedMeta,o=i.vScale,a=i._stacked,s=r.options,l=s.base,u=s.minBarLength,c=l||0,h=r.getParsed(t),f=h._custom,p=Zn(f),d=h[o.axis],v=0,g=a?r.applyStack(o,h,a):d;g!==d&&(v=g-d,g=d),p&&(d=f.barStart,g=f.barEnd-f.barStart,0!==d&&Q(d)!==Q(f.barEnd)&&(v=0),v+=d);var y=k(l)||p?v:l,m=o.getPixelForValue(y);if(n=(e=r.chart.getDataVisibility(t)?o.getPixelForValue(v+g):m)-m,Math.abs(n)<u&&(n=function(t,e,n){return 0!==t?Q(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(n,o,c)*u,d===c&&(m-=n/2),e=m+n),m===o.getPixelForValue(c)){var b=Q(n)*o.getLineWidthForValue(c)/2;m+=b,n-=b}return{size:n,base:m,head:e,center:e+n/2}}},{key:"_calculateBarIndexPixels",value:function(t,e){var n,r,i=this,o=e.scale,a=i.options,s=a.skipNull,l=O(a.maxBarThickness,1/0);if(e.grouped){var u=s?i._getStackCount(t):e.stackCount,c="flex"===a.barThickness?function(t,e,n,r){var i=e.pixels,o=i[t],a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null,l=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);var u=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:n.barPercentage,start:u}}(t,e,a,u):function(t,e,n,r){var i,o,a=n.barThickness;return k(a)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=a*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}(t,e,a,u),h=i._getStackIndex(i.index,i._cachedMeta.stack,s?t:void 0);n=c.start+c.chunk*h+c.chunk/2,r=Math.min(l,c.chunk*c.ratio)}else n=o.getPixelForValue(i.getParsed(t)[o.axis],t),r=Math.min(l,e.min*e.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var t=this,e=t._cachedMeta,n=e.vScale,r=e.data,i=r.length,o=0;o<i;++o)null!==t.getParsed(o)[n.axis]&&r[o].draw(t._ctx)}}]),n}(Gn);Jn.id="bar",Jn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Jn.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Qn=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,Object(l.a)(Object(u.a)(n.prototype),"initialize",this).call(this)}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s=t.xScale,l=t.yScale,u=this._parsing,c=u.xAxisKey,h=void 0===c?"x":c,f=u.yAxisKey,p=void 0===f?"y":f,d=[];for(i=n,o=n+r;i<o;++i)a=e[i],d.push({x:s.parse(B(a,h),i),y:l.parse(B(a,p),i),_custom:a&&a.r&&+a.r});return d}},{key:"getMaxOverflow",value:function(){for(var t=this._cachedMeta,e=t.data,n=t._parsed,r=0,i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size()/2,n[i]._custom);return r>0&&r}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.xScale,r=e.yScale,i=this.getParsed(t),o=n.getLabelForValue(i.x),a=r.getLabelForValue(i.y),s=i._custom;return{label:e.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o="reset"===r,a=i._cachedMeta,s=a.iScale,l=a.vScale,u=i.resolveDataElementOptions(e,r),c=i.getSharedOptions(u),h=i.includeOptions(r,c),f=s.axis,p=l.axis,d=e;d<e+n;d++){var v=t[d],g=!o&&i.getParsed(d),y={},m=y[f]=o?s.getPixelForDecimal(.5):s.getPixelForValue(g[f]),b=y[p]=o?l.getBasePixel():l.getPixelForValue(g[p]);y.skip=isNaN(m)||isNaN(b),h&&(y.options=i.resolveDataElementOptions(d,v.active?"active":r),o&&(y.options.radius=0)),i.updateElement(v,d,y,r)}i.updateSharedOptions(c,r,u)}},{key:"resolveDataElementOptions",value:function(t,e){var r=this.getParsed(t),i=Object(l.a)(Object(u.a)(n.prototype),"resolveDataElementOptions",this).call(this,t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var o=i.radius;return"active"!==e&&(i.radius=0),i.radius+=O(r&&r._custom,o),i}}]),n}(Gn);Qn.id="bubble",Qn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Qn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var tr=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(v.a)(this,n),(i=e.call(this,t,r)).enableOptionSharing=!0,i.innerRadius=void 0,i.outerRadius=void 0,i.offsetX=void 0,i.offsetY=void 0,i}return Object(g.a)(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(t,e){var n,r,i=this.getDataset().data,o=this._cachedMeta;for(n=t,r=t+e;n<r;++n)o._parsed[n]=+i[n]}},{key:"_getRotation",value:function(){return it(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return it(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var t=q,e=-q,n=this,r=0;r<n.chart.data.datasets.length;++r)if(n.chart.isDatasetVisible(r)){var i=n.chart.getDatasetMeta(r).controller,o=i._getRotation(),a=i._getCircumference();t=Math.min(t,o),e=Math.max(e,o+a)}return{rotation:t,circumference:e-t}}},{key:"update",value:function(t){var e,n,r=this,i=r.chart.chartArea,o=r._cachedMeta,a=o.data,s=r.getMaxBorderWidth()+r.getMaxOffset(a)+r.options.spacing,l=Math.max((Math.min(i.width,i.height)-s)/2,0),u=Math.min((e=r.options.cutout,n=l,"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:e/n),1),c=r._getRingWeight(r.index),h=r._getRotationExtents(),f=h.circumference,p=function(t,e,n){var r=1,i=1,o=0,a=0;if(e<q){var s=t,l=s+e,u=Math.cos(s),c=Math.sin(s),h=Math.cos(l),f=Math.sin(l),p=function(t,e,r){return ct(t,s,l,!0)?1:Math.max(e,e*n,r,r*n)},d=function(t,e,r){return ct(t,s,l,!0)?-1:Math.min(e,e*n,r,r*n)},v=p(0,u,h),g=p(X,c,f),y=d(G,u,h),m=d(G+X,c,f);r=(v-y)/2,i=(g-m)/2,o=-(v+y)/2,a=-(g+m)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(h.rotation,f,u),d=p.ratioX,v=p.ratioY,g=p.offsetX,y=p.offsetY,m=(i.width-s)/d,b=(i.height-s)/v,_=Math.max(Math.min(m,b)/2,0),x=M(r.options.radius,_),w=(x-Math.max(x*u,0))/r._getVisibleDatasetWeightTotal();r.offsetX=g*x,r.offsetY=y*x,o.total=r.calculateTotal(),r.outerRadius=x-w*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-w*c,0),r.updateElements(a,0,a.length,t)}},{key:"_circumference",value:function(t,e){var n=this,r=n.options,i=n._cachedMeta,o=n._getCircumference();return e&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:n.calculateCircumference(i._parsed[t]*o/q)}},{key:"updateElements",value:function(t,e,n,r){var i,o=this,a="reset"===r,s=o.chart,l=s.chartArea,u=s.options.animation,c=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=a&&u.animateScale,p=f?0:o.innerRadius,d=f?0:o.outerRadius,v=o.resolveDataElementOptions(e,r),g=o.getSharedOptions(v),y=o.includeOptions(r,g),m=o._getRotation();for(i=0;i<e;++i)m+=o._circumference(i,a);for(i=e;i<e+n;++i){var b=o._circumference(i,a),_=t[i],x={x:c+o.offsetX,y:h+o.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:d,innerRadius:p};y&&(x.options=g||o.resolveDataElementOptions(i,_.active?"active":r)),m+=b,o.updateElement(_,i,x,r)}o.updateSharedOptions(g,r,v)}},{key:"calculateTotal",value:function(){var t,e=this._cachedMeta,n=e.data,r=0;for(t=0;t<n.length;t++){var i=e._parsed[t];null===i||isNaN(i)||!this.chart.getDataVisibility(t)||n[t].hidden||(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(t){var e=this._cachedMeta.total;return e>0&&!isNaN(t)?q*(Math.abs(t)/e):0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=gn(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}},{key:"getMaxBorderWidth",value:function(t){var e,n,r,i,o,a=0,s=this.chart;if(!t)for(e=0,n=s.data.datasets.length;e<n;++e)if(s.isDatasetVisible(e)){t=(r=s.getDatasetMeta(e)).data,(i=r.controller)!==this&&i.configure();break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)"inner"!==(o=i.resolveDataElementOptions(e)).borderAlign&&(a=Math.max(a,o.borderWidth||0,o.hoverBorderWidth||0));return a}},{key:"getMaxOffset",value:function(t){for(var e=0,n=0,r=t.length;n<r;++n){var i=this.resolveDataElementOptions(n);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}},{key:"_getRingWeightOffset",value:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}},{key:"_getRingWeight",value:function(t){return Math.max(O(this.chart.data.datasets[t].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(Gn);tr.id="doughnut",tr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},tr.descriptors={_scriptable:function(t){return"spacing"!==t},_indexable:function(t){return"spacing"!==t}},tr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(t){var e=t.data;if(e.labels.length&&e.datasets.length){var n=t.legend.options.labels.pointStyle;return e.labels.map((function(e,r){var i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick:function(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(t){var e=t.label,n=": "+t.formattedValue;return E(e)?(e=e.slice())[0]+=n:e+=n,e}}}}};var er=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,Object(l.a)(Object(u.a)(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){var e=this,n=e._cachedMeta,r=n.dataset,i=n.data,o=void 0===i?[]:i,a=n._dataset,s=e.chart._animationsDisabled,l=function(t,e,n){var r=e.length,i=0,o=r;if(t._sorted){var a=t.iScale,s=t._parsed,l=a.axis,u=a.getUserBounds(),c=u.min,h=u.max,f=u.minDefined,p=u.maxDefined;f&&(i=ht(Math.min(Te(s,a.axis,c).lo,n?r:Te(e,l,a.getPixelForValue(c)).lo),0,r-1)),o=p?ht(Math.max(Te(s,a.axis,h).hi+1,n?0:Te(e,l,a.getPixelForValue(h)).hi+1),i,r)-i:r-i}return{start:i,count:o}}(n,o,s),u=l.start,c=l.count;e._drawStart=u,e._drawCount=c,function(t){var e=t.xScale,n=t.yScale,r=t._scaleRanges,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;var o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}(n)&&(u=0,c=o.length),r._datasetIndex=e.index,r._decimated=!!a._decimated,r.points=o;var h=e.resolveDatasetElementOptions(t);e.options.showLine||(h.borderWidth=0),h.segment=e.options.segment,e.updateElement(r,void 0,{animated:!s,options:h},t),e.updateElements(o,u,c,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o="reset"===r,a=i._cachedMeta,s=a.iScale,l=a.vScale,u=a._stacked,c=i.resolveDataElementOptions(e,r),h=i.getSharedOptions(c),f=i.includeOptions(r,h),p=s.axis,d=l.axis,v=i.options.spanGaps,g=et(v)?v:Number.POSITIVE_INFINITY,y=i.chart._animationsDisabled||o||"none"===r,m=e>0&&i.getParsed(e-1),b=e;b<e+n;++b){var _=t[b],x=i.getParsed(b),w=y?_:{},E=k(x[d]),S=w[p]=s.getPixelForValue(x[p],b),T=w[d]=o||E?l.getBasePixel():l.getPixelForValue(u?i.applyStack(l,x,u):x[d],b);w.skip=isNaN(S)||isNaN(T)||E,w.stop=b>0&&x[p]-m[p]>g,w.parsed=x,f&&(w.options=h||i.resolveDataElementOptions(b,_.active?"active":r)),y||i.updateElement(_,b,w,r),m=x}i.updateSharedOptions(h,r,c)}},{key:"getMaxOverflow",value:function(){var t=this,e=t._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;var o=i[0].size(t.resolveDataElementOptions(0)),a=i[i.length-1].size(t.resolveDataElementOptions(i.length-1));return Math.max(r,o,a)/2}},{key:"draw",value:function(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),Object(l.a)(Object(u.a)(n.prototype),"draw",this).call(this)}}]),n}(Gn);er.id="line",er.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},er.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var nr=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(v.a)(this,n),(i=e.call(this,t,r)).innerRadius=void 0,i.outerRadius=void 0,i}return Object(g.a)(n,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=gn(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}},{key:"_updateRadius",value:function(){var t=this,e=t.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),a=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();t.outerRadius=o-a*t.index,t.innerRadius=t.outerRadius-a}},{key:"updateElements",value:function(t,e,n,r){var i,o=this,a="reset"===r,s=o.chart,l=o.getDataset(),u=s.options.animation,c=o._cachedMeta.rScale,h=c.xCenter,f=c.yCenter,p=c.getIndexAngle(0)-.5*G,d=p,v=360/o.countVisibleElements();for(i=0;i<e;++i)d+=o._computeAngle(i,r,v);for(i=e;i<e+n;i++){var g=t[i],y=d,m=d+o._computeAngle(i,r,v),b=s.getDataVisibility(i)?c.getDistanceFromCenterForValue(l.data[i]):0;d=m,a&&(u.animateScale&&(b=0),u.animateRotate&&(y=m=p));var _={x:h,y:f,innerRadius:0,outerRadius:b,startAngle:y,endAngle:m,options:o.resolveDataElementOptions(i,g.active?"active":r)};o.updateElement(g,i,_,r)}}},{key:"countVisibleElements",value:function(){var t=this,e=this.getDataset(),n=this._cachedMeta,r=0;return n.data.forEach((function(n,i){!isNaN(e.data[i])&&t.chart.getDataVisibility(i)&&r++})),r}},{key:"_computeAngle",value:function(t,e,n){return this.chart.getDataVisibility(t)?it(this.resolveDataElementOptions(t,e).angle||n):0}}]),n}(Gn);nr.id="polarArea",nr.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},nr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(t){var e=t.data;if(e.labels.length&&e.datasets.length){var n=t.legend.options.labels.pointStyle;return e.labels.map((function(e,r){var i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick:function(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var rr=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return n}(tr);rr.id="pie",rr.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var ir=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}},{key:"update",value:function(t){var e=this,n=e._cachedMeta,r=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(r.points=i,"resize"!==t){var a=e.resolveDatasetElementOptions(t);e.options.showLine||(a.borderWidth=0);var s={_loop:!0,_fullLoop:o.length===i.length,options:a};e.updateElement(r,void 0,s,t)}e.updateElements(i,0,i.length,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o=i.getDataset(),a=i._cachedMeta.rScale,s="reset"===r,l=e;l<e+n;l++){var u=t[l],c=i.resolveDataElementOptions(l,u.active?"active":r),h=a.getPointPositionForValue(l,o.data[l]),f=s?a.xCenter:h.x,p=s?a.yCenter:h.y,d={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:c};i.updateElement(u,l,d,r)}}}]),n}(Gn);ir.id="radar",ir.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},ir.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var or=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return n}(er);or.id="scatter",or.defaults={showLine:!1,fill:!1},or.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var ar=Object.freeze({__proto__:null,BarController:Jn,BubbleController:Qn,DoughnutController:tr,LineController:er,PolarAreaController:nr,PieController:rr,RadarController:ir,ScatterController:or});function sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var lr=function(){function t(e){Object(v.a)(this,t),this.options=e||{}}return Object(g.a)(t,[{key:"formats",value:function(){return sr()}},{key:"parse",value:function(t,e){return sr()}},{key:"format",value:function(t,e){return sr()}},{key:"add",value:function(t,e,n){return sr()}},{key:"diff",value:function(t,e,n){return sr()}},{key:"startOf",value:function(t,e,n){return sr()}},{key:"endOf",value:function(t,e){return sr()}}]),t}();lr.override=function(t){Object.assign(lr.prototype,t)};var ur={_date:lr};function cr(t,e){return"native"in t?{x:t.x,y:t.y}:an(t,e)}function hr(t,e,n,r){var i=t.controller,o=t.data,a=t._sorted,s=i._cachedMeta.iScale;if(s&&e===s.axis&&a&&o.length){var l=s._reversePixels?Ae:Te;if(!r)return l(o,e,n);if(i._sharedOptions){var u=o[0],c="function"===typeof u.getRange&&u.getRange(e);if(c){var h=l(o,e,n-c),f=l(o,e,n+c);return{lo:h.lo,hi:f.hi}}}}return{lo:0,hi:o.length-1}}function fr(t,e,n,r,i){for(var o=t.getSortedVisibleDatasetMetas(),a=n[e],s=0,l=o.length;s<l;++s)for(var u=o[s],c=u.index,h=u.data,f=hr(o[s],e,a,i),p=f.lo,d=f.hi,v=p;v<=d;++v){var g=h[v];g.skip||r(g,c,v)}}function pr(t,e,n,r){var i=[];if(!se(e,t.chartArea,t._minPadding))return i;return fr(t,n,e,(function(t,n,o){t.inRange(e.x,e.y,r)&&i.push({element:t,datasetIndex:n,index:o})}),!0),i}function dr(t,e,n,r,i){var o=function(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){var i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n),a=Number.POSITIVE_INFINITY,s=[];if(!se(e,t.chartArea,t._minPadding))return s;return fr(t,n,e,(function(n,l,u){if(!r||n.inRange(e.x,e.y,i)){var c=n.getCenterPoint(i);if(se(c,t.chartArea,t._minPadding)||n.inRange(e.x,e.y,i)){var h=o(e,c);h<a?(s=[{element:n,datasetIndex:l,index:u}],a=h):h===a&&s.push({element:n,datasetIndex:l,index:u})}}})),s}function vr(t,e,n,r){var i=cr(e,t),o=[],a=n.axis,s="x"===a?"inXRange":"inYRange",l=!1;return function(t,e){for(var n,r,i,o=t.getSortedVisibleDatasetMetas(),a=0,s=o.length;a<s;++a){var l=o[a];n=l.index;for(var u=0,c=(r=l.data).length;u<c;++u)(i=r[u]).skip||e(i,n,u)}}(t,(function(t,e,n){t[s](i[a],r)&&o.push({element:t,datasetIndex:e,index:n}),t.inRange(i.x,i.y,r)&&(l=!0)})),n.intersect&&!l?[]:o}var gr={modes:{index:function(t,e,n,r){var i=cr(e,t),o=n.axis||"x",a=n.intersect?pr(t,i,o,r):dr(t,i,o,!1,r),s=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((function(t){var e=a[0].index,n=t.data[e];n&&!n.skip&&s.push({element:n,datasetIndex:t.index,index:e})})),s):[]},dataset:function(t,e,n,r){var i=cr(e,t),o=n.axis||"xy",a=n.intersect?pr(t,i,o,r):dr(t,i,o,!1,r);if(a.length>0){var s=a[0].datasetIndex,l=t.getDatasetMeta(s).data;a=[];for(var u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:s,index:u})}return a},point:function(t,e,n,r){return pr(t,cr(e,t),n.axis||"xy",r)},nearest:function(t,e,n,r){return dr(t,cr(e,t),n.axis||"xy",n.intersect,r)},x:function(t,e,n,r){return n.axis="x",vr(t,e,n,r)},y:function(t,e,n,r){return n.axis="y",vr(t,e,n,r)}}},yr=["left","top","right","bottom"];function mr(t,e){return t.filter((function(t){return t.pos===e}))}function br(t,e){return t.filter((function(t){return-1===yr.indexOf(t.pos)&&t.box.axis===e}))}function _r(t,e){return t.sort((function(t,n){var r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function xr(t,e){var n,r,i,o=function(t){var e,n={},r=Object(d.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.stack,a=i.pos,s=i.stackWeight;if(o&&yr.includes(a)){var l=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}}}catch(u){r.e(u)}finally{r.f()}return n}(t),a=e.vBoxMaxWidth,s=e.hBoxMaxHeight;for(n=0,r=t.length;n<r;++n){var l=(i=t[n]).box.fullSize,u=o[i.stack],c=u&&i.stackWeight/u.weight;i.horizontal?(i.width=c?c*a:l&&e.availableWidth,i.height=s):(i.width=a,i.height=c?c*s:l&&e.availableHeight)}return o}function wr(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function kr(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Er(t,e,n,r){var i=n.pos,o=n.box,a=t.maxPadding;if(!S(i)){n.size&&(t[i]-=n.size);var s=r[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?o.height:o.width),n.size=s.size/s.count,t[i]+=n.size}o.getPadding&&kr(a,o.getPadding());var l=Math.max(0,e.outerWidth-wr(a,t,"left","right")),u=Math.max(0,e.outerHeight-wr(a,t,"top","bottom")),c=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function Sr(t,e){var n=e.maxPadding;function r(t){var r={left:0,top:0,right:0,bottom:0};return t.forEach((function(t){r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function Tr(t,e,n,r){var i,o,a,s,l,u,c=[];for(i=0,o=t.length,l=0;i<o;++i){(s=(a=t[i]).box).update(a.width||e.w,a.height||e.h,Sr(a.horizontal,e));var h=Er(e,n,a,r),f=h.same,p=h.other;l|=f&&c.length,u=u||p,s.fullSize||c.push(a)}return l&&Tr(c,e,n,r)||u}function Ar(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Or(t,e,n,r){var i,o=n.padding,a=e.x,s=e.y,l=Object(d.a)(t);try{for(l.s();!(i=l.n()).done;){var u=i.value,c=u.box,h=r[u.stack]||{count:1,placed:0,weight:1},f=u.stackWeight/h.weight||1;if(u.horizontal){var p=e.w*f,v=h.size||c.height;U(h.start)&&(s=h.start),c.fullSize?Ar(c,o.left,s,n.outerWidth-o.right-o.left,v):Ar(c,e.left+h.placed,s,p,v),h.start=s,h.placed+=p,s=c.bottom}else{var g=e.h*f,y=h.size||c.width;U(h.start)&&(a=h.start),c.fullSize?Ar(c,a,o.top,y,n.outerHeight-o.bottom-o.top):Ar(c,a,e.top+h.placed,y,g),h.start=a,h.placed+=g,a=c.right}}}catch(m){l.e(m)}finally{l.f()}e.x=a,e.y=s}ee.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Mr=function(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(t){e.draw(t)}}]},t.boxes.push(e)},Cr=function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},jr=function(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},Ir=function(t,e,n,r){if(t){var i=we(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){var e=function(t){var e,n,r,i,o,a,s=[];for(e=0,n=(t||[]).length;e<n;++e){var l=r=t[e];i=l.position;var u=l.options;o=u.stack;var c=u.stackWeight;a=void 0===c?1:c,s.push({index:e,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a})}return s}(t),n=_r(e.filter((function(t){return t.box.fullSize})),!0),r=_r(mr(e,"left"),!0),i=_r(mr(e,"right")),o=_r(mr(e,"top"),!0),a=_r(mr(e,"bottom")),s=br(e,"x"),l=br(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:mr(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(a).concat(s)}}(t.boxes),l=s.vertical,u=s.horizontal;j(t.boxes,(function(t){"function"===typeof t.beforeLayout&&t.beforeLayout()}));var c=l.reduce((function(t,e){return e.box.options&&!1===e.box.options.display?t:t+1}),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},i);kr(f,we(r));var p=Object.assign({maxPadding:f,w:o,h:a,x:i.left,y:i.top},i),d=xr(l.concat(u),h);Tr(s.fullSize,p,h,d),Tr(l,p,h,d),Tr(u,p,h,d)&&Tr(l,p,h,d),function(t){var e=t.maxPadding;function n(n){var r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(p),Or(s.leftAndTop,p,h,d),p.x+=p.w,p.y+=p.h,Or(s.rightAndBottom,p,h,d),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},j(s.chartArea,(function(e){var n=e.box;Object.assign(n,t.chartArea),n.update(p.w,p.h)}))}},Pr=function(){function t(){Object(v.a)(this,t)}return Object(g.a)(t,[{key:"acquireContext",value:function(t,e){}},{key:"releaseContext",value:function(t){return!1}},{key:"addEventListener",value:function(t,e,n){}},{key:"removeEventListener",value:function(t,e,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}},{key:"isAttached",value:function(t){return!0}}]),t}(),Rr=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"acquireContext",value:function(t){return t&&t.getContext&&t.getContext("2d")||null}}]),n}(Pr),Lr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nr=function(t){return null===t||""===t};var Dr=!!cn&&{passive:!0};function zr(t,e,n){t.canvas.removeEventListener(e,n,Dr)}function Fr(t,e,n){var r=t.canvas,i=r&&tn(r)||r,o=new MutationObserver((function(t){var e=tn(i);t.forEach((function(t){for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];o!==i&&o!==e||n(t.target)}}))}));return o.observe(document,{childList:!0,subtree:!0}),o}function Br(t,e,n){var r=t.canvas,i=r&&tn(r);if(i){var o=new MutationObserver((function(t){t.forEach((function(t){for(var e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===r){n();break}}))}));return o.observe(i,{childList:!0}),o}}var Hr=new Map,Ur=0;function Vr(){var t=window.devicePixelRatio;t!==Ur&&(Ur=t,Hr.forEach((function(e,n){n.currentDevicePixelRatio!==t&&e()})))}function Gr(t,e,n){var r=t.canvas,i=r&&tn(r);if(i){var o=m((function(t,e){var r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((function(t){var e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){Hr.size||window.addEventListener("resize",Vr),Hr.set(t,e)}(t,o),a}}function qr(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Hr.delete(t),Hr.size||window.removeEventListener("resize",Vr)}(t)}function Yr(t,e,n){var r=t.canvas,i=m((function(e){null!==t.ctx&&n(function(t,e){var n=Lr[t.type]||t.type,r=an(t,e),i=r.x,o=r.y;return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==o?o:null}}(e,t))}),t,(function(t){var e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,n){t.addEventListener(e,n,Dr)}(r,e,i),i}var Wr=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"acquireContext",value:function(t,e){var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){var n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t.$chartjs={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Nr(i)){var o=hn(t,"width");void 0!==o&&(t.width=o)}if(Nr(r))if(""===t.style.height)t.height=t.width/(e||2);else{var a=hn(t,"height");void 0!==a&&(t.height=a)}}(t,e),n):null}},{key:"releaseContext",value:function(t){var e=t.canvas;if(!e.$chartjs)return!1;var n=e.$chartjs.initial;["height","width"].forEach((function(t){var r=n[t];k(r)?e.removeAttribute(t):e.setAttribute(t,r)}));var r=n.style||{};return Object.keys(r).forEach((function(t){e.style[t]=r[t]})),e.width=e.width,delete e.$chartjs,!0}},{key:"addEventListener",value:function(t,e,n){this.removeEventListener(t,e);var r=t.$proxies||(t.$proxies={}),i={attach:Fr,detach:Br,resize:Gr}[e]||Yr;r[e]=i(t,e,n)}},{key:"removeEventListener",value:function(t,e){var n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:qr,detach:qr,resize:qr}[e]||zr)(t,e,r),n[e]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(t,e,n,r){return ln(t,e,n,r)}},{key:"isAttached",value:function(t){var e=tn(t);return!(!e||!e.isConnected)}}]),n}(Pr);var Zr=function(){function t(){Object(v.a)(this,t),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return Object(g.a)(t,[{key:"tooltipPosition",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"hasValue",value:function(){return et(this.x)&&et(this.y)}},{key:"getProps",value:function(t,e){var n=this,r=this.$animations;if(!e||!r)return n;var i={};return t.forEach((function(t){i[t]=r[t]&&r[t].active()?r[t]._to:n[t]})),i}}]),t}();Zr.defaults={},Zr.defaultRoutes=void 0;var Xr={values:function(t){return E(t)?t:""+t},numeric:function(t,e,n){if(0===t)return"0";var r,i=this.chart.options.locale,o=t;if(n.length>1){var a=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(a<1e-4||a>1e15)&&(r="scientific"),o=function(t,e){var n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}var s=J(Math.abs(o)),l=Math.max(Math.min(-1*Math.floor(s),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),gn(t,i,u)},logarithmic:function(t,e,n){if(0===t)return"0";var r=t/Math.pow(10,Math.floor(J(t)));return 1===r||2===r||5===r?Xr.numeric.call(this,t,e,n):""}};var Kr={formatters:Xr};function $r(t,e){var n=t.options.ticks,r=n.maxTicksLimit||function(t){var e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=n.major.enabled?function(t){var e,n,r=[];for(e=0,n=t.length;e<n;e++)t[e].major&&r.push(e);return r}(e):[],o=i.length,a=i[0],s=i[o-1],l=[];if(o>r)return function(t,e,n,r){var i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),a=n[++o*r])}(e,l,i,o/r),l;var u=function(t,e,n){var r=function(t){var e,n,r=t.length;if(r<2)return!1;for(n=t[0],e=1;e<r;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),i=e.length/n;if(!r)return Math.max(i,1);for(var o=function(t){var e,n=[],r=Math.sqrt(t);for(e=1;e<r;e++)t%e===0&&(n.push(e),n.push(t/e));return r===(0|r)&&n.push(r),n.sort((function(t,e){return t-e})).pop(),n}(r),a=0,s=o.length-1;a<s;a++){var l=o[a];if(l>i)return l}return Math.max(i,1)}(i,e,r);if(o>0){var c,h,f=o>1?Math.round((s-a)/(o-1)):null;for(Jr(e,l,u,k(f)?0:a-f,a),c=0,h=o-1;c<h;c++)Jr(e,l,u,i[c],i[c+1]);return Jr(e,l,u,s,k(f)?e.length:s+f),l}return Jr(e,l,u),l}function Jr(t,e,n,r,i){var o,a,s,l=O(r,0),u=Math.min(O(i,t.length),t.length),c=0;for(n=Math.ceil(n),i&&(n=(o=i-r)/Math.floor(o/n)),s=l;s<0;)c++,s=Math.round(l+c*n);for(a=Math.max(l,0);a<u;a++)a===s&&(e.push(t[a]),c++,s=Math.round(l+c*n))}ee.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(t,e){return e.lineWidth},tickColor:function(t,e){return e.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ee.route("scale.ticks","color","","color"),ee.route("scale.grid","color","","borderColor"),ee.route("scale.grid","borderColor","","borderColor"),ee.route("scale.title","color","","color"),ee.describe("scale",{_fallback:!1,_scriptable:function(t){return!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t},_indexable:function(t){return"borderDash"!==t&&"tickBorderDash"!==t}}),ee.describe("scales",{_fallback:"scale"}),ee.describe("scale.ticks",{_scriptable:function(t){return"backdropPadding"!==t&&"callback"!==t},_indexable:function(t){return"backdropPadding"!==t}});var Qr=function(t,e,n){return"top"===e||"left"===e?t[e]+n:t[e]-n};function ti(t,e){for(var n=[],r=t.length/e,i=t.length,o=0;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function ei(t,e,n){var r,i=t.ticks.length,o=Math.min(e,i-1),a=t._startPixel,s=t._endPixel,l=1e-6,u=t.getPixelForTick(o);if(!(n&&(r=1===i?Math.max(u-a,s-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(o-1))/2,(u+=o<e?r:-r)<a-l||u>s+l)))return u}function ni(t){return t.drawTicks?t.tickLength:0}function ri(t,e){if(!t.display)return 0;var n=ke(t.font,e),r=we(t.padding);return(E(t.text)?t.text.length:1)*n.lineHeight+r.height}function ii(t,e,n){var r=b(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=function(t){return"left"===t?"right":"right"===t?"left":t}(r)),r}var oi=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).id=t.id,r.type=t.type,r.options=void 0,r.ctx=t.ctx,r.chart=t.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return Object(g.a)(n,[{key:"init",value:function(t){var e=this;e.options=t.setContext(e.getContext()),e.axis=t.axis,e._userMin=e.parse(t.min),e._userMax=e.parse(t.max),e._suggestedMin=e.parse(t.suggestedMin),e._suggestedMax=e.parse(t.suggestedMax)}},{key:"parse",value:function(t,e){return t}},{key:"getUserBounds",value:function(){var t=this._userMin,e=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return t=A(t,Number.POSITIVE_INFINITY),e=A(e,Number.NEGATIVE_INFINITY),n=A(n,Number.POSITIVE_INFINITY),r=A(r,Number.NEGATIVE_INFINITY),{min:A(t,n),max:A(e,r),minDefined:T(t),maxDefined:T(e)}}},{key:"getMinMax",value:function(t){var e,n=this,r=n.getUserBounds(),i=r.min,o=r.max,a=r.minDefined,s=r.maxDefined;if(a&&s)return{min:i,max:o};for(var l=n.getMatchingVisibleMetas(),u=0,c=l.length;u<c;++u)e=l[u].controller.getMinMax(n,t),a||(i=Math.min(i,e.min)),s||(o=Math.max(o,e.max));return{min:A(i,A(o,i)),max:A(o,A(i,o))}}},{key:"getPadding",value:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){C(this.options.beforeUpdate,[this])}},{key:"update",value:function(t,e,n){var r=this,i=r.options.ticks,o=i.sampleSize;r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),r.ticks=null,r._labelSizes=null,r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r._maxLength=r.isHorizontal()?r.width+n.left+n.right:r.height+n.top+n.bottom,r._dataLimitsCached||(r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r._range=function(t,e){var n=t.min,r=t.max;return{min:n-Math.abs(M(e,n)),max:r+M(e,r)}}(r,r.options.grace),r._dataLimitsCached=!0),r.beforeBuildTicks(),r.ticks=r.buildTicks()||[],r.afterBuildTicks();var a=o<r.ticks.length;r._convertTicksToLabels(a?ti(r.ticks,o):r.ticks),r.configure(),r.beforeCalculateLabelRotation(),r.calculateLabelRotation(),r.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(r.ticks=$r(r,r.ticks),r._labelSizes=null),a&&r._convertTicksToLabels(r.ticks),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate()}},{key:"configure",value:function(){var t,e,n=this,r=n.options.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,r=!r),n._startPixel=t,n._endPixel=e,n._reversePixels=r,n._length=e-t,n._alignToPixels=n.options.alignToPixels}},{key:"afterUpdate",value:function(){C(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){C(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}},{key:"afterSetDimensions",value:function(){C(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(t){var e=this;e.chart.notifyPlugins(t,e.getContext()),C(e.options[t],[e])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){C(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(t){var e,n,r,i=this.options.ticks;for(e=0,n=t.length;e<n;e++)(r=t[e]).label=C(i.callback,[r.value,e,t],this)}},{key:"afterTickToLabelConversion",value:function(){C(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){C(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var t,e,n,r=this,i=r.options,o=i.ticks,a=r.ticks.length,s=o.minRotation||0,l=o.maxRotation,u=s;if(!r._isVisible()||!o.display||s>=l||a<=1||!r.isHorizontal())r.labelRotation=s;else{var c=r._getLabelSizes(),h=c.widest.width,f=c.highest.height,p=ht(r.chart.width-h,0,r.maxWidth);h+6>(t=i.offset?r.maxWidth/a:p/(a-1))&&(t=p/(a-(i.offset?.5:1)),e=r.maxHeight-ni(i.grid)-o.padding-ri(i.title,r.chart.options.font),n=Math.sqrt(h*h+f*f),u=ot(Math.min(Math.asin(ht((c.highest.height+6)/t,-1,1)),Math.asin(ht(e/n,-1,1))-Math.asin(ht(f/n,-1,1)))),u=Math.max(s,Math.min(l,u))),r.labelRotation=u}}},{key:"afterCalculateLabelRotation",value:function(){C(this.options.afterCalculateLabelRotation,[this])}},{key:"beforeFit",value:function(){C(this.options.beforeFit,[this])}},{key:"fit",value:function(){var t=this,e={width:0,height:0},n=t.chart,r=t.options,i=r.ticks,o=r.title,a=r.grid,s=t._isVisible(),l=t.isHorizontal();if(s){var u=ri(o,n.options.font);if(l?(e.width=t.maxWidth,e.height=ni(a)+u):(e.height=t.maxHeight,e.width=ni(a)+u),i.display&&t.ticks.length){var c=t._getLabelSizes(),h=c.first,f=c.last,p=c.widest,d=c.highest,v=2*i.padding,g=it(t.labelRotation),y=Math.cos(g),m=Math.sin(g);if(l){var b=i.mirror?0:m*p.width+y*d.height;e.height=Math.min(t.maxHeight,e.height+b+v)}else{var _=i.mirror?0:y*p.width+m*d.height;e.width=Math.min(t.maxWidth,e.width+_+v)}t._calculatePadding(h,f,m,y)}}t._handleMargins(),l?(t.width=t._length=n.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t._margins.top-t._margins.bottom)}},{key:"_calculatePadding",value:function(t,e,n,r){var i=this,o=i.options,a=o.ticks,s=a.align,l=a.padding,u=o.position,c=0!==i.labelRotation,h="top"!==u&&"x"===i.axis;if(i.isHorizontal()){var f=i.getPixelForTick(0)-i.left,p=i.right-i.getPixelForTick(i.ticks.length-1),d=0,v=0;c?h?(d=r*t.width,v=n*e.height):(d=n*t.height,v=r*e.width):"start"===s?v=e.width:"end"===s?d=t.width:(d=t.width/2,v=e.width/2),i.paddingLeft=Math.max((d-f+l)*i.width/(i.width-f),0),i.paddingRight=Math.max((v-p+l)*i.width/(i.width-p),0)}else{var g=e.height/2,y=t.height/2;"start"===s?(g=0,y=t.height):"end"===s&&(g=e.height,y=0),i.paddingTop=g+l,i.paddingBottom=y+l}}},{key:"_handleMargins",value:function(){var t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}},{key:"afterFit",value:function(){C(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var t=this.options,e=t.axis,n=t.position;return"top"===n||"bottom"===n||"x"===e}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(t){var e,n,r=this;for(r.beforeTickToLabelConversion(),r.generateTickLabels(t),e=0,n=t.length;e<n;e++)k(t[e].label)&&(t.splice(e,1),n--,e--);r.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var t=this,e=t._labelSizes;if(!e){var n=t.options.ticks.sampleSize,r=t.ticks;n<r.length&&(r=ti(r,n)),t._labelSizes=e=t._computeLabelSizes(r,r.length)}return e}},{key:"_computeLabelSizes",value:function(t,e){var n,r,i,o,a,s,l,u,c,h,f,p=this.ctx,d=this._longestTextCache,v=[],g=[],y=0,m=0;for(n=0;n<e;++n){if(o=t[n].label,a=this._resolveTickFontOptions(n),p.font=s=a.string,l=d[s]=d[s]||{data:{},gc:[]},u=a.lineHeight,c=h=0,k(o)||E(o)){if(E(o))for(r=0,i=o.length;r<i;++r)k(f=o[r])||E(f)||(c=ne(p,l.data,l.gc,c,f),h+=u)}else c=ne(p,l.data,l.gc,c,o),h=u;v.push(c),g.push(h),y=Math.max(c,y),m=Math.max(h,m)}!function(t,e){j(t,(function(t){var n,r=t.gc,i=r.length/2;if(i>e){for(n=0;n<i;++n)delete t.data[r[n]];r.splice(0,i)}}))}(d,e);var b=v.indexOf(y),_=g.indexOf(m),x=function(t){return{width:v[t]||0,height:g[t]||0}};return{first:x(0),last:x(e-1),widest:x(b),highest:x(_),widths:v,heights:g}}},{key:"getLabelForValue",value:function(t){return t}},{key:"getPixelForValue",value:function(t,e){return NaN}},{key:"getValueForPixel",value:function(t){}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getPixelForDecimal",value:function(t){var e=this;e._reversePixels&&(t=1-t);var n=e._startPixel+t*e._length;return ht(e._alignToPixels?ie(e.chart,n,0):n,-32768,32767)}},{key:"getDecimalForPixel",value:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var t=this.min,e=this.max;return t<0&&e<0?e:t>0&&e>0?t:0}},{key:"getContext",value:function(t){var e,n,r=this,i=r.ticks||[];if(t>=0&&t<i.length){var o=i[t];return o.$context||(o.$context=function(t,e,n){return Object.assign(Object.create(t),{tick:n,index:e,type:"tick"})}(r.getContext(),t,o))}return r.$context||(r.$context=(e=r.chart.getContext(),n=r,Object.assign(Object.create(e),{scale:n,type:"scale"})))}},{key:"_tickSize",value:function(){var t=this,e=t.options.ticks,n=it(t.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=t._getLabelSizes(),a=e.autoSkipPadding||0,s=o?o.widest.width+a:0,l=o?o.highest.height+a:0;return t.isHorizontal()?l*r>s*i?s/r:l/i:l*i<s*r?l/r:s/i}},{key:"_isVisible",value:function(){var t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(t){var e,n,r,i,o,a,s,l,u,c,h,f,p=this,d=p.axis,v=p.chart,g=p.options,y=g.grid,m=g.position,b=y.offset,_=p.isHorizontal(),x=p.ticks.length+(b?1:0),w=ni(y),k=[],E=y.setContext(p.getContext()),T=E.drawBorder?E.borderWidth:0,A=T/2,M=function(t){return ie(v,t,T)};if("top"===m)e=M(p.bottom),a=p.bottom-w,l=e-A,c=M(t.top)+A,f=t.bottom;else if("bottom"===m)e=M(p.top),c=t.top,f=M(t.bottom)-A,a=e+A,l=p.top+w;else if("left"===m)e=M(p.right),o=p.right-w,s=e-A,u=M(t.left)+A,h=t.right;else if("right"===m)e=M(p.left),u=t.left,h=M(t.right)-A,o=e+A,s=p.left+w;else if("x"===d){if("center"===m)e=M((t.top+t.bottom)/2+.5);else if(S(m)){var C=Object.keys(m)[0],j=m[C];e=M(p.chart.scales[C].getPixelForValue(j))}c=t.top,f=t.bottom,l=(a=e+A)+w}else if("y"===d){if("center"===m)e=M((t.left+t.right)/2);else if(S(m)){var I=Object.keys(m)[0],P=m[I];e=M(p.chart.scales[I].getPixelForValue(P))}s=(o=e-A)-w,u=t.left,h=t.right}var R=O(g.ticks.maxTicksLimit,x),L=Math.max(1,Math.ceil(x/R));for(n=0;n<x;n+=L){var N=y.setContext(p.getContext(n)),D=N.lineWidth,z=N.color,F=y.borderDash||[],B=N.borderDashOffset,H=N.tickWidth,U=N.tickColor,V=N.tickBorderDash||[],G=N.tickBorderDashOffset;void 0!==(r=ei(p,n,b))&&(i=ie(v,r,D),_?o=s=u=h=i:a=l=c=f=i,k.push({tx1:o,ty1:a,tx2:s,ty2:l,x1:u,y1:c,x2:h,y2:f,width:D,color:z,borderDash:F,borderDashOffset:B,tickWidth:H,tickColor:U,tickBorderDash:V,tickBorderDashOffset:G}))}return p._ticksLength=x,p._borderValue=e,k}},{key:"_computeLabelItems",value:function(t){var e,n,r,i,o,a,s,l,u,c,h,f=this,p=f.axis,d=f.options,v=d.position,g=d.ticks,y=f.isHorizontal(),m=f.ticks,b=g.align,_=g.crossAlign,x=g.padding,w=g.mirror,k=ni(d.grid),T=k+x,A=w?-x:T,O=-it(f.labelRotation),M=[],C="middle";if("top"===v)o=f.bottom-A,a=f._getXAxisLabelAlignment();else if("bottom"===v)o=f.top+A,a=f._getXAxisLabelAlignment();else if("left"===v){var j=f._getYAxisLabelAlignment(k);a=j.textAlign,i=j.x}else if("right"===v){var I=f._getYAxisLabelAlignment(k);a=I.textAlign,i=I.x}else if("x"===p){if("center"===v)o=(t.top+t.bottom)/2+T;else if(S(v)){var P=Object.keys(v)[0],R=v[P];o=f.chart.scales[P].getPixelForValue(R)+T}a=f._getXAxisLabelAlignment()}else if("y"===p){if("center"===v)i=(t.left+t.right)/2-T;else if(S(v)){var L=Object.keys(v)[0],N=v[L];i=f.chart.scales[L].getPixelForValue(N)}a=f._getYAxisLabelAlignment(k).textAlign}"y"===p&&("start"===b?C="top":"end"===b&&(C="bottom"));var D=f._getLabelSizes();for(e=0,n=m.length;e<n;++e){r=m[e].label;var z=g.setContext(f.getContext(e));s=f.getPixelForTick(e)+g.labelOffset,u=(l=f._resolveTickFontOptions(e)).lineHeight;var F=(c=E(r)?r.length:1)/2,B=z.color,H=z.textStrokeColor,U=z.textStrokeWidth;y?(i=s,h="top"===v?"near"===_||0!==O?-c*u+u/2:"center"===_?-D.highest.height/2-F*u+u:-D.highest.height+u/2:"near"===_||0!==O?u/2:"center"===_?D.highest.height/2-F*u:D.highest.height-c*u,w&&(h*=-1)):(o=s,h=(1-c)*u/2);var V=void 0;if(z.showLabelBackdrop){var G=we(z.backdropPadding),q=D.heights[e],Y=D.widths[e],W=o+h-G.top,Z=i-G.left;switch(C){case"middle":W-=q/2;break;case"bottom":W-=q}switch(a){case"center":Z-=Y/2;break;case"right":Z-=Y}V={left:Z,top:W,width:Y+G.width,height:q+G.height,color:z.backdropColor}}M.push({rotation:O,label:r,font:l,color:B,strokeColor:H,strokeWidth:U,textOffset:h,textAlign:a,textBaseline:C,translation:[i,o],backdrop:V})}return M}},{key:"_getXAxisLabelAlignment",value:function(){var t=this.options,e=t.position,n=t.ticks;if(-it(this.labelRotation))return"top"===e?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align&&(r="right"),r}},{key:"_getYAxisLabelAlignment",value:function(t){var e,n,r=this,i=r.options,o=i.position,a=i.ticks,s=a.crossAlign,l=a.mirror,u=a.padding,c=t+u,h=r._getLabelSizes().widest.width;return"left"===o?l?(e="left",n=r.right+u):(n=r.right-c,"near"===s?e="right":"center"===s?(e="center",n-=h/2):(e="left",n=r.left)):"right"===o?l?(e="right",n=r.left+u):(n=r.left+c,"near"===s?e="left":"center"===s?(e="center",n+=h/2):(e="right",n=r.right)):e="right",{textAlign:e,x:n}}},{key:"_computeLabelArea",value:function(){var t=this;if(!t.options.ticks.mirror){var e=t.chart,n=t.options.position;return"left"===n||"right"===n?{top:0,left:t.left,bottom:e.height,right:t.right}:"top"===n||"bottom"===n?{top:t.top,left:0,bottom:t.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var t=this.ctx,e=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,o=this.height;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}},{key:"getLineWidthForValue",value:function(t){var e=this,n=e.options.grid;if(!e._isVisible()||!n.display)return 0;var r=e.ticks.findIndex((function(e){return e.value===t}));return r>=0?n.setContext(e.getContext(r)).lineWidth:0}},{key:"drawGrid",value:function(t){var e,n,r=this,i=r.options.grid,o=r.ctx,a=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(t)),s=function(t,e,n){n.width&&n.color&&(o.save(),o.lineWidth=n.width,o.strokeStyle=n.color,o.setLineDash(n.borderDash||[]),o.lineDashOffset=n.borderDashOffset,o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(e.x,e.y),o.stroke(),o.restore())};if(i.display)for(e=0,n=a.length;e<n;++e){var l=a[e];i.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var t=this,e=t.chart,n=t.ctx,r=t.options.grid,i=r.setContext(t.getContext()),o=r.drawBorder?i.borderWidth:0;if(o){var a,s,l,u,c=r.setContext(t.getContext(0)).lineWidth,h=t._borderValue;t.isHorizontal()?(a=ie(e,t.left,o)-o/2,s=ie(e,t.right,c)+c/2,l=u=h):(l=ie(e,t.top,o)-o/2,u=ie(e,t.bottom,c)+c/2,a=s=h),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(a,l),n.lineTo(s,u),n.stroke(),n.restore()}}},{key:"drawLabels",value:function(t){var e=this;if(e.options.ticks.display){var n=e.ctx,r=e._computeLabelArea();r&&le(n,r);var i,o,a=e._labelItems||(e._labelItems=e._computeLabelItems(t));for(i=0,o=a.length;i<o;++i){var s=a[i],l=s.font,u=s.label;s.backdrop&&(n.fillStyle=s.backdrop.color,n.fillRect(s.backdrop.left,s.backdrop.top,s.backdrop.width,s.backdrop.height)),fe(n,u,0,s.textOffset,l,s)}r&&ue(n)}}},{key:"drawTitle",value:function(){var t=this.ctx,e=this.options,n=e.position,r=e.title,i=e.reverse;if(r.display){var o=ke(r.font),a=we(r.padding),s=r.align,l=o.lineHeight/2;"bottom"===n||"center"===n||S(n)?(l+=a.bottom,E(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=a.top;var u=function(t,e,n,r){var i,o,a,s=t.top,l=t.left,u=t.bottom,c=t.right,h=t.chart,f=h.chartArea,p=h.scales,d=0,v=u-s,g=c-l;if(t.isHorizontal()){if(o=_(r,l,c),S(n)){var y=Object.keys(n)[0],m=n[y];a=p[y].getPixelForValue(m)+v-e}else a="center"===n?(f.bottom+f.top)/2+v-e:Qr(t,n,e);i=c-l}else{if(S(n)){var b=Object.keys(n)[0],x=n[b];o=p[b].getPixelForValue(x)-g+e}else o="center"===n?(f.left+f.right)/2-g+e:Qr(t,n,e);a=_(r,u,s),d="left"===n?-X:X}return{titleX:o,titleY:a,maxWidth:i,rotation:d}}(this,l,n,s),c=u.titleX,h=u.titleY,f=u.maxWidth,p=u.rotation;fe(t,r.text,0,0,o,{color:r.color,maxWidth:f,rotation:p,textAlign:ii(s,n,i),textBaseline:"middle",translation:[c,h]})}}},{key:"draw",value:function(t){var e=this;e._isVisible()&&(e.drawBackground(),e.drawGrid(t),e.drawBorder(),e.drawTitle(),e.drawLabels(t))}},{key:"_layers",value:function(){var t=this,e=t.options,r=e.ticks&&e.ticks.z||0,i=O(e.grid&&e.grid.z,-1);return t._isVisible()&&t.draw===n.prototype.draw?[{z:i,draw:function(e){t.drawBackground(),t.drawGrid(e),t.drawTitle()}},{z:i+1,draw:function(){t.drawBorder()}},{z:r,draw:function(e){t.drawLabels(e)}}]:[{z:r,draw:function(e){t.draw(e)}}]}},{key:"getMatchingVisibleMetas",value:function(t){var e,n,r=this,i=r.chart.getSortedVisibleDatasetMetas(),o=r.axis+"AxisID",a=[];for(e=0,n=i.length;e<n;++e){var s=i[e];s[o]!==r.id||t&&s.type!==t||a.push(s)}return a}},{key:"_resolveTickFontOptions",value:function(t){return ke(this.options.ticks.setContext(this.getContext(t)).font)}},{key:"_maxDigits",value:function(){var t=this,e=t._resolveTickFontOptions(0).lineHeight;return(t.isHorizontal()?t.width:t.height)/e}}]),n}(Zr),ai=function(){function t(e,n,r){Object(v.a)(this,t),this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}return Object(g.a)(t,[{key:"isForType",value:function(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}},{key:"register",value:function(t){var e,n=this,r=Object.getPrototypeOf(t);(function(t){return"id"in t&&"defaults"in t})(r)&&(e=n.register(r));var i=n.items,o=t.id,a=n.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,function(t,e,n){var r=N(Object.create(null),[n?ee.get(n):{},ee.get(e),t.defaults]);ee.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((function(n){var r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),l=a.join(".");ee.route(o,i,l,s)}))}(e,t.defaultRoutes);t.descriptors&&ee.describe(e,t.descriptors)}(t,a,e),n.override&&ee.override(t.id,t.overrides)),a}},{key:"get",value:function(t){return this.items[t]}},{key:"unregister",value:function(t){var e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in ee[r]&&(delete ee[r][n],this.override&&delete $t[n])}}]),t}();var si=new(function(){function t(){Object(v.a)(this,t),this.controllers=new ai(Gn,"datasets",!0),this.elements=new ai(Zr,"elements"),this.plugins=new ai(Object,"plugins"),this.scales=new ai(oi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return Object(g.a)(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}},{key:"addControllers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}},{key:"addElements",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}},{key:"addPlugins",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}},{key:"addScales",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}},{key:"getController",value:function(t){return this._get(t,this.controllers,"controller")}},{key:"getElement",value:function(t){return this._get(t,this.elements,"element")}},{key:"getPlugin",value:function(t){return this._get(t,this.plugins,"plugin")}},{key:"getScale",value:function(t){return this._get(t,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}},{key:"removeElements",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}},{key:"removePlugins",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}},{key:"removeScales",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}},{key:"_each",value:function(t,e,n){var r=this;Object(o.a)(e).forEach((function(e){var i=n||r._getRegistryForType(e);n||i.isForType(e)||i===r.plugins&&e.id?r._exec(t,i,e):j(e,(function(e){var i=n||r._getRegistryForType(e);r._exec(t,i,e)}))}))}},{key:"_exec",value:function(t,e,n){var r=H(t);C(n["before"+r],[],n),e[t](n),C(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(t){for(var e=0;e<this._typedRegistries.length;e++){var n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}},{key:"_get",value:function(t,e,n){var r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}]),t}()),li=function(){function t(){Object(v.a)(this,t),this._init=[]}return Object(g.a)(t,[{key:"notify",value:function(t,e,n,r){var i=this;"beforeInit"===e&&(i._init=i._createDescriptors(t,!0),i._notify(i._init,t,"install"));var o=r?i._descriptors(t).filter(r):i._descriptors(t),a=i._notify(o,t,e,n);return"destroy"===e&&(i._notify(o,t,"stop"),i._notify(i._init,t,"uninstall")),a}},{key:"_notify",value:function(t,e,n,r){r=r||{};var i,o=Object(d.a)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.plugin;if(!1===C(s[n],[e,r,a.options],s)&&r.cancelable)return!1}}catch(l){o.e(l)}finally{o.f()}return!0}},{key:"invalidate",value:function(){k(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(t){if(this._cache)return this._cache;var e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}},{key:"_createDescriptors",value:function(t,e){var n=t&&t.config,r=O(n.options&&n.options.plugins,{}),i=function(t){for(var e=[],n=Object.keys(si.plugins.items),r=0;r<n.length;r++)e.push(si.getPlugin(n[r]));for(var i=t.plugins||[],o=0;o<i.length;o++){var a=i[o];-1===e.indexOf(a)&&e.push(a)}return e}(n);return!1!==r||e?function(t,e,n,r){for(var i=[],o=t.getContext(),a=0;a<e.length;a++){var s=e[a],l=ui(n[s.id],r);null!==l&&i.push({plugin:s,options:ci(t.config,s,l,o)})}return i}(t,i,r,e):[]}},{key:"_notifyStateChanges",value:function(t){var e=this._oldCache||[],n=this._cache,r=function(t,e){return t.filter((function(t){return!e.some((function(e){return t.plugin.id===e.plugin.id}))}))};this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}]),t}();function ui(t,e){return e||!1!==t?!0===t?{}:t:null}function ci(t,e,n,r){var i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hi(t,e){var n=ee.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function fi(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function pi(t){var e=t.options||(t.options={});e.plugins=O(e.plugins,{}),e.scales=function(t,e){var n=$t[t.type]||{scales:{}},r=e.scales||{},i=hi(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach((function(t){var e=r[t],s=fi(t,e),l=function(t,e){return t===e?"_index_":"_value_"}(s,i),u=n.scales||{};o[s]=o[s]||t,a[t]=D(Object.create(null),[{axis:s},e,u[s],u[l]])})),t.data.datasets.forEach((function(n){var i=n.type||t.type,s=n.indexAxis||hi(i,e),l=($t[i]||{}).scales||{};Object.keys(l).forEach((function(t){var e=function(t,e){var n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),i=n[e+"AxisID"]||o[e]||e;a[i]=a[i]||Object.create(null),D(a[i],[{axis:e},r[i],l[t]])}))})),Object.keys(a).forEach((function(t){var e=a[t];D(e,[ee.scales[e.type],ee.scale])})),a}(t,e)}function di(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}var vi=new Map,gi=new Set;function yi(t,e){var n=vi.get(t);return n||(n=e(),vi.set(t,n),gi.add(n)),n}var mi=function(t,e,n){var r=B(e,n);void 0!==r&&t.add(r)},bi=function(){function t(e){Object(v.a)(this,t),this._config=function(t){return(t=t||{}).data=di(t.data),pi(t),t}(e),this._scopeCache=new Map,this._resolverCache=new Map}return Object(g.a)(t,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(t){this._config.type=t}},{key:"data",get:function(){return this._config.data},set:function(t){this._config.data=di(t)}},{key:"options",get:function(){return this._config.options},set:function(t){this._config.options=t}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var t=this._config;this.clearCache(),pi(t)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(t){return yi(t,(function(){return[["datasets.".concat(t),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(t,e){return yi("".concat(t,".transition.").concat(e),(function(){return[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]}))}},{key:"datasetElementScopeKeys",value:function(t,e){return yi("".concat(t,"-").concat(e),(function(){return[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]}))}},{key:"pluginScopeKeys",value:function(t){var e=t.id,n=this.type;return yi("".concat(n,"-plugin-").concat(e),(function(){return[["plugins.".concat(e)].concat(Object(o.a)(t.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(t,e){var n=this._scopeCache,r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}},{key:"getOptionScopes",value:function(t,e,n){var r=this.options,i=this.type,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;var s=new Set;e.forEach((function(e){t&&(s.add(t),e.forEach((function(e){return mi(s,t,e)}))),e.forEach((function(t){return mi(s,r,t)})),e.forEach((function(t){return mi(s,$t[i]||{},t)})),e.forEach((function(t){return mi(s,ee,t)})),e.forEach((function(t){return mi(s,Jt,t)}))}));var l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),gi.has(e)&&o.set(e,l),l}},{key:"chartOptionScopes",value:function(){var t=this.options,e=this.type;return[t,$t[e]||{},ee.datasets[e]||{},{type:e},ee,Jt]}},{key:"resolveNamedOptions",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},o=_i(this._resolverCache,t,r),a=o.resolver,s=o.subPrefixes,l=a;if(xi(a,e)){i.$shared=!1,n=V(n)?n():n;var u=this.createResolver(t,n,s);l=Ie(a,n,u)}var c,h=Object(d.a)(e);try{for(h.s();!(c=h.n()).done;){var f=c.value;i[f]=l[f]}}catch(p){h.e(p)}finally{h.f()}return i}},{key:"createResolver",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=_i(this._resolverCache,t,n),o=i.resolver;return S(e)?Ie(o,e,void 0,r):o}}]),t}();function _i(t,e,n){var r=t.get(e);r||(r=new Map,t.set(e,r));var i=n.join(),o=r.get(i);o||(o={resolver:je(e,n),subPrefixes:n.filter((function(t){return!t.toLowerCase().includes("hover")}))},r.set(i,o));return o}function xi(t,e){var n,r=Pe(t),i=r.isScriptable,o=r.isIndexable,a=Object(d.a)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(i(s)&&V(t[s])||o(s)&&E(t[s]))return!0}}catch(l){a.e(l)}finally{a.f()}return!1}var wi=["top","bottom","left","right","chartArea"];function ki(t,e){return"top"===t||"bottom"===t||-1===wi.indexOf(t)&&"x"===e}function Ei(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Si(t){var e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),C(n&&n.onComplete,[t],e)}function Ti(t){var e=t.chart,n=e.options.animation;C(n&&n.onProgress,[t],e)}function Ai(t){return Qe()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Oi={},Mi=function(t){var e=Ai(t);return Object.values(Oi).filter((function(t){return t.canvas===e})).pop()},Ci=function(){function t(e,n){var r=this;Object(v.a)(this,t);var i=this,o=this.config=new bi(n),a=Ai(e),s=Mi(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");var l=o.createResolver(o.chartOptionScopes(),i.getContext());this.platform=new(o.platform||function(t){return!Qe()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Rr:Wr}(a));var u=i.platform.acquireContext(a,l.aspectRatio),c=u&&u.canvas,h=c&&c.height,f=c&&c.width;this.id=w(),this.ctx=u,this.canvas=c,this.width=f,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new li,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){var n;return function(){return e?(clearTimeout(n),n=setTimeout(t,e)):t(),e}}((function(){return r.update("resize")}),l.resizeDelay||0),Oi[i.id]=i,u&&c?(An.listen(i,"complete",Si),An.listen(i,"progress",Ti),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}return Object(g.a)(t,[{key:"aspectRatio",get:function(){var t=this.options,e=t.aspectRatio,n=t.maintainAspectRatio,r=this.width,i=this.height,o=this._aspectRatio;return k(e)?n&&o?o:i?r/i:null:e}},{key:"data",get:function(){return this.config.data},set:function(t){this.config.data=t}},{key:"options",get:function(){return this._options},set:function(t){this.config.options=t}},{key:"_initialize",value:function(){var t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():un(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}},{key:"clear",value:function(){return oe(this.canvas,this.ctx),this}},{key:"stop",value:function(){return An.stop(this),this}},{key:"resize",value:function(t,e){An.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}},{key:"_resize",value:function(t,e){var n=this,r=n.options,i=n.canvas,o=r.maintainAspectRatio&&n.aspectRatio,a=n.platform.getMaximumSize(i,t,e,o),s=r.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=a.width,n.height=a.height,n._aspectRatio=n.aspectRatio,un(n,s,!0)&&(n.notifyPlugins("resize",{size:a}),C(r.onResize,[n,a],n),n.attached&&n._doResize()&&n.render())}},{key:"ensureScalesHaveIDs",value:function(){j(this.options.scales||{},(function(t,e){t.id=e}))}},{key:"buildOrUpdateScales",value:function(){var t=this,e=t.options,n=e.scales,r=t.scales,i=Object.keys(r).reduce((function(t,e){return t[e]=!1,t}),{}),o=[];n&&(o=o.concat(Object.keys(n).map((function(t){var e=n[t],r=fi(t,e),i="r"===r,o="x"===r;return{options:e,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),j(o,(function(n){var o=n.options,a=o.id,s=fi(a,o),l=O(o.type,n.dtype);void 0!==o.position&&ki(o.position,s)===ki(n.dposition)||(o.position=n.dposition),i[a]=!0;var u=null;a in r&&r[a].type===l?u=r[a]:(u=new(si.getScale(l))({id:a,type:l,ctx:t.ctx,chart:t}),r[u.id]=u);u.init(o,e)})),j(i,(function(t,e){t||delete r[e]})),j(r,(function(e){jr(t,e,e.options),Mr(t,e)}))}},{key:"_updateMetasets",value:function(){var t=this,e=t._metasets,n=t.data.datasets.length,r=e.length;if(e.sort((function(t,e){return t.index-e.index})),r>n){for(var i=n;i<r;++i)t._destroyDatasetMeta(i);e.splice(n,r-n)}t._sortedMetasets=e.slice(0).sort(Ei("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var t=this,e=t._metasets,n=t.data.datasets;e.length>n.length&&delete t._stacks,e.forEach((function(e,r){0===n.filter((function(t){return t===e._dataset})).length&&t._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var t,e,n=this,r=[],i=n.data.datasets;for(n._removeUnreferencedMetasets(),t=0,e=i.length;t<e;t++){var o=i[t],a=n.getDatasetMeta(t),s=o.type||n.config.type;if(a.type&&a.type!==s&&(n._destroyDatasetMeta(t),a=n.getDatasetMeta(t)),a.type=s,a.indexAxis=o.indexAxis||hi(s,n.options),a.order=o.order||0,a.index=t,a.label=""+o.label,a.visible=n.isDatasetVisible(t),a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{var l=si.getController(s),u=ee.datasets[s],c=u.datasetElementType,h=u.dataElementType;Object.assign(l.prototype,{dataElementType:si.getElement(h),datasetElementType:c&&si.getElement(c)}),a.controller=new l(n,t),r.push(a.controller)}}return n._updateMetasets(),r}},{key:"_resetElements",value:function(){var t=this;j(t.data.datasets,(function(e,n){t.getDatasetMeta(n).controller.reset()}),t)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(t){var e=this,n=e.config;n.update(),e._options=n.createResolver(n.chartOptionScopes(),e.getContext()),j(e.scales,(function(t){Cr(e,t)}));var r=e._animationsDisabled=!e.options.animation;if(e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),function(t,e){if(t.size!==e.size)return!1;var n,r=Object(d.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!e.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(new Set(Object.keys(e._listeners)),new Set(e.options.events))&&!!this._responsiveListeners===e.options.responsive||(e.unbindEvents(),e.bindEvents()),e._plugins.invalidate(),!1!==e.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){var i=e.buildOrUpdateControllers();e.notifyPlugins("beforeElementsUpdate");for(var o=0,a=0,s=e.data.datasets.length;a<s;a++){var l=e.getDatasetMeta(a).controller,u=!r&&-1===i.indexOf(l);l.buildOrUpdateElements(u),o=Math.max(+l.getMaxOverflow(),o)}e._minPadding=o,e._updateLayout(o),r||j(i,(function(t){t.reset()})),e._updateDatasets(t),e.notifyPlugins("afterUpdate",{mode:t}),e._layers.sort(Ei("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render()}}},{key:"_updateLayout",value:function(t){var e=this;if(!1!==e.notifyPlugins("beforeLayout",{cancelable:!0})){Ir(e,e.width,e.height,t);var n=e.chartArea,r=n.width<=0||n.height<=0;e._layers=[],j(e.boxes,(function(t){var n;r&&"chartArea"===t.position||(t.configure&&t.configure(),(n=e._layers).push.apply(n,Object(o.a)(t._layers())))}),e),e._layers.forEach((function(t,e){t._idx=e})),e.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(t){var e=this,n="function"===typeof t;if(!1!==e.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(var r=0,i=e.data.datasets.length;r<i;++r)e._updateDataset(r,n?t({datasetIndex:r}):t);e.notifyPlugins("afterDatasetsUpdate",{mode:t})}}},{key:"_updateDataset",value:function(t,e){var n=this,r=n.getDatasetMeta(t),i={meta:r,index:t,mode:e,cancelable:!0};!1!==n.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(e),i.cancelable=!1,n.notifyPlugins("afterDatasetUpdate",i))}},{key:"render",value:function(){var t=this;!1!==t.notifyPlugins("beforeRender",{cancelable:!0})&&(An.has(t)?t.attached&&!An.running(t)&&An.start(t):(t.draw(),Si({chart:t})))}},{key:"draw",value:function(){var t,e=this;if(e._resizeBeforeDraw){var n=e._resizeBeforeDraw,r=n.width,i=n.height;e._resize(r,i),e._resizeBeforeDraw=null}if(e.clear(),!(e.width<=0||e.height<=0)&&!1!==e.notifyPlugins("beforeDraw",{cancelable:!0})){var o=e._layers;for(t=0;t<o.length&&o[t].z<=0;++t)o[t].draw(e.chartArea);for(e._drawDatasets();t<o.length;++t)o[t].draw(e.chartArea);e.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(t){var e,n,r=this._sortedMetasets,i=[];for(e=0,n=r.length;e<n;++e){var o=r[e];t&&!o.visible||i.push(o)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){var t=this;if(!1!==t.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=t.getSortedVisibleDatasetMetas(),n=e.length-1;n>=0;--n)t._drawDataset(e[n]);t.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(t){var e=this,n=e.ctx,r=t._clip,i=!r.disabled,o=e.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==e.notifyPlugins("beforeDatasetDraw",a)&&(i&&le(n,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?e.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?e.height:o.bottom+r.bottom}),t.controller.draw(),i&&ue(n),a.cancelable=!1,e.notifyPlugins("afterDatasetDraw",a))}},{key:"getElementsAtEventForMode",value:function(t,e,n,r){var i=gr.modes[e];return"function"===typeof i?i(this,t,n,r):[]}},{key:"getDatasetMeta",value:function(t){var e=this.data.datasets[t],n=this._metasets,r=n.filter((function(t){return t&&t._dataset===e})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context={chart:this,type:"chart"})}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(t){var e=this.data.datasets[t];if(!e)return!1;var n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}},{key:"setDatasetVisibility",value:function(t,e){this.getDatasetMeta(t).hidden=!e}},{key:"toggleDataVisibility",value:function(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}},{key:"getDataVisibility",value:function(t){return!this._hiddenIndices[t]}},{key:"_updateVisibility",value:function(t,e,n){var r=this,i=n?"show":"hide",o=r.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,i);U(e)?(o.data[e].hidden=!n,r.update()):(r.setDatasetVisibility(t,n),a.update(o,{visible:n}),r.update((function(e){return e.datasetIndex===t?i:void 0})))}},{key:"hide",value:function(t,e){this._updateVisibility(t,e,!1)}},{key:"show",value:function(t,e){this._updateVisibility(t,e,!0)}},{key:"_destroyDatasetMeta",value:function(t){var e=this,n=e._metasets&&e._metasets[t];n&&n.controller&&(n.controller._destroy(),delete e._metasets[t])}},{key:"destroy",value:function(){var t,e,n=this,r=n.canvas,i=n.ctx;for(n.stop(),An.remove(n),t=0,e=n.data.datasets.length;t<e;++t)n._destroyDatasetMeta(t);n.config.clearCache(),r&&(n.unbindEvents(),oe(r,i),n.platform.releaseContext(i),n.canvas=null,n.ctx=null),n.notifyPlugins("destroy"),delete Oi[n.id]}},{key:"toBase64Image",value:function(){var t;return(t=this.canvas).toDataURL.apply(t,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var t=this,e=t._listeners,n=t.platform,r=function(e,n,r){e.offsetX=n,e.offsetY=r,t._eventHandler(e)};j(t.options.events,(function(i){return function(r,i){n.addEventListener(t,r,i),e[r]=i}(i,r)}))}},{key:"bindResponsiveEvents",value:function(){var t=this;t._responsiveListeners||(t._responsiveListeners={});var e,n=t._responsiveListeners,r=t.platform,i=function(e,i){r.addEventListener(t,e,i),n[e]=i},o=function(e,i){n[e]&&(r.removeEventListener(t,e,i),delete n[e])},a=function(e,n){t.canvas&&t.resize(e,n)},s=function n(){o("attach",n),t.attached=!0,t.resize(),i("resize",a),i("detach",e)};e=function(){t.attached=!1,o("resize",a),i("attach",s)},r.isAttached(t.canvas)?s():e()}},{key:"unbindEvents",value:function(){var t=this;j(t._listeners,(function(e,n){t.platform.removeEventListener(t,n,e)})),t._listeners={},j(t._responsiveListeners,(function(e,n){t.platform.removeEventListener(t,n,e)})),t._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(t,e,n){var r,i,o,a=n?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),i=0,o=t.length;i<o;++i){var s=(r=t[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t){var e=this,n=e._active||[],r=t.map((function(t){var n=t.datasetIndex,r=t.index,i=e.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}}));!I(r,n)&&(e._active=r,e._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(t,e,n){return this._plugins.notify(this,t,e,n)}},{key:"_updateHoverStyles",value:function(t,e,n){var r=this,i=r.options.hover,o=function(t,e){return t.filter((function(t){return!e.some((function(e){return t.datasetIndex===e.datasetIndex&&t.index===e.index}))}))},a=o(e,t),s=n?t:o(t,e);a.length&&r.updateHoverStyle(a,i.mode,!1),s.length&&i.mode&&r.updateHoverStyle(s,i.mode,!0)}},{key:"_eventHandler",value:function(t,e){var n=this,r=this,i={event:t,replay:e,cancelable:!0},o=function(e){return(e.options.events||n.options.events).includes(t.type)};if(!1!==r.notifyPlugins("beforeEvent",i,o)){var a=r._handleEvent(t,e);return i.cancelable=!1,r.notifyPlugins("afterEvent",i,o),(a||i.changed)&&r.render(),r}}},{key:"_handleEvent",value:function(t,e){var n,r=this,i=r._active,o=void 0===i?[]:i,a=r.options,s=a.hover,l=e,u=[],c=null;return"mouseout"!==t.type&&(u=r.getElementsAtEventForMode(t,s.mode,s,l),c="click"===t.type?r._lastEvent:t),r._lastEvent=null,se(t,r.chartArea,r._minPadding)&&(C(a.onHover,[t,u,r],r),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||C(a.onClick,[t,u,r],r)),((n=!I(u,o))||e)&&(r._active=u,r._updateHoverStyles(u,o,e)),r._lastEvent=c,n}}]),t}(),ji=function(){return j(Ci.instances,(function(t){return t._plugins.invalidate()}))},Ii=!0;function Pi(t,e,n){var r=e.startAngle,i=e.pixelMargin,o=e.x,a=e.y,s=e.outerRadius,l=e.innerRadius,u=i/s;t.beginPath(),t.arc(o,a,s,r-u,n+u),l>i?(u=i/l,t.arc(o,a,l,n+u,r-u,!0)):t.arc(o,a,i,n+X,r-X),t.closePath(),t.clip()}function Ri(t,e,n,r){var i=be(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-e)/2,a=Math.min(o,r*e/2),s=function(t){var e=(n-Math.min(o,t))*r/2;return ht(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:ht(i.innerStart,0,a),innerEnd:ht(i.innerEnd,0,a)}}function Li(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ni(t,e,n,r,i){var o=e.x,a=e.y,s=e.startAngle,l=e.pixelMargin,u=e.innerRadius,c=Math.max(e.outerRadius+r+n-l,0),h=u>0?u+r+n+l:0,f=0,p=i-s;if(r){var d=((u>0?u-r:0)+(c>0?c-r:0))/2;f=(p-(0!==d?p*d/(d+r):p))/2}var v=(p-Math.max(.001,p*c-n/G)/c)/2,g=s+v+f,y=i-v-f,m=Ri(e,h,c,y-g),b=m.outerStart,_=m.outerEnd,x=m.innerStart,w=m.innerEnd,k=c-b,E=c-_,S=g+b/k,T=y-_/E,A=h+x,O=h+w,M=g+x/A,C=y-w/O;if(t.beginPath(),t.arc(o,a,c,S,T),_>0){var j=Li(E,T,o,a);t.arc(j.x,j.y,_,T,y+X)}var I=Li(O,y,o,a);if(t.lineTo(I.x,I.y),w>0){var P=Li(O,C,o,a);t.arc(P.x,P.y,w,y+X,C+Math.PI)}if(t.arc(o,a,h,y-w/h,g+x/h,!0),x>0){var R=Li(A,M,o,a);t.arc(R.x,R.y,x,M+Math.PI,g-X)}var L=Li(k,g,o,a);if(t.lineTo(L.x,L.y),b>0){var N=Li(k,S,o,a);t.arc(N.x,N.y,b,g-X,S)}t.closePath()}function Di(t,e,n,r,i){var o=e.options,a="inner"===o.borderAlign;o.borderWidth&&(a?(t.lineWidth=2*o.borderWidth,t.lineJoin="round"):(t.lineWidth=o.borderWidth,t.lineJoin="bevel"),e.fullCircles&&function(t,e,n){var r,i=e.x,o=e.y,a=e.startAngle,s=e.pixelMargin,l=e.fullCircles,u=Math.max(e.outerRadius-s,0),c=e.innerRadius+s;for(n&&Pi(t,e,a+q),t.beginPath(),t.arc(i,o,c,a+q,a,!0),r=0;r<l;++r)t.stroke();for(t.beginPath(),t.arc(i,o,u,a,a+q),r=0;r<l;++r)t.stroke()}(t,e,a),a&&Pi(t,e,i),Ni(t,e,n,r,i),t.stroke())}Object.defineProperties(Ci,{defaults:{enumerable:Ii,value:ee},instances:{enumerable:Ii,value:Oi},overrides:{enumerable:Ii,value:$t},registry:{enumerable:Ii,value:si},version:{enumerable:Ii,value:"3.5.0"},getChart:{enumerable:Ii,value:Mi},register:{enumerable:Ii,value:function(){si.add.apply(si,arguments),ji()}},unregister:{enumerable:Ii,value:function(){si.remove.apply(si,arguments),ji()}}});var zi=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,t&&Object.assign(Object(s.a)(r),t),r}return Object(g.a)(n,[{key:"inRange",value:function(t,e,n){var r=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*G&&(o+=q),{angle:o,distance:i}}(this.getProps(["x","y"],n),{x:t,y:e}),i=r.angle,o=r.distance,a=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=a.startAngle,l=a.endAngle,u=a.innerRadius,c=a.outerRadius,h=a.circumference,f=this.options.spacing/2;return(h>=q||ct(i,s,l))&&(o>=u+f&&o<=c+f)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),n=e.x,r=e.y,i=e.startAngle,o=e.endAngle,a=e.innerRadius,s=e.outerRadius,l=this.options,u=l.offset,c=(i+o)/2,h=(a+s+l.spacing+u)/2;return{x:n+Math.cos(c)*h,y:r+Math.sin(c)*h}}},{key:"tooltipPosition",value:function(t){return this.getCenterPoint(t)}},{key:"draw",value:function(t){var e=this,n=e.options,r=e.circumference,i=(n.offset||0)/2,o=(n.spacing||0)/2;if(e.pixelMargin="inner"===n.borderAlign?.33:0,e.fullCircles=r>q?Math.floor(r/q):0,!(0===r||e.innerRadius<0||e.outerRadius<0)){t.save();var a=0;if(i){a=i/2;var s=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(s)*a,Math.sin(s)*a),e.circumference>=G&&(a=i)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;var l=function(t,e,n,r){var i=e.fullCircles,o=e.startAngle,a=e.circumference,s=e.endAngle;if(i){Ni(t,e,n,r,o+q);for(var l=0;l<i;++l)t.fill();isNaN(a)||(s=o+a%q,a%q===0&&(s+=q))}return Ni(t,e,n,r,s),t.fill(),s}(t,e,a,o);Di(t,e,a,o,l),t.restore()}}}]),n}(Zr);function Fi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=O(n.borderCapStyle,e.borderCapStyle),t.setLineDash(O(n.borderDash,e.borderDash)),t.lineDashOffset=O(n.borderDashOffset,e.borderDashOffset),t.lineJoin=O(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=O(n.borderWidth,e.borderWidth),t.strokeStyle=O(n.borderColor,e.borderColor)}function Bi(t,e,n){t.lineTo(n.x,n.y)}function Hi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.length,i=n.start,o=void 0===i?0:i,a=n.end,s=void 0===a?r-1:a,l=e.start,u=e.end,c=Math.max(o,l),h=Math.min(s,u),f=o<l&&s<l||o>u&&s>u;return{count:r,start:c,loop:e.loop,ilen:h<c&&!f?r+h-c:h-c}}function Ui(t,e,n,r){var i,o,a,s=e.points,l=e.options,u=Hi(s,n,r),c=u.count,h=u.start,f=u.loop,p=u.ilen,d=function(t){return t.stepped?ce:t.tension||"monotone"===t.cubicInterpolationMode?he:Bi}(l),v=r||{},g=v.move,y=void 0===g||g,m=v.reverse;for(i=0;i<=p;++i)(o=s[(h+(m?p-i:i))%c]).skip||(y?(t.moveTo(o.x,o.y),y=!1):d(t,a,o,m,l.stepped),a=o);return f&&d(t,a,o=s[(h+(m?p:0))%c],m,l.stepped),!!f}function Vi(t,e,n,r){var i,o,a,s,l,u,c=e.points,h=Hi(c,n,r),f=h.count,p=h.start,d=h.ilen,v=r||{},g=v.move,y=void 0===g||g,m=v.reverse,b=0,_=0,x=function(t){return(p+(m?d-t:t))%f},w=function(){s!==l&&(t.lineTo(b,l),t.lineTo(b,s),t.lineTo(b,u))};for(y&&(o=c[x(0)],t.moveTo(o.x,o.y)),i=0;i<=d;++i)if(!(o=c[x(i)]).skip){var k=o.x,E=o.y,S=0|k;S===a?(E<s?s=E:E>l&&(l=E),b=(_*b+k)/++_):(w(),t.lineTo(k,E),a=S,_=0,s=l=E),u=E}w()}function Gi(t){var e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Vi:Ui}zi.id="arc",zi.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},zi.defaultRoutes={backgroundColor:"backgroundColor"};var qi="function"===typeof Path2D;function Yi(t,e,n,r){qi&&1===e.segments.length?function(t,e,n,r){var i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Fi(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){var i,o=e.segments,a=e.options,s=Gi(e),l=Object(d.a)(o);try{for(l.s();!(i=l.n()).done;){var u=i.value;Fi(t,a,u.style),t.beginPath(),s(t,e,u,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}}catch(c){l.e(c)}finally{l.f()}}(t,e,n,r)}var Wi=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).animated=!0,r.options=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,t&&Object.assign(Object(s.a)(r),t),r}return Object(g.a)(n,[{key:"updateControlPoints",value:function(t,e){var n=this,r=n.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!n._pointsUpdated){var i=r.spanGaps?n._loop:n._fullLoop;Je(n._points,r,t,i,e),n._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(t){var e=this;e._points=t,delete e._segments,delete e._path,e._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(t,e){var n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];var o=!!t._loop,a=function(t,e,n,r){var i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return{start:i,end:o%=e}}(n,i,o,r),s=a.start,l=a.end;return En(t,!0===r?[{start:s,end:l,loop:o}]:function(t,e,n,r){var i,o=t.length,a=[],s=e,l=t[e];for(i=e+1;i<=n;++i){var u=t[i%o];u.skip||u.stop?l.skip||(r=!1,a.push({start:e%o,end:(i-1)%o,loop:r}),e=s=u.stop?i:null):(s=i,l.skip&&(e=i)),l=u}return null!==s&&a.push({start:e%o,end:s%o,loop:r}),a}(n,s,l<s?l+i:l,!!t._fullLoop&&0===s&&l===i-1),n,e)}(this,this.options.segment))}},{key:"first",value:function(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}},{key:"last",value:function(){var t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}},{key:"interpolate",value:function(t,e){var n=this,r=n.options,i=t[e],o=n.points,a=kn(n,{property:e,start:i,end:i});if(a.length){var s,l,u=[],c=function(t){return t.stepped?pn:t.tension||"monotone"===t.cubicInterpolationMode?dn:fn}(r);for(s=0,l=a.length;s<l;++s){var h=a[s],f=h.start,p=h.end,d=o[f],v=o[p];if(d!==v){var g=c(d,v,Math.abs((i-d[e])/(v[e]-d[e])),r.stepped);g[e]=t[e],u.push(g)}else u.push(d)}return 1===u.length?u[0]:u}}},{key:"pathSegment",value:function(t,e,n){return Gi(this)(t,this,e,n)}},{key:"path",value:function(t,e,n){var r=this,i=r.segments,o=Gi(r),a=r._loop;e=e||0,n=n||r.points.length-e;var s,l=Object(d.a)(i);try{for(l.s();!(s=l.n()).done;){a&=o(t,r,s.value,{start:e,end:e+n-1})}}catch(u){l.e(u)}finally{l.f()}return!!a}},{key:"draw",value:function(t,e,n,r){var i=this,o=i.options||{};(i.points||[]).length&&o.borderWidth&&(t.save(),Yi(t,i,n,r),t.restore(),i.animated&&(i._pointsUpdated=!1,i._path=void 0))}}]),n}(Zr);function Zi(t,e,n,r){var i=t.options,o=t.getProps([n],r)[n];return Math.abs(e-o)<i.radius+i.hitRadius}Wi.id="line",Wi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Wi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Wi.descriptors={_scriptable:!0,_indexable:function(t){return"borderDash"!==t&&"fill"!==t}};var Xi=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,t&&Object.assign(Object(s.a)(r),t),r}return Object(g.a)(n,[{key:"inRange",value:function(t,e,n){var r=this.options,i=this.getProps(["x","y"],n),o=i.x,a=i.y;return Math.pow(t-o,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(t,e){return Zi(this,t,"x",e)}},{key:"inYRange",value:function(t,e){return Zi(this,t,"y",e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"size",value:function(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}},{key:"draw",value:function(t,e){var n=this,r=n.options;n.skip||r.radius<.1||!se(n,e,n.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,ae(t,r,n.x,n.y))}},{key:"getRange",value:function(){var t=this.options||{};return t.radius+t.hitRadius}}]),n}(Zr);function Ki(t,e){var n,r,i,o,a,s=t.getProps(["x","y","base","width","height"],e),l=s.x,u=s.y,c=s.base,h=s.width,f=s.height;return t.horizontal?(a=f/2,n=Math.min(l,c),r=Math.max(l,c),i=u-a,o=u+a):(n=l-(a=h/2),r=l+a,i=Math.min(u,c),o=Math.max(u,c)),{left:n,top:i,right:r,bottom:o}}function $i(t,e,n,r){return t?0:ht(e,n,r)}function Ji(t){var e=Ki(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){var r=t.options.borderWidth,i=t.borderSkipped,o=_e(r);return{t:$i(i.top,o.top,0,n),r:$i(i.right,o.right,0,e),b:$i(i.bottom,o.bottom,0,n),l:$i(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){var r=t.getProps(["enableBorderRadius"]).enableBorderRadius,i=t.options.borderRadius,o=xe(i),a=Math.min(e,n),s=t.borderSkipped,l=r||S(i);return{topLeft:$i(!l||s.top||s.left,o.topLeft,0,a),topRight:$i(!l||s.top||s.right,o.topRight,0,a),bottomLeft:$i(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:$i(!l||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Qi(t,e,n,r){var i=null===e,o=null===n,a=t&&!(i&&o)&&Ki(t,r);return a&&(i||e>=a.left&&e<=a.right)&&(o||n>=a.top&&n<=a.bottom)}function to(t,e){t.rect(e.x,e.y,e.w,e.h)}function eo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}Xi.id="point",Xi.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Xi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var no=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,t&&Object.assign(Object(s.a)(r),t),r}return Object(g.a)(n,[{key:"draw",value:function(t){var e,n=this.options,r=Ji(this),i=r.inner,o=r.outer,a=(e=o.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?ve:to,s=.33;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,eo(o,s,i)),t.clip(),a(t,eo(i,-.33,o)),t.fillStyle=n.borderColor,t.fill("evenodd")),t.beginPath(),a(t,eo(i,s,o)),t.fillStyle=n.backgroundColor,t.fill(),t.restore()}},{key:"inRange",value:function(t,e,n){return Qi(this,t,e,n)}},{key:"inXRange",value:function(t,e){return Qi(this,t,null,e)}},{key:"inYRange",value:function(t,e){return Qi(this,null,t,e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","base","horizontal"],t),n=e.x,r=e.y,i=e.base,o=e.horizontal;return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}},{key:"getRange",value:function(t){return"x"===t?this.width/2:this.height/2}}]),n}(Zr);no.id="bar",no.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},no.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ro=Object.freeze({__proto__:null,ArcElement:zi,LineElement:Wi,PointElement:Xi,BarElement:no});function io(t){if(t._decimated){var e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function oo(t){t.data.datasets.forEach((function(t){io(t)}))}var ao={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(t,e,n){if(n.enabled){var r=t.width;t.data.datasets.forEach((function(e,i){var o=e._data,s=e.indexAxis,l=t.getDatasetMeta(i),u=o||e.data;if("y"!==Ee([s,t.options.indexAxis])&&"line"===l.type){var c=t.scales[l.xAxisID];if(("linear"===c.type||"time"===c.type)&&!t.options.parsing){var h=function(t,e){var n=e.length,r=0,i=t.iScale,o=i.getUserBounds(),a=o.min,s=o.max,l=o.minDefined,u=o.maxDefined;return l&&(r=ht(Te(e,i.axis,a).lo,0,n-1)),{start:r,count:u?ht(Te(e,i.axis,s).hi+1,r,n)-r:n-r}}(l,u),f=h.start,p=h.count;if(p<=(n.threshold||4*r))io(e);else{var d;switch(k(o)&&(e._data=u,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":d=function(t,e,n,r,i){var o=i.samples||r;if(o>=n)return t.slice(e,e+n);var a,s,l,u,c,h=[],f=(n-2)/(o-2),p=0,d=e+n-1,v=e;for(h[p++]=t[v],a=0;a<o-2;a++){var g=0,y=0,m=void 0,b=Math.floor((a+1)*f)+1+e,_=Math.min(Math.floor((a+2)*f)+1,n)+e,x=_-b;for(m=b;m<_;m++)g+=t[m].x,y+=t[m].y;g/=x,y/=x;var w=Math.floor(a*f)+1+e,k=Math.min(Math.floor((a+1)*f)+1,n)+e,E=t[v],S=E.x,T=E.y;for(l=u=-1,m=w;m<k;m++)(u=.5*Math.abs((S-g)*(t[m].y-T)-(S-t[m].x)*(y-T)))>l&&(l=u,s=t[m],c=m);h[p++]=s,v=c}return h[p++]=t[d],h}(u,f,p,r,n);break;case"min-max":d=function(t,e,n,r){var i,o,s,l,u,c,h,f,p,d,v=0,g=0,y=[],m=e+n-1,b=t[e].x,_=t[m].x-b;for(i=e;i<e+n;++i){s=((o=t[i]).x-b)/_*r,l=o.y;var x=0|s;if(x===u)l<p?(p=l,c=i):l>d&&(d=l,h=i),v=(g*v+o.x)/++g;else{var w=i-1;if(!k(c)&&!k(h)){var E=Math.min(c,h),S=Math.max(c,h);E!==f&&E!==w&&y.push(Object(a.a)(Object(a.a)({},t[E]),{},{x:v})),S!==f&&S!==w&&y.push(Object(a.a)(Object(a.a)({},t[S]),{},{x:v}))}i>0&&w!==f&&y.push(t[w]),y.push(o),u=x,g=0,p=d=l,c=h=f=i}}return y}(u,f,p,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=d}}}}))}else oo(t)},destroy:function(t){oo(t)}};function so(t,e,n){var r=function(t){var e=t.options,n=e.fill,r=O(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(S(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return T(i)&&Math.floor(i)===i?("-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}var lo=function(){function t(e){Object(v.a)(this,t),this.x=e.x,this.y=e.y,this.radius=e.radius}return Object(g.a)(t,[{key:"pathSegment",value:function(t,e,n){var r=this.x,i=this.y,o=this.radius;return e=e||{start:0,end:q},t.arc(r,i,o,e.end,e.start,!0),!n.bounds}},{key:"interpolate",value:function(t){var e=this.x,n=this.y,r=this.radius,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),t}();function uo(t){return(t.scale||{}).getPointPositionForValue?function(t){var e,n,r,i=t.scale,o=t.fill,a=i.options,s=i.getLabels().length,l=[],u=a.reverse?i.max:i.min,c=a.reverse?i.min:i.max;if(r="start"===o?u:"end"===o?c:S(o)?o.value:i.getBaseValue(),a.grid.circular)return n=i.getPointPositionForValue(0,u),new lo({x:n.x,y:n.y,radius:i.getDistanceFromCenterForValue(r)});for(e=0;e<s;++e)l.push(i.getPointPositionForValue(e,r));return l}(t):function(t){var e,n=t.scale,r=void 0===n?{}:n,i=t.fill,o=null;return"start"===i?o=r.bottom:"end"===i?o=r.top:S(i)?o=r.getPixelForValue(i.value):r.getBasePixel&&(o=r.getBasePixel()),T(o)?{x:(e=r.isHorizontal())?o:null,y:e?null:o}:null}(t)}function co(t,e,n){for(;e>t;e--){var r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function ho(t){var e=t.chart,n=t.scale,r=t.index,i=t.line,o=[],a=i.segments,s=i.points,l=function(t,e){for(var n=[],r=t.getSortedVisibleDatasetMetas(),i=0;i<r.length;i++){var o=r[i];if(o.index===e)break;fo(o)&&n.unshift(o.dataset)}return n}(e,r);l.push(go({x:null,y:n.bottom},i));for(var u=0;u<a.length;u++)for(var c=a[u],h=c.start;h<=c.end;h++)po(o,s[h],l);return new Wi({points:o,options:{}})}var fo=function(t){return"line"===t.type&&!t.hidden};function po(t,e,n){for(var r=[],i=0;i<n.length;i++){var o=vo(n[i],e,"x"),a=o.first,s=o.last,l=o.point;if(!(!l||a&&s))if(a)r.unshift(l);else if(t.push(l),!s)break}t.push.apply(t,r)}function vo(t,e,n){var r=t.interpolate(e,n);if(!r)return{};for(var i=r[n],o=t.segments,a=t.points,s=!1,l=!1,u=0;u<o.length;u++){var c=o[u],h=a[c.start][n],f=a[c.end][n];if(i>=h&&i<=f){s=i===h,l=i===f;break}}return{first:s,last:l,point:r}}function go(t,e){var n=[],r=!1;return E(t)?(r=!0,n=t):n=function(t,e){var n=t||{},r=n.x,i=void 0===r?null:r,o=n.y,a=void 0===o?null:o,s=e.points,l=[];return e.segments.forEach((function(t){var e=t.start,n=t.end;n=co(e,n,s);var r=s[e],o=s[n];null!==a?(l.push({x:r.x,y:a}),l.push({x:o.x,y:a})):null!==i&&(l.push({x:i,y:r.y}),l.push({x:i,y:o.y}))})),l}(t,e),n.length?new Wi({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function yo(t,e,n){var r,i=t[e].fill,o=[e];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!T(i))return i;if(!(r=t[i]))return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function mo(t,e,n){t.beginPath(),e.path(t),t.lineTo(e.last().x,n),t.lineTo(e.first().x,n),t.closePath(),t.clip()}function bo(t,e,n,r){if(!r){var i=e[t],o=n[t];return"angle"===t&&(i=ut(i),o=ut(o)),{property:t,start:i,end:o}}}function _o(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function xo(t,e,n){var r=e.chart.chartArea,i=r.top,o=r.bottom,a=n||{},s=a.property,l=a.start,u=a.end;"x"===s&&(t.beginPath(),t.rect(l,i,u-l,o-i),t.clip())}function wo(t,e,n,r){var i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}function ko(t,e){var n,r=e.line,i=e.target,o=e.property,a=e.color,s=e.scale,l=function(t,e,n){var r,i=t.segments,o=t.points,a=e.points,s=[],l=Object(d.a)(i);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=u.start,h=u.end;h=co(c,h,o);var f=bo(n,o[c],o[h],u.loop);if(e.segments){var v,g=kn(e,f),y=Object(d.a)(g);try{for(y.s();!(v=y.n()).done;){var m,b=v.value,_=bo(n,a[b.start],a[b.end],b.loop),x=wn(u,o,_),w=Object(d.a)(x);try{for(w.s();!(m=w.n()).done;){var k=m.value;s.push({source:k,target:b,start:Object(p.a)({},n,_o(f,_,"start",Math.max)),end:Object(p.a)({},n,_o(f,_,"end",Math.min))})}}catch(E){w.e(E)}finally{w.f()}}}catch(E){y.e(E)}finally{y.f()}}else s.push({source:u,target:f,start:o[c],end:o[h]})}}catch(E){l.e(E)}finally{l.f()}return s}(r,i,o),u=Object(d.a)(l);try{for(u.s();!(n=u.n()).done;){var c=n.value,h=c.source,f=c.target,v=c.start,g=c.end,y=h.style,m=(y=void 0===y?{}:y).backgroundColor,b=void 0===m?a:m,_=!0!==i;t.save(),t.fillStyle=b,xo(t,s,_&&bo(o,v,g)),t.beginPath();var x=!!r.pathSegment(t,h),w=void 0;if(_){x?t.closePath():wo(t,i,g,o);var k=!!i.pathSegment(t,f,{move:x,reverse:!0});(w=x&&k)||wo(t,i,v,o)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}catch(E){u.e(E)}finally{u.f()}}function Eo(t,e,n){var r=function(t){var e=t.chart,n=t.fill,r=t.line;if(T(n))return function(t,e){var n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return ho(t);if("shape"===n)return!0;var i=uo(t);return i instanceof lo?i:go(i,r)}(e),i=e.line,o=e.scale,a=e.axis,s=i.options,l=s.fill,u=s.backgroundColor,c=l||{},h=c.above,f=void 0===h?u:h,p=c.below,d=void 0===p?u:p;r&&i.points.length&&(le(t,n),function(t,e){var n=e.line,r=e.target,i=e.above,o=e.below,a=e.area,s=e.scale,l=n._loop?"angle":e.axis;t.save(),"x"===l&&o!==i&&(mo(t,r,a.top),ko(t,{line:n,target:r,color:i,scale:s,property:l}),t.restore(),t.save(),mo(t,r,a.bottom)),ko(t,{line:n,target:r,color:o,scale:s,property:l}),t.restore()}(t,{line:i,target:r,above:f,below:d,area:n,scale:o,axis:a}),ue(t))}var So={id:"filler",afterDatasetsUpdate:function(t,e,n){var r,i,o,a,s=(t.data.datasets||[]).length,l=[];for(i=0;i<s;++i)a=null,(o=(r=t.getDatasetMeta(i)).dataset)&&o.options&&o instanceof Wi&&(a={visible:t.isDatasetVisible(i),index:i,fill:so(o,i,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=a,l.push(a);for(i=0;i<s;++i)(a=l[i])&&!1!==a.fill&&(a.fill=yo(l,i,n.propagate))},beforeDraw:function(t,e,n){for(var r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),o=t.chartArea,a=i.length-1;a>=0;--a){var s=i[a].$filler;s&&(s.line.updateControlPoints(o,s.axis),r&&Eo(t.ctx,s,o))}},beforeDatasetsDraw:function(t,e,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=t.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var o=r[i].$filler;o&&Eo(t.ctx,o,t.chartArea)}},beforeDatasetDraw:function(t,e,n){var r=e.meta.$filler;r&&!1!==r.fill&&"beforeDatasetDraw"===n.drawTime&&Eo(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},To=function(t,e){var n=t.boxHeight,r=void 0===n?e:n,i=t.boxWidth,o=void 0===i?e:i;return t.usePointStyle&&(r=Math.min(r,e),o=Math.min(o,e)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(e,r)}},Ao=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=t.chart,r.options=t.options,r.ctx=t.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return Object(g.a)(n,[{key:"update",value:function(t,e,n){var r=this;r.maxWidth=t,r.maxHeight=e,r._margins=n,r.setDimensions(),r.buildLabels(),r.fit()}},{key:"setDimensions",value:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=t._margins.left,t.right=t.width):(t.height=t.maxHeight,t.top=t._margins.top,t.bottom=t.height)}},{key:"buildLabels",value:function(){var t=this,e=t.options.labels||{},n=C(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter((function(n){return e.filter(n,t.chart.data)}))),e.sort&&(n=n.sort((function(n,r){return e.sort(n,r,t.chart.data)}))),t.options.reverse&&n.reverse(),t.legendItems=n}},{key:"fit",value:function(){var t=this,e=t.options,n=t.ctx;if(e.display){var r,i,o=e.labels,a=ke(o.font),s=a.size,l=t._computeTitleHeight(),u=To(o,s),c=u.boxWidth,h=u.itemHeight;n.font=a.string,t.isHorizontal()?(r=t.maxWidth,i=t._fitRows(l,s,c,h)+10):(i=t.maxHeight,r=t._fitCols(l,s,c,h)+10),t.width=Math.min(r,e.maxWidth||t.maxWidth),t.height=Math.min(i,e.maxHeight||t.maxHeight)}else t.width=t.height=0}},{key:"_fitRows",value:function(t,e,n,r){var i=this,o=i.ctx,a=i.maxWidth,s=i.options.labels.padding,l=i.legendHitBoxes=[],u=i.lineWidths=[0],c=r+s,h=t;o.textAlign="left",o.textBaseline="middle";var f=-1,p=-c;return i.legendItems.forEach((function(t,i){var d=n+e/2+o.measureText(t.text).width;(0===i||u[u.length-1]+d+2*s>a)&&(h+=c,u[u.length-(i>0?0:1)]=0,p+=c,f++),l[i]={left:0,top:p,row:f,width:d,height:r},u[u.length-1]+=d+s})),h}},{key:"_fitCols",value:function(t,e,n,r){var i=this,o=i.ctx,a=i.maxHeight,s=i.options.labels.padding,l=i.legendHitBoxes=[],u=i.columnSizes=[],c=a-t,h=s,f=0,p=0,d=0,v=0;return i.legendItems.forEach((function(t,i){var a=n+e/2+o.measureText(t.text).width;i>0&&p+r+2*s>c&&(h+=f+s,u.push({width:f,height:p}),d+=f+s,v++,f=p=0),l[i]={left:d,top:p,col:v,width:a,height:r},f=Math.max(f,a),p+=r+s})),h+=f,u.push({width:f,height:p}),h}},{key:"adjustHitBoxes",value:function(){var t=this;if(t.options.display){var e=t._computeTitleHeight(),n=t.legendHitBoxes,r=t.options,i=r.align,o=r.labels.padding,a=yn(r.rtl,t.left,t.width);if(this.isHorizontal()){var s,l=0,u=_(i,t.left+o,t.right-t.lineWidths[l]),c=Object(d.a)(n);try{for(c.s();!(s=c.n()).done;){var h=s.value;l!==h.row&&(l=h.row,u=_(i,t.left+o,t.right-t.lineWidths[l])),h.top+=t.top+e+o,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+o}}catch(m){c.e(m)}finally{c.f()}}else{var f,p=0,v=_(i,t.top+e+o,t.bottom-t.columnSizes[p].height),g=Object(d.a)(n);try{for(g.s();!(f=g.n()).done;){var y=f.value;y.col!==p&&(p=y.col,v=_(i,t.top+e+o,t.bottom-t.columnSizes[p].height)),y.top=v,y.left+=t.left+o,y.left=a.leftForLtr(a.x(y.left),y.width),v+=y.height+o}}catch(m){g.e(m)}finally{g.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){var t=this;if(t.options.display){var e=t.ctx;le(e,t),t._draw(),ue(e)}}},{key:"_draw",value:function(){var t,e=this,n=e.options,r=e.columnSizes,i=e.lineWidths,o=e.ctx,a=n.align,s=n.labels,l=ee.color,u=yn(n.rtl,e.left,e.width),c=ke(s.font),h=s.color,f=s.padding,p=c.size,d=p/2;e.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;var v=To(s,p),g=v.boxWidth,y=v.boxHeight,m=v.itemHeight,b=e.isHorizontal(),x=this._computeTitleHeight();t=b?{x:_(a,e.left+f,e.right-i[0]),y:e.top+f+x,line:0}:{x:e.left+f,y:_(a,e.top+x+f,e.bottom-r[0].height),line:0},mn(e.ctx,n.textDirection);var w=m+f;e.legendItems.forEach((function(v,k){o.strokeStyle=v.fontColor||h,o.fillStyle=v.fontColor||h;var E=o.measureText(v.text).width,S=u.textAlign(v.textAlign||(v.textAlign=s.textAlign)),T=g+d+E,A=t.x,M=t.y;u.setWidth(e.width),b?k>0&&A+T+f>e.right&&(M=t.y+=w,t.line++,A=t.x=_(a,e.left+f,e.right-i[t.line])):k>0&&M+w>e.bottom&&(A=t.x=A+r[t.line].width+f,t.line++,M=t.y=_(a,e.top+x+f,e.bottom-r[t.line].height)),function(t,e,n){if(!(isNaN(g)||g<=0||isNaN(y)||y<0)){o.save();var r=O(n.lineWidth,1);if(o.fillStyle=O(n.fillStyle,l),o.lineCap=O(n.lineCap,"butt"),o.lineDashOffset=O(n.lineDashOffset,0),o.lineJoin=O(n.lineJoin,"miter"),o.lineWidth=r,o.strokeStyle=O(n.strokeStyle,l),o.setLineDash(O(n.lineDash,[])),s.usePointStyle){var i={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},a=u.xPlus(t,g/2);ae(o,i,a,e+d)}else{var c=e+Math.max((p-y)/2,0),h=u.leftForLtr(t,g),f=xe(n.borderRadius);o.beginPath(),Object.values(f).some((function(t){return 0!==t}))?ve(o,{x:h,y:c,w:g,h:y,radius:f}):o.rect(h,c,g,y),o.fill(),0!==r&&o.stroke()}o.restore()}}(u.x(A),M,v),A=function(t,e,n,r){return t===(r?"left":"right")?n:"center"===t?(e+n)/2:e}(S,A+g+d,b?A+T:e.right,n.rtl),function(t,e,n){fe(o,n.text,t,e+m/2,c,{strikethrough:n.hidden,textAlign:u.textAlign(n.textAlign)})}(u.x(A),M,v),b?t.x+=T+f:t.y+=w})),bn(e.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var t=this,e=t.options,n=e.title,r=ke(n.font),i=we(n.padding);if(n.display){var a,s=yn(e.rtl,t.left,t.width),l=t.ctx,u=n.position,c=r.size/2,h=i.top+c,f=t.left,p=t.width;if(this.isHorizontal())p=Math.max.apply(Math,Object(o.a)(t.lineWidths)),a=t.top+h,f=_(e.align,f,t.right-p);else{var d=t.columnSizes.reduce((function(t,e){return Math.max(t,e.height)}),0);a=h+_(e.align,t.top,t.bottom-d-e.labels.padding-t._computeTitleHeight())}var v=_(u,f,f+p);l.textAlign=s.textAlign(b(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,fe(l,n.text,v,a,r)}}},{key:"_computeTitleHeight",value:function(){var t=this.options.title,e=ke(t.font),n=we(t.padding);return t.display?e.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(t,e){var n,r,i,o=this;if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)for(i=o.legendHitBoxes,n=0;n<i.length;++n)if(t>=(r=i[n]).left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height)return o.legendItems[n];return null}},{key:"handleEvent",value:function(t){var e=this,n=e.options;if(function(t,e){if("mousemove"===t&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,n)){var r,i,o=e._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){var a=e._hoveredItem,s=(i=o,null!==(r=a)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);a&&!s&&C(n.onLeave,[t,a,e],e),e._hoveredItem=o,o&&!s&&C(n.onHover,[t,o,e],e)}else o&&C(n.onClick,[t,o,e],e)}}}]),n}(Zr);var Oo={id:"legend",_element:Ao,start:function(t,e,n){var r=t.legend=new Ao({ctx:t.ctx,options:n,chart:t});jr(t,r,n),Mr(t,r)},stop:function(t){Cr(t,t.legend),delete t.legend},beforeUpdate:function(t,e,n){var r=t.legend;jr(t,r,n),r.options=n},afterUpdate:function(t){var e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent:function(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(t,e,n){var r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(t){return t.chart.options.color},boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,o=n.textAlign,a=n.color;return t._getSortedDatasetMetas().map((function(t){var n=t.controller.getStyle(r?0:void 0),s=we(n.borderWidth);return{text:e[t.index].label,fillStyle:n.backgroundColor,fontColor:a,hidden:!t.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:o||n.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:function(t){return t.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(t){return!t.startsWith("on")},labels:{_scriptable:function(t){return!["generateLabels","filter","sort"].includes(t)}}}},Mo=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).chart=t.chart,r.options=t.options,r.ctx=t.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return Object(g.a)(n,[{key:"update",value:function(t,e){var n=this,r=n.options;if(n.left=0,n.top=0,r.display){n.width=n.right=t,n.height=n.bottom=e;var i=E(r.text)?r.text.length:1;n._padding=we(r.padding);var o=i*ke(r.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=o:n.width=o}else n.width=n.height=n.right=n.bottom=0}},{key:"isHorizontal",value:function(){var t=this.options.position;return"top"===t||"bottom"===t}},{key:"_drawArgs",value:function(t){var e,n,r,i=this.top,o=this.left,a=this.bottom,s=this.right,l=this.options,u=l.align,c=0;return this.isHorizontal()?(n=_(u,o,s),r=i+t,e=s-o):("left"===l.position?(n=o+t,r=_(u,a,i),c=-.5*G):(n=s-t,r=_(u,i,a),c=.5*G),e=a-i),{titleX:n,titleY:r,maxWidth:e,rotation:c}}},{key:"draw",value:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var r=ke(n.font),i=r.lineHeight/2+t._padding.top,o=t._drawArgs(i),a=o.titleX,s=o.titleY,l=o.maxWidth,u=o.rotation;fe(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:b(n.align),textBaseline:"middle",translation:[a,s]})}}}]),n}(Zr);var Co={id:"title",_element:Mo,start:function(t,e,n){!function(t,e){var n=new Mo({ctx:t.ctx,options:e,chart:t});jr(t,n,e),Mr(t,n),t.titleBlock=n}(t,n)},stop:function(t){var e=t.titleBlock;Cr(t,e),delete t.titleBlock},beforeUpdate:function(t,e,n){var r=t.titleBlock;jr(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},jo=new WeakMap,Io={id:"subtitle",start:function(t,e,n){var r=new Mo({ctx:t.ctx,options:n,chart:t});jr(t,r,n),Mr(t,r),jo.set(t,r)},stop:function(t){Cr(t,jo.get(t)),jo.delete(t)},beforeUpdate:function(t,e,n){var r=jo.get(t);jr(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Po={average:function(t){if(!t.length)return!1;var e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e].element;if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:r/o,y:i/o}},nearest:function(t,e){if(!t.length)return!1;var n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){var l=t[n].element;if(l&&l.hasValue()){var u=st(e,l.getCenterPoint());u<s&&(s=u,i=l)}}if(i){var c=i.tooltipPosition();o=c.x,a=c.y}return{x:o,y:a}}};function Ro(t,e){return e&&(E(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Lo(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function No(t,e){var n=e.element,r=e.datasetIndex,i=e.index,o=t.getDatasetMeta(r).controller,a=o.getLabelAndValue(i),s=a.label,l=a.value;return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:l,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Do(t,e){var n=t._chart.ctx,r=t.body,i=t.footer,o=t.title,a=e.boxWidth,s=e.boxHeight,l=ke(e.bodyFont),u=ke(e.titleFont),c=ke(e.footerFont),h=o.length,f=i.length,p=r.length,d=we(e.padding),v=d.height,g=0,y=r.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);(y+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y)&&(v+=p*(e.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*e.bodySpacing);f&&(v+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);var m=0,b=function(t){g=Math.max(g,n.measureText(t).width+m)};return n.save(),n.font=u.string,j(t.title,b),n.font=l.string,j(t.beforeBody.concat(t.afterBody),b),m=e.displayColors?a+2:0,j(r,(function(t){j(t.before,b),j(t.lines,b),j(t.after,b)})),m=0,n.font=c.string,j(t.footer,b),n.restore(),{width:g+=d.width,height:v}}function zo(t,e,n,r){var i=n.x,o=n.width,a=t.width,s=t.chartArea,l=s.left,u=s.right,c="center";return"center"===r?c=i<=(l+u)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(t,e,n,r){var i=r.x,o=r.width,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(c,t,e,n)&&(c="center"),c}function Fo(t,e,n){var r=e.yAlign||function(t,e){var n=e.y,r=e.height;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:e.xAlign||zo(t,e,n,r),yAlign:r}}function Bo(t,e,n,r){var i=t.caretSize,o=t.caretPadding,a=t.cornerRadius,s=n.xAlign,l=n.yAlign,u=i+o,c=a+o,h=function(t,e){var n=t.x,r=t.width;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s),f=function(t,e,n){var r=t.y,i=t.height;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,u);return"center"===l?"left"===s?h+=u:"right"===s&&(h-=u):"left"===s?h-=c:"right"===s&&(h+=c),{x:ht(h,0,r.width-e.width),y:ht(f,0,r.height-e.height)}}function Ho(t,e,n){var r=we(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function Uo(t){return Ro([],Lo(t))}function Vo(t,e){var n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var Go=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this)).opacity=0,r._active=[],r._chart=t._chart,r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.options=t.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return Object(g.a)(n,[{key:"initialize",value:function(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var t=this,e=t._cachedAnimations;if(e)return e;var n=t._chart,r=t.options.setContext(t.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new In(t._chart,i);return i._cacheable&&(t._cachedAnimations=Object.freeze(o)),o}},{key:"getContext",value:function(){var t,e,n,r=this;return r.$context||(r.$context=(t=r._chart.getContext(),e=r,n=r._tooltipItems,Object.assign(Object.create(t),{tooltip:e,tooltipItems:n,type:"tooltip"})))}},{key:"getTitle",value:function(t,e){var n=this,r=e.callbacks,i=r.beforeTitle.apply(n,[t]),o=r.title.apply(n,[t]),a=r.afterTitle.apply(n,[t]),s=[];return s=Ro(s,Lo(i)),s=Ro(s,Lo(o)),s=Ro(s,Lo(a))}},{key:"getBeforeBody",value:function(t,e){return Uo(e.callbacks.beforeBody.apply(this,[t]))}},{key:"getBody",value:function(t,e){var n=this,r=e.callbacks,i=[];return j(t,(function(t){var e={before:[],lines:[],after:[]},o=Vo(r,t);Ro(e.before,Lo(o.beforeLabel.call(n,t))),Ro(e.lines,o.label.call(n,t)),Ro(e.after,Lo(o.afterLabel.call(n,t))),i.push(e)})),i}},{key:"getAfterBody",value:function(t,e){return Uo(e.callbacks.afterBody.apply(this,[t]))}},{key:"getFooter",value:function(t,e){var n=this,r=e.callbacks,i=r.beforeFooter.apply(n,[t]),o=r.footer.apply(n,[t]),a=r.afterFooter.apply(n,[t]),s=[];return s=Ro(s,Lo(i)),s=Ro(s,Lo(o)),s=Ro(s,Lo(a))}},{key:"_createItems",value:function(t){var e,n,r=this,i=r._active,o=r._chart.data,a=[],s=[],l=[],u=[];for(e=0,n=i.length;e<n;++e)u.push(No(r._chart,i[e]));return t.filter&&(u=u.filter((function(e,n,r){return t.filter(e,n,r,o)}))),t.itemSort&&(u=u.sort((function(e,n){return t.itemSort(e,n,o)}))),j(u,(function(e){var n=Vo(t.callbacks,e);a.push(n.labelColor.call(r,e)),s.push(n.labelPointStyle.call(r,e)),l.push(n.labelTextColor.call(r,e))})),r.labelColors=a,r.labelPointStyles=s,r.labelTextColors=l,r.dataPoints=u,u}},{key:"update",value:function(t,e){var n,r=this,i=r.options.setContext(r.getContext()),o=r._active,a=[];if(o.length){var s=Po[i.position].call(r,o,r._eventPosition);a=r._createItems(i),r.title=r.getTitle(a,i),r.beforeBody=r.getBeforeBody(a,i),r.body=r.getBody(a,i),r.afterBody=r.getAfterBody(a,i),r.footer=r.getFooter(a,i);var l=r._size=Do(r,i),u=Object.assign({},s,l),c=Fo(r._chart,i,u),h=Bo(i,u,c,r._chart);r.xAlign=c.xAlign,r.yAlign=c.yAlign,n={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}else 0!==r.opacity&&(n={opacity:0});r._tooltipItems=a,r.$context=void 0,n&&r._resolveAnimations().update(r,n),t&&i.external&&i.external.call(r,{chart:r._chart,tooltip:r,replay:e})}},{key:"drawCaret",value:function(t,e,n,r){var i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(t,e,n){var r,i,o,a,s,l,u=this.xAlign,c=this.yAlign,h=n.cornerRadius,f=n.caretSize,p=t.x,d=t.y,v=e.width,g=e.height;return"center"===c?(s=d+g/2,"left"===u?(i=(r=p)-f,a=s+f,l=s-f):(i=(r=p+v)+f,a=s-f,l=s+f),o=r):(i="left"===u?p+h+f:"right"===u?p+v-h-f:this.caretX,"top"===c?(s=(a=d)-f,r=i-f,o=i+f):(s=(a=d+g)+f,r=i+f,o=i-f),l=a),{x1:r,x2:i,x3:o,y1:a,y2:s,y3:l}}},{key:"drawTitle",value:function(t,e,n){var r,i,o,a=this,s=a.title,l=s.length;if(l){var u=yn(n.rtl,a.x,a.width);for(t.x=Ho(a,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",r=ke(n.titleFont),i=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,o=0;o<l;++o)e.fillText(s[o],u.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i,o+1===l&&(t.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(t,e,n,r,i){var o=this,a=o.labelColors[n],s=o.labelPointStyles[n],l=i.boxHeight,u=i.boxWidth,c=ke(i.bodyFont),h=Ho(o,"left",i),f=r.x(h),p=l<c.lineHeight?(c.lineHeight-l)/2:0,d=e.y+p;if(i.usePointStyle){var v={radius:Math.min(u,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},g=r.leftForLtr(f,u)+u/2,y=d+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ae(t,v,g,y),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,ae(t,v,g,y)}else{t.lineWidth=a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;var m=r.leftForLtr(f,u),b=r.leftForLtr(r.xPlus(f,1),u-2),_=xe(a.borderRadius);Object.values(_).some((function(t){return 0!==t}))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,ve(t,{x:m,y:d,w:u,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ve(t,{x:b,y:d+1,w:u-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(m,d,u,l),t.strokeRect(m,d,u,l),t.fillStyle=a.backgroundColor,t.fillRect(b,d+1,u-2,l-2))}t.fillStyle=o.labelTextColors[n]}},{key:"drawBody",value:function(t,e,n){var r,i,o,a,s,l,u,c=this,h=c.body,f=n.bodySpacing,p=n.bodyAlign,d=n.displayColors,v=n.boxHeight,g=n.boxWidth,y=ke(n.bodyFont),m=y.lineHeight,b=0,_=yn(n.rtl,c.x,c.width),x=function(n){e.fillText(n,_.x(t.x+b),t.y+m/2),t.y+=m+f},w=_.textAlign(p);for(e.textAlign=p,e.textBaseline="middle",e.font=y.string,t.x=Ho(c,w,n),e.fillStyle=n.bodyColor,j(c.beforeBody,x),b=d&&"right"!==w?"center"===p?g/2+1:g+2:0,a=0,l=h.length;a<l;++a){for(r=h[a],i=c.labelTextColors[a],e.fillStyle=i,j(r.before,x),o=r.lines,d&&o.length&&(c._drawColorBox(e,t,a,_,n),m=Math.max(y.lineHeight,v)),s=0,u=o.length;s<u;++s)x(o[s]),m=y.lineHeight;j(r.after,x)}b=0,m=y.lineHeight,j(c.afterBody,x),t.y-=f}},{key:"drawFooter",value:function(t,e,n){var r,i,o=this,a=o.footer,s=a.length;if(s){var l=yn(n.rtl,o.x,o.width);for(t.x=Ho(o,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",r=ke(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,i=0;i<s;++i)e.fillText(a[i],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(t,e,n,r){var i=this.xAlign,o=this.yAlign,a=t.x,s=t.y,l=n.width,u=n.height,c=r.cornerRadius;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+c,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+l-c,s),e.quadraticCurveTo(a+l,s,a+l,s+c),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+l,s+u-c),e.quadraticCurveTo(a+l,s+u,a+l-c,s+u),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+c,s+u),e.quadraticCurveTo(a,s+u,a,s+u-c),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+c),e.quadraticCurveTo(a,s,a+c,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}},{key:"_updateAnimationTarget",value:function(t){var e=this,n=e._chart,r=e.$animations,i=r&&r.x,o=r&&r.y;if(i||o){var a=Po[t.position].call(e,e._active,e._eventPosition);if(!a)return;var s=e._size=Do(e,t),l=Object.assign({},a,e._size),u=Fo(n,t,l),c=Bo(t,l,u,n);i._to===c.x&&o._to===c.y||(e.xAlign=u.xAlign,e.yAlign=u.yAlign,e.width=s.width,e.height=s.height,e.caretX=a.x,e.caretY=a.y,e._resolveAnimations().update(e,c))}}},{key:"draw",value:function(t){var e=this,n=e.options.setContext(e.getContext()),r=e.opacity;if(r){e._updateAnimationTarget(n);var i={width:e.width,height:e.height},o={x:e.x,y:e.y};r=Math.abs(r)<.001?0:r;var a=we(n.padding),s=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;n.enabled&&s&&(t.save(),t.globalAlpha=r,e.drawBackground(o,t,i,n),mn(t,n.textDirection),o.y+=a.top,e.drawTitle(o,t,n),e.drawBody(o,t,n),e.drawFooter(o,t,n),bn(t,n.textDirection),t.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t,e){var n=this,r=n._active,i=t.map((function(t){var e=t.datasetIndex,r=t.index,i=n._chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[r],index:r}})),o=!I(r,i),a=n._positionChanged(i,e);(o||a)&&(n._active=i,n._eventPosition=e,n.update(!0))}},{key:"handleEvent",value:function(t,e){var n,r=this,i=r.options,o=r._active||[],a=[];"mouseout"!==t.type&&(a=r._chart.getElementsAtEventForMode(t,i.mode,i,e),i.reverse&&a.reverse());var s=r._positionChanged(a,t);return(n=e||!I(a,o)||s)&&(r._active=a,(i.enabled||i.external)&&(r._eventPosition={x:t.x,y:t.y},r.update(!0,e))),n}},{key:"_positionChanged",value:function(t,e){var n=this.caretX,r=this.caretY,i=this.options,o=Po[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}]),n}(Zr);Go.positioners=Po;var qo={id:"tooltip",_element:Go,positioners:Po,afterInit:function(t,e,n){n&&(t.tooltip=new Go({_chart:t,options:n}))},beforeUpdate:function(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset:function(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw:function(t){var e=t.tooltip,n={tooltip:e};!1!==t.notifyPlugins("beforeTooltipDraw",n)&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent:function(t,e){if(t.tooltip){var n=e.replay;t.tooltip.handleEvent(e.event,n)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(t,e){return e.bodyFont.size},boxWidth:function(t,e){return e.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:x,title:function(t){if(t.length>0){var e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:x,beforeBody:x,beforeLabel:x,label:function(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;var e=t.dataset.label||"";e&&(e+=": ");var n=t.formattedValue;return k(n)||(e+=n),e},labelColor:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:x,afterBody:x,beforeFooter:x,footer:x,afterFooter:x}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(t){return"filter"!==t&&"itemSort"!==t&&"external"!==t},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Yo=Object.freeze({__proto__:null,Decimation:ao,Filler:So,Legend:Oo,SubTitle:Io,Title:Co,Tooltip:qo});function Wo(t,e,n){var r=t.indexOf(e);return-1===r?function(t,e,n){return"string"===typeof e?t.push(e)-1:isNaN(e)?null:n}(t,e,n):r!==t.lastIndexOf(e)?n:r}var Zo=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t))._startValue=void 0,r._valueRange=0,r}return Object(g.a)(n,[{key:"parse",value:function(t,e){if(k(t))return null;var n=this.getLabels();return function(t,e){return null===t?null:ht(Math.round(t),0,e)}(e=isFinite(e)&&n[e]===t?e:Wo(n,t,O(e,t)),n.length-1)}},{key:"determineDataLimits",value:function(){var t=this,e=t.getUserBounds(),n=e.minDefined,r=e.maxDefined,i=t.getMinMax(!0),o=i.min,a=i.max;"ticks"===t.options.bounds&&(n||(o=0),r||(a=t.getLabels().length-1)),t.min=o,t.max=a}},{key:"buildTicks",value:function(){var t=this,e=t.min,n=t.max,r=t.options.offset,i=[],o=t.getLabels();o=0===e&&n===o.length-1?o:o.slice(e,n+1),t._valueRange=Math.max(o.length-(r?0:1),1),t._startValue=t.min-(r?.5:0);for(var a=e;a<=n;a++)i.push({value:a});return i}},{key:"getLabelForValue",value:function(t){var e=this.getLabels();return t>=0&&t<e.length?e[t]:t}},{key:"configure",value:function(){var t=this;Object(l.a)(Object(u.a)(n.prototype),"configure",this).call(this),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}},{key:"getPixelForValue",value:function(t){var e=this;return"number"!==typeof t&&(t=e.parse(t)),null===t?NaN:e.getPixelForDecimal((t-e._startValue)/e._valueRange)}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getValueForPixel",value:function(t){var e=this;return Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(oi);function Xo(t,e){var n,r,i,o,a=[],s=t.bounds,l=t.step,u=t.min,c=t.max,h=t.precision,f=t.count,p=t.maxTicks,d=t.maxDigits,v=t.includeBounds,g=l||1,y=p-1,m=e.min,b=e.max,_=!k(u),x=!k(c),w=!k(f),E=(b-m)/(d+1),S=tt((b-m)/y/g)*g;if(S<1e-14&&!_&&!x)return[{value:m},{value:b}];(o=Math.ceil(b/S)-Math.floor(m/S))>y&&(S=tt(o*S/y/g)*g),k(h)||(n=Math.pow(10,h),S=Math.ceil(S*n)/n),"ticks"===s?(r=Math.floor(m/S)*S,i=Math.ceil(b/S)*S):(r=m,i=b),_&&x&&l&&function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t}((c-u)/l,S/1e3)?(S=(c-u)/(o=Math.round(Math.min((c-u)/S,p))),r=u,i=c):w?S=((i=x?c:i)-(r=_?u:r))/(o=f-1):o=nt(o=(i-r)/S,Math.round(o),S/1e3)?Math.round(o):Math.ceil(o);var T=Math.max(at(S),at(r));n=Math.pow(10,k(h)?T:h),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var A=0;for(_&&(v&&r!==u?(a.push({value:u}),r<u&&A++,nt(Math.round((r+A*S)*n)/n,u,Ko(u,E,t))&&A++):r<u&&A++);A<o;++A)a.push({value:Math.round((r+A*S)*n)/n});return x&&v&&i!==c?nt(a[a.length-1].value,c,Ko(c,E,t))?a[a.length-1].value=c:a.push({value:c}):x&&i!==c||a.push({value:i}),a}function Ko(t,e,n){var r=n.horizontal,i=it(n.minRotation),o=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}Zo.id="category",Zo.defaults={ticks:{callback:Zo.prototype.getLabelForValue}};var $o=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return Object(g.a)(n,[{key:"parse",value:function(t,e){return k(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}},{key:"handleTickRangeOptions",value:function(){var t=this,e=t.options.beginAtZero,n=t.getUserBounds(),r=n.minDefined,i=n.maxDefined,o=t.min,a=t.max,s=function(t){return o=r?o:t},l=function(t){return a=i?a:t};if(e){var u=Q(o),c=Q(a);u<0&&c<0?l(0):u>0&&c>0&&s(0)}if(o===a){var h=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(h=Math.abs(.05*a)),l(a+h),e||s(o-h)}t.min=o,t.max=a}},{key:"getTickLimit",value:function(){var t,e=this,n=e.options.ticks,r=n.maxTicksLimit,i=n.stepSize;return i?t=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(t=e.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=e.ticks,r=t.getTickLimit(),i=Xo({maxTicks:r=Math.max(2,r),bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:t._maxDigits(),horizontal:t.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},t._range||t);return"ticks"===e.bounds&&rt(i,t,"value"),e.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i}},{key:"configure",value:function(){var t=this,e=t.ticks,r=t.min,i=t.max;if(Object(l.a)(Object(u.a)(n.prototype),"configure",this).call(this),t.options.offset&&e.length){var o=(i-r)/Math.max(e.length-1,1)/2;r-=o,i+=o}t._startValue=r,t._endValue=i,t._valueRange=i-r}},{key:"getLabelForValue",value:function(t){return gn(t,this.chart.options.locale)}}]),n}(oi),Jo=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"determineDataLimits",value:function(){var t=this,e=t.getMinMax(!0),n=e.min,r=e.max;t.min=T(n)?n:0,t.max=T(r)?r:1,t.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var t=this,e=t.isHorizontal(),n=e?t.width:t.height,r=it(t.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=t._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}},{key:"getPixelForValue",value:function(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}]),n}($o);function Qo(t){return 1===t/Math.pow(10,Math.floor(J(t)))}Jo.id="linear",Jo.defaults={ticks:{callback:Kr.formatters.numeric}};var ta=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return Object(g.a)(n,[{key:"parse",value:function(t,e){var n=$o.prototype.parse.apply(this,[t,e]);if(0!==n)return T(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var t=this,e=t.getMinMax(!0),n=e.min,r=e.max;t.min=T(n)?Math.max(0,n):null,t.max=T(r)?Math.max(0,r):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var t=this,e=t.getUserBounds(),n=e.minDefined,r=e.maxDefined,i=t.min,o=t.max,a=function(t){return i=n?i:t},s=function(t){return o=r?o:t},l=function(t,e){return Math.pow(10,Math.floor(J(t))+e)};i===o&&(i<=0?(a(1),s(10)):(a(l(i,-1)),s(l(o,1)))),i<=0&&a(l(o,-1)),o<=0&&s(l(i,1)),t._zero&&t.min!==t._suggestedMin&&i===l(t.min,0)&&a(l(i,-1)),t.min=i,t.max=o}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=function(t,e){var n=Math.floor(J(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[],o=A(t.min,Math.pow(10,Math.floor(J(e.min)))),a=Math.floor(J(o)),s=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do{i.push({value:o,major:Qo(o)}),10===++s&&(s=1,l=++a>=0?1:l),o=Math.round(s*Math.pow(10,a)*l)/l}while(a<n||a===n&&s<r);var u=A(t.max,o);return i.push({value:u,major:Qo(o)}),i}({min:t._userMin,max:t._userMax},t);return"ticks"===e.bounds&&rt(n,t,"value"),e.reverse?(n.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n}},{key:"getLabelForValue",value:function(t){return void 0===t?"0":gn(t,this.chart.options.locale)}},{key:"configure",value:function(){var t=this,e=t.min;Object(l.a)(Object(u.a)(n.prototype),"configure",this).call(this),t._startValue=J(e),t._valueRange=J(t.max)-J(e)}},{key:"getPixelForValue",value:function(t){var e=this;return void 0!==t&&0!==t||(t=e.min),null===t||isNaN(t)?NaN:e.getPixelForDecimal(t===e.min?0:(J(t)-e._startValue)/e._valueRange)}},{key:"getValueForPixel",value:function(t){var e=this,n=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+n*e._valueRange)}}]),n}(oi);function ea(t){var e=t.ticks;if(e.display&&t.display){var n=we(e.backdropPadding);return O(e.font&&e.font.size,ee.font.size)+n.height}return 0}function na(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function ra(t){for(var e,n,r,i={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={},a=[],s=[],l=t.getLabels().length,u=0;u<l;u++){var c=t.options.pointLabels.setContext(t.getPointLabelContext(u));s[u]=c.padding;var h=t.getPointPosition(u,t.drawingArea+s[u]),f=ke(c.font),p=(e=t.ctx,n=f,r=E(r=t._pointLabels[u])?r:[r],{w:re(e,n.string,r),h:r.length*n.lineHeight});a[u]=p;var d=t.getIndexAngle(u),v=ot(d),g=na(v,h.x,p.w,0,180),y=na(v,h.y,p.h,90,270);g.start<i.l&&(i.l=g.start,o.l=d),g.end>i.r&&(i.r=g.end,o.r=d),y.start<i.t&&(i.t=y.start,o.t=d),y.end>i.b&&(i.b=y.end,o.b=d)}t._setReductions(t.drawingArea,i,o),t._pointLabelItems=function(t,e,n){for(var r=[],i=t.getLabels().length,o=t.options,a=ea(o),s=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max),l=0;l<i;l++){var u=0===l?a/2:0,c=t.getPointPosition(l,s+u+n[l]),h=ot(t.getIndexAngle(l)),f=e[l],p=aa(c.y,f.h,h),d=ia(h),v=oa(c.x,f.w,d);r.push({x:c.x,y:p,textAlign:d,left:v,top:p,right:v+f.w,bottom:p+f.h})}return r}(t,a,s)}function ia(t){return 0===t||180===t?"center":t<180?"left":"right"}function oa(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function aa(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function sa(t,e,n,r){var i=t.ctx;if(n)i.arc(t.xCenter,t.yCenter,e,0,q);else{var o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(var a=1;a<r;a++)o=t.getPointPosition(a,e),i.lineTo(o.x,o.y)}}function la(t){return et(t)?t:0}ta.id="logarithmic",ta.defaults={ticks:{callback:Kr.formatters.logarithmic,major:{enabled:!0}}};var ua=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return Object(g.a)(n,[{key:"setDimensions",value:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=ea(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}},{key:"determineDataLimits",value:function(){var t=this,e=t.getMinMax(!1),n=e.min,r=e.max;t.min=T(n)&&!isNaN(n)?n:0,t.max=T(r)&&!isNaN(r)?r:0,t.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/ea(this.options))}},{key:"generateTickLabels",value:function(t){var e=this;$o.prototype.generateTickLabels.call(e,t),e._pointLabels=e.getLabels().map((function(t,n){var r=C(e.options.pointLabels.callback,[t,n],e);return r||0===r?r:""}))}},{key:"fit",value:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?ra(t):t.setCenterPoint(0,0,0,0)}},{key:"_setReductions",value:function(t,e,n){var r=this,i=e.l/Math.sin(n.l),o=Math.max(e.r-r.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-(r.height-r.paddingTop),0)/Math.cos(n.b);i=la(i),o=la(o),a=la(a),s=la(s),r.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(i+o)/2),Math.floor(t-(a+s)/2))),r.setCenterPoint(i,o,a,s)}},{key:"setCenterPoint",value:function(t,e,n,r){var i=this,o=i.width-e-i.drawingArea,a=t+i.drawingArea,s=n+i.drawingArea,l=i.height-i.paddingTop-r-i.drawingArea;i.xCenter=Math.floor((a+o)/2+i.left),i.yCenter=Math.floor((s+l)/2+i.top+i.paddingTop)}},{key:"getIndexAngle",value:function(t){return ut(t*(q/this.getLabels().length)+it(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(t){var e=this;if(k(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n}},{key:"getValueForDistanceFromCenter",value:function(t){if(k(t))return NaN;var e=this,n=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-n:e.min+n}},{key:"getPointLabelContext",value:function(t){var e=this._pointLabels||[];if(t>=0&&t<e.length){var n=e[t];return function(t,e,n){return Object.assign(Object.create(t),{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}},{key:"getPointPosition",value:function(t,e){var n=this,r=n.getIndexAngle(t)-X;return{x:Math.cos(r)*e+n.xCenter,y:Math.sin(r)*e+n.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}},{key:"getBasePosition",value:function(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(t){var e=this._pointLabelItems[t];return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"drawBackground",value:function(){var t=this,e=t.options,n=e.backgroundColor,r=e.grid.circular;if(n){var i=t.ctx;i.save(),i.beginPath(),sa(t,t.getDistanceFromCenterForValue(t._endValue),r,t.getLabels().length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}},{key:"drawGrid",value:function(){var t,e,n,r=this,i=r.ctx,o=r.options,a=o.angleLines,s=o.grid,l=r.getLabels().length;if(o.pointLabels.display&&function(t,e){for(var n=t.ctx,r=t.options.pointLabels,i=e-1;i>=0;i--){var o=r.setContext(t.getPointLabelContext(i)),a=ke(o.font),s=t._pointLabelItems[i],l=s.x,u=s.y,c=s.textAlign,h=s.left,f=s.top,p=s.right,d=s.bottom,v=o.backdropColor;if(!k(v)){var g=we(o.backdropPadding);n.fillStyle=v,n.fillRect(h-g.left,f-g.top,p-h+g.width,d-f+g.height)}fe(n,t._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}(r,l),s.display&&r.ticks.forEach((function(t,n){if(0!==n){e=r.getDistanceFromCenterForValue(t.value);var i=s.setContext(r.getContext(n-1));!function(t,e,n,r){var i=t.ctx,o=e.circular,a=e.color,s=e.lineWidth;!o&&!r||!a||!s||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=s,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),sa(t,n,o,r),i.closePath(),i.stroke(),i.restore())}(r,i,e,l)}})),a.display){for(i.save(),t=r.getLabels().length-1;t>=0;t--){var u=a.setContext(r.getPointLabelContext(t)),c=u.color,h=u.lineWidth;h&&c&&(i.lineWidth=h,i.strokeStyle=c,i.setLineDash(u.borderDash),i.lineDashOffset=u.borderDashOffset,e=r.getDistanceFromCenterForValue(o.ticks.reverse?r.min:r.max),n=r.getPointPosition(t,e),i.beginPath(),i.moveTo(r.xCenter,r.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var t=this,e=t.ctx,n=t.options,r=n.ticks;if(r.display){var i,o,a=t.getIndexAngle(0);e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((function(a,s){if(0!==s||n.reverse){var l=r.setContext(t.getContext(s)),u=ke(l.font);if(i=t.getDistanceFromCenterForValue(t.ticks[s].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;var c=we(l.backdropPadding);e.fillRect(-o/2-c.left,-i-u.size/2-c.top,o+c.width,u.size+c.height)}fe(e,a.label,0,-i,u,{color:l.color})}})),e.restore()}}},{key:"drawTitle",value:function(){}}]),n}($o);ua.id="radialLinear",ua.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Kr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(t){return t},padding:5}},ua.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ua.descriptors={angleLines:{_fallback:"grid"}};var ca={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ha=Object.keys(ca);function fa(t,e){return t-e}function pa(t,e){if(k(e))return null;var n=t._adapter,r=t._parseOpts,i=r.parser,o=r.round,a=r.isoWeekday,s=e;return"function"===typeof i&&(s=i(s)),T(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(o&&(s="week"!==o||!et(a)&&!0!==a?n.startOf(s,o):n.startOf(s,"isoWeek",a)),+s)}function da(t,e,n,r){for(var i=ha.length,o=ha.indexOf(t);o<i-1;++o){var a=ca[ha[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(s*a.size))<=r)return ha[o]}return ha[i-1]}function va(t,e,n){if(n){if(n.length){var r=Se(n,e),i=r.lo,o=r.hi;t[n[i]>=e?n[i]:n[o]]=!0}}else t[e]=!0}function ga(t,e,n){var r,i,o=[],a={},s=e.length;for(r=0;r<s;++r)a[i=e[r]]=r,o.push({value:i,major:!1});return 0!==s&&n?function(t,e,n,r){var i,o,a=t._adapter,s=+a.startOf(e[0].value,r),l=e[e.length-1].value;for(i=s;i<=l;i=+a.add(i,1,r))(o=n[i])>=0&&(e[o].major=!0);return e}(t,o,a,n):o}var ya=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return Object(g.a)(n,[{key:"init",value:function(t,e){var r=t.time||(t.time={}),i=this._adapter=new ur._date(t.adapters.date);D(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},Object(l.a)(Object(u.a)(n.prototype),"init",this).call(this,t),this._normalized=e.normalized}},{key:"parse",value:function(t,e){return void 0===t?null:pa(this,t)}},{key:"beforeLayout",value:function(){Object(l.a)(Object(u.a)(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var t=this,e=t.options,n=t._adapter,r=e.time.unit||"day",i=t.getUserBounds(),o=i.min,a=i.max,s=i.minDefined,l=i.maxDefined;function u(t){s||isNaN(t.min)||(o=Math.min(o,t.min)),l||isNaN(t.max)||(a=Math.max(a,t.max))}s&&l||(u(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||u(t.getMinMax(!1))),o=T(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),a=T(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,t.min=Math.min(o,a-1),t.max=Math.max(o+1,a)}},{key:"_getLabelBounds",value:function(){var t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=e.time,r=e.ticks,i="labels"===r.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&i.length&&(t.min=t._userMin||i[0],t.max=t._userMax||i[i.length-1]);var o=t.min,a=function(t,e,n){for(var r=0,i=t.length;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(i,o,t.max);return t._unit=n.unit||(r.autoSkip?da(n.minUnit,t.min,t.max,t._getLabelCapacity(o)):function(t,e,n,r,i){for(var o=ha.length-1;o>=ha.indexOf(n);o--){var a=ha[o];if(ca[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return ha[n?ha.indexOf(n):0]}(t,a.length,n.minUnit,t.min,t.max)),t._majorUnit=r.major.enabled&&"year"!==t._unit?function(t){for(var e=ha.indexOf(t)+1,n=ha.length;e<n;++e)if(ca[ha[e]].common)return ha[e]}(t._unit):void 0,t.initOffsets(i),e.reverse&&a.reverse(),ga(t,a,t._majorUnit)}},{key:"initOffsets",value:function(t){var e,n,r=this,i=0,o=0;r.options.offset&&t.length&&(e=r.getDecimalForValue(t[0]),i=1===t.length?1-e:(r.getDecimalForValue(t[1])-e)/2,n=r.getDecimalForValue(t[t.length-1]),o=1===t.length?n:(n-r.getDecimalForValue(t[t.length-2]))/2);var a=t.length<3?.5:.25;i=ht(i,0,a),o=ht(o,0,a),r._offsets={start:i,end:o,factor:1/(i+1+o)}}},{key:"_generate",value:function(){var t,e,n=this,r=n._adapter,i=n.min,o=n.max,a=n.options,s=a.time,l=s.unit||da(s.minUnit,i,o,n._getLabelCapacity(i)),u=O(s.stepSize,1),c="week"===l&&s.isoWeekday,h=et(c)||!0===c,f={},p=i;if(h&&(p=+r.startOf(p,"isoWeek",c)),p=+r.startOf(p,h?"day":l),r.diff(o,i,l)>1e5*u)throw new Error(i+" and "+o+" are too far apart with stepSize of "+u+" "+l);var d="data"===a.ticks.source&&n.getDataTimestamps();for(t=p,e=0;t<o;t=+r.add(t,u,l),e++)va(f,t,d);return t!==o&&"ticks"!==a.bounds&&1!==e||va(f,t,d),Object.keys(f).sort((function(t,e){return t-e})).map((function(t){return+t}))}},{key:"getLabelForValue",value:function(t){var e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(t,e,n,r){var i=this,o=i.options,a=o.time.displayFormats,s=i._unit,l=i._majorUnit,u=s&&a[s],c=l&&a[l],h=n[e],f=l&&c&&h&&h.major,p=i._adapter.format(t,r||(f?c:u)),d=o.ticks.callback;return d?C(d,[p,e,n],i):p}},{key:"generateTickLabels",value:function(t){var e,n,r;for(e=0,n=t.length;e<n;++e)(r=t[e]).label=this._tickFormatFunction(r.value,e,t)}},{key:"getDecimalForValue",value:function(t){var e=this;return null===t?NaN:(t-e.min)/(e.max-e.min)}},{key:"getPixelForValue",value:function(t){var e=this,n=e._offsets,r=e.getDecimalForValue(t);return e.getPixelForDecimal((n.start+r)*n.factor)}},{key:"getValueForPixel",value:function(t){var e=this,n=e._offsets,r=e.getDecimalForPixel(t)/n.factor-n.end;return e.min+r*(e.max-e.min)}},{key:"_getLabelSize",value:function(t){var e=this,n=e.options.ticks,r=e.ctx.measureText(t).width,i=it(e.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),a=Math.sin(i),s=e._resolveTickFontOptions(0).size;return{w:r*o+s*a,h:r*a+s*o}}},{key:"_getLabelCapacity",value:function(t){var e=this,n=e.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=e._tickFormatFunction(t,0,ga(e,[t],e._majorUnit),i),a=e._getLabelSize(o),s=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h)-1;return s>0?s:1}},{key:"getDataTimestamps",value:function(){var t,e,n=this,r=n._cache.data||[];if(r.length)return r;var i=n.getMatchingVisibleMetas();if(n._normalized&&i.length)return n._cache.data=i[0].controller.getAllParsedValues(n);for(t=0,e=i.length;t<e;++t)r=r.concat(i[t].controller.getAllParsedValues(n));return n._cache.data=n.normalize(r)}},{key:"getLabelTimestamps",value:function(){var t,e,n=this,r=n._cache.labels||[];if(r.length)return r;var i=n.getLabels();for(t=0,e=i.length;t<e;++t)r.push(pa(n,i[t]));return n._cache.labels=n._normalized?r:n.normalize(r)}},{key:"normalize",value:function(t){return Ce(t.sort(fa))}}]),n}(oi);function ma(t,e,n){var r,i,o,a,s=0,l=t.length-1;if(n){if(e>=t[s].pos&&e<=t[l].pos){var u=Te(t,"pos",e);s=u.lo,l=u.hi}var c=t[s];r=c.pos,o=c.time;var h=t[l];i=h.pos,a=h.time}else{if(e>=t[s].time&&e<=t[l].time){var f=Te(t,"time",e);s=f.lo,l=f.hi}var p=t[s];r=p.time,o=p.pos;var d=t[l];i=d.time,a=d.pos}var v=i-r;return v?o+(a-o)*(e-r)/v:o}ya.id="time",ya.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var ba=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return Object(g.a)(n,[{key:"initOffsets",value:function(){var t=this,e=t._getTimestampsForTable(),r=t._table=t.buildLookupTable(e);t._minPos=ma(r,t.min),t._tableRange=ma(r,t.max)-t._minPos,Object(l.a)(Object(u.a)(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(t){var e,n,r,i,o,a=this.min,s=this.max,l=[],u=[];for(e=0,n=t.length;e<n;++e)(i=t[e])>=a&&i<=s&&l.push(i);if(l.length<2)return[{time:a,pos:0},{time:s,pos:1}];for(e=0,n=l.length;e<n;++e)o=l[e+1],r=l[e-1],i=l[e],Math.round((o+r)/2)!==i&&u.push({time:i,pos:e/(n-1)});return u}},{key:"_getTimestampsForTable",value:function(){var t=this,e=t._cache.all||[];if(e.length)return e;var n=t.getDataTimestamps(),r=t.getLabelTimestamps();return e=n.length&&r.length?t.normalize(n.concat(r)):n.length?n:r,e=t._cache.all=e}},{key:"getDecimalForValue",value:function(t){return(ma(this._table,t)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(t){var e=this,n=e._offsets,r=e.getDecimalForPixel(t)/n.factor-n.end;return ma(e._table,r*e._tableRange+e._minPos,!0)}}]),n}(ya);ba.id="timeseries",ba.defaults=ya.defaults;var _a=[ar,ro,Yo,Object.freeze({__proto__:null,CategoryScale:Zo,LinearScale:Jo,LogarithmicScale:ta,RadialLinearScale:ua,TimeScale:ya,TimeSeriesScale:ba})];Ci.register.apply(Ci,Object(o.a)(_a));var xa=Ci,wa=n(146),ka=n.n(wa),Ea=n(105),Sa=n.n(Ea),Ta=n(147),Aa=n.n(Ta);function Oa(){return(Oa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ma(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var Ca=Object(r.forwardRef)((function(t,e){var n=t.id,o=t.className,a=t.height,s=void 0===a?150:a,l=t.width,u=void 0===l?300:l,c=t.redraw,h=void 0!==c&&c,f=t.type,p=t.data,d=t.options,v=void 0===d?{}:d,g=t.plugins,y=void 0===g?[]:g,m=t.getDatasetAtEvent,b=t.getElementAtEvent,_=t.getElementsAtEvent,x=t.fallbackContent,w=Ma(t,["id","className","height","width","redraw","type","data","options","plugins","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","fallbackContent"]),k=Object(r.useRef)(null),E=Object(r.useMemo)((function(){return"function"===typeof p?k.current?p(k.current):{}:ka()({},p)}),[p,k.current]),S=Object(r.useState)(),T=S[0],A=S[1];Object(r.useImperativeHandle)(e,(function(){return T}),[T]);var O=function(){k.current&&A(new xa(k.current,{type:f,data:E,options:v,plugins:y}))},M=function(){T&&T.destroy()};return Object(r.useEffect)((function(){return O(),function(){return M()}}),[]),Object(r.useEffect)((function(){h?(M(),setTimeout((function(){O()}),0)):function(){if(T){if(v&&(T.options=Oa({},v)),!T.config.data)return T.config.data=E,void T.update();var t=E.datasets,e=void 0===t?[]:t,n=Ma(E,["datasets"]),r=T.config.data.datasets,i=void 0===r?[]:r;Sa()(T.config.data,n),T.config.data.datasets=e.map((function(t){var e=Aa()(i,(function(e){return e.label===t.label&&e.type===t.type}));return e&&t.data?(e.data?e.data.length=t.data.length:e.data=[],Sa()(e.data,t.data),Oa({},e,t,{data:e.data})):t})),T.update()}}()}),[t,E]),i.a.createElement("canvas",Object.assign({},w,{height:s,width:u,ref:k,id:n,className:o,onClick:function(t){T&&(m&&m(T.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1),t),b&&b(T.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),t),_&&_(T.getElementsAtEventForMode(t,"index",{intersect:!0},!1),t))},"data-testid":"canvas",role:"img"}),x)})),ja=Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"line",ref:e,options:t.options||{}}))}));Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"bar",ref:e,options:t.options||{}}))})),Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"radar",ref:e,options:t.options||{}}))})),Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"doughnut",ref:e,options:t.options||{}}))})),Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"polarArea",ref:e,options:t.options||{}}))})),Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"bubble",ref:e,options:t.options||{}}))})),Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"pie",ref:e,options:t.options||{}}))})),Object(r.forwardRef)((function(t,e){return i.a.createElement(Ca,Object.assign({},t,{type:"scatter",ref:e,options:t.options||{}}))}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i=function(t){return t?"":void 0},o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(29),i=n(99),o=n.n(i),a=n(145),s=n(1),l=n(76),u=n.n(l),c=n(301),h=n(103);n(48);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(){return f({},Object(c.b)(),{theme:Object(h.c)()})}function d(t,e,n){var i,l;void 0===e&&(e={}),void 0===n&&(n={});var c=e.styleConfig,h=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["styleConfig"]),f=p(),d=f.theme,v=f.colorMode,g=Object(r.c)(d,"components."+t),y=c||g,m=o()({theme:d,colorMode:v},null!=(i=null==y?void 0:y.defaultProps)?i:{},Object(r.a)(Object(r.f)(h,["children"]))),b=Object(s.useRef)({});return Object(s.useMemo)((function(){if(y){var t,e,r,i,s,l,c=Object(a.b)(null!=(t=y.baseStyle)?t:{},m),h=Object(a.b)(null!=(e=null==(r=y.variants)?void 0:r[m.variant])?e:{},m),f=Object(a.b)(null!=(i=null==(s=y.sizes)?void 0:s[m.size])?i:{},m),p=o()({},c,f,h);null!=(l=n)&&l.isMultiPart&&y.parts&&y.parts.forEach((function(t){var e;p[t]=null!=(e=p[t])?e:{}})),u()(b.current,p)||(b.current=p)}return b.current}),[y,m,null==(l=n)?void 0:l.isMultiPart])}},,,,,,function(t,e,n){"use strict";var r=n(84),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function y(){}function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!w.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:_.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+T(l,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),A(a,e,n,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+T(s=t[u],u);l+=A(s,e,n,c,a)}else if("function"===typeof(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=c.call(t),u=0;!(s=t.next()).done;)l+=A(s=s.value,e,n,c=r+T(s,u++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function O(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var C={current:null};function j(){var t=C.current;if(null===t)throw Error(p(321));return t}var I={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error(p(143));return t}},e.Component=g,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=_.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)x.call(e,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return j().useCallback(t,e)},e.useContext=function(t,e){return j().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return j().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return j().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return j().useLayoutEffect(t,e)},e.useMemo=function(t,e){return j().useMemo(t,e)},e.useReducer=function(t,e,n){return j().useReducer(t,e,n)},e.useRef=function(t){return j().useRef(t)},e.useState=function(t){return j().useState(t)},e.version="17.0.2"},function(t,e,n){"use strict";var r=n(1),i=n(84),o=n(164);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function _(t,e,n,r){var i=y.hasOwnProperty(e)?y[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,b);y[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,b);y[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,b);y[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,k=60106,E=60107,S=60108,T=60114,A=60109,O=60110,M=60112,C=60113,j=60120,I=60115,P=60116,R=60121,L=60128,N=60129,D=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;w=F("react.element"),k=F("react.portal"),E=F("react.fragment"),S=F("react.strict_mode"),T=F("react.profiler"),A=F("react.provider"),O=F("react.context"),M=F("react.forward_ref"),C=F("react.suspense"),j=F("react.suspense_list"),I=F("react.memo"),P=F("react.lazy"),R=F("react.block"),F("react.scope"),L=F("react.opaque.id"),N=F("react.debug_trace_mode"),D=F("react.offscreen"),z=F("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function U(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=H&&t[H]||t["@@iterator"])?t:null}function V(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var G=!1;function q(t,e){if(!t||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V(t):""}function Y(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=q(t.type,!1);case 11:return t=q(t.type.render,!1);case 22:return t=q(t.type._render,!1);case 1:return t=q(t.type,!0);default:return""}}function W(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case j:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return W(t.type);case R:return W(t._render);case P:e=t._payload,t=t._init;try{return W(t(e))}catch(n){}}return null}function Z(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function X(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=X(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Z(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Z(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Z(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Z(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Z(n)}}function ut(t,e){var n=Z(e.value),r=Z(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,gt,yt=(gt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return gt(t,e)}))}:gt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function xt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var kt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(t,e){if(e){if(kt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,Ot=null,Mt=null;function Ct(t){if(t=ti(t)){if("function"!==typeof At)throw Error(a(280));var e=t.stateNode;e&&(e=ni(e),At(t.stateNode,t.type,e))}}function jt(t){Ot?Mt?Mt.push(t):Mt=[t]:Ot=t}function It(){if(Ot){var t=Ot,e=Mt;if(Mt=Ot=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Pt(t,e){return t(e)}function Rt(t,e,n,r,i){return t(e,n,r,i)}function Lt(){}var Nt=Pt,Dt=!1,zt=!1;function Ft(){null===Ot&&null===Mt||(Lt(),It())}function Bt(t,e){var n=t.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ht=!1;if(h)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(gt){Ht=!1}function Vt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Gt=!1,qt=null,Yt=!1,Wt=null,Zt={onError:function(t){Gt=!0,qt=t}};function Xt(t,e,n,r,i,o,a,s,l){Gt=!1,qt=null,Vt.apply(Zt,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Kt(t)!==t)throw Error(a(188))}function Qt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,le=null,ue=null,ce=new Map,he=new Map,fe=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ue=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function ge(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ti(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ye(t){var e=Qr(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=$t(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ti(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){me(t)&&n.delete(e)}function _e(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ti(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==le&&me(le)&&(le=null),null!==ue&&me(ue)&&(ue=null),ce.forEach(be),he.forEach(be)}function xe(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_e)))}function we(t){function e(e){return xe(e,t)}if(0<ae.length){xe(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&xe(se,t),null!==le&&xe(le,t),null!==ue&&xe(ue,t),ce.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ye(n),null===n.blockedOn&&fe.shift()}function ke(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ee={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionend:ke("Transition","TransitionEnd")},Se={},Te={};function Ae(t){if(Se[t])return Se[t];if(!Ee[t])return t;var e,n=Ee[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Se[t]=n[e];return t}h&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete Ee.animationend.animation,delete Ee.animationiteration.animation,delete Ee.animationstart.animation),"TransitionEvent"in window||delete Ee.transitionend.transition);var Oe=Ae("animationend"),Me=Ae("animationiteration"),Ce=Ae("animationstart"),je=Ae("transitionend"),Ie=new Map,Pe=new Map,Re=["abort","abort",Oe,"animationEnd",Me,"animationIteration",Ce,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",je,"transitionEnd","waiting","waiting"];function Le(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pe.set(r,e),Ie.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Ne=8;function De(t){if(0!==(1&t))return Ne=15,1;if(0!==(2&t))return Ne=14,2;if(0!==(4&t))return Ne=13,4;var e=24&t;return 0!==e?(Ne=12,e):0!==(32&t)?(Ne=11,32):0!==(e=192&t)?(Ne=10,e):0!==(256&t)?(Ne=9,256):0!==(e=3584&t)?(Ne=8,e):0!==(4096&t)?(Ne=7,4096):0!==(e=4186112&t)?(Ne=6,e):0!==(e=62914560&t)?(Ne=5,e):67108864&t?(Ne=4,67108864):0!==(134217728&t)?(Ne=3,134217728):0!==(e=805306368&t)?(Ne=2,e):0!==(1073741824&t)?(Ne=1,1073741824):(Ne=8,t)}function ze(t,e){var n=t.pendingLanes;if(0===n)return Ne=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Ne=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=De(l),i=Ne):0!==(s&=o)&&(r=De(s),i=Ne)}else 0!==(o=n&~a)?(r=De(o),i=Ne):0!==s&&(r=De(s),i=Ne);if(0===r)return 0;if(r=n&((0>(r=31-Ge(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(De(e),i<=Ne)return e;Ne=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ge(e)),r|=t[n],e&=~i;return r}function Fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Be(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=He(24&~e))?Be(10,e):t;case 10:return 0===(t=He(192&~e))?Be(8,e):t;case 8:return 0===(t=He(3584&~e))&&(0===(t=He(4186112&~e))&&(t=512)),t;case 2:return 0===(e=He(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function He(t){return t&-t}function Ue(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ve(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ge(e)]=n}var Ge=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(qe(t)/Ye|0)|0},qe=Math.log,Ye=Math.LN2;var We=o.unstable_UserBlockingPriority,Ze=o.unstable_runWithPriority,Xe=!0;function Ke(t,e,n,r){Dt||Lt();var i=Je,o=Dt;Dt=!0;try{Rt(i,t,e,n,r)}finally{(Dt=o)||Ft()}}function $e(t,e,n,r){Ze(We,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Xe)if((i=0===(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Qe(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ge(se,t,e,n,r,i),!0;case"dragenter":return le=ge(le,t,e,n,r,i),!0;case"mouseover":return ue=ge(ue,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,ge(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,ge(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Ir(t,e,r,null,n)}}}function Qe(t,e,n,r){var i=Tt(r);if(null!==(i=Qr(i))){var o=Kt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$t(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function ln(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var un,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(fn),dn=i({},fn,{view:0,detail:0}),vn=ln(dn),gn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(un=t.screenX-hn.screenX,cn=t.screenY-hn.screenY):cn=un=0,hn=t),un)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),yn=ln(gn),mn=ln(i({},gn,{dataTransfer:0})),bn=ln(i({},dn,{relatedTarget:0})),_n=ln(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=ln(i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wn=ln(i({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function An(){return Tn}var On=ln(i({},dn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Mn=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=ln(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),jn=ln(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=ln(i({},gn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Rn=h&&"CompositionEvent"in window,Ln=null;h&&"documentMode"in document&&(Ln=document.documentMode);var Nn=h&&"TextEvent"in window&&!Ln,Dn=h&&(!Rn||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function qn(t,e,n,r){jt(r),0<(e=Rr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yn=null,Wn=null;function Zn(t){Tr(t,0)}function Xn(t){if($(ei(t)))return t}function Kn(t,e){if("change"===t)return e}var $n=!1;if(h){var Jn;if(h){var Qn="oninput"in document;if(!Qn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Qn="function"===typeof tr.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Yn&&(Yn.detachEvent("onpropertychange",nr),Wn=Yn=null)}function nr(t){if("value"===t.propertyName&&Xn(Wn)){var e=[];if(qn(e,Wn,t,Tt(t)),t=Zn,Dt)t(e);else{Dt=!0;try{Pt(t,e)}finally{Dt=!1,Ft()}}}}function rr(t,e,n){"focusin"===t?(er(),Wn=n,(Yn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Wn)}function or(t,e){if("click"===t)return Xn(e)}function ar(t,e){if("input"===t||"change"===t)return Xn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},lr=Object.prototype.hasOwnProperty;function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hr(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function fr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Rr(yr,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}Le("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Le("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Le(Re,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<xr.length;wr++)Pe.set(xr[wr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Sr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,l,u){if(Xt.apply(this,arguments),Gt){if(!Gt)throw Error(a(198));var c=qt;Gt=!1,qt=null,Yt||(Yt=!0,Wt=c)}}(r,e,void 0,t),t.currentTarget=null}function Tr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Sr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Sr(i,s,u),o=l}}}if(Yt)throw t=Wt,Yt=!1,Wt=null,t}function Ar(t,e){var n=ri(e),r=t+"__bubble";n.has(r)||(jr(e,t,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){t[Or]||(t[Or]=!0,s.forEach((function(e){Er.has(e)||Cr(e,!1,t,null),Cr(e,!0,t,null)})))}function Cr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Er.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ri(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),jr(o,t,i,e),a.add(s))}function jr(t,e,n,r){var i=Pe.get(e);switch(void 0===i?2:i){case 0:i=Ke;break;case 1:i=$e;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Ht||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ir(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Qr(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(zt)return t(e,n);zt=!0;try{Nt(t,e,n)}finally{zt=!1,Ft()}}((function(){var r=o,i=Tt(n),a=[];t:{var s=Ie.get(t);if(void 0!==s){var l=pn,u=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Oe:case Me:case Ce:l=_n;break;case je:l=jn;break;case"scroll":l=vn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Bt(d,f))&&c.push(Pr(d,v,p)))),h)break;d=d.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(u=n.relatedTarget||n.fromElement)||!Qr(u)&&!u[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qr(u):null)&&(u!==(h=Kt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=yn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=Mn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==l?s:ei(l),p=null==u?s:ei(u),(s=new c(v,d+"leave",l,n,i)).target=h,s.relatedTarget=p,v=null,Qr(i)===r&&((c=new c(f,d+"enter",u,n,i)).target=p,c.relatedTarget=h,v=c),h=v,l&&u)t:{for(f=u,d=0,p=c=l;p;p=Lr(p))d++;for(p=0,v=f;v;v=Lr(v))p++;for(;0<d-p;)c=Lr(c),d--;for(;0<p-d;)f=Lr(f),p--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break t;c=Lr(c),f=Lr(f)}c=null}else c=null;null!==l&&Nr(a,s,l,c,!1),null!==u&&null!==h&&Nr(a,h,u,c,!0)}if("select"===(l=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Gn(s))if($n)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(t,r))?qn(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&it(s,"number",s.value)),y=r?ei(r):window,t){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Rn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Un?Bn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Un=!0)),0<(y=Rr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Hn(n))&&(b.data=m))),(m=Nn?function(t,e){switch(t){case"compositionend":return Hn(e);case"keypress":return 32!==e.which?null:(Fn=!0,zn);case"textInput":return(t=e.data)===zn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!Rn&&Bn(t,e)?(t=rn(),nn=en=tn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Tr(a,e)}))}function Pr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Bt(t,n))&&r.unshift(Pr(t,o,i)),null!=(o=Bt(t,e))&&r.push(Pr(t,o,i))),t=t.return}return r}function Lr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Nr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Bt(n,o))&&a.unshift(Pr(n,l,s)):i||null!=(l=Bt(n,o))&&a.push(Pr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Dr(){}var zr=null,Fr=null;function Br(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Hr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Ur="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function qr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Wr=0;var Zr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Zr,Kr="__reactProps$"+Zr,$r="__reactContainer$"+Zr,Jr="__reactEvents$"+Zr;function Qr(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[Xr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Yr(t);null!==t;){if(n=t[Xr])return n;t=Yr(t)}return e}n=(t=n).parentNode}return null}function ti(t){return!(t=t[Xr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ni(t){return t[Kr]||null}function ri(t){var e=t[Jr];return void 0===e&&(e=t[Jr]=new Set),e}var ii=[],oi=-1;function ai(t){return{current:t}}function si(t){0>oi||(t.current=ii[oi],ii[oi]=null,oi--)}function li(t,e){oi++,ii[oi]=t.current,t.current=e}var ui={},ci=ai(ui),hi=ai(!1),fi=ui;function pi(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function di(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vi(){si(hi),si(ci)}function gi(t,e,n){if(ci.current!==ui)throw Error(a(168));li(ci,e),li(hi,n)}function yi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,W(e)||"Unknown",o));return i({},n,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,fi=ci.current,li(ci,t),li(hi,hi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=yi(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,si(hi),si(ci),li(ci,t)):si(hi),li(hi,n)}var _i=null,xi=null,wi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ai=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,ji=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Ri={},Li=void 0!==Ti?Ti:function(){},Ni=null,Di=null,zi=!1,Fi=Ai(),Bi=1e4>Fi?Ai:function(){return Ai()-Fi};function Hi(){switch(Oi()){case Mi:return 99;case Ci:return 98;case ji:return 97;case Ii:return 96;case Pi:return 95;default:throw Error(a(332))}}function Ui(t){switch(t){case 99:return Mi;case 98:return Ci;case 97:return ji;case 96:return Ii;case 95:return Pi;default:throw Error(a(332))}}function Vi(t,e){return t=Ui(t),wi(t,e)}function Gi(t,e,n){return t=Ui(t),ki(t,e,n)}function qi(){if(null!==Di){var t=Di;Di=null,Ei(t)}Yi()}function Yi(){if(!zi&&null!==Ni){zi=!0;var t=0;try{var e=Ni;Vi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(t+1)),ki(Mi,qi),n}finally{zi=!1}}}var Wi=x.ReactCurrentBatchConfig;function Zi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Xi=ai(null),Ki=null,$i=null,Ji=null;function Qi(){Ji=$i=Ki=null}function to(t){var e=Xi.current;si(Xi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){Ki=t,Ji=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Ra=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Ki)throw Error(a(308));$i=e,Ki.dependencies={lanes:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function uo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function co(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,h=c=u=null;;){l=a.lane;var p=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(l=e,p=n,v.tag){case 1:if("function"===typeof(d=v.payload)){f=d.call(p,f,l);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(l="function"===typeof(d=v.payload)?d.call(p,f,l):d)||void 0===l)break t;f=i({},f,l);break t;case 2:io=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=p,u=f):h=h.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,zs|=s,t.lanes=s,t.memoizedState=f}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function po(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=so(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),lo(t,o),hl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=so(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),lo(t,o),hl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),r=cl(t),i=so(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),lo(t,i),hl(t,r,n)}};function go(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function yo(t,e,n){var r=!1,i=ui,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=di(e)?fi:ci.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?pi(t,i):ui),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fo,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=di(e)?fi:ci.current,i.context=pi(t,o)),co(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(po(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),co(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var _o=Array.isArray;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===fo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function wo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function ko(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Vl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Wl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=xo(t,e,n),r.return=t,r):((r=Gl(n.type,n.key,n.props,null,t.mode,r)).ref=xo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Zl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=ql(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Wl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Gl(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case k:return(e=Zl(e,t.mode,n)).return=t,e}if(_o(e)||U(e))return(e=ql(e,t.mode,n,null)).return=t,e;wo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?h(t,e,n.props.children,r,i):u(t,e,n,r):null;case k:return n.key===i?c(t,e,n,r):null}if(_o(n)||U(n))return null!==i?null:h(t,e,n,r,null);wo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return t=t.get(null===r.key?n:r.key)||null,r.type===E?h(e,t,r.props.children,i,r.key):u(e,t,r,i);case k:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||U(r))return h(e,t=t.get(n)||null,r,i,null);wo(e,r)}return null}function v(i,a,s,l){for(var u=null,c=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=p(i,h,s[v],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,v),null===c?u=y:c.sibling=y,c=y,h=g}if(v===s.length)return n(i,h),u;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],l))&&(a=o(h,a,v),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);v<s.length;v++)null!==(g=d(h,i,v,s[v],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),u}function g(i,s,l,u){var c=U(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=s,g=s=0,y=null,m=l.next();null!==v&&!m.done;g++,m=l.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=p(i,v,m.value,u);if(null===b){null===v&&(v=y);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,v=y}if(m.done)return n(i,v),c;if(null===v){for(;!m.done;g++,m=l.next())null!==(m=f(i,m.value,u))&&(s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return c}for(v=r(i,v);!m.done;g++,m=l.next())null!==(m=d(v,i,g,m.value,u))&&(t&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"===typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===E){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}break;default:if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=xo(t,u,o),r.return=t,t=r;break t}}n(t,u);break}e(t,u),u=u.sibling}o.type===E?((r=ql(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Gl(o.type,o.key,o.props,null,t.mode,l)).ref=xo(t,r,o),l.return=t,t=l)}return s(t);case k:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Zl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Wl(o,t.mode,l)).return=t,t=r),s(t);if(_o(o))return v(t,r,o,l);if(U(o))return g(t,r,o,l);if(c&&wo(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(t.type)||"Component"))}return n(t,r)}}var Eo=ko(!0),So=ko(!1),To={},Ao=ai(To),Oo=ai(To),Mo=ai(To);function Co(t){if(t===To)throw Error(a(174));return t}function jo(t,e){switch(li(Mo,e),li(Oo,t),li(Ao,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Ao),li(Ao,e)}function Io(){si(Ao),si(Oo),si(Mo)}function Po(t){Co(Mo.current);var e=Co(Ao.current),n=dt(e,t.type);e!==n&&(li(Oo,t),li(Ao,n))}function Ro(t){Oo.current===t&&(si(Ao),si(Oo))}var Lo=ai(0);function No(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Do=null,zo=null,Fo=!1;function Bo(t,e){var n=Hl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ho(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Uo(t){if(Fo){var e=zo;if(e){var n=e;if(!Ho(t,e)){if(!(e=qr(n.nextSibling))||!Ho(t,e))return t.flags=-1025&t.flags|2,Fo=!1,void(Do=t);Bo(Do,n)}Do=t,zo=qr(e.firstChild)}else t.flags=-1025&t.flags|2,Fo=!1,Do=t}}function Vo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Do=t}function Go(t){if(t!==Do)return!1;if(!Fo)return Vo(t),Fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Hr(e,t.memoizedProps))for(e=zo;e;)Bo(t,e),e=qr(e.nextSibling);if(Vo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){zo=qr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}zo=null}}else zo=Do?qr(t.stateNode.nextSibling):null;return!0}function qo(){zo=Do=null,Fo=!1}var Yo=[];function Wo(){for(var t=0;t<Yo.length;t++)Yo[t]._workInProgressVersionPrimary=null;Yo.length=0}var Zo=x.ReactCurrentDispatcher,Xo=x.ReactCurrentBatchConfig,Ko=0,$o=null,Jo=null,Qo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ra(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ia(t,e,n,r,i,o){if(Ko=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=null===t||null===t.memoizedState?Ca:ja,t=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Qo=Jo=null,e.updateQueue=null,Zo.current=Ia,t=n(r,i)}while(ea)}if(Zo.current=Ma,e=null!==Jo&&null!==Jo.next,Ko=0,Qo=Jo=$o=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?$o.memoizedState=Qo=t:Qo=Qo.next=t,Qo}function aa(){if(null===Jo){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=Jo.next;var e=null===Qo?$o.memoizedState:Qo.next;if(null!==e)Qo=e,Jo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Jo=t).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Qo?$o.memoizedState=Qo=t:Qo=Qo.next=t}return Qo}function sa(t,e){return"function"===typeof e?e(t):e}function la(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Ko&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,$o.lanes|=c,zs|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,sr(r,e.memoizedState)||(Ra=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);sr(o,e.memoizedState)||(Ra=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Ko&t)===t)&&(e._workInProgressVersionPrimary=r,Yo.push(e))),t)return n(e._source);throw Yo.push(e),Error(a(350))}function ha(t,e,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),l=Zo.current,u=l.useState((function(){return ca(i,e,n)})),c=u[1],h=u[0];u=Qo;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var g=$o;return t.memoizedState={refs:p,source:e,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var t=o(e._source);if(!sr(s,t)){t=n(e._source),sr(h,t)||(c(t),t=cl(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var l=31-Ge(a),u=1<<l;r[l]|=t,a&=~u}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),sr(d,n)&&sr(v,e)&&sr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=c=Oa.bind(null,$o,t),u.queue=t,u.baseQueue=null,h=ca(i,e,n),u.memoizedState=u.baseState=h),h}function fa(t,e,n){return ha(aa(),t,e,n)}function pa(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=Oa.bind(null,$o,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function va(t){return t={current:t},oa().memoizedState=t}function ga(){return aa().memoizedState}function ya(t,e,n,r){var i=oa();$o.flags|=t,i.memoizedState=da(1|e,n,void 0,void 0===r?null:r)}function ma(t,e,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void da(e,n,o,r)}$o.flags|=t,i.memoizedState=da(1|e,n,o,r)}function ba(t,e){return ya(516,4,t,e)}function _a(t,e){return ma(516,4,t,e)}function xa(t,e){return ma(4,2,t,e)}function wa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ka(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,wa.bind(null,e,t),n)}function Ea(){}function Sa(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ta(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Aa(t,e){var n=Hi();Vi(98>n?98:n,(function(){t(!0)})),Vi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{t(!1),e()}finally{Xo.transition=n}}))}function Oa(t,e,n){var r=ul(),i=cl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===$o||null!==a&&a===$o)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,sr(l,s))return}catch(u){}hl(t,i,r)}}var Ma={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ca={readContext:ro,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:ro,useEffect:ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ya(4,2,wa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ya(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Oa.bind(null,$o,t),[r.memoizedState,t]},useRef:va,useState:pa,useDebugValue:Ea,useDeferredValue:function(t){var e=pa(t),n=e[0],r=e[1];return ba((function(){var e=Xo.transition;Xo.transition=1;try{r(t)}finally{Xo.transition=e}}),[t]),n},useTransition:function(){var t=pa(!1),e=t[0];return va(t=Aa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ha(r,t,e,n)},useOpaqueIdentifier:function(){if(Fo){var t=!1,e=function(t){return{$$typeof:L,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=pa(e)[1];return 0===(2&$o.mode)&&($o.flags|=516,da(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),e}return pa(e="r:"+(Wr++).toString(36)),e},unstable_isNewReconciler:!1},ja={readContext:ro,useCallback:Sa,useContext:ro,useEffect:_a,useImperativeHandle:ka,useLayoutEffect:xa,useMemo:Ta,useReducer:la,useRef:ga,useState:function(){return la(sa)},useDebugValue:Ea,useDeferredValue:function(t){var e=la(sa),n=e[0],r=e[1];return _a((function(){var e=Xo.transition;Xo.transition=1;try{r(t)}finally{Xo.transition=e}}),[t]),n},useTransition:function(){var t=la(sa)[0];return[ga().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},Ia={readContext:ro,useCallback:Sa,useContext:ro,useEffect:_a,useImperativeHandle:ka,useLayoutEffect:xa,useMemo:Ta,useReducer:ua,useRef:ga,useState:function(){return ua(sa)},useDebugValue:Ea,useDeferredValue:function(t){var e=ua(sa),n=e[0],r=e[1];return _a((function(){var e=Xo.transition;Xo.transition=1;try{r(t)}finally{Xo.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[ga().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Pa=x.ReactCurrentOwner,Ra=!1;function La(t,e,n,r){e.child=null===t?So(e,null,n,r):Eo(e,t.child,n,r)}function Na(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=ia(t,e,n,r,o,i),null===t||Ra?(e.flags|=1,La(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Da(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Ul(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Gl(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,za(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Vl(a,r)).ref=e.ref,t.return=e,e.child=t)}function za(t,e,n,r,i,o){if(null!==t&&ur(t.memoizedProps,r)&&t.ref===e.ref){if(Ra=!1,0===(o&i))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Ra=!0)}return Ha(t,e,n,r,o)}function Fa(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},bl(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bl(e,t),null;e.memoizedState={baseLanes:0},bl(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,bl(e,r);return La(t,e,i,n),e.child}function Ba(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ha(t,e,n,r,i){var o=di(n)?fi:ci.current;return o=pi(e,o),no(e,i),n=ia(t,e,n,r,o,i),null===t||Ra?(e.flags|=1,La(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ua(t,e,n,r,i){if(di(n)){var o=!0;mi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),yo(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=pi(e,u=di(n)?fi:ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&mo(e,a,r,u),io=!1;var f=e.memoizedState;a.state=f,co(e,r,a,i),l=e.memoizedState,s!==r||f!==l||hi.current||io?("function"===typeof c&&(po(e,n,c,r),l=e.memoizedState),(s=io||go(e,n,s,r,f,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Zi(e.type,s),a.props=u,h=e.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(e,l=di(n)?fi:ci.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==l)&&mo(e,a,r,l),io=!1,f=e.memoizedState,a.state=f,co(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||hi.current||io?("function"===typeof p&&(po(e,n,p,r),d=e.memoizedState),(u=io||go(e,n,u,r,f,d,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Va(t,e,n,r,o,i)}function Va(t,e,n,r,i,o){Ba(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&bi(e,n,!1),ns(t,e,o);r=e.stateNode,Pa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,s,o)):La(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function Ga(t){var e=t.stateNode;e.pendingContext?gi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&gi(0,e.context,!1),jo(t,e.containerInfo)}var qa,Ya,Wa,Za={dehydrated:null,retryLane:0};function Xa(t,e,n){var r,i=e.pendingProps,o=Lo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Lo,1&o),null===t?(void 0!==i.fallback&&Uo(e),t=i.children,o=i.fallback,a?(t=Ka(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,t):"number"===typeof i.unstable_expectedLoadTime?(t=Ka(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,e.lanes=33554432,t):((n=Yl({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Ja(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Za,i):(n=$a(t,e,i.children,n),e.memoizedState=null,n))}function Ka(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Yl(e,i,0,null),n=ql(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function $a(t,e,n,r){var i=t.child;return t=i.sibling,n=Vl(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ja(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Vl(a,s),null!==t?r=Vl(t,r):(r=ql(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Qa(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(La(t,e,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qa(t,n);else if(19===t.tag)Qa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(li(Lo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===No(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),zs|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Vl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Vl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!Fo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(e.type)&&vi(),null;case 3:return Io(),si(hi),si(ci),Wo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Go(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Ro(e);var o=Co(Mo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ya(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Co(Ao.current),Go(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xr]=e,r[Kr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(t=0;t<kr.length;t++)Ar(kr[t],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":tt(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":lt(r,s),Ar("invalid",r)}for(var u in Et(n,s),t=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Ar("scroll",r));switch(n){case"input":K(r),rt(r,s,!0);break;case"textarea":K(r),ct(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Dr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=pt(n)),t===ht?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Xr]=e,t[Kr]=r,qa(t,e),e.stateNode=t,u=St(n,r),n){case"dialog":Ar("cancel",t),Ar("close",t),o=r;break;case"iframe":case"object":case"embed":Ar("load",t),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Ar(kr[o],t);o=r;break;case"source":Ar("error",t),o=r;break;case"img":case"image":case"link":Ar("error",t),Ar("load",t),o=r;break;case"details":Ar("toggle",t),o=r;break;case"input":tt(t,r),o=Q(t,r),Ar("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",t);break;case"textarea":lt(t,r),o=st(t,r),Ar("invalid",t);break;default:o=r}Et(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?wt(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&yt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&mt(t,h):"number"===typeof h&&mt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Ar("scroll",t):null!=h&&_(t,s,h,u))}switch(n){case"input":K(t),rt(t,r,!1);break;case"textarea":K(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Z(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Dr)}Br(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Wa(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Co(Mo.current),Co(Ao.current),Go(e)?(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=e,e.stateNode=r)}return null;case 13:return si(Lo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Go(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Cs||0===(134217727&zs)&&0===(134217727&Fs)||vl(Cs,Is))),(r||n)&&(e.flags|=4),null);case 4:return Io(),null===t&&Mr(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return di(e.type)&&vi(),null;case 19:if(si(Lo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=No(t))){for(e.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return li(Lo,1&Lo.current|2),e.child}t=t.sibling}null!==r.tail&&Bi()>Vs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=No(u))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Fo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Vs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=Lo.current,li(Lo,s?1&e|2:1&e),n):null;case 23:case 24:return _l(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:di(t.type)&&vi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Io(),si(hi),si(ci),Wo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Ro(t),null;case 13:return si(Lo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(Lo),null;case 4:return Io(),null;case 10:return to(t),null;case 23:case 24:return _l(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}qa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Co(Ao.current);var a,s=null;switch(n){case"input":o=Q(t,o),r=Q(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Dr)}for(h in Et(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",t),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Wa=function(t,e,n,r){n!==r&&(e.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function us(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ws||(Ws=!0,Zs=r),ss(0,e)},n}function cs(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Dl(t,n)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Gr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Rl(n,t),Pl(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Br(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function vs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(t,e){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(_i,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Rl(e,n);else{r=e;try{i()}catch(o){Dl(r,o)}}n=n.next}while(n!==t)}break;case 1:if(fs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Dl(e,o)}break;case 5:fs(e);break;case 4:ws(t,e)}}function ys(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?_s(t,n,e):xs(t,n,e)}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Dr));else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function xs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(xs(t,e,n),t=t.sibling;null!==t;)xs(t,e,n),t=t.sibling}function ws(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,u=l;;)if(gs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Kr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?wt(n,l):"dangerouslySetInnerHTML"===s?yt(n,l):"children"===s?mt(n,l):_(n,s,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Us=Bi(),vs(e.child,!0)),void Es(e);case 19:return void Es(e);case 17:return;case 23:case 24:return void vs(e,null!==e.memoizedState)}throw Error(a(163))}function Es(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var r=Fl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ss(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ts=Math.ceil,As=x.ReactCurrentDispatcher,Os=x.ReactCurrentOwner,Ms=0,Cs=null,js=null,Is=0,Ps=0,Rs=ai(0),Ls=0,Ns=null,Ds=0,zs=0,Fs=0,Bs=0,Hs=null,Us=0,Vs=1/0;function Gs(){Vs=Bi()+500}var qs,Ys=null,Ws=!1,Zs=null,Xs=null,Ks=!1,$s=null,Js=90,Qs=[],tl=[],el=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function ul(){return 0!==(48&Ms)?Bi():-1!==il?il:il=Bi()}function cl(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Hi()?1:2;if(0===ol&&(ol=Ds),0!==Wi.transition){0!==al&&(al=null!==Hs?Hs.pendingLanes:0),t=ol;var e=4186112&~al;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Hi(),0!==(4&Ms)&&98===t?t=Be(12,ol):t=Be(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol),t}function hl(t,e,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(t=fl(t,e)))return null;Ve(t,e,n),t===Cs&&(Fs|=e,4===Ls&&vl(t,Is));var r=Hi();1===e?0!==(8&Ms)&&0===(48&Ms)?gl(t):(pl(t,n),0===Ms&&(Gs(),qi())):(0===(4&Ms)||98!==r&&99!==r||(null===el?el=new Set([t]):el.add(t)),pl(t,n)),Hs=t}function fl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pl(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Ge(s),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=e,De(u);var h=Ne;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);s&=~u}if(r=ze(t,t===Cs?Is:0),e=Ne,0===r)null!==n&&(n!==Ri&&Ei(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Ri&&Ei(n)}15===e?(n=gl.bind(null,t),null===Ni?(Ni=[n],Di=ki(Mi,Yi)):Ni.push(n),n=Ri):14===e?n=Gi(99,gl.bind(null,t)):n=Gi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),dl.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function dl(t){if(il=-1,al=ol=0,0!==(48&Ms))throw Error(a(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var n=ze(t,t===Cs?Is:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var o=kl();for(Cs===t&&Is===r||(Gs(),xl(t,r));;)try{Tl();break}catch(l){wl(t,l)}if(Qi(),As.current=o,Ms=i,null!==js?r=0:(Cs=null,Is=0,r=Ls),0!==(Ds&Fs))xl(t,0);else if(0!==r){if(2===r&&(Ms|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(n=Fe(t))&&(r=El(t,n))),1===r)throw e=Ns,xl(t,0),vl(t,n),pl(t,Bi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Ml(t);break;case 3:if(vl(t,n),(62914560&n)===n&&10<(r=Us+500-Bi())){if(0!==ze(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ur(Ml.bind(null,t),r);break}Ml(t);break;case 4:if(vl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ge(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){t.timeoutHandle=Ur(Ml.bind(null,t),n);break}Ml(t);break;case 5:Ml(t);break;default:throw Error(a(329))}}return pl(t,Bi()),t.callbackNode===e?dl.bind(null,t):null}function vl(t,e){for(e&=~Bs,e&=~Fs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function gl(t){if(0!==(48&Ms))throw Error(a(327));if(Il(),t===Cs&&0!==(t.expiredLanes&Is)){var e=Is,n=El(t,e);0!==(Ds&Fs)&&(n=El(t,e=ze(t,e)))}else n=El(t,e=ze(t,0));if(0!==t.tag&&2===n&&(Ms|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(e=Fe(t))&&(n=El(t,e))),1===n)throw n=Ns,xl(t,0),vl(t,e),pl(t,Bi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ml(t),pl(t,Bi()),null}function yl(t,e){var n=Ms;Ms|=1;try{return t(e)}finally{0===(Ms=n)&&(Gs(),qi())}}function ml(t,e){var n=Ms;Ms&=-2,Ms|=8;try{return t(e)}finally{0===(Ms=n)&&(Gs(),qi())}}function bl(t,e){li(Rs,Ps),Ps|=e,Ds|=e}function _l(){Ps=Rs.current,si(Rs)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Vr(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Io(),si(hi),si(ci),Wo();break;case 5:Ro(r);break;case 4:Io();break;case 13:case 19:si(Lo);break;case 10:to(r);break;case 23:case 24:_l()}n=n.return}Cs=t,js=Vl(t.current,null),Is=Ps=Ds=e,Ls=0,Ns=null,Bs=Fs=zs=0}function wl(t,e){for(;;){var n=js;try{if(Qi(),Zo.current=Ma,ta){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Ko=0,Qo=Jo=$o=null,ea=!1,Os.current=null,null===n||null===n.return){Ls=1,Ns=e,js=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Lo.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var g=f.updateQueue;if(null===g){var y=new Set;y.add(u),f.updateQueue=y}else g.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,lo(s,m)}s.lanes|=1;break t}l=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new ls,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var _=zl.bind(null,o,u,s);u.then(_,_)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);l=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),l=as(l,s),f=a;do{switch(f.tag){case 3:o=l,f.flags|=4096,e&=-e,f.lanes|=e,uo(f,us(0,o,e));break t;case 1:o=l;var x=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Xs||!Xs.has(w)))){f.flags|=4096,e&=-e,f.lanes|=e,uo(f,cs(f,o,e));break t}}f=f.return}while(null!==f)}Ol(n)}catch(k){e=k,js===n&&null!==n&&(js=n=n.return);continue}break}}function kl(){var t=As.current;return As.current=Ma,null===t?Ma:t}function El(t,e){var n=Ms;Ms|=16;var r=kl();for(Cs===t&&Is===e||xl(t,e);;)try{Sl();break}catch(i){wl(t,i)}if(Qi(),Ms=n,As.current=r,null!==js)throw Error(a(261));return Cs=null,Is=0,Ls}function Sl(){for(;null!==js;)Al(js)}function Tl(){for(;null!==js&&!Si();)Al(js)}function Al(t){var e=qs(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,null===e?Ol(t):js=e,Os.current=null}function Ol(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=is(n,e,Ps)))return void(js=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ps)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(js=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(js=e);js=e=t}while(null!==e);0===Ls&&(Ls=5)}function Ml(t){var e=Hi();return Vi(99,Cl.bind(null,t,e)),null}function Cl(t,e){do{Il()}while(null!==$s);if(0!==(48&Ms))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var u=31-Ge(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==el&&0===(24&r)&&el.has(t)&&el.delete(t),t===Cs&&(js=Cs=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,Os.current=null,zr=Xe,dr(s=pr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(T){l=null;break t}var h=0,f=-1,p=-1,d=0,v=0,g=s,y=null;e:for(;;){for(var m;g!==l||0!==o&&3!==g.nodeType||(f=h+o),g!==u||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break e;if(y===l&&++d===o&&(f=h),y===u&&++v===c&&(p=h),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}l=-1===f||-1===p?null:{start:f,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Fr={focusedElem:s,selectionRange:l},Xe=!1,sl=null,ll=!1,Ys=r;do{try{jl()}catch(T){if(null===Ys)throw Error(a(330));Dl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);sl=null,Ys=r;do{try{for(s=t;null!==Ys;){var b=Ys.flags;if(16&b&&mt(Ys.stateNode,""),128&b){var _=Ys.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:bs(Ys),Ys.flags&=-3;break;case 6:bs(Ys),Ys.flags&=-3,ks(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,ks(Ys.alternate,Ys);break;case 4:ks(Ys.alternate,Ys);break;case 8:ws(s,l=Ys);var w=l.alternate;ys(l),null!==w&&ys(w)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(a(330));Dl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(x=Fr,_=pr(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!x.extend&&w>s&&(l=s,s=w,w=l),l=hr(b,w),o=hr(b,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((_=_.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),w>s?(x.addRange(_),x.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Xe=!!zr,Fr=zr=null,t.current=n,Ys=r;do{try{for(b=t;null!==Ys;){var k=Ys.flags;if(36&k&&ds(b,Ys.alternate,Ys),128&k){_=void 0;var E=Ys.ref;if(null!==E){var S=Ys.stateNode;switch(Ys.tag){case 5:_=S;break;default:_=S}"function"===typeof E?E(_):E.current=_}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(a(330));Dl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Li(),Ms=i}else t.current=n;if(Ks)Ks=!1,$s=t,Js=e;else for(Ys=r;null!==Ys;)e=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((k=Ys).sibling=null,k.stateNode=null),Ys=e;if(0===(r=t.pendingLanes)&&(Xs=null),1===r?t===rl?nl++:(nl=0,rl=t):nl=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(pl(t,Bi()),Ws)throw Ws=!1,t=Zs,Zs=null,t;return 0!==(8&Ms)||qi(),null}function jl(){for(;null!==Ys;){var t=Ys.alternate;ll||null===sl||(0!==(8&Ys.flags)?te(Ys,sl)&&(ll=!0):13===Ys.tag&&Ss(t,Ys)&&te(Ys,sl)&&(ll=!0));var e=Ys.flags;0!==(256&e)&&ps(t,Ys),0===(512&e)||Ks||(Ks=!0,Gi(97,(function(){return Il(),null}))),Ys=Ys.nextEffect}}function Il(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Vi(t,Ll)}return!1}function Pl(t,e){Qs.push(e,t),Ks||(Ks=!0,Gi(97,(function(){return Il(),null})))}function Rl(t,e){tl.push(e,t),Ks||(Ks=!0,Gi(97,(function(){return Il(),null})))}function Ll(){if(null===$s)return!1;var t=$s;if($s=null,0!==(48&Ms))throw Error(a(331));var e=Ms;Ms|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));Dl(o,u)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(a(330));Dl(o,u)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Ms=e,qi(),!0}function Nl(t,e,n){lo(t,e=us(0,e=as(n,e),1)),e=ul(),null!==(t=fl(t,1))&&(Ve(t,1,e),pl(t,e))}function Dl(t,e){if(3===t.tag)Nl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Nl(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=cs(n,t=as(e,t),1);if(lo(n,i),i=ul(),null!==(n=fl(n,1)))Ve(n,1,i),pl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function zl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,Cs===t&&(Is&n)===n&&(4===Ls||3===Ls&&(62914560&Is)===Is&&500>Bi()-Us?xl(t,0):Bs|=n),pl(t,e)}function Fl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Hi()?1:2:(0===ol&&(ol=Ds),0===(e=He(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=fl(t,e))&&(Ve(t,e,n),pl(t,n))}function Bl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(t,e,n,r){return new Bl(t,e,n,r)}function Ul(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Vl(t,e){var n=t.alternate;return null===n?((n=Hl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gl(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Ul(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case E:return ql(n.children,i,o,e);case N:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(t=Hl(12,n,e,8|i)).elementType=T,t.type=T,t.lanes=o,t;case C:return(t=Hl(13,n,e,i)).type=C,t.elementType=C,t.lanes=o,t;case j:return(t=Hl(19,n,e,i)).elementType=j,t.lanes=o,t;case D:return Yl(n,i,o,e);case z:return(t=Hl(24,n,e,i)).elementType=z,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:s=10;break t;case O:s=9;break t;case M:s=11;break t;case I:s=14;break t;case P:s=16,r=null;break t;case R:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Hl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function ql(t,e,n,r){return(t=Hl(7,t,r,e)).lanes=n,t}function Yl(t,e,n,r){return(t=Hl(23,t,r,e)).elementType=D,t.lanes=n,t}function Wl(t,e,n){return(t=Hl(6,t,null,e)).lanes=n,t}function Zl(t,e,n){return(e=Hl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ue(0),this.expirationTimes=Ue(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.mutableSourceEagerHydrationData=null}function Kl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function $l(t,e,n,r){var i=e.current,o=ul(),s=cl(i);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(di(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(di(u)){n=yi(n,u,l);break t}}n=l}else n=ui;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),lo(i,e),hl(i,s,o),s}function Jl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ql(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){Ql(t,e),(t=t.alternate)&&Ql(t,e)}function eu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xl(t,e,null!=n&&!0===n.hydrate),e=Hl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[$r]=n.current,Mr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Jl(a);s.call(t)}}$l(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new eu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var t=Jl(a);l.call(t)}}ml((function(){$l(e,a,t,i)}))}return Jl(a)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(a(200));return Kl(t,e,null,n)}qs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||hi.current)Ra=!0;else{if(0===(n&r)){switch(Ra=!1,e.tag){case 3:Ga(e),qo();break;case 5:Po(e);break;case 1:di(e.type)&&mi(e);break;case 4:jo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Xa(t,e,n):(li(Lo,1&Lo.current),null!==(e=ns(t,e,n))?e.sibling:null);li(Lo,1&Lo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Lo,Lo.current),r)break;return null;case 23:case 24:return e.lanes=0,Fa(t,e,n)}return ns(t,e,n)}Ra=0!==(16384&t.flags)}else Ra=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=pi(e,ci.current),no(e,n),i=ia(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)){var o=!0;mi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(e,r,s,t),i.updater=vo,e.stateNode=i,i._reactInternals=e,bo(e,r,t,n),e=Va(null,e,r,!0,o,n)}else e.tag=0,La(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Ul(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===I)return 14}return 2}(i),t=Zi(i,t),o){case 0:e=Ha(null,e,i,t,n);break t;case 1:e=Ua(null,e,i,t,n);break t;case 11:e=Na(null,e,i,t,n);break t;case 14:e=Da(null,e,i,Zi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ha(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ua(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(Ga(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),co(e,r,null,n),(r=e.memoizedState.element)===i)qo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(zo=qr(e.stateNode.containerInfo.firstChild),Do=e,o=Fo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Yo.push(o);for(n=So(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(t,e,r,n),qo();e=e.child}return e;case 5:return Po(e),null===t&&Uo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(e.flags|=16),Ba(t,e),La(t,e,s,n),e.child;case 6:return null===t&&Uo(e),null;case 13:return Xa(t,e,n);case 4:return jo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Eo(e,null,r,n):La(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Na(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return La(t,e,e.pendingProps,n),e.child;case 8:case 12:return La(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(li(Xi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=sr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!hi.current){e=ns(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=so(-1,n&-n)).tag=2,lo(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),eo(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}La(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.flags|=1,La(t,e,r,n),e.child;case 14:return o=Zi(i=e.type,e.pendingProps),Da(t,e,i,o=Zi(i.type,o),r,n);case 15:return za(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,di(r)?(t=!0,mi(e)):t=!1,no(e,n),yo(e,r,i),bo(e,r,i,n),Va(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return Fa(t,e,n)}throw Error(a(156,e.tag))},eu.prototype.render=function(t){$l(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$l(null,t,null,(function(){e[$r]=null}))},ee=function(t){13===t.tag&&(hl(t,4,ul()),tu(t,4))},ne=function(t){13===t.tag&&(hl(t,67108864,ul()),tu(t,67108864))},re=function(t){if(13===t.tag){var e=ul(),n=cl(t);hl(t,n,e),tu(t,n)}},ie=function(t,e){return e()},At=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ni(r);if(!i)throw Error(a(90));$(r),nt(r,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Pt=yl,Rt=function(t,e,n,r,i){var o=Ms;Ms|=4;try{return Vi(98,t.bind(null,e,n,r,i))}finally{0===(Ms=o)&&(Gs(),qi())}},Lt=function(){0===(49&Ms)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pl(t,Bi())}))}qi()}(),Il())},Nt=function(t,e){var n=Ms;Ms|=2;try{return t(e)}finally{0===(Ms=n)&&(Gs(),qi())}};var ou={Events:[ti,ei,ni,jt,It,Il,{current:!1}]},au={findFiberByHostInstance:Qr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Qt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{_i=lu.inject(su),xi=lu}catch(gt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=iu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Qt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ms;if(0!==(48&n))return t(e);Ms|=1;try{if(t)return Vi(99,t.bind(null,e))}finally{Ms=n,qi()}},e.hydrate=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!0,n)},e.render=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nu(t))throw Error(a(40));return!!t._reactRootContainer&&(ml((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=yl,e.unstable_createPortal=function(t,e){return iu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ru(t,e,n,!1,r)},e.version="17.0.2"},function(t,e,n){"use strict";t.exports=n(165)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,h=null,f=function t(){if(null!==c)try{var n=e.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==c?setTimeout(r,0,t):(c=t,setTimeout(f,0))},i=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,y=null,m=-1,b=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();_=t+b;try{y(!0,t)?w.postMessage(null):(g=!1,y=null)}catch(n){throw w.postMessage(null),n}}else g=!1},r=function(t){y=t,g||(g=!0,w.postMessage(null))},i=function(t,n){m=p((function(){t(e.unstable_now())}),n)},o=function(){d(m),m=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function E(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],O=[],M=1,C=null,j=3,I=!1,P=!1,R=!1;function L(t){for(var e=E(O);null!==e;){if(null===e.callback)S(O);else{if(!(e.startTime<=t))break;S(O),e.sortIndex=e.expirationTime,k(A,e)}e=E(O)}}function N(t){if(R=!1,L(t),!P)if(null!==E(A))P=!0,r(D);else{var e=E(O);null!==e&&i(N,e.startTime-t)}}function D(t,n){P=!1,R&&(R=!1,o()),I=!0;var r=j;try{for(L(n),C=E(A);null!==C&&(!(C.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,j=C.priorityLevel;var s=a(C.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?C.callback=s:C===E(A)&&S(A),L(n)}else S(A);C=E(A)}if(null!==C)var l=!0;else{var u=E(O);null!==u&&i(N,u.startTime-n),l=!1}return l}finally{C=null,j=r,I=!1}}var z=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||I||(P=!0,r(D))},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return E(A)},e.unstable_next=function(t){switch(j){case 1:case 2:case 3:var e=3;break;default:e=j}var n=j;j=e;try{return t()}finally{j=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=j;j=t;try{return e()}finally{j=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:M++,callback:n,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,k(O,t),null===E(A)&&t===E(O)&&(R?o():R=!0,i(N,a-s))):(t.sortIndex=l,k(A,t),P||I||(P=!0,r(D))),t},e.unstable_wrapCallback=function(t){var e=j;return function(){var n=j;j=e;try{return t.apply(this,arguments)}finally{j=n}}}},function(t,e,n){"use strict";n(84);var r=n(1),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:u,ref:c,props:o,_owner:a.current}}e.jsx=u,e.jsxs=u},function(t,e,n){"use strict";t.exports=n(168)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case l:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case y:case g:case u:return t;default:return e}}case o:return e}}}function k(t){return w(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=u,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=y,e.Memo=g,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return k(t)||w(t)===h},e.isConcurrentMode=k,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===l||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===u||t.$$typeof===c||t.$$typeof===p||t.$$typeof===b||t.$$typeof===_||t.$$typeof===x||t.$$typeof===m)},e.typeOf=w},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(j){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=c(t,e,n);if("normal"===l.type){if(r=n.done?d:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function m(){}var b={};l(b,o,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(M([])));x&&x!==n&&r.call(x,o)&&(b=x);var w=m.prototype=g.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,s){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:C}}function C(){return{value:e,done:!0}}return y.prototype=m,l(w,"constructor",m),l(m,"constructor",y),y.displayName=l(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(23),i=n(112),o=n(172),a=n(118);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var l=s(n(115));l.Axios=o,l.create=function(t){return s(a(l.defaults,t))},l.Cancel=n(119),l.CancelToken=n(185),l.isCancel=n(114),l.all=function(t){return Promise.all(t)},l.spread=n(186),l.isAxiosError=n(187),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var r=n(23),i=n(113),o=n(173),a=n(174),s=n(118);function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},function(t,e,n){"use strict";var r=n(23);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(23),i=n(175),o=n(114),a=n(115);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(23);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(23);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(117);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(23);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(181),i=n(182);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(23),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(23);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(119);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},,function(t,e,n){var r=n(87),i=n(125),o=n(218),a=n(220),s=n(33),l=n(133),u=n(130);t.exports=function t(e,n,c,h,f){e!==n&&o(n,(function(o,l){if(f||(f=new r),s(o))a(e,n,l,c,t,h,f);else{var p=h?h(u(e,l),o,l+"",e,n,f):void 0;void 0===p&&(p=o),i(e,l,p)}}),l)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(59),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(59);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(59);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(59);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(58);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(58),i=n(88),o=n(90);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(89),i=n(203),o=n(33),a=n(124),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(60),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(204),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(30)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(207),i=n(58),o=n(88);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(208),i=n(209),o=n(210),a=n(211),s=n(212);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(61);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(61),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(61),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(62);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(62);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(62);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(62);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(219)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},function(t,e,n){var r=n(125),i=n(221),o=n(222),a=n(224),s=n(225),l=n(92),u=n(34),c=n(228),h=n(94),f=n(89),p=n(33),d=n(230),v=n(95),g=n(130),y=n(234);t.exports=function(t,e,n,m,b,_,x){var w=g(t,n),k=g(e,n),E=x.get(k);if(E)r(t,n,E);else{var S=_?_(w,k,n+"",t,e,x):void 0,T=void 0===S;if(T){var A=u(k),O=!A&&h(k),M=!A&&!O&&v(k);S=k,A||O||M?u(w)?S=w:c(w)?S=a(w):O?(T=!1,S=i(k,!0)):M?(T=!1,S=o(k,!0)):S=[]:d(k)||l(k)?(S=w,l(w)?S=y(w):p(w)&&!f(w)||(S=s(k))):T=!1}T&&(x.set(k,S),b(S,k,m,_,x),x.delete(k)),r(t,n,S)}}},function(t,e,n){(function(t){var r=n(30),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(50)(t))},function(t,e,n){var r=n(223);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(127);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(226),i=n(128),o=n(63);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(33),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(45),i=n(41);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(46),i=n(41);t.exports=function(t){return i(t)&&r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(45),i=n(128),o=n(41),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(t,e,n){var r=n(45),i=n(93),o=n(41),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(123),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(50)(t))},function(t,e,n){var r=n(131),i=n(133);t.exports=function(t){return r(t,i(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(33),i=n(63),o=n(237),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(97),i=n(239),o=n(241);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(240),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),r(t,this,u)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(242),i=n(244)(r);t.exports=i},function(t,e,n){var r=n(243),i=n(126),o=n(97),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(51),i=n(46),o=n(96),a=n(33);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(63),i=n(247),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(129)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(136),i=n(46),o=n(64);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},function(t,e,n){var r=n(250),i=n(272),o=n(140);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(87),i=n(137);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=n[a])[0],h=t[c],f=u[1];if(l&&u[2]){if(void 0===h&&!(c in t))return!1}else{var p=new r;if(o)var d=o(h,f,c,t,e,p);if(!(void 0===d?i(f,h,3,o,p):d))return!1}}return!0}},function(t,e,n){var r=n(87),i=n(138),o=n(257),a=n(260),s=n(267),l=n(34),u=n(94),c=n(95),h="[object Arguments]",f="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,g,y){var m=l(t),b=l(e),_=m?f:s(t),x=b?f:s(e),w=(_=_==h?p:_)==p,k=(x=x==h?p:x)==p,E=_==x;if(E&&u(t)){if(!u(e))return!1;m=!0,w=!1}if(E&&!w)return y||(y=new r),m||c(t)?i(t,e,n,v,g,y):o(t,e,_,n,v,g,y);if(!(1&n)){var S=w&&d.call(t,"__wrapped__"),T=k&&d.call(e,"__wrapped__");if(S||T){var A=S?t.value():t,O=T?e.value():e;return y||(y=new r),g(A,O,n,v,y)}}return!!E&&(y||(y=new r),a(t,e,n,v,g,y))}},function(t,e,n){var r=n(90),i=n(253),o=n(254);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(60),i=n(127),o=n(51),a=n(138),s=n(258),l=n(259),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=l),t.size!=e.size&&!d)return!1;var v=f.get(t);if(v)return v==e;r|=2,f.set(t,e);var g=a(p(t),p(e),r,u,h,f);return f.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(261),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var h=c;h--;){var f=u[h];if(!(l?f in e:i.call(e,f)))return!1}var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var v=!0;s.set(t,e),s.set(e,t);for(var g=l;++h<c;){var y=t[f=u[h]],m=e[f];if(o)var b=l?o(m,y,f,e,t,s):o(y,m,f,t,e,s);if(!(void 0===b?y===m||a(y,m,n,o,s):b)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return s.delete(t),s.delete(e),v}},function(t,e,n){var r=n(262),i=n(264),o=n(64);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(263),i=n(34);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(265),i=n(266),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(268),i=n(88),o=n(269),a=n(270),s=n(271),l=n(45),u=n(124),c="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",d="[object DataView]",v=u(r),g=u(i),y=u(o),m=u(a),b=u(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=d||i&&_(new i)!=c||o&&_(o.resolve())!=h||a&&_(new a)!=f||s&&_(new s)!=p)&&(_=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case v:return d;case g:return c;case y:return h;case m:return f;case b:return p}return e}),t.exports=_},function(t,e,n){var r=n(40)(n(30),"DataView");t.exports=r},function(t,e,n){var r=n(40)(n(30),"Promise");t.exports=r},function(t,e,n){var r=n(40)(n(30),"Set");t.exports=r},function(t,e,n){var r=n(40)(n(30),"WeakMap");t.exports=r},function(t,e,n){var r=n(139),i=n(64);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(137),i=n(274),o=n(281),a=n(98),s=n(139),l=n(140),u=n(66);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(141);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(276),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(277);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(90);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(279);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(60),i=n(280),o=n(34),a=n(65),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(282),i=n(283);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(142),i=n(92),o=n(34),a=n(96),s=n(93),l=n(66);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,h=!1;++u<c;){var f=l(e[u]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(285),i=n(286),o=n(98),a=n(66);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(141);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(288),i=n(136),o=n(289),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(290);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(291),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(292),i=n(33),o=n(65),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(293),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){(function(e){var r=n(295),i=n(296),o=n(297);function a(t){console.log("[dotenv][DEBUG] ".concat(t))}var s=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,l=/\\n/g,u=/\r\n|\n|\r/;function c(t,e){var n=Boolean(e&&e.debug),r={};return t.toString().split(u).forEach((function(t,e){var i=t.match(s);if(null!=i){var o=i[1],u=i[2]||"",c=u.length-1,h='"'===u[0]&&'"'===u[c];"'"===u[0]&&"'"===u[c]||h?(u=u.substring(1,c),h&&(u=u.replace(l,"\n"))):u=u.trim(),r[o]=u}else n&&a("did not match key and value when parsing line ".concat(e+1,": ").concat(t))})),r}t.exports.config=function(t){var n,s=i.resolve(e.cwd(),".env"),l="utf8",u=!1;t&&(null!=t.path&&(s="~"===(n=t.path)[0]?i.join(o.homedir(),n.slice(1)):n),null!=t.encoding&&(l=t.encoding),null!=t.debug&&(u=!0));try{var h=c(r.readFileSync(s,{encoding:l}),{debug:u});return Object.keys(h).forEach((function(t){Object.prototype.hasOwnProperty.call(Object({NODE_ENV:"production",PUBLIC_URL:"/weather-map-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAP_API:"nPSkRFJdD3LKtmI8XGfypkFf6RapPgIAXQdB7ZnQGxQ",REACT_APP_RAPID_API:"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4"}),t)?u&&a('"'.concat(t,'" is already defined in `process.env` and will not be overwritten')):Object({NODE_ENV:"production",PUBLIC_URL:"/weather-map-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAP_API:"nPSkRFJdD3LKtmI8XGfypkFf6RapPgIAXQdB7ZnQGxQ",REACT_APP_RAPID_API:"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4"})[t]=h[t]})),{parsed:h}}catch(f){return{error:f}}},t.exports.parse=c}).call(this,n(86))},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(86))},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!==typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t){void 0===t&&(t={});var e=t,n=e.strict,i=void 0===n||n,o=e.errorMessage,a=void 0===o?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":o,s=e.name,l=r.createContext(void 0);return l.displayName=s,[l.Provider,function t(){var e=r.useContext(l);if(!e&&i){var n=new Error(a);throw n.name="ContextError",null==Error.captureStackTrace||Error.captureStackTrace(n,t),n}return e},l]}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));n(74);var r=n(13),i=n(29),o=Object.freeze(["base","sm","md","lg","xl","2xl"]);function a(t,e){return Object(r.c)(t)?t.map((function(t){return null===t?null:e(t)})):Object(r.h)(t)?Object(i.e)(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{}):null!=t?e(t):null}function s(t,e){void 0===e&&(e=o);var n={};return t.forEach((function(t,r){var i=e[r];null!=t&&(n[i]=t)})),n}},function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return x})),n.d(e,"c",(function(){return w}));var r=n(5),i=n(13),o=n(155),a=n(145),s=n(1),l="chakra-ui-light",u="chakra-ui-dark",c={classList:{add:a.a,remove:a.a}};function h(t){var e=o.c?document.body:c;e.classList.add(t?u:l),e.classList.remove(t?l:u)}var f="(prefers-color-scheme: dark)";function p(t){var e;return(null!=(e=function(t){var e=null==window.matchMedia?void 0:window.matchMedia(t);if(e)return!!e.media===e.matches}(f))?e:"dark"===t)?"dark":"light"}var d=function(){return document.documentElement.style.getPropertyValue("--chakra-ui-color-mode")},v=function(t){o.c&&document.documentElement.style.setProperty("--chakra-ui-color-mode",t)},g=function(){return"undefined"!==typeof Storage},y="chakra-ui-color-mode",m={get:function(t){if(!g())return t;try{var e=localStorage.getItem(y);return null!=e?e:t}catch(n){return i.a&&console.log(n),t}},set:function(t){if(g())try{localStorage.setItem(y,t)}catch(e){i.a&&console.log(e)}},type:"localStorage"};var b=s.createContext({});i.a&&(b.displayName="ColorModeContext");var _=function(){var t=s.useContext(b);if(void 0===t)throw new Error("useColorMode must be used within a ColorModeProvider");return t};function x(t){var e=t.value,n=t.children,i=t.options,l=i.useSystemColorMode,u=i.initialColorMode,c=t.colorModeManager,g=void 0===c?m:c,y=s.useState("cookie"===g.type?g.get(u):u),_=Object(r.a)(y,2),x=_[0],w=_[1];s.useEffect((function(){if(o.c&&"localStorage"===g.type){var t=l?p(u):d()||g.get();t&&w(t)}}),[g,l,u]),s.useEffect((function(){var t="dark"===x;h(t),v(t?"dark":"light")}),[x]);var k=s.useCallback((function(t){g.set(t),w(t)}),[g]),E=s.useCallback((function(){k("light"===x?"dark":"light")}),[x,k]);s.useEffect((function(){var t;return l&&(t=function(t){if(!("matchMedia"in window))return a.a;var e=window.matchMedia(f),n=function(){t(e.matches?"dark":"light")};return n(),e.addListener(n),function(){e.removeListener(n)}}(k)),function(){t&&l&&t()}}),[k,l]);var S=s.useMemo((function(){return{colorMode:null!=e?e:x,toggleColorMode:e?a.a:E,setColorMode:e?a.a:k}}),[x,k,E,e]);return s.createElement(b.Provider,{value:S},n)}i.a&&(x.displayName="ColorModeProvider");i.a;function w(t,e){return"dark"===_().colorMode?e:t}i.a},,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(49),i=n(44),o=n(13),a=n(1);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var u=Object(r.a)("div");o.a&&(u.displayName="Box");var c=Object(i.a)((function(t,e){var n=t.size,r=t.centerContent,i=void 0===r||r,o=l(t,["size","centerContent"]),c=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return a.createElement(u,s({ref:e,boxSize:n,__css:s({},c,{flexShrink:0,flexGrow:0})},o))}));o.a&&(c.displayName="Square");var h=Object(i.a)((function(t,e){var n=t.size,r=l(t,["size"]);return a.createElement(c,s({size:n,ref:e,borderRadius:"9999px"},r))}));o.a&&(h.displayName="Circle")},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p}));var r=n(44),i=n(49),o=n(13),a=n(300),s=n(29),l=n(1);function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var h=Object(r.a)((function(t,e){var n=t.area,r=t.templateAreas,o=t.gap,a=t.rowGap,s=t.columnGap,h=t.column,f=t.row,p=t.autoFlow,d=t.autoRows,v=t.templateRows,g=t.autoColumns,y=t.templateColumns,m=c(t,["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"]),b={display:"grid",gridArea:n,gridTemplateAreas:r,gridGap:o,gridRowGap:a,gridColumnGap:s,gridAutoColumns:g,gridColumn:h,gridRow:f,gridAutoFlow:p,gridAutoRows:d,gridTemplateRows:v,gridTemplateColumns:y};return l.createElement(i.a.div,u({ref:e,__css:b},m))}));function f(t){return Object(a.c)(t,(function(t){return"auto"===t?"auto":"span "+t+"/span "+t}))}o.a&&(h.displayName="Grid");var p=Object(r.a)((function(t,e){var n=t.colSpan,r=t.colStart,o=t.colEnd,a=t.rowEnd,h=t.rowSpan,p=t.rowStart,d=c(t,["colSpan","colStart","colEnd","rowEnd","rowSpan","rowStart"]),v=Object(s.a)({gridColumn:f(n),gridRow:f(h),gridColumnStart:r,gridColumnEnd:o,gridRowStart:p,gridRowEnd:a});return l.createElement(i.a.div,u({ref:e,__css:v},d))}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(44),i=n(49),o=n(13),a=n(1);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var l=Object(r.a)((function(t,e){var n=t.direction,r=t.align,o=t.justify,l=t.wrap,u=t.basis,c=t.grow,h=t.shrink,f=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["direction","align","justify","wrap","basis","grow","shrink"]),p={display:"flex",flexDirection:n,alignItems:r,justifyContent:o,flexWrap:l,flexBasis:u,flexGrow:c,flexShrink:h};return a.createElement(i.a.div,s({ref:e,__css:p},f))}));o.a&&(l.displayName="Flex")},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(44),i=n(156),o=n(48),a=n(49),s=n(29),l=n(155),u=n(13),c=n(1);function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f=Object(r.a)((function(t,e){var n=Object(i.a)("Text",t),r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(Object(o.b)(t),["className","align","decoration","casing"]),u=Object(s.a)({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return c.createElement(a.a.p,h({ref:e,className:Object(l.a)("chakra-text",t.className)},u,r,{__css:n}))}));u.a&&(f.displayName="Text")},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(44),i=n(156),o=n(48),a=n(49),s=n(155),l=n(13),u=n(1);function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var f=Object(r.a)((function(t,e){var n=Object(i.a)("Divider",t),r=n.borderLeftWidth,l=n.borderBottomWidth,f=n.borderTopWidth,p=n.borderRightWidth,d=n.borderWidth,v=n.borderStyle,g=n.borderColor,y=h(n,["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"]),m=Object(o.b)(t),b=m.className,_=m.orientation,x=void 0===_?"horizontal":_,w=m.__css,k=h(m,["className","orientation","__css"]),E={vertical:{borderLeftWidth:r||p||d||"1px",height:"100%"},horizontal:{borderBottomWidth:l||f||d||"1px",width:"100%"}};return u.createElement(a.a.hr,c({ref:e,"aria-orientation":x},k,{__css:c({},y,{border:"0",borderColor:g,borderStyle:v},E[x],w),className:Object(s.a)("chakra-divider",b)}))}));l.a&&(f.displayName="Divider")},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1);function i(t){var e,n,r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";try{e=localStorage.getItem("chakra-ui-color-mode")}catch(i){console.log("Chakra UI: localStorage is not available. Color mode persistence might not work as expected")}(n="string"===typeof e?e:"system"===t?r:t)&&document.documentElement.style.setProperty("--chakra-ui-color-mode",n)}var o=function(t){var e=t.initialColorMode,n=void 0===e?"light":e,o="("+String(i)+")('"+n+"')";return r.createElement("script",{nonce:t.nonce,dangerouslySetInnerHTML:{__html:o}})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=n(44),i=n(13),o=n(1),a=n(8),s=n(5);function l(t,e){if(null!=t)if(Object(i.f)(t))t(e);else try{t.current=e}catch(n){throw new Error("Cannot assign value '"+e+"' to ref '"+t+"'")}}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach((function(e){return l(e,t)}))}}var c=n(42),h=n(156),f=n(48),p=n(49),d=n(155),v={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},g=Object(p.a)("span",{baseStyle:v});i.a&&(g.displayName="VisuallyHidden");var y=Object(p.a)("input",{baseStyle:v});i.a&&(y.displayName="VisuallyHiddenInput");function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var b=Object(c.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),_=Object(r.a)((function(t,e){var n=Object(h.a)("Spinner",t),r=Object(f.b)(t),i=r.label,a=void 0===i?"Loading...":i,s=r.thickness,l=void 0===s?"2px":s,u=r.speed,c=void 0===u?"0.45s":u,v=r.emptyColor,y=void 0===v?"transparent":v,_=r.className,x=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(r,["label","thickness","speed","emptyColor","className"]),w=Object(d.a)("chakra-spinner",_),k=m({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:y,borderLeftColor:y,animation:b+" "+c+" linear infinite"},n);return o.createElement(p.a.div,m({ref:e,__css:k,className:w},x),a&&o.createElement(g,null,a))}));i.a&&(_.displayName="Spinner");var x=n(99),w=n.n(x),k=n(299);function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var S=Object(k.a)({strict:!1,name:"ButtonGroupContext"}),T=Object(s.a)(S,2),A=T[0],O=T[1],M=Object(r.a)((function(t,e){var n=t.size,r=t.colorScheme,i=t.variant,a=t.className,s=t.spacing,l=void 0===s?"0.5rem":s,u=t.isAttached,c=t.isDisabled,h=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["size","colorScheme","variant","className","spacing","isAttached","isDisabled"]),f=Object(d.a)("chakra-button__group",a),v=o.useMemo((function(){return{size:n,colorScheme:r,variant:i,isDisabled:c}}),[n,r,i,c]),g={display:"inline-flex"};return g=E({},g,u?{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginStart:l}}),o.createElement(A,{value:v},o.createElement(p.a.div,E({ref:e,role:"group",__css:g,className:f},h)))}));function C(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}i.a&&(M.displayName="ButtonGroup");var I=Object(r.a)((function(t,e){var n,r=O(),i=Object(h.a)("Button",j({},r,t)),a=Object(f.b)(t),l=a.isDisabled,c=void 0===l?null==r?void 0:r.isDisabled:l,v=a.isLoading,g=a.isActive,y=a.isFullWidth,m=a.children,b=a.leftIcon,_=a.rightIcon,x=a.loadingText,k=a.iconSpacing,E=void 0===k?"0.5rem":k,S=a.type,T=a.spinner,A=a.spinnerPlacement,M=void 0===A?"start":A,I=a.className,L=a.as,N=C(a,["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"]),D=w()({},null!=(n=null==i?void 0:i._focus)?n:{},{zIndex:1}),z=j({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:y?"100%":"auto"},i,!!r&&{_focus:D}),F=function(t){var e=o.useState(!t),n=Object(s.a)(e,2),r=n[0],i=n[1],a=o.useCallback((function(t){t&&i("BUTTON"===t.tagName)}),[]),l=r?"button":void 0;return{ref:a,type:l}}(L),B=F.ref,H=F.type;return o.createElement(p.a.button,j({disabled:c||v,ref:u(e,B),as:L,type:null!=S?S:H,"data-active":Object(d.b)(g),"data-loading":Object(d.b)(v),__css:z,className:Object(d.a)("chakra-button",I)},N),b&&!v&&o.createElement(P,{marginEnd:E},b),v&&"start"===M&&o.createElement(R,{className:"chakra-button__spinner--start",label:x,placement:"start"},T),v?x||o.createElement(p.a.span,{opacity:0},m):m,v&&"end"===M&&o.createElement(R,{className:"chakra-button__spinner--end",label:x,placement:"end"},T),_&&!v&&o.createElement(P,{marginStart:E},_))}));i.a&&(I.displayName="Button");var P=function(t){var e=t.children,n=t.className,r=C(t,["children","className"]),i=o.isValidElement(e)?o.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,a=Object(d.a)("chakra-button__icon",n);return o.createElement(p.a.span,j({display:"inline-flex",alignSelf:"center",flexShrink:0},r,{className:a}),i)};i.a&&(P.displayName="ButtonIcon");var R=function(t){var e,n=t.label,r=t.placement,i=t.children,s=void 0===i?o.createElement(_,{color:"currentColor",width:"1em",height:"1em"}):i,l=t.className,u=t.__css,c=C(t,["label","placement","spacing","children","className","__css"]),h=Object(d.a)("chakra-button__spinner",l),f="start"===r?"marginEnd":"marginStart",v=j((e={display:"flex",alignItems:"center",position:n?"relative":"absolute"},Object(a.a)(e,f,n?"0.5rem":0),Object(a.a)(e,"fontSize","1em"),Object(a.a)(e,"lineHeight","normal"),e),u);return o.createElement(p.a.div,j({className:h},c,{__css:v}),s)};function L(){return(L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}i.a&&(R.displayName="ButtonSpinner");var N=Object(r.a)((function(t,e){var n=t.icon,r=t.children,i=t.isRound,a=t["aria-label"],s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["icon","children","isRound","aria-label"]),l=n||r,u=o.isValidElement(l)?o.cloneElement(l,{"aria-hidden":!0,focusable:!1}):null;return o.createElement(I,L({padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":a},s),u)}));i.a&&(N.displayName="IconButton")},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(5),n(103);var r=n(13);n(29),n(300);n(320);var i=n(1);var o=n(49),a=n(42),s=n(44),l=n(156),u=n(48),c=n(155);function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var p=Object(o.a)("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),d=Object(a.b)({from:{opacity:0},to:{opacity:1}}),v=Object(s.a)((function(t,e){var n=Object(l.a)("Skeleton",t),r=function(){var t=i.useRef(!0);return i.useEffect((function(){t.current=!1}),[]),t.current}(),a=Object(u.b)(t),s=a.isLoaded,v=a.fadeDuration,g=a.className,y=f(a,["startColor","endColor","isLoaded","fadeDuration","speed","className"]),m=Object(c.a)("chakra-skeleton",g);if(s){var b=r?"none":d+" "+v+"s";return i.createElement(o.a.div,h({ref:e,className:m,__css:{animation:b}},y))}return i.createElement(p,h({ref:e,className:m},y,{__css:n}))}));v.defaultProps={fadeDuration:.4,speed:.8},r.a&&(v.displayName="Skeleton");r.a;r.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var r=n(42),i=n(1),o=function(){return i.createElement(r.a,{styles:'\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;      \n        -moz-osx-font-smoothing: grayscale; \n        touch-action: manipulation; \n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: \'kern\';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type="button"]::-moz-focus-inner,\n      [type="reset"]::-moz-focus-inner,\n      [type="submit"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type="checkbox"],\n      [type="radio"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type="number"]::-webkit-inner-spin-button,\n      [type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      [type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role="button"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n        vertical-align: middle;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    '})},a=n(5),s=n(13),l=n(299),u=Object(l.a)({strict:!1,name:"PortalManagerContext"}),c=Object(a.a)(u,2),h=c[0];c[1];function f(t){var e=t.children,n=t.zIndex;return i.createElement(h,{value:{zIndex:n}},e)}s.a&&(f.displayName="PortalManager");var p=n(103),d=n(301),v=n(149),g=n(320),y={prefix:Math.round(1e10*Math.random()),current:0},m=i.createContext(y),b=i.memo((function(t){var e=t.children,n=i.useContext(m),r=n===y,o=i.useMemo((function(){return{prefix:r?0:++n.prefix,current:0}}),[r,n]);return i.createElement(m.Provider,{value:o},e)}));var _=function(t){var e=t.children,n=t.colorModeManager,r=t.portalZIndex,a=t.resetCSS,s=void 0===a||a,l=t.theme,u=void 0===l?v.default:l,c=t.environment,h=t.cssVarsRoot,y=i.createElement(g.a,{environment:c},e);return i.createElement(b,null,i.createElement(p.b,{theme:u,cssVarsRoot:h},i.createElement(d.a,{colorModeManager:n,options:u.config},s&&i.createElement(o,null),i.createElement(p.a,null),r?i.createElement(f,{zIndex:r},y):y)))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(44),i=n(49),o=n(29),a=n(13),s=n(1),l=n(5),u=n(155).c?s.useLayoutEffect:s.useEffect;function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var f=s.forwardRef((function(t,e){var n=t.htmlWidth,r=t.htmlHeight,i=t.alt,o=h(t,["htmlWidth","htmlHeight","alt"]);return s.createElement("img",c({width:n,height:r,ref:e,alt:i},o))})),p=Object(r.a)((function(t,e){var n=t.fallbackSrc,r=t.fallback,a=t.src,p=t.align,d=t.fit,v=t.loading,g=t.ignoreFallback,y=t.crossOrigin,m=h(t,["fallbackSrc","fallback","src","align","fit","loading","ignoreFallback","crossOrigin"]),b=null!=v||g,_=function(t){var e=t.src,n=t.srcSet,r=t.onLoad,i=t.onError,o=t.crossOrigin,a=t.sizes,c=t.ignoreFallback,h=Object(s.useState)("pending"),f=Object(l.a)(h,2),p=f[0],d=f[1];Object(s.useEffect)((function(){d(e?"loading":"pending")}),[e]);var v=Object(s.useRef)(),g=Object(s.useCallback)((function(){if(e){y();var t=new Image;t.src=e,o&&(t.crossOrigin=o),n&&(t.srcset=n),a&&(t.sizes=a),t.onload=function(t){y(),d("loaded"),null==r||r(t)},t.onerror=function(t){y(),d("failed"),null==i||i(t)},v.current=t}}),[e,o,n,a,r,i]),y=function(){v.current&&(v.current.onload=null,v.current.onerror=null,v.current=null)};return u((function(){if(!c)return"loading"===p&&g(),function(){y()}}),[p,g,c]),c?"loaded":p}(c({},t,{ignoreFallback:b})),x=c({ref:e,objectFit:d,objectPosition:p},b?m:Object(o.f)(m,["onError","onLoad"]));return"loaded"!==_?r||s.createElement(i.a.img,c({as:f,className:"chakra-image__placeholder",src:n},x)):s.createElement(i.a.img,c({as:f,src:a,crossOrigin:y,loading:v,className:"chakra-image"},x))}));a.a&&(p.displayName="Image")},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(8),i=n(49),o=n(44),a=n(155),s=n(13),l=n(1);var u=n(300),c="& > *:not(style) ~ *:not(style)";function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f=function(t){return l.createElement(i.a.div,h({className:"chakra-stack__item"},t,{__css:h({display:"inline-block",flex:"0 0 auto",minWidth:0},t.__css)}))},p=Object(o.a)((function(t,e){var n=t.isInline,o=t.direction,s=t.align,p=t.justify,d=t.spacing,v=void 0===d?"0.5rem":d,g=t.wrap,y=t.children,m=t.divider,b=t.className,_=t.shouldWrapChildren,x=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"]),w=n?"row":null!=o?o:"column",k=l.useMemo((function(){return function(t){var e=t.spacing,n=t.direction,i={column:{marginTop:e,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:e},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:e,marginStart:0},"row-reverse":{marginTop:0,marginEnd:e,marginBottom:0,marginStart:0}};return Object(r.a)({flexDirection:n},c,Object(u.c)(n,(function(t){return i[t]})))}({direction:w,spacing:v})}),[w,v]),E=l.useMemo((function(){return function(t){var e=t.spacing,n=t.direction,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Object(u.c)(n,(function(t){return r[t]}))}}({spacing:v,direction:w})}),[v,w]),S=!!m,T=!_&&!S,A=function(t){return l.Children.toArray(t).filter((function(t){return l.isValidElement(t)}))}(y),O=T?A:A.map((function(t,e){var n=e+1===A.length,r=_?l.createElement(f,{key:e},t):t;if(!S)return r;var i=n?null:l.cloneElement(m,{__css:E});return l.createElement(l.Fragment,{key:e},r,i)})),M=Object(a.a)("chakra-stack",b);return l.createElement(i.a.div,h({ref:e,display:"flex",alignItems:s,justifyContent:p,flexDirection:k.flexDirection,flexWrap:g,className:M,__css:S?{}:Object(r.a)({},c,k[c])},x),O)}));s.a&&(p.displayName="Stack");var d=Object(o.a)((function(t,e){return l.createElement(p,h({align:"center"},t,{direction:"row",ref:e}))}));s.a&&(d.displayName="HStack");var v=Object(o.a)((function(t,e){return l.createElement(p,h({align:"center"},t,{direction:"column",ref:e}))}));s.a&&(v.displayName="VStack")},function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return d}));var r=n(5),i=n(155),o=n(13),a=n(1),s=n.n(a),l={body:{classList:{add:function(){},remove:function(){}}},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}}},u=function(){},c={window:{document:l,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:u,removeEventListener:u,getComputedStyle:function(){return{getPropertyValue:function(){return""}}},matchMedia:function(){return{matches:!1,addListener:u,removeListener:u}},requestAnimationFrame:function(t){return"undefined"===typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){"undefined"!==typeof setTimeout&&clearTimeout(t)},setTimeout:function(){return 0},clearTimeout:u,setInterval:function(){return 0},clearInterval:u},document:l},h=i.c?{window:window,document:document}:c,f=Object(a.createContext)(h);function p(){return Object(a.useContext)(f)}function d(t){var e=t.children,n=t.environment,i=Object(a.useState)(null),o=Object(r.a)(i,2),l=o[0],u=o[1],c=Object(a.useMemo)((function(){var t,e=null==l?void 0:l.ownerDocument,r=null==l?void 0:l.ownerDocument.defaultView;return null!=(t=null!=n?n:e?{document:e,window:r}:void 0)?t:h}),[l,n]),p=!l&&!n;return s.a.createElement(f.Provider,{value:c},e,p&&s.a.createElement("span",{ref:function(t){t&&u(t)}}))}o.a&&(f.displayName="EnvironmentContext"),o.a&&(d.displayName="EnvironmentProvider")}]]);
//# sourceMappingURL=2.372e1f95.chunk.js.map