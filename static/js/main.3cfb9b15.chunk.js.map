{"version":3,"sources":["ColorModeSwitcher.js","components/Map.js","api/weatherAPI.js","utils/tempConvert.js","utils/unixConvert.js","components/Weather.js","components/Chart.js","App.js","reportWebVitals.js","serviceWorker.js","index.js"],"names":["ColorModeSwitcher","props","toggleColorMode","useColorMode","text","useColorModeValue","SwitchIcon","FaMoon","FaSun","size","fontSize","variant","color","marginLeft","onClick","icon","Map","useState","map","setMap","mark","setMark","mapDom","useRef","useEffect","resizeMap","a","mapping","getViewPort","resize","platform","H","service","Platform","apikey","process","layers","createDefaultLayers","current","vector","normal","pixelRatio","window","devicePixelRatio","center","target","zoom","marker","Marker","addObject","mapEvents","mapevents","MapEvents","addEventListener","evt","coord","screenToGeo","currentPointer","viewportX","viewportY","getCoordinate","lat","toFixed","lng","Behavior","removeEventListener","removeObject","w","h","ref","currentWeather","options_CURRENT","method","url","params","lon","units","headers","axios","request","data","dailyWeather","options_DAILY","cnt","tempConvert","K","tempC","Number","tempF","tempK","unixConvert","unix","timezone","userTime","moment","format","utcTime","utc","localTime","utcOffset","Weather","setCurrent","console","log","templateColumns","templateRows","direction","alignItems","justifyContent","boxSize","src","weather","main","temp","px","justify","align","name","dt","split","slice","join","my","spacing","className","feels_like","temp_max","temp_min","width","height","Chart","date","daily","setDaily","list","e","push","dailyDummy","city","day","labels","datasets","label","fill","backgroundColor","borderColor","options","responsive","maintainAspectRatio","scales","y","display","plugins","title","tooltip","callbacks","v","raw","App","setTarget","theme","textAlign","minH","gap","borderRadius","colSpan","href","justifySelf","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Boolean","location","hostname","match","require","config","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3cfb9b15.chunk.js","sourcesContent":["import React from 'react';\nimport { useColorMode, useColorModeValue, IconButton } from '@chakra-ui/react';\nimport { FaMoon, FaSun } from 'react-icons/fa';\n\nexport const ColorModeSwitcher = props => {\n  const { toggleColorMode } = useColorMode();\n  const text = useColorModeValue('dark', 'light');\n  const SwitchIcon = useColorModeValue(FaMoon, FaSun);\n\n  return (\n    <IconButton\n      size=\"md\"\n      fontSize=\"lg\"\n      aria-label={`Switch to ${text} mode`}\n      variant=\"ghost\"\n      color=\"current\"\n      marginLeft=\"2\"\n      onClick={toggleColorMode}\n      icon={<SwitchIcon />}\n      {...props}\n    />\n  );\n};\n","import { useState, useEffect, useRef } from 'react';\r\nimport { Box } from '@chakra-ui/layout';\r\nimport H from '@here/maps-api-for-javascript';\r\n\r\nconst Map = props => {\r\n  const [map, setMap] = useState(null);\r\n  const [mark, setMark] = useState({});\r\n  const mapDom = useRef();\r\n\r\n  useEffect(async () => {\r\n    function resizeMap(mapping) {\r\n      mapping.getViewPort().resize();\r\n    }\r\n    if (!map) {\r\n      const platform = new H.service.Platform({\r\n        apikey: process.env.REACT_APP_MAP_API,\r\n      });\r\n\r\n      const layers = platform.createDefaultLayers();\r\n      const mapping = new H.Map(mapDom.current, layers.vector.normal.map, {\r\n        pixelRatio: window.devicePixelRatio,\r\n        center: props.target,\r\n        zoom: 12,\r\n      });\r\n      const marker = new H.map.Marker(props.target);\r\n      mapping.addObject(marker);\r\n      setMark(marker);\r\n\r\n      const mapEvents = new H.mapevents.MapEvents(mapping);\r\n      mapping.addEventListener('tap', function getCoord(evt) {\r\n        const coord = mapping.screenToGeo(\r\n          evt.currentPointer.viewportX,\r\n          evt.currentPointer.viewportY\r\n        );\r\n        props.getCoordinate({\r\n          lat: +coord.lat.toFixed(4),\r\n          lng: +coord.lng.toFixed(4),\r\n        });\r\n      });\r\n\r\n      const behavior = new H.mapevents.Behavior(mapEvents);\r\n      window.addEventListener('resize', resizeMap(mapping));\r\n      setMap(mapping);\r\n    }\r\n\r\n    return window.removeEventListener('resize', resizeMap);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      map.removeObject(mark);\r\n      const marker = new H.map.Marker(props.target);\r\n      map.addObject(marker);\r\n      setMark(marker);\r\n    }\r\n  }, [props.target]);\r\n\r\n  return <Box w=\"100%\" h={['100%', '50vh']} ref={mapDom} />;\r\n};\r\n\r\nexport default Map;\r\n","import axios from 'axios';\r\n\r\nexport const currentWeather = async ({ lat, lng }) => {\r\n  const options_CURRENT = {\r\n    method: 'GET',\r\n    url: 'https://community-open-weather-map.p.rapidapi.com/weather',\r\n    params: {\r\n      lat: lat,\r\n      lon: lng,\r\n      units: '\"metric\" or \"imperial\"',\r\n    },\r\n    headers: {\r\n      'x-rapidapi-key': process.env.REACT_APP_RAPID_API,\r\n      'x-rapidapi-host': 'community-open-weather-map.p.rapidapi.com',\r\n    },\r\n  };\r\n\r\n  const data = await axios.request(options_CURRENT);\r\n  return data;\r\n};\r\n\r\nexport const dailyWeather = async ({ lat, lng }) => {\r\n  const options_DAILY = {\r\n    method: 'GET',\r\n    url: 'https://community-open-weather-map.p.rapidapi.com/forecast/daily',\r\n    params: {\r\n      lat: lat,\r\n      lon: lng,\r\n      cnt: '7',\r\n      units: 'metric or imperial',\r\n    },\r\n    headers: {\r\n      'x-rapidapi-key': process.env.REACT_APP_RAPID_API,\r\n      'x-rapidapi-host': 'community-open-weather-map.p.rapidapi.com',\r\n    },\r\n  };\r\n\r\n  const data = await axios.request(options_DAILY);\r\n  return data;\r\n};\r\n","export const tempConvert = K => {\r\n  const tempC = Number((K - 273.15).toFixed(0));\r\n  const tempF = Number(((K * 9) / 5 - 459.67).toFixed(0));\r\n  return {\r\n    tempC: tempC + ' \\xB0C',\r\n    tempF: tempF + ' \\xB0F',\r\n    tempK: Number(K.toFixed(0)),\r\n  };\r\n};\r\n","import moment from 'moment';\r\n\r\nexport const unixConvert = (unix, timezone) => {\r\n  const userTime = moment.unix(unix).format('MMM DD HH Z');\r\n  const utcTime = moment.unix(unix).utc().format('MMM DD HH Z');\r\n  const localTime = moment\r\n    .unix(unix)\r\n    .utcOffset(timezone / 60)\r\n    .format('MMM DD HH Z');\r\n\r\n  return { userTime, utcTime, localTime };\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport { currentWeather } from '../api/weatherAPI';\r\nimport { tempConvert } from '../utils/tempConvert';\r\nimport { unixConvert } from '../utils/unixConvert';\r\n\r\nimport currentDummy from '../currentDummy.json';\r\nimport {\r\n  Text,\r\n  Flex,\r\n  Grid,\r\n  GridItem,\r\n  Divider,\r\n  HStack,\r\n  Stack,\r\n  Skeleton,\r\n  Image,\r\n  Box,\r\n} from '@chakra-ui/react';\r\n\r\nconst Weather = ({ target }) => {\r\n  const [current, setCurrent] = useState(null);\r\n  // const { userTime, utcTime, localTime } = unixConvert(\r\n  //   current.data.dt,\r\n  //   current.data.timezone\r\n  // );\r\n  useEffect(async () => {\r\n    setCurrent(await currentWeather(target));\r\n  }, [target]);\r\n  console.log(current);\r\n\r\n  return current ? (\r\n    <Grid\r\n      w=\"100%\"\r\n      h=\"100%\"\r\n      templateColumns={['1fr 1fr', '1fr']}\r\n      templateRows={[null, '1fr 1fr']}\r\n    >\r\n      <GridItem>\r\n        <Flex\r\n          w=\"100%\"\r\n          h=\"100%\"\r\n          direction={['column', 'row']}\r\n          alignItems=\"center\"\r\n          justifyContent={['center', 'space-around']}\r\n        >\r\n          <Image\r\n            boxSize=\"125px\"\r\n            src={`http://openweathermap.org/img/wn/${current.data.weather[0].icon}@2x.png`}\r\n          />\r\n          {/* <Text className={`fas fa-cloud fa-5x`} color=\"gray.300\" /> */}\r\n          <Box>\r\n            <Text fontSize=\"3xl\">\r\n              {tempConvert(current.data.main.temp).tempC}\r\n            </Text>\r\n            <Text>{current.data.weather[0].main}</Text>\r\n          </Box>\r\n        </Flex>\r\n      </GridItem>\r\n      <GridItem px={2}>\r\n        <Flex direction=\"column\" h=\"100%\" justify=\"center\">\r\n          <Flex justify=\"space-between\" align=\"baseline\">\r\n            <Text fontSize=\"3xl\">{current.data.name}</Text>\r\n            <Text fontSize=\"sm\">\r\n              {unixConvert(current.data.dt, current.data.timezone)\r\n                .localTime.split(' ')\r\n                .slice(0, 2)\r\n                .join(' ')}\r\n            </Text>\r\n          </Flex>\r\n          <Divider my={2} />\r\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n            <HStack spacing=\"16px\">\r\n              <Text className=\"fas fa-child\" />\r\n              <Text fontSize=\"md\">Feels Like</Text>\r\n            </HStack>\r\n            <Text>{tempConvert(current.data.main.feels_like).tempC}</Text>\r\n          </Flex>\r\n          <Divider my={1} />\r\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n            <HStack spacing=\"12px\">\r\n              <Text className=\"fas fa-temperature-high\" />\r\n              <Text fontSize=\"md\">High</Text>\r\n            </HStack>\r\n            <Text>{tempConvert(current.data.main.temp_max).tempC}</Text>\r\n          </Flex>\r\n          <Divider my={1} />\r\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n            <HStack spacing=\"12px\">\r\n              <Text className=\"fas fa-temperature-low\" />\r\n              <Text fontSize=\"md\">Low</Text>\r\n            </HStack>\r\n            <Text>{tempConvert(current.data.main.temp_min).tempC}</Text>\r\n          </Flex>\r\n        </Flex>\r\n      </GridItem>\r\n    </Grid>\r\n  ) : (\r\n    <Grid\r\n      w=\"100%\"\r\n      h=\"100%\"\r\n      templateColumns={['1fr 1fr', '1fr']}\r\n      templateRows={[null, '1fr 1fr']}\r\n    >\r\n      <GridItem>\r\n        <Flex\r\n          w=\"100%\"\r\n          h=\"100%\"\r\n          direction={['column', 'row']}\r\n          alignItems=\"center\"\r\n          justifyContent={['center', 'space-around']}\r\n        >\r\n          <Skeleton width=\"125px\" height=\"125px\">\r\n            pic\r\n          </Skeleton>\r\n          <Box>\r\n            <Skeleton>weather</Skeleton>\r\n          </Box>\r\n        </Flex>\r\n      </GridItem>\r\n      <GridItem px={2}>\r\n        <Flex direction=\"column\" h=\"100%\" justify=\"center\">\r\n          <Flex justify=\"space-between\" align=\"baseline\">\r\n            <Skeleton>Place</Skeleton>\r\n            <Skeleton>Date</Skeleton>\r\n          </Flex>\r\n          <Divider my={2} />\r\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n            <Skeleton width=\"100%\">temp</Skeleton>\r\n          </Flex>\r\n          <Divider my={1} />\r\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n            <Skeleton width=\"100%\">temp</Skeleton>\r\n          </Flex>\r\n          <Divider my={1} />\r\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n            <Skeleton width=\"100%\">temp</Skeleton>\r\n          </Flex>\r\n        </Flex>\r\n      </GridItem>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Weather;\r\n","import { Line } from 'react-chartjs-2';\r\nimport { Skeleton } from '@chakra-ui/skeleton';\r\n\r\nimport { unixConvert } from '../utils/unixConvert';\r\nimport { tempConvert } from '../utils/tempConvert';\r\nimport { dailyWeather } from '../api/weatherAPI';\r\nimport dailyDummy from '../dailyDummy.json';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst Chart = ({ target }) => {\r\n  let date = [];\r\n  let temp = [];\r\n  const [daily, setDaily] = useState(null);\r\n\r\n  useEffect(async () => {\r\n    setDaily(await dailyWeather(target));\r\n  }, [target]);\r\n  console.log(daily);\r\n\r\n  if (daily) {\r\n    date = [];\r\n    temp = [];\r\n    daily.data.list.map(e => {\r\n      date.push(unixConvert(e.dt, dailyDummy.data.city.timezone));\r\n      temp.push(tempConvert(e.temp.day));\r\n    });\r\n\r\n    const data = {\r\n      labels: date.map(e => e.localTime.split(' ').slice(0, 2).join(' ')),\r\n      datasets: [\r\n        {\r\n          label: `temperature`,\r\n          data: temp.map(e => e.tempK),\r\n          fill: false,\r\n          backgroundColor: 'salmon',\r\n          borderColor: 'salmon',\r\n        },\r\n      ],\r\n    };\r\n\r\n    const options = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        y: { display: false },\r\n      },\r\n      plugins: {\r\n        title: { display: true, text: 'Future 7 Days of Weather' },\r\n        tooltip: {\r\n          callbacks: {\r\n            label: v => {\r\n              const temp = tempConvert(Number(v.raw));\r\n              return `${temp.tempC} | ${temp.tempF} | ${temp.tempK}K`;\r\n            },\r\n          },\r\n        },\r\n      },\r\n    };\r\n\r\n    return <Line data={data} options={options} />;\r\n  } else {\r\n    return (\r\n      <Skeleton width=\"100%\" height=\"100%\">\r\n        chart\r\n      </Skeleton>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Chart;\r\n","import React, { useState } from 'react';\nimport {\n  ChakraProvider,\n  Box,\n  Grid,\n  theme,\n  Text,\n  Flex,\n  GridItem,\n  HStack,\n} from '@chakra-ui/react';\nimport { ColorModeSwitcher } from './ColorModeSwitcher';\n\nimport Map from './components/Map';\nimport Weather from './components/Weather';\nimport Chart from './components/Chart';\n\nfunction App() {\n  const [target, setTarget] = useState({ lat: 55, lng: 38 });\n  const coordinate = data => {\n    setTarget(data);\n  };\n  console.log(target);\n\n  return (\n    <ChakraProvider theme={theme}>\n      <Box textAlign=\"center\" fontSize=\"xl\">\n        <Grid\n          minH=\"100vh\"\n          gap=\"3\"\n          templateRows={['1fr 1fr 1fr 0.25fr', '50vh 40vh 5vh']}\n          templateColumns={[null, 'repeat(3, 1fr)']}\n        >\n          <GridItem w=\"100%\" h=\"100%\" borderRadius=\"lg\" colSpan={[null, '3']}>\n            <Map getCoordinate={coordinate} target={target} />\n          </GridItem>\n          <GridItem w=\"100%\" h=\"100%\" borderRadius=\"lg\" colSpan={[null, '1']}>\n            <Weather target={target} />\n          </GridItem>\n          <GridItem\n            w=\"100%\"\n            h=\"100%\"\n            px=\"3\"\n            borderRadius=\"lg\"\n            colSpan={[null, '2']}\n          >\n            <Chart target={target} />\n          </GridItem>\n          <GridItem w=\"100%\" h=\"100%\" colSpan={[null, '3']}>\n            <Flex align=\"center\" justify=\"center\" my={2}>\n              <HStack fontSize=\"md\">\n                <a href=\"https://www.linkedin.com/in/chiou-charlie/\">\n                  Charlie |\n                </a>\n                <a href=\"https://wlcharlie.github.io/\">Blog |</a>\n                <a href=\"https://github.com/wlcharlie/weather-map-app\">Repo</a>\n              </HStack>\n              <ColorModeSwitcher justifySelf=\"flex-end\" />\n            </Flex>\n          </GridItem>\n        </Grid>\n      </Box>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It is the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ColorModeScript } from '@chakra-ui/react';\nimport React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorker from './serviceWorker';\n\nrequire('dotenv').config();\n\nReactDOM.render(\n  <StrictMode>\n    <ColorModeScript />\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorker.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}