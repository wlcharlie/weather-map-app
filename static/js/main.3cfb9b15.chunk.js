(this["webpackJsonpweather-map"]=this["webpackJsonpweather-map"]||[]).push([[0],{131:function(e){e.exports=JSON.parse('{"data":{"city":{"id":577197,"name":"Bereznya","coord":{"lon":38,"lat":55},"country":"RU","population":0,"timezone":10800},"cod":"200","message":4.4527203,"cnt":7,"list":[{"dt":1628326800,"sunrise":1628300863,"sunset":1628356792,"temp":{"day":301.51,"min":289.16,"max":301.51,"night":294.83,"eve":299.84,"morn":289.66},"feels_like":{"day":300.99,"night":294.54,"eve":299.7,"morn":289.77},"pressure":1009,"humidity":38,"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"speed":6.33,"deg":189,"gust":13.02,"clouds":77,"pop":1,"rain":3.96},{"dt":1628413200,"sunrise":1628387374,"sunset":1628443068,"temp":{"day":296.65,"min":290.25,"max":300.29,"night":292.62,"eve":296.4,"morn":291.82},"feels_like":{"day":296.94,"night":292.87,"eve":296.56,"morn":291.96},"pressure":1015,"humidity":72,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":3.67,"deg":165,"gust":15.32,"clouds":100,"pop":0.36,"rain":1.25},{"dt":1628499600,"sunrise":1628473885,"sunset":1628529342,"temp":{"day":302.34,"min":291.27,"max":303.05,"night":297.59,"eve":299.46,"morn":292.17},"feels_like":{"day":302.35,"night":297.24,"eve":299.46,"morn":292.35},"pressure":1017,"humidity":44,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"speed":3.54,"deg":162,"gust":8.8,"clouds":99,"pop":0},{"dt":1628586000,"sunrise":1628560396,"sunset":1628615614,"temp":{"day":297.01,"min":291.32,"max":297.94,"night":292.98,"eve":297.4,"morn":291.32},"feels_like":{"day":297.2,"night":293.13,"eve":297.53,"morn":291.65},"pressure":1017,"humidity":67,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":5.66,"deg":153,"gust":12.32,"clouds":86,"pop":0.68,"rain":2.7},{"dt":1628672400,"sunrise":1628646908,"sunset":1628701885,"temp":{"day":297.7,"min":291.25,"max":299.49,"night":292.17,"eve":293.14,"morn":291.25},"feels_like":{"day":297.57,"night":292.29,"eve":293.31,"morn":291.33},"pressure":1013,"humidity":52,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":2.31,"deg":66,"gust":3.31,"clouds":100,"pop":0.64,"rain":1.82},{"dt":1628758800,"sunrise":1628733420,"sunset":1628788155,"temp":{"day":299.29,"min":289.56,"max":299.29,"night":289.6,"eve":295.1,"morn":290.27},"feels_like":{"day":299.29,"night":289.7,"eve":295.2,"morn":290.47},"pressure":1011,"humidity":46,"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"speed":3.42,"deg":285,"gust":9.51,"clouds":34,"pop":0.92,"rain":6.83},{"dt":1628845200,"sunrise":1628819932,"sunset":1628874424,"temp":{"day":296.26,"min":285.86,"max":297.77,"night":290.07,"eve":296.34,"morn":285.86},"feels_like":{"day":295.75,"night":289.57,"eve":295.89,"morn":285.64},"pressure":1015,"humidity":43,"weather":[{"id":800,"main":"Clear","description":"sky is clear","icon":"01d"}],"speed":6.1,"deg":263,"gust":8.74,"clouds":0,"pop":0}]},"status":200,"statusText":"OK","headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, POST","access-control-allow-origin":"*","connection":"keep-alive","content-length":"2907","content-type":"application/json; charset=utf-8","date":"Sat, 07 Aug 2021 12:49:01 GMT","server":"RapidAPI-1.2.8","x-cache-key":"/data/2.5/forecast/daily?cnt=7&lat=55&lon=38&units=metric%20or%20imperial","x-rapidapi-region":"AWS - ap-northeast-1","x-rapidapi-version":"1.2.8","x-ratelimit-basic-limit":"500","x-ratelimit-basic-remaining":"481","x-ratelimit-basic-reset":"2666277"},"config":{"url":"https://community-open-weather-map.p.rapidapi.com/forecast/daily","method":"get","headers":{"Accept":"application/json, text/plain, */*","x-rapidapi-key":"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"},"params":{"lat":"55","lon":"38","cnt":"7","units":"metric or imperial"},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1},"request":{}}')},170:function(e){e.exports=JSON.parse("{}")},280:function(e,t,n){"use strict";n.r(t);var a=n(296),r=n(0),i=n(127),c=n.n(i),s=n(3),o=n(299),l=n(132),d=n(291),p=n(292),m=n(293),u=n(300),j=n(32),h=n(283),b=n(297),f=n(92),x=n(2),g=function(e){var t=Object(h.b)().toggleColorMode,n=Object(h.c)("dark","light"),a=Object(h.c)(f.a,f.b);return Object(x.jsx)(b.a,Object(j.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(x.jsx)(a,{})},e))},O=n(13),w=n.n(O),y=n(24),v=n(33),k=function(e){var t=Object(r.useState)(null),n=Object(s.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)({}),o=Object(s.a)(c,2),l=o[0],p=o[1],m=Object(r.useRef)();return Object(r.useEffect)(Object(y.a)(w.a.mark((function t(){var n,r,c,s,o,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){e.getViewPort().resize()},a||(r=new v.a.service.Platform({apikey:"nPSkRFJdD3LKtmI8XGfypkFf6RapPgIAXQdB7ZnQGxQ"}),c=r.createDefaultLayers(),s=new v.a.Map(m.current,c.vector.normal.map,{pixelRatio:window.devicePixelRatio,center:e.target,zoom:12}),o=new v.a.map.Marker(e.target),s.addObject(o),p(o),l=new v.a.mapevents.MapEvents(s),s.addEventListener("tap",(function(t){var n=s.screenToGeo(t.currentPointer.viewportX,t.currentPointer.viewportY);e.getCoordinate({lat:+n.lat.toFixed(4),lng:+n.lng.toFixed(4)})})),new v.a.mapevents.Behavior(l),window.addEventListener("resize",n(s)),i(s)),t.abrupt("return",window.removeEventListener("resize",n));case 3:case"end":return t.stop()}}),t)}))),[]),Object(r.useEffect)((function(){if(a){a.removeObject(l);var t=new v.a.map.Marker(e.target);a.addObject(t),p(t)}}),[e.target]),Object(x.jsx)(d.a,{w:"100%",h:["100%","50vh"],ref:m})},C=n(90),S=n.n(C),R=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,a,r,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lng,r={method:"GET",url:"https://community-open-weather-map.p.rapidapi.com/weather",params:{lat:n,lon:a,units:'"metric" or "imperial"'},headers:{"x-rapidapi-key":"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}},e.next=4,S.a.request(r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,a,r,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lng,r={method:"GET",url:"https://community-open-weather-map.p.rapidapi.com/forecast/daily",params:{lat:n,lon:a,cnt:"7",units:"metric or imperial"},headers:{"x-rapidapi-key":"8cf140c231mshbbda773f6d26c91p1d8c6djsnf204e18eaab4","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}},e.next=4,S.a.request(r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){return{tempC:Number((e-273.15).toFixed(0))+" \xb0C",tempF:Number((9*e/5-459.67).toFixed(0))+" \xb0F",tempK:Number(e.toFixed(0))}},M=n(67),T=n.n(M),E=function(e,t){return{userTime:T.a.unix(e).format("MMM DD HH Z"),utcTime:T.a.unix(e).utc().format("MMM DD HH Z"),localTime:T.a.unix(e).utcOffset(t/60).format("MMM DD HH Z")}},I=(n(170),n(301)),N=n(294),L=n(295),P=n(298),D=function(e){var t=e.target,n=Object(r.useState)(null),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)(Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,R(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[t]),console.log(i),i?Object(x.jsxs)(p.a,{w:"100%",h:"100%",templateColumns:["1fr 1fr","1fr"],templateRows:[null,"1fr 1fr"],children:[Object(x.jsx)(p.b,{children:Object(x.jsxs)(m.a,{w:"100%",h:"100%",direction:["column","row"],alignItems:"center",justifyContent:["center","space-around"],children:[Object(x.jsx)(I.a,{boxSize:"125px",src:"http://openweathermap.org/img/wn/".concat(i.data.weather[0].icon,"@2x.png")}),Object(x.jsxs)(d.a,{children:[Object(x.jsx)(N.a,{fontSize:"3xl",children:F(i.data.main.temp).tempC}),Object(x.jsx)(N.a,{children:i.data.weather[0].main})]})]})}),Object(x.jsx)(p.b,{px:2,children:Object(x.jsxs)(m.a,{direction:"column",h:"100%",justify:"center",children:[Object(x.jsxs)(m.a,{justify:"space-between",align:"baseline",children:[Object(x.jsx)(N.a,{fontSize:"3xl",children:i.data.name}),Object(x.jsx)(N.a,{fontSize:"sm",children:E(i.data.dt,i.data.timezone).localTime.split(" ").slice(0,2).join(" ")})]}),Object(x.jsx)(L.a,{my:2}),Object(x.jsxs)(m.a,{alignItems:"center",justifyContent:"space-between",children:[Object(x.jsxs)(u.a,{spacing:"16px",children:[Object(x.jsx)(N.a,{className:"fas fa-child"}),Object(x.jsx)(N.a,{fontSize:"md",children:"Feels Like"})]}),Object(x.jsx)(N.a,{children:F(i.data.main.feels_like).tempC})]}),Object(x.jsx)(L.a,{my:1}),Object(x.jsxs)(m.a,{alignItems:"center",justifyContent:"space-between",children:[Object(x.jsxs)(u.a,{spacing:"12px",children:[Object(x.jsx)(N.a,{className:"fas fa-temperature-high"}),Object(x.jsx)(N.a,{fontSize:"md",children:"High"})]}),Object(x.jsx)(N.a,{children:F(i.data.main.temp_max).tempC})]}),Object(x.jsx)(L.a,{my:1}),Object(x.jsxs)(m.a,{alignItems:"center",justifyContent:"space-between",children:[Object(x.jsxs)(u.a,{spacing:"12px",children:[Object(x.jsx)(N.a,{className:"fas fa-temperature-low"}),Object(x.jsx)(N.a,{fontSize:"md",children:"Low"})]}),Object(x.jsx)(N.a,{children:F(i.data.main.temp_min).tempC})]})]})})]}):Object(x.jsxs)(p.a,{w:"100%",h:"100%",templateColumns:["1fr 1fr","1fr"],templateRows:[null,"1fr 1fr"],children:[Object(x.jsx)(p.b,{children:Object(x.jsxs)(m.a,{w:"100%",h:"100%",direction:["column","row"],alignItems:"center",justifyContent:["center","space-around"],children:[Object(x.jsx)(P.a,{width:"125px",height:"125px",children:"pic"}),Object(x.jsx)(d.a,{children:Object(x.jsx)(P.a,{children:"weather"})})]})}),Object(x.jsx)(p.b,{px:2,children:Object(x.jsxs)(m.a,{direction:"column",h:"100%",justify:"center",children:[Object(x.jsxs)(m.a,{justify:"space-between",align:"baseline",children:[Object(x.jsx)(P.a,{children:"Place"}),Object(x.jsx)(P.a,{children:"Date"})]}),Object(x.jsx)(L.a,{my:2}),Object(x.jsx)(m.a,{alignItems:"center",justifyContent:"space-between",children:Object(x.jsx)(P.a,{width:"100%",children:"temp"})}),Object(x.jsx)(L.a,{my:1}),Object(x.jsx)(m.a,{alignItems:"center",justifyContent:"space-between",children:Object(x.jsx)(P.a,{width:"100%",children:"temp"})}),Object(x.jsx)(L.a,{my:1}),Object(x.jsx)(m.a,{alignItems:"center",justifyContent:"space-between",children:Object(x.jsx)(P.a,{width:"100%",children:"temp"})})]})})]})},_=n(135),H=n(131),B=function(e){var t=e.target,n=[],a=[],i=Object(r.useState)(null),c=Object(s.a)(i,2),o=c[0],l=c[1];if(Object(r.useEffect)(Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,z(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[t]),console.log(o),o){n=[],a=[],o.data.list.map((function(e){n.push(E(e.dt,H.data.city.timezone)),a.push(F(e.temp.day))}));var d={labels:n.map((function(e){return e.localTime.split(" ").slice(0,2).join(" ")})),datasets:[{label:"temperature",data:a.map((function(e){return e.tempK})),fill:!1,backgroundColor:"salmon",borderColor:"salmon"}]},p={responsive:!0,maintainAspectRatio:!1,scales:{y:{display:!1}},plugins:{title:{display:!0,text:"Future 7 Days of Weather"},tooltip:{callbacks:{label:function(e){var t=F(Number(e.raw));return"".concat(t.tempC," | ").concat(t.tempF," | ").concat(t.tempK,"K")}}}}};return Object(x.jsx)(_.a,{data:d,options:p})}return Object(x.jsx)(P.a,{width:"100%",height:"100%",children:"chart"})};var K=function(){var e=Object(r.useState)({lat:55,lng:38}),t=Object(s.a)(e,2),n=t[0],a=t[1];return console.log(n),Object(x.jsx)(o.a,{theme:l.theme,children:Object(x.jsx)(d.a,{textAlign:"center",fontSize:"xl",children:Object(x.jsxs)(p.a,{minH:"100vh",gap:"3",templateRows:["1fr 1fr 1fr 0.25fr","50vh 40vh 5vh"],templateColumns:[null,"repeat(3, 1fr)"],children:[Object(x.jsx)(p.b,{w:"100%",h:"100%",borderRadius:"lg",colSpan:[null,"3"],children:Object(x.jsx)(k,{getCoordinate:function(e){a(e)},target:n})}),Object(x.jsx)(p.b,{w:"100%",h:"100%",borderRadius:"lg",colSpan:[null,"1"],children:Object(x.jsx)(D,{target:n})}),Object(x.jsx)(p.b,{w:"100%",h:"100%",px:"3",borderRadius:"lg",colSpan:[null,"2"],children:Object(x.jsx)(B,{target:n})}),Object(x.jsx)(p.b,{w:"100%",h:"100%",colSpan:[null,"3"],children:Object(x.jsxs)(m.a,{align:"center",justify:"center",my:2,children:[Object(x.jsxs)(u.a,{fontSize:"md",children:[Object(x.jsx)("a",{href:"https://www.linkedin.com/in/chiou-charlie/",children:"Charlie |"}),Object(x.jsx)("a",{href:"https://wlcharlie.github.io/",children:"Blog |"}),Object(x.jsx)("a",{href:"https://github.com/wlcharlie/weather-map-app",children:"Repo"})]}),Object(x.jsx)(g,{justifySelf:"flex-end"})]})})]})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,303)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(276).config(),c.a.render(Object(x.jsxs)(r.StrictMode,{children:[Object(x.jsx)(a.a,{}),Object(x.jsx)(K,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),A()}},[[280,1,2]]]);
//# sourceMappingURL=main.3cfb9b15.chunk.js.map